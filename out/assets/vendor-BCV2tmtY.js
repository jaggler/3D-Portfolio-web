import{V as Fp,C as uk,a as Wf,Q as Dv,b as Np,E as KD,S as WD,M as YD,A as qD,D as XD,R as ZD,t as fk,c as ck,d as JD}from"./vendor_3d-BX81WKo6.js";var eb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function va(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var hk={exports:{}},Bp={},dk={exports:{}},Ct={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Pc=Symbol.for("react.element"),tb=Symbol.for("react.portal"),nb=Symbol.for("react.fragment"),rb=Symbol.for("react.strict_mode"),ib=Symbol.for("react.profiler"),sb=Symbol.for("react.provider"),ob=Symbol.for("react.context"),lb=Symbol.for("react.forward_ref"),ab=Symbol.for("react.suspense"),Ab=Symbol.for("react.memo"),ub=Symbol.for("react.lazy"),z_=Symbol.iterator;function fb(n){return n===null||typeof n!="object"?null:(n=z_&&n[z_]||n["@@iterator"],typeof n=="function"?n:null)}var gk={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},pk=Object.assign,mk={};function T0(n,e,t){this.props=n,this.context=e,this.refs=mk,this.updater=t||gk}T0.prototype.isReactComponent={};T0.prototype.setState=function(n,e){if(typeof n!="object"&&typeof n!="function"&&n!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,n,e,"setState")};T0.prototype.forceUpdate=function(n){this.updater.enqueueForceUpdate(this,n,"forceUpdate")};function yk(){}yk.prototype=T0.prototype;function bv(n,e,t){this.props=n,this.context=e,this.refs=mk,this.updater=t||gk}var Pv=bv.prototype=new yk;Pv.constructor=bv;pk(Pv,T0.prototype);Pv.isPureReactComponent=!0;var H_=Array.isArray,vk=Object.prototype.hasOwnProperty,Mv={current:null},xk={key:!0,ref:!0,__self:!0,__source:!0};function _k(n,e,t){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)vk.call(e,r)&&!xk.hasOwnProperty(r)&&(i[r]=e[r]);var l=arguments.length-2;if(l===1)i.children=t;else if(1<l){for(var u=Array(l),h=0;h<l;h++)u[h]=arguments[h+2];i.children=u}if(n&&n.defaultProps)for(r in l=n.defaultProps,l)i[r]===void 0&&(i[r]=l[r]);return{$$typeof:Pc,type:n,key:s,ref:o,props:i,_owner:Mv.current}}function cb(n,e){return{$$typeof:Pc,type:n.type,key:e,ref:n.ref,props:n.props,_owner:n._owner}}function Ov(n){return typeof n=="object"&&n!==null&&n.$$typeof===Pc}function hb(n){var e={"=":"=0",":":"=2"};return"$"+n.replace(/[=:]/g,function(t){return e[t]})}var j_=/\/+/g;function a1(n,e){return typeof n=="object"&&n!==null&&n.key!=null?hb(""+n.key):e.toString(36)}function jd(n,e,t,r,i){var s=typeof n;(s==="undefined"||s==="boolean")&&(n=null);var o=!1;if(n===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(n.$$typeof){case Pc:case tb:o=!0}}if(o)return o=n,i=i(o),n=r===""?"."+a1(o,0):r,H_(i)?(t="",n!=null&&(t=n.replace(j_,"$&/")+"/"),jd(i,e,t,"",function(h){return h})):i!=null&&(Ov(i)&&(i=cb(i,t+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(j_,"$&/")+"/")+n)),e.push(i)),1;if(o=0,r=r===""?".":r+":",H_(n))for(var l=0;l<n.length;l++){s=n[l];var u=r+a1(s,l);o+=jd(s,e,t,u,i)}else if(u=fb(n),typeof u=="function")for(n=u.call(n),l=0;!(s=n.next()).done;)s=s.value,u=r+a1(s,l++),o+=jd(s,e,t,u,i);else if(s==="object")throw e=String(n),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function td(n,e,t){if(n==null)return n;var r=[],i=0;return jd(n,r,"","",function(s){return e.call(t,s,i++)}),r}function db(n){if(n._status===-1){var e=n._result;e=e(),e.then(function(t){(n._status===0||n._status===-1)&&(n._status=1,n._result=t)},function(t){(n._status===0||n._status===-1)&&(n._status=2,n._result=t)}),n._status===-1&&(n._status=0,n._result=e)}if(n._status===1)return n._result.default;throw n._result}var ei={current:null},Vd={transition:null},gb={ReactCurrentDispatcher:ei,ReactCurrentBatchConfig:Vd,ReactCurrentOwner:Mv};function Ek(){throw Error("act(...) is not supported in production builds of React.")}Ct.Children={map:td,forEach:function(n,e,t){td(n,function(){e.apply(this,arguments)},t)},count:function(n){var e=0;return td(n,function(){e++}),e},toArray:function(n){return td(n,function(e){return e})||[]},only:function(n){if(!Ov(n))throw Error("React.Children.only expected to receive a single React element child.");return n}};Ct.Component=T0;Ct.Fragment=nb;Ct.Profiler=ib;Ct.PureComponent=bv;Ct.StrictMode=rb;Ct.Suspense=ab;Ct.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=gb;Ct.act=Ek;Ct.cloneElement=function(n,e,t){if(n==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+n+".");var r=pk({},n.props),i=n.key,s=n.ref,o=n._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=Mv.current),e.key!==void 0&&(i=""+e.key),n.type&&n.type.defaultProps)var l=n.type.defaultProps;for(u in e)vk.call(e,u)&&!xk.hasOwnProperty(u)&&(r[u]=e[u]===void 0&&l!==void 0?l[u]:e[u])}var u=arguments.length-2;if(u===1)r.children=t;else if(1<u){l=Array(u);for(var h=0;h<u;h++)l[h]=arguments[h+2];r.children=l}return{$$typeof:Pc,type:n.type,key:i,ref:s,props:r,_owner:o}};Ct.createContext=function(n){return n={$$typeof:ob,_currentValue:n,_currentValue2:n,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},n.Provider={$$typeof:sb,_context:n},n.Consumer=n};Ct.createElement=_k;Ct.createFactory=function(n){var e=_k.bind(null,n);return e.type=n,e};Ct.createRef=function(){return{current:null}};Ct.forwardRef=function(n){return{$$typeof:lb,render:n}};Ct.isValidElement=Ov;Ct.lazy=function(n){return{$$typeof:ub,_payload:{_status:-1,_result:n},_init:db}};Ct.memo=function(n,e){return{$$typeof:Ab,type:n,compare:e===void 0?null:e}};Ct.startTransition=function(n){var e=Vd.transition;Vd.transition={};try{n()}finally{Vd.transition=e}};Ct.unstable_act=Ek;Ct.useCallback=function(n,e){return ei.current.useCallback(n,e)};Ct.useContext=function(n){return ei.current.useContext(n)};Ct.useDebugValue=function(){};Ct.useDeferredValue=function(n){return ei.current.useDeferredValue(n)};Ct.useEffect=function(n,e){return ei.current.useEffect(n,e)};Ct.useId=function(){return ei.current.useId()};Ct.useImperativeHandle=function(n,e,t){return ei.current.useImperativeHandle(n,e,t)};Ct.useInsertionEffect=function(n,e){return ei.current.useInsertionEffect(n,e)};Ct.useLayoutEffect=function(n,e){return ei.current.useLayoutEffect(n,e)};Ct.useMemo=function(n,e){return ei.current.useMemo(n,e)};Ct.useReducer=function(n,e,t){return ei.current.useReducer(n,e,t)};Ct.useRef=function(n){return ei.current.useRef(n)};Ct.useState=function(n){return ei.current.useState(n)};Ct.useSyncExternalStore=function(n,e,t){return ei.current.useSyncExternalStore(n,e,t)};Ct.useTransition=function(){return ei.current.useTransition()};Ct.version="18.3.1";dk.exports=Ct;var Qe=dk.exports;const pb=va(Qe);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mb=Qe,yb=Symbol.for("react.element"),vb=Symbol.for("react.fragment"),xb=Object.prototype.hasOwnProperty,_b=mb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Eb={key:!0,ref:!0,__self:!0,__source:!0};function Sk(n,e,t){var r,i={},s=null,o=null;t!==void 0&&(s=""+t),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)xb.call(e,r)&&!Eb.hasOwnProperty(r)&&(i[r]=e[r]);if(n&&n.defaultProps)for(r in e=n.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:yb,type:n,key:s,ref:o,props:i,_owner:_b.current}}Bp.Fragment=vb;Bp.jsx=Sk;Bp.jsxs=Sk;hk.exports=Bp;var uz=hk.exports,V_={},Tk={exports:{}},Yi={},wk={exports:{}},kk={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(n){function e(re,se){var fe=re.length;re.push(se);e:for(;0<fe;){var Ie=fe-1>>>1,Ce=re[Ie];if(0<i(Ce,se))re[Ie]=se,re[fe]=Ce,fe=Ie;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var se=re[0],fe=re.pop();if(fe!==se){re[0]=fe;e:for(var Ie=0,Ce=re.length,We=Ce>>>1;Ie<We;){var Xe=2*(Ie+1)-1,At=re[Xe],Tt=Xe+1,qt=re[Tt];if(0>i(At,fe))Tt<Ce&&0>i(qt,At)?(re[Ie]=qt,re[Tt]=fe,Ie=Tt):(re[Ie]=At,re[Xe]=fe,Ie=Xe);else if(Tt<Ce&&0>i(qt,fe))re[Ie]=qt,re[Tt]=fe,Ie=Tt;else break e}}return se}function i(re,se){var fe=re.sortIndex-se.sortIndex;return fe!==0?fe:re.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],h=[],m=1,y=null,_=3,T=!1,w=!1,L=!1,I=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(re){for(var se=t(h);se!==null;){if(se.callback===null)r(h);else if(se.startTime<=re)r(h),se.sortIndex=se.expirationTime,e(u,se);else break;se=t(h)}}function U(re){if(L=!1,M(re),!w)if(t(u)!==null)w=!0,ce(B);else{var se=t(h);se!==null&&ke(U,se.startTime-re)}}function B(re,se){w=!1,L&&(L=!1,C(j),j=-1),T=!0;var fe=_;try{for(M(se),y=t(u);y!==null&&(!(y.expirationTime>se)||re&&!X());){var Ie=y.callback;if(typeof Ie=="function"){y.callback=null,_=y.priorityLevel;var Ce=Ie(y.expirationTime<=se);se=n.unstable_now(),typeof Ce=="function"?y.callback=Ce:y===t(u)&&r(u),M(se)}else r(u);y=t(u)}if(y!==null)var We=!0;else{var Xe=t(h);Xe!==null&&ke(U,Xe.startTime-se),We=!1}return We}finally{y=null,_=fe,T=!1}}var $=!1,H=null,j=-1,Y=5,q=-1;function X(){return!(n.unstable_now()-q<Y)}function ge(){if(H!==null){var re=n.unstable_now();q=re;var se=!0;try{se=H(!0,re)}finally{se?ae():($=!1,H=null)}}else $=!1}var ae;if(typeof b=="function")ae=function(){b(ge)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,ie=xe.port2;xe.port1.onmessage=ge,ae=function(){ie.postMessage(null)}}else ae=function(){I(ge,0)};function ce(re){H=re,$||($=!0,ae())}function ke(re,se){j=I(function(){re(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){w||T||(w=!0,ce(B))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(re){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var fe=_;_=se;try{return re()}finally{_=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,se){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var fe=_;_=re;try{return se()}finally{_=fe}},n.unstable_scheduleCallback=function(re,se,fe){var Ie=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,re){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=fe+Ce,re={id:m++,callback:se,priorityLevel:re,startTime:fe,expirationTime:Ce,sortIndex:-1},fe>Ie?(re.sortIndex=fe,e(h,re),t(u)===null&&re===t(h)&&(L?(C(j),j=-1):L=!0,ke(U,fe-Ie))):(re.sortIndex=Ce,e(u,re),w||T||(w=!0,ce(B))),re},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(re){var se=_;return function(){var fe=_;_=se;try{return re.apply(this,arguments)}finally{_=fe}}}})(kk);wk.exports=kk;var Sb=wk.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Tb=Qe,Qi=Sb;function be(n){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+n,t=1;t<arguments.length;t++)e+="&args[]="+encodeURIComponent(arguments[t]);return"Minified React error #"+n+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Lk=new Set,Yf={};function IA(n,e){n0(n,e),n0(n+"Capture",e)}function n0(n,e){for(Yf[n]=e,n=0;n<e.length;n++)Lk.add(e[n])}var Al=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Sy=Object.prototype.hasOwnProperty,wb=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Q_={},K_={};function kb(n){return Sy.call(K_,n)?!0:Sy.call(Q_,n)?!1:wb.test(n)?K_[n]=!0:(Q_[n]=!0,!1)}function Lb(n,e,t,r){if(t!==null&&t.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:t!==null?!t.acceptsBooleans:(n=n.toLowerCase().slice(0,5),n!=="data-"&&n!=="aria-");default:return!1}}function Rb(n,e,t,r){if(e===null||typeof e>"u"||Lb(n,e,t,r))return!0;if(r)return!1;if(t!==null)switch(t.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function ti(n,e,t,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=t,this.propertyName=n,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(n){dr[n]=new ti(n,0,!1,n,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(n){var e=n[0];dr[e]=new ti(e,1,!1,n[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(n){dr[n]=new ti(n,2,!1,n.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(n){dr[n]=new ti(n,2,!1,n,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(n){dr[n]=new ti(n,3,!1,n.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(n){dr[n]=new ti(n,3,!0,n,null,!1,!1)});["capture","download"].forEach(function(n){dr[n]=new ti(n,4,!1,n,null,!1,!1)});["cols","rows","size","span"].forEach(function(n){dr[n]=new ti(n,6,!1,n,null,!1,!1)});["rowSpan","start"].forEach(function(n){dr[n]=new ti(n,5,!1,n.toLowerCase(),null,!1,!1)});var Fv=/[\-:]([a-z])/g;function Nv(n){return n[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(n){var e=n.replace(Fv,Nv);dr[e]=new ti(e,1,!1,n,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(n){var e=n.replace(Fv,Nv);dr[e]=new ti(e,1,!1,n,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(n){var e=n.replace(Fv,Nv);dr[e]=new ti(e,1,!1,n,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(n){dr[n]=new ti(n,1,!1,n.toLowerCase(),null,!1,!1)});dr.xlinkHref=new ti("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(n){dr[n]=new ti(n,1,!1,n.toLowerCase(),null,!0,!0)});function Bv(n,e,t,r){var i=dr.hasOwnProperty(e)?dr[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Rb(e,t,i,r)&&(t=null),r||i===null?kb(e)&&(t===null?n.removeAttribute(e):n.setAttribute(e,""+t)):i.mustUseProperty?n[i.propertyName]=t===null?i.type===3?!1:"":t:(e=i.attributeName,r=i.attributeNamespace,t===null?n.removeAttribute(e):(i=i.type,t=i===3||i===4&&t===!0?"":""+t,r?n.setAttributeNS(r,e,t):n.setAttribute(e,t))))}var vl=Tb.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,nd=Symbol.for("react.element"),_u=Symbol.for("react.portal"),Eu=Symbol.for("react.fragment"),Uv=Symbol.for("react.strict_mode"),Ty=Symbol.for("react.profiler"),Rk=Symbol.for("react.provider"),Ck=Symbol.for("react.context"),Gv=Symbol.for("react.forward_ref"),wy=Symbol.for("react.suspense"),ky=Symbol.for("react.suspense_list"),$v=Symbol.for("react.memo"),Ql=Symbol.for("react.lazy"),Ik=Symbol.for("react.offscreen"),W_=Symbol.iterator;function tf(n){return n===null||typeof n!="object"?null:(n=W_&&n[W_]||n["@@iterator"],typeof n=="function"?n:null)}var _n=Object.assign,A1;function xf(n){if(A1===void 0)try{throw Error()}catch(t){var e=t.stack.trim().match(/\n( *(at )?)/);A1=e&&e[1]||""}return`
`+A1+n}var u1=!1;function f1(n,e){if(!n||u1)return"";u1=!0;var t=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(h){var r=h}Reflect.construct(n,[],e)}else{try{e.call()}catch(h){r=h}n.call(e.prototype)}else{try{throw Error()}catch(h){r=h}n()}}catch(h){if(h&&r&&typeof h.stack=="string"){for(var i=h.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,l=s.length-1;1<=o&&0<=l&&i[o]!==s[l];)l--;for(;1<=o&&0<=l;o--,l--)if(i[o]!==s[l]){if(o!==1||l!==1)do if(o--,l--,0>l||i[o]!==s[l]){var u=`
`+i[o].replace(" at new "," at ");return n.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",n.displayName)),u}while(1<=o&&0<=l);break}}}finally{u1=!1,Error.prepareStackTrace=t}return(n=n?n.displayName||n.name:"")?xf(n):""}function Cb(n){switch(n.tag){case 5:return xf(n.type);case 16:return xf("Lazy");case 13:return xf("Suspense");case 19:return xf("SuspenseList");case 0:case 2:case 15:return n=f1(n.type,!1),n;case 11:return n=f1(n.type.render,!1),n;case 1:return n=f1(n.type,!0),n;default:return""}}function Ly(n){if(n==null)return null;if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n;switch(n){case Eu:return"Fragment";case _u:return"Portal";case Ty:return"Profiler";case Uv:return"StrictMode";case wy:return"Suspense";case ky:return"SuspenseList"}if(typeof n=="object")switch(n.$$typeof){case Ck:return(n.displayName||"Context")+".Consumer";case Rk:return(n._context.displayName||"Context")+".Provider";case Gv:var e=n.render;return n=n.displayName,n||(n=e.displayName||e.name||"",n=n!==""?"ForwardRef("+n+")":"ForwardRef"),n;case $v:return e=n.displayName||null,e!==null?e:Ly(n.type)||"Memo";case Ql:e=n._payload,n=n._init;try{return Ly(n(e))}catch{}}return null}function Ib(n){var e=n.type;switch(n.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return n=e.render,n=n.displayName||n.name||"",e.displayName||(n!==""?"ForwardRef("+n+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ly(e);case 8:return e===Uv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function da(n){switch(typeof n){case"boolean":case"number":case"string":case"undefined":return n;case"object":return n;default:return""}}function Dk(n){var e=n.type;return(n=n.nodeName)&&n.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function Db(n){var e=Dk(n)?"checked":"value",t=Object.getOwnPropertyDescriptor(n.constructor.prototype,e),r=""+n[e];if(!n.hasOwnProperty(e)&&typeof t<"u"&&typeof t.get=="function"&&typeof t.set=="function"){var i=t.get,s=t.set;return Object.defineProperty(n,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(n,e,{enumerable:t.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){n._valueTracker=null,delete n[e]}}}}function rd(n){n._valueTracker||(n._valueTracker=Db(n))}function bk(n){if(!n)return!1;var e=n._valueTracker;if(!e)return!0;var t=e.getValue(),r="";return n&&(r=Dk(n)?n.checked?"true":"false":n.value),n=r,n!==t?(e.setValue(n),!0):!1}function mg(n){if(n=n||(typeof document<"u"?document:void 0),typeof n>"u")return null;try{return n.activeElement||n.body}catch{return n.body}}function Ry(n,e){var t=e.checked;return _n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:t??n._wrapperState.initialChecked})}function Y_(n,e){var t=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;t=da(e.value!=null?e.value:t),n._wrapperState={initialChecked:r,initialValue:t,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Pk(n,e){e=e.checked,e!=null&&Bv(n,"checked",e,!1)}function Cy(n,e){Pk(n,e);var t=da(e.value),r=e.type;if(t!=null)r==="number"?(t===0&&n.value===""||n.value!=t)&&(n.value=""+t):n.value!==""+t&&(n.value=""+t);else if(r==="submit"||r==="reset"){n.removeAttribute("value");return}e.hasOwnProperty("value")?Iy(n,e.type,t):e.hasOwnProperty("defaultValue")&&Iy(n,e.type,da(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(n.defaultChecked=!!e.defaultChecked)}function q_(n,e,t){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+n._wrapperState.initialValue,t||e===n.value||(n.value=e),n.defaultValue=e}t=n.name,t!==""&&(n.name=""),n.defaultChecked=!!n._wrapperState.initialChecked,t!==""&&(n.name=t)}function Iy(n,e,t){(e!=="number"||mg(n.ownerDocument)!==n)&&(t==null?n.defaultValue=""+n._wrapperState.initialValue:n.defaultValue!==""+t&&(n.defaultValue=""+t))}var _f=Array.isArray;function zu(n,e,t,r){if(n=n.options,e){e={};for(var i=0;i<t.length;i++)e["$"+t[i]]=!0;for(t=0;t<n.length;t++)i=e.hasOwnProperty("$"+n[t].value),n[t].selected!==i&&(n[t].selected=i),i&&r&&(n[t].defaultSelected=!0)}else{for(t=""+da(t),e=null,i=0;i<n.length;i++){if(n[i].value===t){n[i].selected=!0,r&&(n[i].defaultSelected=!0);return}e!==null||n[i].disabled||(e=n[i])}e!==null&&(e.selected=!0)}}function Dy(n,e){if(e.dangerouslySetInnerHTML!=null)throw Error(be(91));return _n({},e,{value:void 0,defaultValue:void 0,children:""+n._wrapperState.initialValue})}function X_(n,e){var t=e.value;if(t==null){if(t=e.children,e=e.defaultValue,t!=null){if(e!=null)throw Error(be(92));if(_f(t)){if(1<t.length)throw Error(be(93));t=t[0]}e=t}e==null&&(e=""),t=e}n._wrapperState={initialValue:da(t)}}function Mk(n,e){var t=da(e.value),r=da(e.defaultValue);t!=null&&(t=""+t,t!==n.value&&(n.value=t),e.defaultValue==null&&n.defaultValue!==t&&(n.defaultValue=t)),r!=null&&(n.defaultValue=""+r)}function Z_(n){var e=n.textContent;e===n._wrapperState.initialValue&&e!==""&&e!==null&&(n.value=e)}function Ok(n){switch(n){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function by(n,e){return n==null||n==="http://www.w3.org/1999/xhtml"?Ok(e):n==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":n}var id,Fk=function(n){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,t,r,i){MSApp.execUnsafeLocalFunction(function(){return n(e,t,r,i)})}:n}(function(n,e){if(n.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in n)n.innerHTML=e;else{for(id=id||document.createElement("div"),id.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=id.firstChild;n.firstChild;)n.removeChild(n.firstChild);for(;e.firstChild;)n.appendChild(e.firstChild)}});function qf(n,e){if(e){var t=n.firstChild;if(t&&t===n.lastChild&&t.nodeType===3){t.nodeValue=e;return}}n.textContent=e}var Df={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bb=["Webkit","ms","Moz","O"];Object.keys(Df).forEach(function(n){bb.forEach(function(e){e=e+n.charAt(0).toUpperCase()+n.substring(1),Df[e]=Df[n]})});function Nk(n,e,t){return e==null||typeof e=="boolean"||e===""?"":t||typeof e!="number"||e===0||Df.hasOwnProperty(n)&&Df[n]?(""+e).trim():e+"px"}function Bk(n,e){n=n.style;for(var t in e)if(e.hasOwnProperty(t)){var r=t.indexOf("--")===0,i=Nk(t,e[t],r);t==="float"&&(t="cssFloat"),r?n.setProperty(t,i):n[t]=i}}var Pb=_n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Py(n,e){if(e){if(Pb[n]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(be(137,n));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(be(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(be(61))}if(e.style!=null&&typeof e.style!="object")throw Error(be(62))}}function My(n,e){if(n.indexOf("-")===-1)return typeof e.is=="string";switch(n){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Oy=null;function zv(n){return n=n.target||n.srcElement||window,n.correspondingUseElement&&(n=n.correspondingUseElement),n.nodeType===3?n.parentNode:n}var Fy=null,Hu=null,ju=null;function J_(n){if(n=Fc(n)){if(typeof Fy!="function")throw Error(be(280));var e=n.stateNode;e&&(e=Hp(e),Fy(n.stateNode,n.type,e))}}function Uk(n){Hu?ju?ju.push(n):ju=[n]:Hu=n}function Gk(){if(Hu){var n=Hu,e=ju;if(ju=Hu=null,J_(n),e)for(n=0;n<e.length;n++)J_(e[n])}}function $k(n,e){return n(e)}function zk(){}var c1=!1;function Hk(n,e,t){if(c1)return n(e,t);c1=!0;try{return $k(n,e,t)}finally{c1=!1,(Hu!==null||ju!==null)&&(zk(),Gk())}}function Xf(n,e){var t=n.stateNode;if(t===null)return null;var r=Hp(t);if(r===null)return null;t=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(n=n.type,r=!(n==="button"||n==="input"||n==="select"||n==="textarea")),n=!r;break e;default:n=!1}if(n)return null;if(t&&typeof t!="function")throw Error(be(231,e,typeof t));return t}var Ny=!1;if(Al)try{var nf={};Object.defineProperty(nf,"passive",{get:function(){Ny=!0}}),window.addEventListener("test",nf,nf),window.removeEventListener("test",nf,nf)}catch{Ny=!1}function Mb(n,e,t,r,i,s,o,l,u){var h=Array.prototype.slice.call(arguments,3);try{e.apply(t,h)}catch(m){this.onError(m)}}var bf=!1,yg=null,vg=!1,By=null,Ob={onError:function(n){bf=!0,yg=n}};function Fb(n,e,t,r,i,s,o,l,u){bf=!1,yg=null,Mb.apply(Ob,arguments)}function Nb(n,e,t,r,i,s,o,l,u){if(Fb.apply(this,arguments),bf){if(bf){var h=yg;bf=!1,yg=null}else throw Error(be(198));vg||(vg=!0,By=h)}}function DA(n){var e=n,t=n;if(n.alternate)for(;e.return;)e=e.return;else{n=e;do e=n,e.flags&4098&&(t=e.return),n=e.return;while(n)}return e.tag===3?t:null}function jk(n){if(n.tag===13){var e=n.memoizedState;if(e===null&&(n=n.alternate,n!==null&&(e=n.memoizedState)),e!==null)return e.dehydrated}return null}function eE(n){if(DA(n)!==n)throw Error(be(188))}function Bb(n){var e=n.alternate;if(!e){if(e=DA(n),e===null)throw Error(be(188));return e!==n?null:n}for(var t=n,r=e;;){var i=t.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){t=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===t)return eE(i),n;if(s===r)return eE(i),e;s=s.sibling}throw Error(be(188))}if(t.return!==r.return)t=i,r=s;else{for(var o=!1,l=i.child;l;){if(l===t){o=!0,t=i,r=s;break}if(l===r){o=!0,r=i,t=s;break}l=l.sibling}if(!o){for(l=s.child;l;){if(l===t){o=!0,t=s,r=i;break}if(l===r){o=!0,r=s,t=i;break}l=l.sibling}if(!o)throw Error(be(189))}}if(t.alternate!==r)throw Error(be(190))}if(t.tag!==3)throw Error(be(188));return t.stateNode.current===t?n:e}function Vk(n){return n=Bb(n),n!==null?Qk(n):null}function Qk(n){if(n.tag===5||n.tag===6)return n;for(n=n.child;n!==null;){var e=Qk(n);if(e!==null)return e;n=n.sibling}return null}var Kk=Qi.unstable_scheduleCallback,tE=Qi.unstable_cancelCallback,Ub=Qi.unstable_shouldYield,Gb=Qi.unstable_requestPaint,Pn=Qi.unstable_now,$b=Qi.unstable_getCurrentPriorityLevel,Hv=Qi.unstable_ImmediatePriority,Wk=Qi.unstable_UserBlockingPriority,xg=Qi.unstable_NormalPriority,zb=Qi.unstable_LowPriority,Yk=Qi.unstable_IdlePriority,Up=null,_o=null;function Hb(n){if(_o&&typeof _o.onCommitFiberRoot=="function")try{_o.onCommitFiberRoot(Up,n,void 0,(n.current.flags&128)===128)}catch{}}var qs=Math.clz32?Math.clz32:Qb,jb=Math.log,Vb=Math.LN2;function Qb(n){return n>>>=0,n===0?32:31-(jb(n)/Vb|0)|0}var sd=64,od=4194304;function Ef(n){switch(n&-n){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return n&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return n}}function _g(n,e){var t=n.pendingLanes;if(t===0)return 0;var r=0,i=n.suspendedLanes,s=n.pingedLanes,o=t&268435455;if(o!==0){var l=o&~i;l!==0?r=Ef(l):(s&=o,s!==0&&(r=Ef(s)))}else o=t&~i,o!==0?r=Ef(o):s!==0&&(r=Ef(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=t&16),e=n.entangledLanes,e!==0)for(n=n.entanglements,e&=r;0<e;)t=31-qs(e),i=1<<t,r|=n[t],e&=~i;return r}function Kb(n,e){switch(n){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wb(n,e){for(var t=n.suspendedLanes,r=n.pingedLanes,i=n.expirationTimes,s=n.pendingLanes;0<s;){var o=31-qs(s),l=1<<o,u=i[o];u===-1?(!(l&t)||l&r)&&(i[o]=Kb(l,e)):u<=e&&(n.expiredLanes|=l),s&=~l}}function Uy(n){return n=n.pendingLanes&-1073741825,n!==0?n:n&1073741824?1073741824:0}function qk(){var n=sd;return sd<<=1,!(sd&4194240)&&(sd=64),n}function h1(n){for(var e=[],t=0;31>t;t++)e.push(n);return e}function Mc(n,e,t){n.pendingLanes|=e,e!==536870912&&(n.suspendedLanes=0,n.pingedLanes=0),n=n.eventTimes,e=31-qs(e),n[e]=t}function Yb(n,e){var t=n.pendingLanes&~e;n.pendingLanes=e,n.suspendedLanes=0,n.pingedLanes=0,n.expiredLanes&=e,n.mutableReadLanes&=e,n.entangledLanes&=e,e=n.entanglements;var r=n.eventTimes;for(n=n.expirationTimes;0<t;){var i=31-qs(t),s=1<<i;e[i]=0,r[i]=-1,n[i]=-1,t&=~s}}function jv(n,e){var t=n.entangledLanes|=e;for(n=n.entanglements;t;){var r=31-qs(t),i=1<<r;i&e|n[r]&e&&(n[r]|=e),t&=~i}}var Wt=0;function Xk(n){return n&=-n,1<n?4<n?n&268435455?16:536870912:4:1}var Zk,Vv,Jk,eL,tL,Gy=!1,ld=[],ia=null,sa=null,oa=null,Zf=new Map,Jf=new Map,ql=[],qb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nE(n,e){switch(n){case"focusin":case"focusout":ia=null;break;case"dragenter":case"dragleave":sa=null;break;case"mouseover":case"mouseout":oa=null;break;case"pointerover":case"pointerout":Zf.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jf.delete(e.pointerId)}}function rf(n,e,t,r,i,s){return n===null||n.nativeEvent!==s?(n={blockedOn:e,domEventName:t,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Fc(e),e!==null&&Vv(e)),n):(n.eventSystemFlags|=r,e=n.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),n)}function Xb(n,e,t,r,i){switch(e){case"focusin":return ia=rf(ia,n,e,t,r,i),!0;case"dragenter":return sa=rf(sa,n,e,t,r,i),!0;case"mouseover":return oa=rf(oa,n,e,t,r,i),!0;case"pointerover":var s=i.pointerId;return Zf.set(s,rf(Zf.get(s)||null,n,e,t,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Jf.set(s,rf(Jf.get(s)||null,n,e,t,r,i)),!0}return!1}function nL(n){var e=rA(n.target);if(e!==null){var t=DA(e);if(t!==null){if(e=t.tag,e===13){if(e=jk(t),e!==null){n.blockedOn=e,tL(n.priority,function(){Jk(t)});return}}else if(e===3&&t.stateNode.current.memoizedState.isDehydrated){n.blockedOn=t.tag===3?t.stateNode.containerInfo:null;return}}}n.blockedOn=null}function Qd(n){if(n.blockedOn!==null)return!1;for(var e=n.targetContainers;0<e.length;){var t=$y(n.domEventName,n.eventSystemFlags,e[0],n.nativeEvent);if(t===null){t=n.nativeEvent;var r=new t.constructor(t.type,t);Oy=r,t.target.dispatchEvent(r),Oy=null}else return e=Fc(t),e!==null&&Vv(e),n.blockedOn=t,!1;e.shift()}return!0}function rE(n,e,t){Qd(n)&&t.delete(e)}function Zb(){Gy=!1,ia!==null&&Qd(ia)&&(ia=null),sa!==null&&Qd(sa)&&(sa=null),oa!==null&&Qd(oa)&&(oa=null),Zf.forEach(rE),Jf.forEach(rE)}function sf(n,e){n.blockedOn===e&&(n.blockedOn=null,Gy||(Gy=!0,Qi.unstable_scheduleCallback(Qi.unstable_NormalPriority,Zb)))}function ec(n){function e(i){return sf(i,n)}if(0<ld.length){sf(ld[0],n);for(var t=1;t<ld.length;t++){var r=ld[t];r.blockedOn===n&&(r.blockedOn=null)}}for(ia!==null&&sf(ia,n),sa!==null&&sf(sa,n),oa!==null&&sf(oa,n),Zf.forEach(e),Jf.forEach(e),t=0;t<ql.length;t++)r=ql[t],r.blockedOn===n&&(r.blockedOn=null);for(;0<ql.length&&(t=ql[0],t.blockedOn===null);)nL(t),t.blockedOn===null&&ql.shift()}var Vu=vl.ReactCurrentBatchConfig,Eg=!0;function Jb(n,e,t,r){var i=Wt,s=Vu.transition;Vu.transition=null;try{Wt=1,Qv(n,e,t,r)}finally{Wt=i,Vu.transition=s}}function e4(n,e,t,r){var i=Wt,s=Vu.transition;Vu.transition=null;try{Wt=4,Qv(n,e,t,r)}finally{Wt=i,Vu.transition=s}}function Qv(n,e,t,r){if(Eg){var i=$y(n,e,t,r);if(i===null)S1(n,e,r,Sg,t),nE(n,r);else if(Xb(i,n,e,t,r))r.stopPropagation();else if(nE(n,r),e&4&&-1<qb.indexOf(n)){for(;i!==null;){var s=Fc(i);if(s!==null&&Zk(s),s=$y(n,e,t,r),s===null&&S1(n,e,r,Sg,t),s===i)break;i=s}i!==null&&r.stopPropagation()}else S1(n,e,r,null,t)}}var Sg=null;function $y(n,e,t,r){if(Sg=null,n=zv(r),n=rA(n),n!==null)if(e=DA(n),e===null)n=null;else if(t=e.tag,t===13){if(n=jk(e),n!==null)return n;n=null}else if(t===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;n=null}else e!==n&&(n=null);return Sg=n,null}function rL(n){switch(n){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($b()){case Hv:return 1;case Wk:return 4;case xg:case zb:return 16;case Yk:return 536870912;default:return 16}default:return 16}}var Zl=null,Kv=null,Kd=null;function iL(){if(Kd)return Kd;var n,e=Kv,t=e.length,r,i="value"in Zl?Zl.value:Zl.textContent,s=i.length;for(n=0;n<t&&e[n]===i[n];n++);var o=t-n;for(r=1;r<=o&&e[t-r]===i[s-r];r++);return Kd=i.slice(n,1<r?1-r:void 0)}function Wd(n){var e=n.keyCode;return"charCode"in n?(n=n.charCode,n===0&&e===13&&(n=13)):n=e,n===10&&(n=13),32<=n||n===13?n:0}function ad(){return!0}function iE(){return!1}function qi(n){function e(t,r,i,s,o){this._reactName=t,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var l in n)n.hasOwnProperty(l)&&(t=n[l],this[l]=t?t(s):s[l]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ad:iE,this.isPropagationStopped=iE,this}return _n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():typeof t.returnValue!="unknown"&&(t.returnValue=!1),this.isDefaultPrevented=ad)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():typeof t.cancelBubble!="unknown"&&(t.cancelBubble=!0),this.isPropagationStopped=ad)},persist:function(){},isPersistent:ad}),e}var w0={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(n){return n.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Wv=qi(w0),Oc=_n({},w0,{view:0,detail:0}),t4=qi(Oc),d1,g1,of,Gp=_n({},Oc,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Yv,button:0,buttons:0,relatedTarget:function(n){return n.relatedTarget===void 0?n.fromElement===n.srcElement?n.toElement:n.fromElement:n.relatedTarget},movementX:function(n){return"movementX"in n?n.movementX:(n!==of&&(of&&n.type==="mousemove"?(d1=n.screenX-of.screenX,g1=n.screenY-of.screenY):g1=d1=0,of=n),d1)},movementY:function(n){return"movementY"in n?n.movementY:g1}}),sE=qi(Gp),n4=_n({},Gp,{dataTransfer:0}),r4=qi(n4),i4=_n({},Oc,{relatedTarget:0}),p1=qi(i4),s4=_n({},w0,{animationName:0,elapsedTime:0,pseudoElement:0}),o4=qi(s4),l4=_n({},w0,{clipboardData:function(n){return"clipboardData"in n?n.clipboardData:window.clipboardData}}),a4=qi(l4),A4=_n({},w0,{data:0}),oE=qi(A4),u4={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},f4={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},c4={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function h4(n){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(n):(n=c4[n])?!!e[n]:!1}function Yv(){return h4}var d4=_n({},Oc,{key:function(n){if(n.key){var e=u4[n.key]||n.key;if(e!=="Unidentified")return e}return n.type==="keypress"?(n=Wd(n),n===13?"Enter":String.fromCharCode(n)):n.type==="keydown"||n.type==="keyup"?f4[n.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Yv,charCode:function(n){return n.type==="keypress"?Wd(n):0},keyCode:function(n){return n.type==="keydown"||n.type==="keyup"?n.keyCode:0},which:function(n){return n.type==="keypress"?Wd(n):n.type==="keydown"||n.type==="keyup"?n.keyCode:0}}),g4=qi(d4),p4=_n({},Gp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lE=qi(p4),m4=_n({},Oc,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Yv}),y4=qi(m4),v4=_n({},w0,{propertyName:0,elapsedTime:0,pseudoElement:0}),x4=qi(v4),_4=_n({},Gp,{deltaX:function(n){return"deltaX"in n?n.deltaX:"wheelDeltaX"in n?-n.wheelDeltaX:0},deltaY:function(n){return"deltaY"in n?n.deltaY:"wheelDeltaY"in n?-n.wheelDeltaY:"wheelDelta"in n?-n.wheelDelta:0},deltaZ:0,deltaMode:0}),E4=qi(_4),S4=[9,13,27,32],qv=Al&&"CompositionEvent"in window,Pf=null;Al&&"documentMode"in document&&(Pf=document.documentMode);var T4=Al&&"TextEvent"in window&&!Pf,sL=Al&&(!qv||Pf&&8<Pf&&11>=Pf),aE=" ",AE=!1;function oL(n,e){switch(n){case"keyup":return S4.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function lL(n){return n=n.detail,typeof n=="object"&&"data"in n?n.data:null}var Su=!1;function w4(n,e){switch(n){case"compositionend":return lL(e);case"keypress":return e.which!==32?null:(AE=!0,aE);case"textInput":return n=e.data,n===aE&&AE?null:n;default:return null}}function k4(n,e){if(Su)return n==="compositionend"||!qv&&oL(n,e)?(n=iL(),Kd=Kv=Zl=null,Su=!1,n):null;switch(n){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return sL&&e.locale!=="ko"?null:e.data;default:return null}}var L4={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function uE(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e==="input"?!!L4[n.type]:e==="textarea"}function aL(n,e,t,r){Uk(r),e=Tg(e,"onChange"),0<e.length&&(t=new Wv("onChange","change",null,t,r),n.push({event:t,listeners:e}))}var Mf=null,tc=null;function R4(n){vL(n,0)}function $p(n){var e=ku(n);if(bk(e))return n}function C4(n,e){if(n==="change")return e}var AL=!1;if(Al){var m1;if(Al){var y1="oninput"in document;if(!y1){var fE=document.createElement("div");fE.setAttribute("oninput","return;"),y1=typeof fE.oninput=="function"}m1=y1}else m1=!1;AL=m1&&(!document.documentMode||9<document.documentMode)}function cE(){Mf&&(Mf.detachEvent("onpropertychange",uL),tc=Mf=null)}function uL(n){if(n.propertyName==="value"&&$p(tc)){var e=[];aL(e,tc,n,zv(n)),Hk(R4,e)}}function I4(n,e,t){n==="focusin"?(cE(),Mf=e,tc=t,Mf.attachEvent("onpropertychange",uL)):n==="focusout"&&cE()}function D4(n){if(n==="selectionchange"||n==="keyup"||n==="keydown")return $p(tc)}function b4(n,e){if(n==="click")return $p(e)}function P4(n,e){if(n==="input"||n==="change")return $p(e)}function M4(n,e){return n===e&&(n!==0||1/n===1/e)||n!==n&&e!==e}var Zs=typeof Object.is=="function"?Object.is:M4;function nc(n,e){if(Zs(n,e))return!0;if(typeof n!="object"||n===null||typeof e!="object"||e===null)return!1;var t=Object.keys(n),r=Object.keys(e);if(t.length!==r.length)return!1;for(r=0;r<t.length;r++){var i=t[r];if(!Sy.call(e,i)||!Zs(n[i],e[i]))return!1}return!0}function hE(n){for(;n&&n.firstChild;)n=n.firstChild;return n}function dE(n,e){var t=hE(n);n=0;for(var r;t;){if(t.nodeType===3){if(r=n+t.textContent.length,n<=e&&r>=e)return{node:t,offset:e-n};n=r}e:{for(;t;){if(t.nextSibling){t=t.nextSibling;break e}t=t.parentNode}t=void 0}t=hE(t)}}function fL(n,e){return n&&e?n===e?!0:n&&n.nodeType===3?!1:e&&e.nodeType===3?fL(n,e.parentNode):"contains"in n?n.contains(e):n.compareDocumentPosition?!!(n.compareDocumentPosition(e)&16):!1:!1}function cL(){for(var n=window,e=mg();e instanceof n.HTMLIFrameElement;){try{var t=typeof e.contentWindow.location.href=="string"}catch{t=!1}if(t)n=e.contentWindow;else break;e=mg(n.document)}return e}function Xv(n){var e=n&&n.nodeName&&n.nodeName.toLowerCase();return e&&(e==="input"&&(n.type==="text"||n.type==="search"||n.type==="tel"||n.type==="url"||n.type==="password")||e==="textarea"||n.contentEditable==="true")}function O4(n){var e=cL(),t=n.focusedElem,r=n.selectionRange;if(e!==t&&t&&t.ownerDocument&&fL(t.ownerDocument.documentElement,t)){if(r!==null&&Xv(t)){if(e=r.start,n=r.end,n===void 0&&(n=e),"selectionStart"in t)t.selectionStart=e,t.selectionEnd=Math.min(n,t.value.length);else if(n=(e=t.ownerDocument||document)&&e.defaultView||window,n.getSelection){n=n.getSelection();var i=t.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!n.extend&&s>r&&(i=r,r=s,s=i),i=dE(t,s);var o=dE(t,r);i&&o&&(n.rangeCount!==1||n.anchorNode!==i.node||n.anchorOffset!==i.offset||n.focusNode!==o.node||n.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),n.removeAllRanges(),s>r?(n.addRange(e),n.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),n.addRange(e)))}}for(e=[],n=t;n=n.parentNode;)n.nodeType===1&&e.push({element:n,left:n.scrollLeft,top:n.scrollTop});for(typeof t.focus=="function"&&t.focus(),t=0;t<e.length;t++)n=e[t],n.element.scrollLeft=n.left,n.element.scrollTop=n.top}}var F4=Al&&"documentMode"in document&&11>=document.documentMode,Tu=null,zy=null,Of=null,Hy=!1;function gE(n,e,t){var r=t.window===t?t.document:t.nodeType===9?t:t.ownerDocument;Hy||Tu==null||Tu!==mg(r)||(r=Tu,"selectionStart"in r&&Xv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Of&&nc(Of,r)||(Of=r,r=Tg(zy,"onSelect"),0<r.length&&(e=new Wv("onSelect","select",null,e,t),n.push({event:e,listeners:r}),e.target=Tu)))}function Ad(n,e){var t={};return t[n.toLowerCase()]=e.toLowerCase(),t["Webkit"+n]="webkit"+e,t["Moz"+n]="moz"+e,t}var wu={animationend:Ad("Animation","AnimationEnd"),animationiteration:Ad("Animation","AnimationIteration"),animationstart:Ad("Animation","AnimationStart"),transitionend:Ad("Transition","TransitionEnd")},v1={},hL={};Al&&(hL=document.createElement("div").style,"AnimationEvent"in window||(delete wu.animationend.animation,delete wu.animationiteration.animation,delete wu.animationstart.animation),"TransitionEvent"in window||delete wu.transitionend.transition);function zp(n){if(v1[n])return v1[n];if(!wu[n])return n;var e=wu[n],t;for(t in e)if(e.hasOwnProperty(t)&&t in hL)return v1[n]=e[t];return n}var dL=zp("animationend"),gL=zp("animationiteration"),pL=zp("animationstart"),mL=zp("transitionend"),yL=new Map,pE="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xa(n,e){yL.set(n,e),IA(e,[n])}for(var x1=0;x1<pE.length;x1++){var _1=pE[x1],N4=_1.toLowerCase(),B4=_1[0].toUpperCase()+_1.slice(1);xa(N4,"on"+B4)}xa(dL,"onAnimationEnd");xa(gL,"onAnimationIteration");xa(pL,"onAnimationStart");xa("dblclick","onDoubleClick");xa("focusin","onFocus");xa("focusout","onBlur");xa(mL,"onTransitionEnd");n0("onMouseEnter",["mouseout","mouseover"]);n0("onMouseLeave",["mouseout","mouseover"]);n0("onPointerEnter",["pointerout","pointerover"]);n0("onPointerLeave",["pointerout","pointerover"]);IA("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));IA("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));IA("onBeforeInput",["compositionend","keypress","textInput","paste"]);IA("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));IA("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));IA("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Sf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),U4=new Set("cancel close invalid load scroll toggle".split(" ").concat(Sf));function mE(n,e,t){var r=n.type||"unknown-event";n.currentTarget=t,Nb(r,e,void 0,n),n.currentTarget=null}function vL(n,e){e=(e&4)!==0;for(var t=0;t<n.length;t++){var r=n[t],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var l=r[o],u=l.instance,h=l.currentTarget;if(l=l.listener,u!==s&&i.isPropagationStopped())break e;mE(i,l,h),s=u}else for(o=0;o<r.length;o++){if(l=r[o],u=l.instance,h=l.currentTarget,l=l.listener,u!==s&&i.isPropagationStopped())break e;mE(i,l,h),s=u}}}if(vg)throw n=By,vg=!1,By=null,n}function ln(n,e){var t=e[Wy];t===void 0&&(t=e[Wy]=new Set);var r=n+"__bubble";t.has(r)||(xL(e,n,2,!1),t.add(r))}function E1(n,e,t){var r=0;e&&(r|=4),xL(t,n,r,e)}var ud="_reactListening"+Math.random().toString(36).slice(2);function rc(n){if(!n[ud]){n[ud]=!0,Lk.forEach(function(t){t!=="selectionchange"&&(U4.has(t)||E1(t,!1,n),E1(t,!0,n))});var e=n.nodeType===9?n:n.ownerDocument;e===null||e[ud]||(e[ud]=!0,E1("selectionchange",!1,e))}}function xL(n,e,t,r){switch(rL(e)){case 1:var i=Jb;break;case 4:i=e4;break;default:i=Qv}t=i.bind(null,e,t,n),i=void 0,!Ny||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?n.addEventListener(e,t,{capture:!0,passive:i}):n.addEventListener(e,t,!0):i!==void 0?n.addEventListener(e,t,{passive:i}):n.addEventListener(e,t,!1)}function S1(n,e,t,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var l=r.stateNode.containerInfo;if(l===i||l.nodeType===8&&l.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var u=o.tag;if((u===3||u===4)&&(u=o.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;o=o.return}for(;l!==null;){if(o=rA(l),o===null)return;if(u=o.tag,u===5||u===6){r=s=o;continue e}l=l.parentNode}}r=r.return}Hk(function(){var h=s,m=zv(t),y=[];e:{var _=yL.get(n);if(_!==void 0){var T=Wv,w=n;switch(n){case"keypress":if(Wd(t)===0)break e;case"keydown":case"keyup":T=g4;break;case"focusin":w="focus",T=p1;break;case"focusout":w="blur",T=p1;break;case"beforeblur":case"afterblur":T=p1;break;case"click":if(t.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":T=sE;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":T=r4;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":T=y4;break;case dL:case gL:case pL:T=o4;break;case mL:T=x4;break;case"scroll":T=t4;break;case"wheel":T=E4;break;case"copy":case"cut":case"paste":T=a4;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":T=lE}var L=(e&4)!==0,I=!L&&n==="scroll",C=L?_!==null?_+"Capture":null:_;L=[];for(var b=h,M;b!==null;){M=b;var U=M.stateNode;if(M.tag===5&&U!==null&&(M=U,C!==null&&(U=Xf(b,C),U!=null&&L.push(ic(b,U,M)))),I)break;b=b.return}0<L.length&&(_=new T(_,w,null,t,m),y.push({event:_,listeners:L}))}}if(!(e&7)){e:{if(_=n==="mouseover"||n==="pointerover",T=n==="mouseout"||n==="pointerout",_&&t!==Oy&&(w=t.relatedTarget||t.fromElement)&&(rA(w)||w[ul]))break e;if((T||_)&&(_=m.window===m?m:(_=m.ownerDocument)?_.defaultView||_.parentWindow:window,T?(w=t.relatedTarget||t.toElement,T=h,w=w?rA(w):null,w!==null&&(I=DA(w),w!==I||w.tag!==5&&w.tag!==6)&&(w=null)):(T=null,w=h),T!==w)){if(L=sE,U="onMouseLeave",C="onMouseEnter",b="mouse",(n==="pointerout"||n==="pointerover")&&(L=lE,U="onPointerLeave",C="onPointerEnter",b="pointer"),I=T==null?_:ku(T),M=w==null?_:ku(w),_=new L(U,b+"leave",T,t,m),_.target=I,_.relatedTarget=M,U=null,rA(m)===h&&(L=new L(C,b+"enter",w,t,m),L.target=M,L.relatedTarget=I,U=L),I=U,T&&w)t:{for(L=T,C=w,b=0,M=L;M;M=fu(M))b++;for(M=0,U=C;U;U=fu(U))M++;for(;0<b-M;)L=fu(L),b--;for(;0<M-b;)C=fu(C),M--;for(;b--;){if(L===C||C!==null&&L===C.alternate)break t;L=fu(L),C=fu(C)}L=null}else L=null;T!==null&&yE(y,_,T,L,!1),w!==null&&I!==null&&yE(y,I,w,L,!0)}}e:{if(_=h?ku(h):window,T=_.nodeName&&_.nodeName.toLowerCase(),T==="select"||T==="input"&&_.type==="file")var B=C4;else if(uE(_))if(AL)B=P4;else{B=D4;var $=I4}else(T=_.nodeName)&&T.toLowerCase()==="input"&&(_.type==="checkbox"||_.type==="radio")&&(B=b4);if(B&&(B=B(n,h))){aL(y,B,t,m);break e}$&&$(n,_,h),n==="focusout"&&($=_._wrapperState)&&$.controlled&&_.type==="number"&&Iy(_,"number",_.value)}switch($=h?ku(h):window,n){case"focusin":(uE($)||$.contentEditable==="true")&&(Tu=$,zy=h,Of=null);break;case"focusout":Of=zy=Tu=null;break;case"mousedown":Hy=!0;break;case"contextmenu":case"mouseup":case"dragend":Hy=!1,gE(y,t,m);break;case"selectionchange":if(F4)break;case"keydown":case"keyup":gE(y,t,m)}var H;if(qv)e:{switch(n){case"compositionstart":var j="onCompositionStart";break e;case"compositionend":j="onCompositionEnd";break e;case"compositionupdate":j="onCompositionUpdate";break e}j=void 0}else Su?oL(n,t)&&(j="onCompositionEnd"):n==="keydown"&&t.keyCode===229&&(j="onCompositionStart");j&&(sL&&t.locale!=="ko"&&(Su||j!=="onCompositionStart"?j==="onCompositionEnd"&&Su&&(H=iL()):(Zl=m,Kv="value"in Zl?Zl.value:Zl.textContent,Su=!0)),$=Tg(h,j),0<$.length&&(j=new oE(j,n,null,t,m),y.push({event:j,listeners:$}),H?j.data=H:(H=lL(t),H!==null&&(j.data=H)))),(H=T4?w4(n,t):k4(n,t))&&(h=Tg(h,"onBeforeInput"),0<h.length&&(m=new oE("onBeforeInput","beforeinput",null,t,m),y.push({event:m,listeners:h}),m.data=H))}vL(y,e)})}function ic(n,e,t){return{instance:n,listener:e,currentTarget:t}}function Tg(n,e){for(var t=e+"Capture",r=[];n!==null;){var i=n,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Xf(n,t),s!=null&&r.unshift(ic(n,s,i)),s=Xf(n,e),s!=null&&r.push(ic(n,s,i))),n=n.return}return r}function fu(n){if(n===null)return null;do n=n.return;while(n&&n.tag!==5);return n||null}function yE(n,e,t,r,i){for(var s=e._reactName,o=[];t!==null&&t!==r;){var l=t,u=l.alternate,h=l.stateNode;if(u!==null&&u===r)break;l.tag===5&&h!==null&&(l=h,i?(u=Xf(t,s),u!=null&&o.unshift(ic(t,u,l))):i||(u=Xf(t,s),u!=null&&o.push(ic(t,u,l)))),t=t.return}o.length!==0&&n.push({event:e,listeners:o})}var G4=/\r\n?/g,$4=/\u0000|\uFFFD/g;function vE(n){return(typeof n=="string"?n:""+n).replace(G4,`
`).replace($4,"")}function fd(n,e,t){if(e=vE(e),vE(n)!==e&&t)throw Error(be(425))}function wg(){}var jy=null,Vy=null;function Qy(n,e){return n==="textarea"||n==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Ky=typeof setTimeout=="function"?setTimeout:void 0,z4=typeof clearTimeout=="function"?clearTimeout:void 0,xE=typeof Promise=="function"?Promise:void 0,H4=typeof queueMicrotask=="function"?queueMicrotask:typeof xE<"u"?function(n){return xE.resolve(null).then(n).catch(j4)}:Ky;function j4(n){setTimeout(function(){throw n})}function T1(n,e){var t=e,r=0;do{var i=t.nextSibling;if(n.removeChild(t),i&&i.nodeType===8)if(t=i.data,t==="/$"){if(r===0){n.removeChild(i),ec(e);return}r--}else t!=="$"&&t!=="$?"&&t!=="$!"||r++;t=i}while(t);ec(e)}function la(n){for(;n!=null;n=n.nextSibling){var e=n.nodeType;if(e===1||e===3)break;if(e===8){if(e=n.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return n}function _E(n){n=n.previousSibling;for(var e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="$"||t==="$!"||t==="$?"){if(e===0)return n;e--}else t==="/$"&&e++}n=n.previousSibling}return null}var k0=Math.random().toString(36).slice(2),go="__reactFiber$"+k0,sc="__reactProps$"+k0,ul="__reactContainer$"+k0,Wy="__reactEvents$"+k0,V4="__reactListeners$"+k0,Q4="__reactHandles$"+k0;function rA(n){var e=n[go];if(e)return e;for(var t=n.parentNode;t;){if(e=t[ul]||t[go]){if(t=e.alternate,e.child!==null||t!==null&&t.child!==null)for(n=_E(n);n!==null;){if(t=n[go])return t;n=_E(n)}return e}n=t,t=n.parentNode}return null}function Fc(n){return n=n[go]||n[ul],!n||n.tag!==5&&n.tag!==6&&n.tag!==13&&n.tag!==3?null:n}function ku(n){if(n.tag===5||n.tag===6)return n.stateNode;throw Error(be(33))}function Hp(n){return n[sc]||null}var Yy=[],Lu=-1;function _a(n){return{current:n}}function an(n){0>Lu||(n.current=Yy[Lu],Yy[Lu]=null,Lu--)}function sn(n,e){Lu++,Yy[Lu]=n.current,n.current=e}var ga={},Or=_a(ga),pi=_a(!1),xA=ga;function r0(n,e){var t=n.type.contextTypes;if(!t)return ga;var r=n.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in t)i[s]=e[s];return r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=e,n.__reactInternalMemoizedMaskedChildContext=i),i}function mi(n){return n=n.childContextTypes,n!=null}function kg(){an(pi),an(Or)}function EE(n,e,t){if(Or.current!==ga)throw Error(be(168));sn(Or,e),sn(pi,t)}function _L(n,e,t){var r=n.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return t;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(be(108,Ib(n)||"Unknown",i));return _n({},t,r)}function Lg(n){return n=(n=n.stateNode)&&n.__reactInternalMemoizedMergedChildContext||ga,xA=Or.current,sn(Or,n),sn(pi,pi.current),!0}function SE(n,e,t){var r=n.stateNode;if(!r)throw Error(be(169));t?(n=_L(n,e,xA),r.__reactInternalMemoizedMergedChildContext=n,an(pi),an(Or),sn(Or,n)):an(pi),sn(pi,t)}var el=null,jp=!1,w1=!1;function EL(n){el===null?el=[n]:el.push(n)}function K4(n){jp=!0,EL(n)}function Ea(){if(!w1&&el!==null){w1=!0;var n=0,e=Wt;try{var t=el;for(Wt=1;n<t.length;n++){var r=t[n];do r=r(!0);while(r!==null)}el=null,jp=!1}catch(i){throw el!==null&&(el=el.slice(n+1)),Kk(Hv,Ea),i}finally{Wt=e,w1=!1}}return null}var Ru=[],Cu=0,Rg=null,Cg=0,ys=[],vs=0,_A=null,il=1,sl="";function qa(n,e){Ru[Cu++]=Cg,Ru[Cu++]=Rg,Rg=n,Cg=e}function SL(n,e,t){ys[vs++]=il,ys[vs++]=sl,ys[vs++]=_A,_A=n;var r=il;n=sl;var i=32-qs(r)-1;r&=~(1<<i),t+=1;var s=32-qs(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,il=1<<32-qs(e)+i|t<<i|r,sl=s+n}else il=1<<s|t<<i|r,sl=n}function Zv(n){n.return!==null&&(qa(n,1),SL(n,1,0))}function Jv(n){for(;n===Rg;)Rg=Ru[--Cu],Ru[Cu]=null,Cg=Ru[--Cu],Ru[Cu]=null;for(;n===_A;)_A=ys[--vs],ys[vs]=null,sl=ys[--vs],ys[vs]=null,il=ys[--vs],ys[vs]=null}var ji=null,zi=null,hn=!1,Qs=null;function TL(n,e){var t=_s(5,null,null,0);t.elementType="DELETED",t.stateNode=e,t.return=n,e=n.deletions,e===null?(n.deletions=[t],n.flags|=16):e.push(t)}function TE(n,e){switch(n.tag){case 5:var t=n.type;return e=e.nodeType!==1||t.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(n.stateNode=e,ji=n,zi=la(e.firstChild),!0):!1;case 6:return e=n.pendingProps===""||e.nodeType!==3?null:e,e!==null?(n.stateNode=e,ji=n,zi=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(t=_A!==null?{id:il,overflow:sl}:null,n.memoizedState={dehydrated:e,treeContext:t,retryLane:1073741824},t=_s(18,null,null,0),t.stateNode=e,t.return=n,n.child=t,ji=n,zi=null,!0):!1;default:return!1}}function qy(n){return(n.mode&1)!==0&&(n.flags&128)===0}function Xy(n){if(hn){var e=zi;if(e){var t=e;if(!TE(n,e)){if(qy(n))throw Error(be(418));e=la(t.nextSibling);var r=ji;e&&TE(n,e)?TL(r,t):(n.flags=n.flags&-4097|2,hn=!1,ji=n)}}else{if(qy(n))throw Error(be(418));n.flags=n.flags&-4097|2,hn=!1,ji=n}}}function wE(n){for(n=n.return;n!==null&&n.tag!==5&&n.tag!==3&&n.tag!==13;)n=n.return;ji=n}function cd(n){if(n!==ji)return!1;if(!hn)return wE(n),hn=!0,!1;var e;if((e=n.tag!==3)&&!(e=n.tag!==5)&&(e=n.type,e=e!=="head"&&e!=="body"&&!Qy(n.type,n.memoizedProps)),e&&(e=zi)){if(qy(n))throw wL(),Error(be(418));for(;e;)TL(n,e),e=la(e.nextSibling)}if(wE(n),n.tag===13){if(n=n.memoizedState,n=n!==null?n.dehydrated:null,!n)throw Error(be(317));e:{for(n=n.nextSibling,e=0;n;){if(n.nodeType===8){var t=n.data;if(t==="/$"){if(e===0){zi=la(n.nextSibling);break e}e--}else t!=="$"&&t!=="$!"&&t!=="$?"||e++}n=n.nextSibling}zi=null}}else zi=ji?la(n.stateNode.nextSibling):null;return!0}function wL(){for(var n=zi;n;)n=la(n.nextSibling)}function i0(){zi=ji=null,hn=!1}function ex(n){Qs===null?Qs=[n]:Qs.push(n)}var W4=vl.ReactCurrentBatchConfig;function lf(n,e,t){if(n=t.ref,n!==null&&typeof n!="function"&&typeof n!="object"){if(t._owner){if(t=t._owner,t){if(t.tag!==1)throw Error(be(309));var r=t.stateNode}if(!r)throw Error(be(147,n));var i=r,s=""+n;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var l=i.refs;o===null?delete l[s]:l[s]=o},e._stringRef=s,e)}if(typeof n!="string")throw Error(be(284));if(!t._owner)throw Error(be(290,n))}return n}function hd(n,e){throw n=Object.prototype.toString.call(e),Error(be(31,n==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":n))}function kE(n){var e=n._init;return e(n._payload)}function kL(n){function e(C,b){if(n){var M=C.deletions;M===null?(C.deletions=[b],C.flags|=16):M.push(b)}}function t(C,b){if(!n)return null;for(;b!==null;)e(C,b),b=b.sibling;return null}function r(C,b){for(C=new Map;b!==null;)b.key!==null?C.set(b.key,b):C.set(b.index,b),b=b.sibling;return C}function i(C,b){return C=fa(C,b),C.index=0,C.sibling=null,C}function s(C,b,M){return C.index=M,n?(M=C.alternate,M!==null?(M=M.index,M<b?(C.flags|=2,b):M):(C.flags|=2,b)):(C.flags|=1048576,b)}function o(C){return n&&C.alternate===null&&(C.flags|=2),C}function l(C,b,M,U){return b===null||b.tag!==6?(b=b1(M,C.mode,U),b.return=C,b):(b=i(b,M),b.return=C,b)}function u(C,b,M,U){var B=M.type;return B===Eu?m(C,b,M.props.children,U,M.key):b!==null&&(b.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Ql&&kE(B)===b.type)?(U=i(b,M.props),U.ref=lf(C,b,M),U.return=C,U):(U=tg(M.type,M.key,M.props,null,C.mode,U),U.ref=lf(C,b,M),U.return=C,U)}function h(C,b,M,U){return b===null||b.tag!==4||b.stateNode.containerInfo!==M.containerInfo||b.stateNode.implementation!==M.implementation?(b=P1(M,C.mode,U),b.return=C,b):(b=i(b,M.children||[]),b.return=C,b)}function m(C,b,M,U,B){return b===null||b.tag!==7?(b=cA(M,C.mode,U,B),b.return=C,b):(b=i(b,M),b.return=C,b)}function y(C,b,M){if(typeof b=="string"&&b!==""||typeof b=="number")return b=b1(""+b,C.mode,M),b.return=C,b;if(typeof b=="object"&&b!==null){switch(b.$$typeof){case nd:return M=tg(b.type,b.key,b.props,null,C.mode,M),M.ref=lf(C,null,b),M.return=C,M;case _u:return b=P1(b,C.mode,M),b.return=C,b;case Ql:var U=b._init;return y(C,U(b._payload),M)}if(_f(b)||tf(b))return b=cA(b,C.mode,M,null),b.return=C,b;hd(C,b)}return null}function _(C,b,M,U){var B=b!==null?b.key:null;if(typeof M=="string"&&M!==""||typeof M=="number")return B!==null?null:l(C,b,""+M,U);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case nd:return M.key===B?u(C,b,M,U):null;case _u:return M.key===B?h(C,b,M,U):null;case Ql:return B=M._init,_(C,b,B(M._payload),U)}if(_f(M)||tf(M))return B!==null?null:m(C,b,M,U,null);hd(C,M)}return null}function T(C,b,M,U,B){if(typeof U=="string"&&U!==""||typeof U=="number")return C=C.get(M)||null,l(b,C,""+U,B);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case nd:return C=C.get(U.key===null?M:U.key)||null,u(b,C,U,B);case _u:return C=C.get(U.key===null?M:U.key)||null,h(b,C,U,B);case Ql:var $=U._init;return T(C,b,M,$(U._payload),B)}if(_f(U)||tf(U))return C=C.get(M)||null,m(b,C,U,B,null);hd(b,U)}return null}function w(C,b,M,U){for(var B=null,$=null,H=b,j=b=0,Y=null;H!==null&&j<M.length;j++){H.index>j?(Y=H,H=null):Y=H.sibling;var q=_(C,H,M[j],U);if(q===null){H===null&&(H=Y);break}n&&H&&q.alternate===null&&e(C,H),b=s(q,b,j),$===null?B=q:$.sibling=q,$=q,H=Y}if(j===M.length)return t(C,H),hn&&qa(C,j),B;if(H===null){for(;j<M.length;j++)H=y(C,M[j],U),H!==null&&(b=s(H,b,j),$===null?B=H:$.sibling=H,$=H);return hn&&qa(C,j),B}for(H=r(C,H);j<M.length;j++)Y=T(H,C,j,M[j],U),Y!==null&&(n&&Y.alternate!==null&&H.delete(Y.key===null?j:Y.key),b=s(Y,b,j),$===null?B=Y:$.sibling=Y,$=Y);return n&&H.forEach(function(X){return e(C,X)}),hn&&qa(C,j),B}function L(C,b,M,U){var B=tf(M);if(typeof B!="function")throw Error(be(150));if(M=B.call(M),M==null)throw Error(be(151));for(var $=B=null,H=b,j=b=0,Y=null,q=M.next();H!==null&&!q.done;j++,q=M.next()){H.index>j?(Y=H,H=null):Y=H.sibling;var X=_(C,H,q.value,U);if(X===null){H===null&&(H=Y);break}n&&H&&X.alternate===null&&e(C,H),b=s(X,b,j),$===null?B=X:$.sibling=X,$=X,H=Y}if(q.done)return t(C,H),hn&&qa(C,j),B;if(H===null){for(;!q.done;j++,q=M.next())q=y(C,q.value,U),q!==null&&(b=s(q,b,j),$===null?B=q:$.sibling=q,$=q);return hn&&qa(C,j),B}for(H=r(C,H);!q.done;j++,q=M.next())q=T(H,C,j,q.value,U),q!==null&&(n&&q.alternate!==null&&H.delete(q.key===null?j:q.key),b=s(q,b,j),$===null?B=q:$.sibling=q,$=q);return n&&H.forEach(function(ge){return e(C,ge)}),hn&&qa(C,j),B}function I(C,b,M,U){if(typeof M=="object"&&M!==null&&M.type===Eu&&M.key===null&&(M=M.props.children),typeof M=="object"&&M!==null){switch(M.$$typeof){case nd:e:{for(var B=M.key,$=b;$!==null;){if($.key===B){if(B=M.type,B===Eu){if($.tag===7){t(C,$.sibling),b=i($,M.props.children),b.return=C,C=b;break e}}else if($.elementType===B||typeof B=="object"&&B!==null&&B.$$typeof===Ql&&kE(B)===$.type){t(C,$.sibling),b=i($,M.props),b.ref=lf(C,$,M),b.return=C,C=b;break e}t(C,$);break}else e(C,$);$=$.sibling}M.type===Eu?(b=cA(M.props.children,C.mode,U,M.key),b.return=C,C=b):(U=tg(M.type,M.key,M.props,null,C.mode,U),U.ref=lf(C,b,M),U.return=C,C=U)}return o(C);case _u:e:{for($=M.key;b!==null;){if(b.key===$)if(b.tag===4&&b.stateNode.containerInfo===M.containerInfo&&b.stateNode.implementation===M.implementation){t(C,b.sibling),b=i(b,M.children||[]),b.return=C,C=b;break e}else{t(C,b);break}else e(C,b);b=b.sibling}b=P1(M,C.mode,U),b.return=C,C=b}return o(C);case Ql:return $=M._init,I(C,b,$(M._payload),U)}if(_f(M))return w(C,b,M,U);if(tf(M))return L(C,b,M,U);hd(C,M)}return typeof M=="string"&&M!==""||typeof M=="number"?(M=""+M,b!==null&&b.tag===6?(t(C,b.sibling),b=i(b,M),b.return=C,C=b):(t(C,b),b=b1(M,C.mode,U),b.return=C,C=b),o(C)):t(C,b)}return I}var s0=kL(!0),LL=kL(!1),Ig=_a(null),Dg=null,Iu=null,tx=null;function nx(){tx=Iu=Dg=null}function rx(n){var e=Ig.current;an(Ig),n._currentValue=e}function Zy(n,e,t){for(;n!==null;){var r=n.alternate;if((n.childLanes&e)!==e?(n.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),n===t)break;n=n.return}}function Qu(n,e){Dg=n,tx=Iu=null,n=n.dependencies,n!==null&&n.firstContext!==null&&(n.lanes&e&&(di=!0),n.firstContext=null)}function ks(n){var e=n._currentValue;if(tx!==n)if(n={context:n,memoizedValue:e,next:null},Iu===null){if(Dg===null)throw Error(be(308));Iu=n,Dg.dependencies={lanes:0,firstContext:n}}else Iu=Iu.next=n;return e}var iA=null;function ix(n){iA===null?iA=[n]:iA.push(n)}function RL(n,e,t,r){var i=e.interleaved;return i===null?(t.next=t,ix(e)):(t.next=i.next,i.next=t),e.interleaved=t,fl(n,r)}function fl(n,e){n.lanes|=e;var t=n.alternate;for(t!==null&&(t.lanes|=e),t=n,n=n.return;n!==null;)n.childLanes|=e,t=n.alternate,t!==null&&(t.childLanes|=e),t=n,n=n.return;return t.tag===3?t.stateNode:null}var Kl=!1;function sx(n){n.updateQueue={baseState:n.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CL(n,e){n=n.updateQueue,e.updateQueue===n&&(e.updateQueue={baseState:n.baseState,firstBaseUpdate:n.firstBaseUpdate,lastBaseUpdate:n.lastBaseUpdate,shared:n.shared,effects:n.effects})}function ol(n,e){return{eventTime:n,lane:e,tag:0,payload:null,callback:null,next:null}}function aa(n,e,t){var r=n.updateQueue;if(r===null)return null;if(r=r.shared,Ut&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,fl(n,t)}return i=r.interleaved,i===null?(e.next=e,ix(r)):(e.next=i.next,i.next=e),r.interleaved=e,fl(n,t)}function Yd(n,e,t){if(e=e.updateQueue,e!==null&&(e=e.shared,(t&4194240)!==0)){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,jv(n,t)}}function LE(n,e){var t=n.updateQueue,r=n.alternate;if(r!==null&&(r=r.updateQueue,t===r)){var i=null,s=null;if(t=t.firstBaseUpdate,t!==null){do{var o={eventTime:t.eventTime,lane:t.lane,tag:t.tag,payload:t.payload,callback:t.callback,next:null};s===null?i=s=o:s=s.next=o,t=t.next}while(t!==null);s===null?i=s=e:s=s.next=e}else i=s=e;t={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},n.updateQueue=t;return}n=t.lastBaseUpdate,n===null?t.firstBaseUpdate=e:n.next=e,t.lastBaseUpdate=e}function bg(n,e,t,r){var i=n.updateQueue;Kl=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,l=i.shared.pending;if(l!==null){i.shared.pending=null;var u=l,h=u.next;u.next=null,o===null?s=h:o.next=h,o=u;var m=n.alternate;m!==null&&(m=m.updateQueue,l=m.lastBaseUpdate,l!==o&&(l===null?m.firstBaseUpdate=h:l.next=h,m.lastBaseUpdate=u))}if(s!==null){var y=i.baseState;o=0,m=h=u=null,l=s;do{var _=l.lane,T=l.eventTime;if((r&_)===_){m!==null&&(m=m.next={eventTime:T,lane:0,tag:l.tag,payload:l.payload,callback:l.callback,next:null});e:{var w=n,L=l;switch(_=e,T=t,L.tag){case 1:if(w=L.payload,typeof w=="function"){y=w.call(T,y,_);break e}y=w;break e;case 3:w.flags=w.flags&-65537|128;case 0:if(w=L.payload,_=typeof w=="function"?w.call(T,y,_):w,_==null)break e;y=_n({},y,_);break e;case 2:Kl=!0}}l.callback!==null&&l.lane!==0&&(n.flags|=64,_=i.effects,_===null?i.effects=[l]:_.push(l))}else T={eventTime:T,lane:_,tag:l.tag,payload:l.payload,callback:l.callback,next:null},m===null?(h=m=T,u=y):m=m.next=T,o|=_;if(l=l.next,l===null){if(l=i.shared.pending,l===null)break;_=l,l=_.next,_.next=null,i.lastBaseUpdate=_,i.shared.pending=null}}while(!0);if(m===null&&(u=y),i.baseState=u,i.firstBaseUpdate=h,i.lastBaseUpdate=m,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);SA|=o,n.lanes=o,n.memoizedState=y}}function RE(n,e,t){if(n=e.effects,e.effects=null,n!==null)for(e=0;e<n.length;e++){var r=n[e],i=r.callback;if(i!==null){if(r.callback=null,r=t,typeof i!="function")throw Error(be(191,i));i.call(r)}}}var Nc={},Eo=_a(Nc),oc=_a(Nc),lc=_a(Nc);function sA(n){if(n===Nc)throw Error(be(174));return n}function ox(n,e){switch(sn(lc,e),sn(oc,n),sn(Eo,Nc),n=e.nodeType,n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:by(null,"");break;default:n=n===8?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=by(e,n)}an(Eo),sn(Eo,e)}function o0(){an(Eo),an(oc),an(lc)}function IL(n){sA(lc.current);var e=sA(Eo.current),t=by(e,n.type);e!==t&&(sn(oc,n),sn(Eo,t))}function lx(n){oc.current===n&&(an(Eo),an(oc))}var pn=_a(0);function Pg(n){for(var e=n;e!==null;){if(e.tag===13){var t=e.memoizedState;if(t!==null&&(t=t.dehydrated,t===null||t.data==="$?"||t.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var k1=[];function ax(){for(var n=0;n<k1.length;n++)k1[n]._workInProgressVersionPrimary=null;k1.length=0}var qd=vl.ReactCurrentDispatcher,L1=vl.ReactCurrentBatchConfig,EA=0,xn=null,Kn=null,nr=null,Mg=!1,Ff=!1,ac=0,Y4=0;function wr(){throw Error(be(321))}function Ax(n,e){if(e===null)return!1;for(var t=0;t<e.length&&t<n.length;t++)if(!Zs(n[t],e[t]))return!1;return!0}function ux(n,e,t,r,i,s){if(EA=s,xn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,qd.current=n===null||n.memoizedState===null?J4:eP,n=t(r,i),Ff){s=0;do{if(Ff=!1,ac=0,25<=s)throw Error(be(301));s+=1,nr=Kn=null,e.updateQueue=null,qd.current=tP,n=t(r,i)}while(Ff)}if(qd.current=Og,e=Kn!==null&&Kn.next!==null,EA=0,nr=Kn=xn=null,Mg=!1,e)throw Error(be(300));return n}function fx(){var n=ac!==0;return ac=0,n}function uo(){var n={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return nr===null?xn.memoizedState=nr=n:nr=nr.next=n,nr}function Ls(){if(Kn===null){var n=xn.alternate;n=n!==null?n.memoizedState:null}else n=Kn.next;var e=nr===null?xn.memoizedState:nr.next;if(e!==null)nr=e,Kn=n;else{if(n===null)throw Error(be(310));Kn=n,n={memoizedState:Kn.memoizedState,baseState:Kn.baseState,baseQueue:Kn.baseQueue,queue:Kn.queue,next:null},nr===null?xn.memoizedState=nr=n:nr=nr.next=n}return nr}function Ac(n,e){return typeof e=="function"?e(n):e}function R1(n){var e=Ls(),t=e.queue;if(t===null)throw Error(be(311));t.lastRenderedReducer=n;var r=Kn,i=r.baseQueue,s=t.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,t.pending=null}if(i!==null){s=i.next,r=r.baseState;var l=o=null,u=null,h=s;do{var m=h.lane;if((EA&m)===m)u!==null&&(u=u.next={lane:0,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null}),r=h.hasEagerState?h.eagerState:n(r,h.action);else{var y={lane:m,action:h.action,hasEagerState:h.hasEagerState,eagerState:h.eagerState,next:null};u===null?(l=u=y,o=r):u=u.next=y,xn.lanes|=m,SA|=m}h=h.next}while(h!==null&&h!==s);u===null?o=r:u.next=l,Zs(r,e.memoizedState)||(di=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=u,t.lastRenderedState=r}if(n=t.interleaved,n!==null){i=n;do s=i.lane,xn.lanes|=s,SA|=s,i=i.next;while(i!==n)}else i===null&&(t.lanes=0);return[e.memoizedState,t.dispatch]}function C1(n){var e=Ls(),t=e.queue;if(t===null)throw Error(be(311));t.lastRenderedReducer=n;var r=t.dispatch,i=t.pending,s=e.memoizedState;if(i!==null){t.pending=null;var o=i=i.next;do s=n(s,o.action),o=o.next;while(o!==i);Zs(s,e.memoizedState)||(di=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),t.lastRenderedState=s}return[s,r]}function DL(){}function bL(n,e){var t=xn,r=Ls(),i=e(),s=!Zs(r.memoizedState,i);if(s&&(r.memoizedState=i,di=!0),r=r.queue,cx(OL.bind(null,t,r,n),[n]),r.getSnapshot!==e||s||nr!==null&&nr.memoizedState.tag&1){if(t.flags|=2048,uc(9,ML.bind(null,t,r,i,e),void 0,null),or===null)throw Error(be(349));EA&30||PL(t,e,i)}return i}function PL(n,e,t){n.flags|=16384,n={getSnapshot:e,value:t},e=xn.updateQueue,e===null?(e={lastEffect:null,stores:null},xn.updateQueue=e,e.stores=[n]):(t=e.stores,t===null?e.stores=[n]:t.push(n))}function ML(n,e,t,r){e.value=t,e.getSnapshot=r,FL(e)&&NL(n)}function OL(n,e,t){return t(function(){FL(e)&&NL(n)})}function FL(n){var e=n.getSnapshot;n=n.value;try{var t=e();return!Zs(n,t)}catch{return!0}}function NL(n){var e=fl(n,1);e!==null&&Xs(e,n,1,-1)}function CE(n){var e=uo();return typeof n=="function"&&(n=n()),e.memoizedState=e.baseState=n,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ac,lastRenderedState:n},e.queue=n,n=n.dispatch=Z4.bind(null,xn,n),[e.memoizedState,n]}function uc(n,e,t,r){return n={tag:n,create:e,destroy:t,deps:r,next:null},e=xn.updateQueue,e===null?(e={lastEffect:null,stores:null},xn.updateQueue=e,e.lastEffect=n.next=n):(t=e.lastEffect,t===null?e.lastEffect=n.next=n:(r=t.next,t.next=n,n.next=r,e.lastEffect=n)),n}function BL(){return Ls().memoizedState}function Xd(n,e,t,r){var i=uo();xn.flags|=n,i.memoizedState=uc(1|e,t,void 0,r===void 0?null:r)}function Vp(n,e,t,r){var i=Ls();r=r===void 0?null:r;var s=void 0;if(Kn!==null){var o=Kn.memoizedState;if(s=o.destroy,r!==null&&Ax(r,o.deps)){i.memoizedState=uc(e,t,s,r);return}}xn.flags|=n,i.memoizedState=uc(1|e,t,s,r)}function IE(n,e){return Xd(8390656,8,n,e)}function cx(n,e){return Vp(2048,8,n,e)}function UL(n,e){return Vp(4,2,n,e)}function GL(n,e){return Vp(4,4,n,e)}function $L(n,e){if(typeof e=="function")return n=n(),e(n),function(){e(null)};if(e!=null)return n=n(),e.current=n,function(){e.current=null}}function zL(n,e,t){return t=t!=null?t.concat([n]):null,Vp(4,4,$L.bind(null,e,n),t)}function hx(){}function HL(n,e){var t=Ls();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Ax(e,r[1])?r[0]:(t.memoizedState=[n,e],n)}function jL(n,e){var t=Ls();e=e===void 0?null:e;var r=t.memoizedState;return r!==null&&e!==null&&Ax(e,r[1])?r[0]:(n=n(),t.memoizedState=[n,e],n)}function VL(n,e,t){return EA&21?(Zs(t,e)||(t=qk(),xn.lanes|=t,SA|=t,n.baseState=!0),e):(n.baseState&&(n.baseState=!1,di=!0),n.memoizedState=t)}function q4(n,e){var t=Wt;Wt=t!==0&&4>t?t:4,n(!0);var r=L1.transition;L1.transition={};try{n(!1),e()}finally{Wt=t,L1.transition=r}}function QL(){return Ls().memoizedState}function X4(n,e,t){var r=ua(n);if(t={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null},KL(n))WL(e,t);else if(t=RL(n,e,t,r),t!==null){var i=Jr();Xs(t,n,r,i),YL(t,e,r)}}function Z4(n,e,t){var r=ua(n),i={lane:r,action:t,hasEagerState:!1,eagerState:null,next:null};if(KL(n))WL(e,i);else{var s=n.alternate;if(n.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,l=s(o,t);if(i.hasEagerState=!0,i.eagerState=l,Zs(l,o)){var u=e.interleaved;u===null?(i.next=i,ix(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}t=RL(n,e,i,r),t!==null&&(i=Jr(),Xs(t,n,r,i),YL(t,e,r))}}function KL(n){var e=n.alternate;return n===xn||e!==null&&e===xn}function WL(n,e){Ff=Mg=!0;var t=n.pending;t===null?e.next=e:(e.next=t.next,t.next=e),n.pending=e}function YL(n,e,t){if(t&4194240){var r=e.lanes;r&=n.pendingLanes,t|=r,e.lanes=t,jv(n,t)}}var Og={readContext:ks,useCallback:wr,useContext:wr,useEffect:wr,useImperativeHandle:wr,useInsertionEffect:wr,useLayoutEffect:wr,useMemo:wr,useReducer:wr,useRef:wr,useState:wr,useDebugValue:wr,useDeferredValue:wr,useTransition:wr,useMutableSource:wr,useSyncExternalStore:wr,useId:wr,unstable_isNewReconciler:!1},J4={readContext:ks,useCallback:function(n,e){return uo().memoizedState=[n,e===void 0?null:e],n},useContext:ks,useEffect:IE,useImperativeHandle:function(n,e,t){return t=t!=null?t.concat([n]):null,Xd(4194308,4,$L.bind(null,e,n),t)},useLayoutEffect:function(n,e){return Xd(4194308,4,n,e)},useInsertionEffect:function(n,e){return Xd(4,2,n,e)},useMemo:function(n,e){var t=uo();return e=e===void 0?null:e,n=n(),t.memoizedState=[n,e],n},useReducer:function(n,e,t){var r=uo();return e=t!==void 0?t(e):e,r.memoizedState=r.baseState=e,n={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:n,lastRenderedState:e},r.queue=n,n=n.dispatch=X4.bind(null,xn,n),[r.memoizedState,n]},useRef:function(n){var e=uo();return n={current:n},e.memoizedState=n},useState:CE,useDebugValue:hx,useDeferredValue:function(n){return uo().memoizedState=n},useTransition:function(){var n=CE(!1),e=n[0];return n=q4.bind(null,n[1]),uo().memoizedState=n,[e,n]},useMutableSource:function(){},useSyncExternalStore:function(n,e,t){var r=xn,i=uo();if(hn){if(t===void 0)throw Error(be(407));t=t()}else{if(t=e(),or===null)throw Error(be(349));EA&30||PL(r,e,t)}i.memoizedState=t;var s={value:t,getSnapshot:e};return i.queue=s,IE(OL.bind(null,r,s,n),[n]),r.flags|=2048,uc(9,ML.bind(null,r,s,t,e),void 0,null),t},useId:function(){var n=uo(),e=or.identifierPrefix;if(hn){var t=sl,r=il;t=(r&~(1<<32-qs(r)-1)).toString(32)+t,e=":"+e+"R"+t,t=ac++,0<t&&(e+="H"+t.toString(32)),e+=":"}else t=Y4++,e=":"+e+"r"+t.toString(32)+":";return n.memoizedState=e},unstable_isNewReconciler:!1},eP={readContext:ks,useCallback:HL,useContext:ks,useEffect:cx,useImperativeHandle:zL,useInsertionEffect:UL,useLayoutEffect:GL,useMemo:jL,useReducer:R1,useRef:BL,useState:function(){return R1(Ac)},useDebugValue:hx,useDeferredValue:function(n){var e=Ls();return VL(e,Kn.memoizedState,n)},useTransition:function(){var n=R1(Ac)[0],e=Ls().memoizedState;return[n,e]},useMutableSource:DL,useSyncExternalStore:bL,useId:QL,unstable_isNewReconciler:!1},tP={readContext:ks,useCallback:HL,useContext:ks,useEffect:cx,useImperativeHandle:zL,useInsertionEffect:UL,useLayoutEffect:GL,useMemo:jL,useReducer:C1,useRef:BL,useState:function(){return C1(Ac)},useDebugValue:hx,useDeferredValue:function(n){var e=Ls();return Kn===null?e.memoizedState=n:VL(e,Kn.memoizedState,n)},useTransition:function(){var n=C1(Ac)[0],e=Ls().memoizedState;return[n,e]},useMutableSource:DL,useSyncExternalStore:bL,useId:QL,unstable_isNewReconciler:!1};function js(n,e){if(n&&n.defaultProps){e=_n({},e),n=n.defaultProps;for(var t in n)e[t]===void 0&&(e[t]=n[t]);return e}return e}function Jy(n,e,t,r){e=n.memoizedState,t=t(r,e),t=t==null?e:_n({},e,t),n.memoizedState=t,n.lanes===0&&(n.updateQueue.baseState=t)}var Qp={isMounted:function(n){return(n=n._reactInternals)?DA(n)===n:!1},enqueueSetState:function(n,e,t){n=n._reactInternals;var r=Jr(),i=ua(n),s=ol(r,i);s.payload=e,t!=null&&(s.callback=t),e=aa(n,s,i),e!==null&&(Xs(e,n,i,r),Yd(e,n,i))},enqueueReplaceState:function(n,e,t){n=n._reactInternals;var r=Jr(),i=ua(n),s=ol(r,i);s.tag=1,s.payload=e,t!=null&&(s.callback=t),e=aa(n,s,i),e!==null&&(Xs(e,n,i,r),Yd(e,n,i))},enqueueForceUpdate:function(n,e){n=n._reactInternals;var t=Jr(),r=ua(n),i=ol(t,r);i.tag=2,e!=null&&(i.callback=e),e=aa(n,i,r),e!==null&&(Xs(e,n,r,t),Yd(e,n,r))}};function DE(n,e,t,r,i,s,o){return n=n.stateNode,typeof n.shouldComponentUpdate=="function"?n.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!nc(t,r)||!nc(i,s):!0}function qL(n,e,t){var r=!1,i=ga,s=e.contextType;return typeof s=="object"&&s!==null?s=ks(s):(i=mi(e)?xA:Or.current,r=e.contextTypes,s=(r=r!=null)?r0(n,i):ga),e=new e(t,s),n.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Qp,n.stateNode=e,e._reactInternals=n,r&&(n=n.stateNode,n.__reactInternalMemoizedUnmaskedChildContext=i,n.__reactInternalMemoizedMaskedChildContext=s),e}function bE(n,e,t,r){n=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(t,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(t,r),e.state!==n&&Qp.enqueueReplaceState(e,e.state,null)}function e2(n,e,t,r){var i=n.stateNode;i.props=t,i.state=n.memoizedState,i.refs={},sx(n);var s=e.contextType;typeof s=="object"&&s!==null?i.context=ks(s):(s=mi(e)?xA:Or.current,i.context=r0(n,s)),i.state=n.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(Jy(n,e,s,t),i.state=n.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Qp.enqueueReplaceState(i,i.state,null),bg(n,t,i,r),i.state=n.memoizedState),typeof i.componentDidMount=="function"&&(n.flags|=4194308)}function l0(n,e){try{var t="",r=e;do t+=Cb(r),r=r.return;while(r);var i=t}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:n,source:e,stack:i,digest:null}}function I1(n,e,t){return{value:n,source:null,stack:t??null,digest:e??null}}function t2(n,e){try{console.error(e.value)}catch(t){setTimeout(function(){throw t})}}var nP=typeof WeakMap=="function"?WeakMap:Map;function XL(n,e,t){t=ol(-1,t),t.tag=3,t.payload={element:null};var r=e.value;return t.callback=function(){Ng||(Ng=!0,f2=r),t2(n,e)},t}function ZL(n,e,t){t=ol(-1,t),t.tag=3;var r=n.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;t.payload=function(){return r(i)},t.callback=function(){t2(n,e)}}var s=n.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(t.callback=function(){t2(n,e),typeof r!="function"&&(Aa===null?Aa=new Set([this]):Aa.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),t}function PE(n,e,t){var r=n.pingCache;if(r===null){r=n.pingCache=new nP;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(t)||(i.add(t),n=pP.bind(null,n,e,t),e.then(n,n))}function ME(n){do{var e;if((e=n.tag===13)&&(e=n.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return n;n=n.return}while(n!==null);return null}function OE(n,e,t,r,i){return n.mode&1?(n.flags|=65536,n.lanes=i,n):(n===e?n.flags|=65536:(n.flags|=128,t.flags|=131072,t.flags&=-52805,t.tag===1&&(t.alternate===null?t.tag=17:(e=ol(-1,1),e.tag=2,aa(t,e,1))),t.lanes|=1),n)}var rP=vl.ReactCurrentOwner,di=!1;function Kr(n,e,t,r){e.child=n===null?LL(e,null,t,r):s0(e,n.child,t,r)}function FE(n,e,t,r,i){t=t.render;var s=e.ref;return Qu(e,i),r=ux(n,e,t,r,s,i),t=fx(),n!==null&&!di?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,cl(n,e,i)):(hn&&t&&Zv(e),e.flags|=1,Kr(n,e,r,i),e.child)}function NE(n,e,t,r,i){if(n===null){var s=t.type;return typeof s=="function"&&!_x(s)&&s.defaultProps===void 0&&t.compare===null&&t.defaultProps===void 0?(e.tag=15,e.type=s,JL(n,e,s,r,i)):(n=tg(t.type,null,r,e,e.mode,i),n.ref=e.ref,n.return=e,e.child=n)}if(s=n.child,!(n.lanes&i)){var o=s.memoizedProps;if(t=t.compare,t=t!==null?t:nc,t(o,r)&&n.ref===e.ref)return cl(n,e,i)}return e.flags|=1,n=fa(s,r),n.ref=e.ref,n.return=e,e.child=n}function JL(n,e,t,r,i){if(n!==null){var s=n.memoizedProps;if(nc(s,r)&&n.ref===e.ref)if(di=!1,e.pendingProps=r=s,(n.lanes&i)!==0)n.flags&131072&&(di=!0);else return e.lanes=n.lanes,cl(n,e,i)}return n2(n,e,t,r,i)}function eR(n,e,t){var r=e.pendingProps,i=r.children,s=n!==null?n.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},sn(bu,Fi),Fi|=t;else{if(!(t&1073741824))return n=s!==null?s.baseLanes|t:t,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:n,cachePool:null,transitions:null},e.updateQueue=null,sn(bu,Fi),Fi|=n,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:t,sn(bu,Fi),Fi|=r}else s!==null?(r=s.baseLanes|t,e.memoizedState=null):r=t,sn(bu,Fi),Fi|=r;return Kr(n,e,i,t),e.child}function tR(n,e){var t=e.ref;(n===null&&t!==null||n!==null&&n.ref!==t)&&(e.flags|=512,e.flags|=2097152)}function n2(n,e,t,r,i){var s=mi(t)?xA:Or.current;return s=r0(e,s),Qu(e,i),t=ux(n,e,t,r,s,i),r=fx(),n!==null&&!di?(e.updateQueue=n.updateQueue,e.flags&=-2053,n.lanes&=~i,cl(n,e,i)):(hn&&r&&Zv(e),e.flags|=1,Kr(n,e,t,i),e.child)}function BE(n,e,t,r,i){if(mi(t)){var s=!0;Lg(e)}else s=!1;if(Qu(e,i),e.stateNode===null)Zd(n,e),qL(e,t,r),e2(e,t,r,i),r=!0;else if(n===null){var o=e.stateNode,l=e.memoizedProps;o.props=l;var u=o.context,h=t.contextType;typeof h=="object"&&h!==null?h=ks(h):(h=mi(t)?xA:Or.current,h=r0(e,h));var m=t.getDerivedStateFromProps,y=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function";y||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==r||u!==h)&&bE(e,o,r,h),Kl=!1;var _=e.memoizedState;o.state=_,bg(e,r,o,i),u=e.memoizedState,l!==r||_!==u||pi.current||Kl?(typeof m=="function"&&(Jy(e,t,m,r),u=e.memoizedState),(l=Kl||DE(e,t,l,r,_,u,h))?(y||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=u),o.props=r,o.state=u,o.context=h,r=l):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CL(n,e),l=e.memoizedProps,h=e.type===e.elementType?l:js(e.type,l),o.props=h,y=e.pendingProps,_=o.context,u=t.contextType,typeof u=="object"&&u!==null?u=ks(u):(u=mi(t)?xA:Or.current,u=r0(e,u));var T=t.getDerivedStateFromProps;(m=typeof T=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(l!==y||_!==u)&&bE(e,o,r,u),Kl=!1,_=e.memoizedState,o.state=_,bg(e,r,o,i);var w=e.memoizedState;l!==y||_!==w||pi.current||Kl?(typeof T=="function"&&(Jy(e,t,T,r),w=e.memoizedState),(h=Kl||DE(e,t,h,r,_,w,u)||!1)?(m||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,w,u),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,w,u)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&_===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&_===n.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=w),o.props=r,o.state=w,o.context=u,r=h):(typeof o.componentDidUpdate!="function"||l===n.memoizedProps&&_===n.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||l===n.memoizedProps&&_===n.memoizedState||(e.flags|=1024),r=!1)}return r2(n,e,t,r,s,i)}function r2(n,e,t,r,i,s){tR(n,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&SE(e,t,!1),cl(n,e,s);r=e.stateNode,rP.current=e;var l=o&&typeof t.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,n!==null&&o?(e.child=s0(e,n.child,null,s),e.child=s0(e,null,l,s)):Kr(n,e,l,s),e.memoizedState=r.state,i&&SE(e,t,!0),e.child}function nR(n){var e=n.stateNode;e.pendingContext?EE(n,e.pendingContext,e.pendingContext!==e.context):e.context&&EE(n,e.context,!1),ox(n,e.containerInfo)}function UE(n,e,t,r,i){return i0(),ex(i),e.flags|=256,Kr(n,e,t,r),e.child}var i2={dehydrated:null,treeContext:null,retryLane:0};function s2(n){return{baseLanes:n,cachePool:null,transitions:null}}function rR(n,e,t){var r=e.pendingProps,i=pn.current,s=!1,o=(e.flags&128)!==0,l;if((l=o)||(l=n!==null&&n.memoizedState===null?!1:(i&2)!==0),l?(s=!0,e.flags&=-129):(n===null||n.memoizedState!==null)&&(i|=1),sn(pn,i&1),n===null)return Xy(e),n=e.memoizedState,n!==null&&(n=n.dehydrated,n!==null)?(e.mode&1?n.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,n=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=Yp(o,r,0,null),n=cA(n,r,t,null),s.return=e,n.return=e,s.sibling=n,e.child=s,e.child.memoizedState=s2(t),e.memoizedState=i2,n):dx(e,o));if(i=n.memoizedState,i!==null&&(l=i.dehydrated,l!==null))return iP(n,e,o,r,l,i,t);if(s){s=r.fallback,o=e.mode,i=n.child,l=i.sibling;var u={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=u,e.deletions=null):(r=fa(i,u),r.subtreeFlags=i.subtreeFlags&14680064),l!==null?s=fa(l,s):(s=cA(s,o,t,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=n.child.memoizedState,o=o===null?s2(t):{baseLanes:o.baseLanes|t,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=n.childLanes&~t,e.memoizedState=i2,r}return s=n.child,n=s.sibling,r=fa(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=t),r.return=e,r.sibling=null,n!==null&&(t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)),e.child=r,e.memoizedState=null,r}function dx(n,e){return e=Yp({mode:"visible",children:e},n.mode,0,null),e.return=n,n.child=e}function dd(n,e,t,r){return r!==null&&ex(r),s0(e,n.child,null,t),n=dx(e,e.pendingProps.children),n.flags|=2,e.memoizedState=null,n}function iP(n,e,t,r,i,s,o){if(t)return e.flags&256?(e.flags&=-257,r=I1(Error(be(422))),dd(n,e,o,r)):e.memoizedState!==null?(e.child=n.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=Yp({mode:"visible",children:r.children},i,0,null),s=cA(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&s0(e,n.child,null,o),e.child.memoizedState=s2(o),e.memoizedState=i2,s);if(!(e.mode&1))return dd(n,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var l=r.dgst;return r=l,s=Error(be(419)),r=I1(s,r,void 0),dd(n,e,o,r)}if(l=(o&n.childLanes)!==0,di||l){if(r=or,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fl(n,i),Xs(r,n,i,-1))}return xx(),r=I1(Error(be(421))),dd(n,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=n.child,e=mP.bind(null,n),i._reactRetry=e,null):(n=s.treeContext,zi=la(i.nextSibling),ji=e,hn=!0,Qs=null,n!==null&&(ys[vs++]=il,ys[vs++]=sl,ys[vs++]=_A,il=n.id,sl=n.overflow,_A=e),e=dx(e,r.children),e.flags|=4096,e)}function GE(n,e,t){n.lanes|=e;var r=n.alternate;r!==null&&(r.lanes|=e),Zy(n.return,e,t)}function D1(n,e,t,r,i){var s=n.memoizedState;s===null?n.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:t,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=t,s.tailMode=i)}function iR(n,e,t){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Kr(n,e,r.children,t),r=pn.current,r&2)r=r&1|2,e.flags|=128;else{if(n!==null&&n.flags&128)e:for(n=e.child;n!==null;){if(n.tag===13)n.memoizedState!==null&&GE(n,t,e);else if(n.tag===19)GE(n,t,e);else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break e;for(;n.sibling===null;){if(n.return===null||n.return===e)break e;n=n.return}n.sibling.return=n.return,n=n.sibling}r&=1}if(sn(pn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(t=e.child,i=null;t!==null;)n=t.alternate,n!==null&&Pg(n)===null&&(i=t),t=t.sibling;t=i,t===null?(i=e.child,e.child=null):(i=t.sibling,t.sibling=null),D1(e,!1,i,t,s);break;case"backwards":for(t=null,i=e.child,e.child=null;i!==null;){if(n=i.alternate,n!==null&&Pg(n)===null){e.child=i;break}n=i.sibling,i.sibling=t,t=i,i=n}D1(e,!0,t,null,s);break;case"together":D1(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Zd(n,e){!(e.mode&1)&&n!==null&&(n.alternate=null,e.alternate=null,e.flags|=2)}function cl(n,e,t){if(n!==null&&(e.dependencies=n.dependencies),SA|=e.lanes,!(t&e.childLanes))return null;if(n!==null&&e.child!==n.child)throw Error(be(153));if(e.child!==null){for(n=e.child,t=fa(n,n.pendingProps),e.child=t,t.return=e;n.sibling!==null;)n=n.sibling,t=t.sibling=fa(n,n.pendingProps),t.return=e;t.sibling=null}return e.child}function sP(n,e,t){switch(e.tag){case 3:nR(e),i0();break;case 5:IL(e);break;case 1:mi(e.type)&&Lg(e);break;case 4:ox(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;sn(Ig,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(sn(pn,pn.current&1),e.flags|=128,null):t&e.child.childLanes?rR(n,e,t):(sn(pn,pn.current&1),n=cl(n,e,t),n!==null?n.sibling:null);sn(pn,pn.current&1);break;case 19:if(r=(t&e.childLanes)!==0,n.flags&128){if(r)return iR(n,e,t);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),sn(pn,pn.current),r)break;return null;case 22:case 23:return e.lanes=0,eR(n,e,t)}return cl(n,e,t)}var sR,o2,oR,lR;sR=function(n,e){for(var t=e.child;t!==null;){if(t.tag===5||t.tag===6)n.appendChild(t.stateNode);else if(t.tag!==4&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return;t=t.return}t.sibling.return=t.return,t=t.sibling}};o2=function(){};oR=function(n,e,t,r){var i=n.memoizedProps;if(i!==r){n=e.stateNode,sA(Eo.current);var s=null;switch(t){case"input":i=Ry(n,i),r=Ry(n,r),s=[];break;case"select":i=_n({},i,{value:void 0}),r=_n({},r,{value:void 0}),s=[];break;case"textarea":i=Dy(n,i),r=Dy(n,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(n.onclick=wg)}Py(t,r);var o;t=null;for(h in i)if(!r.hasOwnProperty(h)&&i.hasOwnProperty(h)&&i[h]!=null)if(h==="style"){var l=i[h];for(o in l)l.hasOwnProperty(o)&&(t||(t={}),t[o]="")}else h!=="dangerouslySetInnerHTML"&&h!=="children"&&h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&h!=="autoFocus"&&(Yf.hasOwnProperty(h)?s||(s=[]):(s=s||[]).push(h,null));for(h in r){var u=r[h];if(l=i!=null?i[h]:void 0,r.hasOwnProperty(h)&&u!==l&&(u!=null||l!=null))if(h==="style")if(l){for(o in l)!l.hasOwnProperty(o)||u&&u.hasOwnProperty(o)||(t||(t={}),t[o]="");for(o in u)u.hasOwnProperty(o)&&l[o]!==u[o]&&(t||(t={}),t[o]=u[o])}else t||(s||(s=[]),s.push(h,t)),t=u;else h==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,l=l?l.__html:void 0,u!=null&&l!==u&&(s=s||[]).push(h,u)):h==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(h,""+u):h!=="suppressContentEditableWarning"&&h!=="suppressHydrationWarning"&&(Yf.hasOwnProperty(h)?(u!=null&&h==="onScroll"&&ln("scroll",n),s||l===u||(s=[])):(s=s||[]).push(h,u))}t&&(s=s||[]).push("style",t);var h=s;(e.updateQueue=h)&&(e.flags|=4)}};lR=function(n,e,t,r){t!==r&&(e.flags|=4)};function af(n,e){if(!hn)switch(n.tailMode){case"hidden":e=n.tail;for(var t=null;e!==null;)e.alternate!==null&&(t=e),e=e.sibling;t===null?n.tail=null:t.sibling=null;break;case"collapsed":t=n.tail;for(var r=null;t!==null;)t.alternate!==null&&(r=t),t=t.sibling;r===null?e||n.tail===null?n.tail=null:n.tail.sibling=null:r.sibling=null}}function kr(n){var e=n.alternate!==null&&n.alternate.child===n.child,t=0,r=0;if(e)for(var i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=n,i=i.sibling;else for(i=n.child;i!==null;)t|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=n,i=i.sibling;return n.subtreeFlags|=r,n.childLanes=t,e}function oP(n,e,t){var r=e.pendingProps;switch(Jv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return kr(e),null;case 1:return mi(e.type)&&kg(),kr(e),null;case 3:return r=e.stateNode,o0(),an(pi),an(Or),ax(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(n===null||n.child===null)&&(cd(e)?e.flags|=4:n===null||n.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Qs!==null&&(d2(Qs),Qs=null))),o2(n,e),kr(e),null;case 5:lx(e);var i=sA(lc.current);if(t=e.type,n!==null&&e.stateNode!=null)oR(n,e,t,r,i),n.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(be(166));return kr(e),null}if(n=sA(Eo.current),cd(e)){r=e.stateNode,t=e.type;var s=e.memoizedProps;switch(r[go]=e,r[sc]=s,n=(e.mode&1)!==0,t){case"dialog":ln("cancel",r),ln("close",r);break;case"iframe":case"object":case"embed":ln("load",r);break;case"video":case"audio":for(i=0;i<Sf.length;i++)ln(Sf[i],r);break;case"source":ln("error",r);break;case"img":case"image":case"link":ln("error",r),ln("load",r);break;case"details":ln("toggle",r);break;case"input":Y_(r,s),ln("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},ln("invalid",r);break;case"textarea":X_(r,s),ln("invalid",r)}Py(t,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var l=s[o];o==="children"?typeof l=="string"?r.textContent!==l&&(s.suppressHydrationWarning!==!0&&fd(r.textContent,l,n),i=["children",l]):typeof l=="number"&&r.textContent!==""+l&&(s.suppressHydrationWarning!==!0&&fd(r.textContent,l,n),i=["children",""+l]):Yf.hasOwnProperty(o)&&l!=null&&o==="onScroll"&&ln("scroll",r)}switch(t){case"input":rd(r),q_(r,s,!0);break;case"textarea":rd(r),Z_(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=wg)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,n==="http://www.w3.org/1999/xhtml"&&(n=Ok(t)),n==="http://www.w3.org/1999/xhtml"?t==="script"?(n=o.createElement("div"),n.innerHTML="<script><\/script>",n=n.removeChild(n.firstChild)):typeof r.is=="string"?n=o.createElement(t,{is:r.is}):(n=o.createElement(t),t==="select"&&(o=n,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):n=o.createElementNS(n,t),n[go]=e,n[sc]=r,sR(n,e,!1,!1),e.stateNode=n;e:{switch(o=My(t,r),t){case"dialog":ln("cancel",n),ln("close",n),i=r;break;case"iframe":case"object":case"embed":ln("load",n),i=r;break;case"video":case"audio":for(i=0;i<Sf.length;i++)ln(Sf[i],n);i=r;break;case"source":ln("error",n),i=r;break;case"img":case"image":case"link":ln("error",n),ln("load",n),i=r;break;case"details":ln("toggle",n),i=r;break;case"input":Y_(n,r),i=Ry(n,r),ln("invalid",n);break;case"option":i=r;break;case"select":n._wrapperState={wasMultiple:!!r.multiple},i=_n({},r,{value:void 0}),ln("invalid",n);break;case"textarea":X_(n,r),i=Dy(n,r),ln("invalid",n);break;default:i=r}Py(t,i),l=i;for(s in l)if(l.hasOwnProperty(s)){var u=l[s];s==="style"?Bk(n,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Fk(n,u)):s==="children"?typeof u=="string"?(t!=="textarea"||u!=="")&&qf(n,u):typeof u=="number"&&qf(n,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Yf.hasOwnProperty(s)?u!=null&&s==="onScroll"&&ln("scroll",n):u!=null&&Bv(n,s,u,o))}switch(t){case"input":rd(n),q_(n,r,!1);break;case"textarea":rd(n),Z_(n);break;case"option":r.value!=null&&n.setAttribute("value",""+da(r.value));break;case"select":n.multiple=!!r.multiple,s=r.value,s!=null?zu(n,!!r.multiple,s,!1):r.defaultValue!=null&&zu(n,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(n.onclick=wg)}switch(t){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return kr(e),null;case 6:if(n&&e.stateNode!=null)lR(n,e,n.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(be(166));if(t=sA(lc.current),sA(Eo.current),cd(e)){if(r=e.stateNode,t=e.memoizedProps,r[go]=e,(s=r.nodeValue!==t)&&(n=ji,n!==null))switch(n.tag){case 3:fd(r.nodeValue,t,(n.mode&1)!==0);break;case 5:n.memoizedProps.suppressHydrationWarning!==!0&&fd(r.nodeValue,t,(n.mode&1)!==0)}s&&(e.flags|=4)}else r=(t.nodeType===9?t:t.ownerDocument).createTextNode(r),r[go]=e,e.stateNode=r}return kr(e),null;case 13:if(an(pn),r=e.memoizedState,n===null||n.memoizedState!==null&&n.memoizedState.dehydrated!==null){if(hn&&zi!==null&&e.mode&1&&!(e.flags&128))wL(),i0(),e.flags|=98560,s=!1;else if(s=cd(e),r!==null&&r.dehydrated!==null){if(n===null){if(!s)throw Error(be(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(be(317));s[go]=e}else i0(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;kr(e),s=!1}else Qs!==null&&(d2(Qs),Qs=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=t,e):(r=r!==null,r!==(n!==null&&n.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(n===null||pn.current&1?Wn===0&&(Wn=3):xx())),e.updateQueue!==null&&(e.flags|=4),kr(e),null);case 4:return o0(),o2(n,e),n===null&&rc(e.stateNode.containerInfo),kr(e),null;case 10:return rx(e.type._context),kr(e),null;case 17:return mi(e.type)&&kg(),kr(e),null;case 19:if(an(pn),s=e.memoizedState,s===null)return kr(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)af(s,!1);else{if(Wn!==0||n!==null&&n.flags&128)for(n=e.child;n!==null;){if(o=Pg(n),o!==null){for(e.flags|=128,af(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=t,t=e.child;t!==null;)s=t,n=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=n,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,n=o.dependencies,s.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext}),t=t.sibling;return sn(pn,pn.current&1|2),e.child}n=n.sibling}s.tail!==null&&Pn()>a0&&(e.flags|=128,r=!0,af(s,!1),e.lanes=4194304)}else{if(!r)if(n=Pg(o),n!==null){if(e.flags|=128,r=!0,t=n.updateQueue,t!==null&&(e.updateQueue=t,e.flags|=4),af(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!hn)return kr(e),null}else 2*Pn()-s.renderingStartTime>a0&&t!==1073741824&&(e.flags|=128,r=!0,af(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(t=s.last,t!==null?t.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pn(),e.sibling=null,t=pn.current,sn(pn,r?t&1|2:t&1),e):(kr(e),null);case 22:case 23:return vx(),r=e.memoizedState!==null,n!==null&&n.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Fi&1073741824&&(kr(e),e.subtreeFlags&6&&(e.flags|=8192)):kr(e),null;case 24:return null;case 25:return null}throw Error(be(156,e.tag))}function lP(n,e){switch(Jv(e),e.tag){case 1:return mi(e.type)&&kg(),n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 3:return o0(),an(pi),an(Or),ax(),n=e.flags,n&65536&&!(n&128)?(e.flags=n&-65537|128,e):null;case 5:return lx(e),null;case 13:if(an(pn),n=e.memoizedState,n!==null&&n.dehydrated!==null){if(e.alternate===null)throw Error(be(340));i0()}return n=e.flags,n&65536?(e.flags=n&-65537|128,e):null;case 19:return an(pn),null;case 4:return o0(),null;case 10:return rx(e.type._context),null;case 22:case 23:return vx(),null;case 24:return null;default:return null}}var gd=!1,Ir=!1,aP=typeof WeakSet=="function"?WeakSet:Set,ze=null;function Du(n,e){var t=n.ref;if(t!==null)if(typeof t=="function")try{t(null)}catch(r){kn(n,e,r)}else t.current=null}function l2(n,e,t){try{t()}catch(r){kn(n,e,r)}}var $E=!1;function AP(n,e){if(jy=Eg,n=cL(),Xv(n)){if("selectionStart"in n)var t={start:n.selectionStart,end:n.selectionEnd};else e:{t=(t=n.ownerDocument)&&t.defaultView||window;var r=t.getSelection&&t.getSelection();if(r&&r.rangeCount!==0){t=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{t.nodeType,s.nodeType}catch{t=null;break e}var o=0,l=-1,u=-1,h=0,m=0,y=n,_=null;t:for(;;){for(var T;y!==t||i!==0&&y.nodeType!==3||(l=o+i),y!==s||r!==0&&y.nodeType!==3||(u=o+r),y.nodeType===3&&(o+=y.nodeValue.length),(T=y.firstChild)!==null;)_=y,y=T;for(;;){if(y===n)break t;if(_===t&&++h===i&&(l=o),_===s&&++m===r&&(u=o),(T=y.nextSibling)!==null)break;y=_,_=y.parentNode}y=T}t=l===-1||u===-1?null:{start:l,end:u}}else t=null}t=t||{start:0,end:0}}else t=null;for(Vy={focusedElem:n,selectionRange:t},Eg=!1,ze=e;ze!==null;)if(e=ze,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,ze=n;else for(;ze!==null;){e=ze;try{var w=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(w!==null){var L=w.memoizedProps,I=w.memoizedState,C=e.stateNode,b=C.getSnapshotBeforeUpdate(e.elementType===e.type?L:js(e.type,L),I);C.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var M=e.stateNode.containerInfo;M.nodeType===1?M.textContent="":M.nodeType===9&&M.documentElement&&M.removeChild(M.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(be(163))}}catch(U){kn(e,e.return,U)}if(n=e.sibling,n!==null){n.return=e.return,ze=n;break}ze=e.return}return w=$E,$E=!1,w}function Nf(n,e,t){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&n)===n){var s=i.destroy;i.destroy=void 0,s!==void 0&&l2(e,t,s)}i=i.next}while(i!==r)}}function Kp(n,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var t=e=e.next;do{if((t.tag&n)===n){var r=t.create;t.destroy=r()}t=t.next}while(t!==e)}}function a2(n){var e=n.ref;if(e!==null){var t=n.stateNode;switch(n.tag){case 5:n=t;break;default:n=t}typeof e=="function"?e(n):e.current=n}}function aR(n){var e=n.alternate;e!==null&&(n.alternate=null,aR(e)),n.child=null,n.deletions=null,n.sibling=null,n.tag===5&&(e=n.stateNode,e!==null&&(delete e[go],delete e[sc],delete e[Wy],delete e[V4],delete e[Q4])),n.stateNode=null,n.return=null,n.dependencies=null,n.memoizedProps=null,n.memoizedState=null,n.pendingProps=null,n.stateNode=null,n.updateQueue=null}function AR(n){return n.tag===5||n.tag===3||n.tag===4}function zE(n){e:for(;;){for(;n.sibling===null;){if(n.return===null||AR(n.return))return null;n=n.return}for(n.sibling.return=n.return,n=n.sibling;n.tag!==5&&n.tag!==6&&n.tag!==18;){if(n.flags&2||n.child===null||n.tag===4)continue e;n.child.return=n,n=n.child}if(!(n.flags&2))return n.stateNode}}function A2(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.nodeType===8?t.parentNode.insertBefore(n,e):t.insertBefore(n,e):(t.nodeType===8?(e=t.parentNode,e.insertBefore(n,t)):(e=t,e.appendChild(n)),t=t._reactRootContainer,t!=null||e.onclick!==null||(e.onclick=wg));else if(r!==4&&(n=n.child,n!==null))for(A2(n,e,t),n=n.sibling;n!==null;)A2(n,e,t),n=n.sibling}function u2(n,e,t){var r=n.tag;if(r===5||r===6)n=n.stateNode,e?t.insertBefore(n,e):t.appendChild(n);else if(r!==4&&(n=n.child,n!==null))for(u2(n,e,t),n=n.sibling;n!==null;)u2(n,e,t),n=n.sibling}var fr=null,Vs=!1;function Hl(n,e,t){for(t=t.child;t!==null;)uR(n,e,t),t=t.sibling}function uR(n,e,t){if(_o&&typeof _o.onCommitFiberUnmount=="function")try{_o.onCommitFiberUnmount(Up,t)}catch{}switch(t.tag){case 5:Ir||Du(t,e);case 6:var r=fr,i=Vs;fr=null,Hl(n,e,t),fr=r,Vs=i,fr!==null&&(Vs?(n=fr,t=t.stateNode,n.nodeType===8?n.parentNode.removeChild(t):n.removeChild(t)):fr.removeChild(t.stateNode));break;case 18:fr!==null&&(Vs?(n=fr,t=t.stateNode,n.nodeType===8?T1(n.parentNode,t):n.nodeType===1&&T1(n,t),ec(n)):T1(fr,t.stateNode));break;case 4:r=fr,i=Vs,fr=t.stateNode.containerInfo,Vs=!0,Hl(n,e,t),fr=r,Vs=i;break;case 0:case 11:case 14:case 15:if(!Ir&&(r=t.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&l2(t,e,o),i=i.next}while(i!==r)}Hl(n,e,t);break;case 1:if(!Ir&&(Du(t,e),r=t.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=t.memoizedProps,r.state=t.memoizedState,r.componentWillUnmount()}catch(l){kn(t,e,l)}Hl(n,e,t);break;case 21:Hl(n,e,t);break;case 22:t.mode&1?(Ir=(r=Ir)||t.memoizedState!==null,Hl(n,e,t),Ir=r):Hl(n,e,t);break;default:Hl(n,e,t)}}function HE(n){var e=n.updateQueue;if(e!==null){n.updateQueue=null;var t=n.stateNode;t===null&&(t=n.stateNode=new aP),e.forEach(function(r){var i=yP.bind(null,n,r);t.has(r)||(t.add(r),r.then(i,i))})}}function Gs(n,e){var t=e.deletions;if(t!==null)for(var r=0;r<t.length;r++){var i=t[r];try{var s=n,o=e,l=o;e:for(;l!==null;){switch(l.tag){case 5:fr=l.stateNode,Vs=!1;break e;case 3:fr=l.stateNode.containerInfo,Vs=!0;break e;case 4:fr=l.stateNode.containerInfo,Vs=!0;break e}l=l.return}if(fr===null)throw Error(be(160));uR(s,o,i),fr=null,Vs=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(h){kn(i,e,h)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)fR(e,n),e=e.sibling}function fR(n,e){var t=n.alternate,r=n.flags;switch(n.tag){case 0:case 11:case 14:case 15:if(Gs(e,n),ao(n),r&4){try{Nf(3,n,n.return),Kp(3,n)}catch(L){kn(n,n.return,L)}try{Nf(5,n,n.return)}catch(L){kn(n,n.return,L)}}break;case 1:Gs(e,n),ao(n),r&512&&t!==null&&Du(t,t.return);break;case 5:if(Gs(e,n),ao(n),r&512&&t!==null&&Du(t,t.return),n.flags&32){var i=n.stateNode;try{qf(i,"")}catch(L){kn(n,n.return,L)}}if(r&4&&(i=n.stateNode,i!=null)){var s=n.memoizedProps,o=t!==null?t.memoizedProps:s,l=n.type,u=n.updateQueue;if(n.updateQueue=null,u!==null)try{l==="input"&&s.type==="radio"&&s.name!=null&&Pk(i,s),My(l,o);var h=My(l,s);for(o=0;o<u.length;o+=2){var m=u[o],y=u[o+1];m==="style"?Bk(i,y):m==="dangerouslySetInnerHTML"?Fk(i,y):m==="children"?qf(i,y):Bv(i,m,y,h)}switch(l){case"input":Cy(i,s);break;case"textarea":Mk(i,s);break;case"select":var _=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var T=s.value;T!=null?zu(i,!!s.multiple,T,!1):_!==!!s.multiple&&(s.defaultValue!=null?zu(i,!!s.multiple,s.defaultValue,!0):zu(i,!!s.multiple,s.multiple?[]:"",!1))}i[sc]=s}catch(L){kn(n,n.return,L)}}break;case 6:if(Gs(e,n),ao(n),r&4){if(n.stateNode===null)throw Error(be(162));i=n.stateNode,s=n.memoizedProps;try{i.nodeValue=s}catch(L){kn(n,n.return,L)}}break;case 3:if(Gs(e,n),ao(n),r&4&&t!==null&&t.memoizedState.isDehydrated)try{ec(e.containerInfo)}catch(L){kn(n,n.return,L)}break;case 4:Gs(e,n),ao(n);break;case 13:Gs(e,n),ao(n),i=n.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(mx=Pn())),r&4&&HE(n);break;case 22:if(m=t!==null&&t.memoizedState!==null,n.mode&1?(Ir=(h=Ir)||m,Gs(e,n),Ir=h):Gs(e,n),ao(n),r&8192){if(h=n.memoizedState!==null,(n.stateNode.isHidden=h)&&!m&&n.mode&1)for(ze=n,m=n.child;m!==null;){for(y=ze=m;ze!==null;){switch(_=ze,T=_.child,_.tag){case 0:case 11:case 14:case 15:Nf(4,_,_.return);break;case 1:Du(_,_.return);var w=_.stateNode;if(typeof w.componentWillUnmount=="function"){r=_,t=_.return;try{e=r,w.props=e.memoizedProps,w.state=e.memoizedState,w.componentWillUnmount()}catch(L){kn(r,t,L)}}break;case 5:Du(_,_.return);break;case 22:if(_.memoizedState!==null){VE(y);continue}}T!==null?(T.return=_,ze=T):VE(y)}m=m.sibling}e:for(m=null,y=n;;){if(y.tag===5){if(m===null){m=y;try{i=y.stateNode,h?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(l=y.stateNode,u=y.memoizedProps.style,o=u!=null&&u.hasOwnProperty("display")?u.display:null,l.style.display=Nk("display",o))}catch(L){kn(n,n.return,L)}}}else if(y.tag===6){if(m===null)try{y.stateNode.nodeValue=h?"":y.memoizedProps}catch(L){kn(n,n.return,L)}}else if((y.tag!==22&&y.tag!==23||y.memoizedState===null||y===n)&&y.child!==null){y.child.return=y,y=y.child;continue}if(y===n)break e;for(;y.sibling===null;){if(y.return===null||y.return===n)break e;m===y&&(m=null),y=y.return}m===y&&(m=null),y.sibling.return=y.return,y=y.sibling}}break;case 19:Gs(e,n),ao(n),r&4&&HE(n);break;case 21:break;default:Gs(e,n),ao(n)}}function ao(n){var e=n.flags;if(e&2){try{e:{for(var t=n.return;t!==null;){if(AR(t)){var r=t;break e}t=t.return}throw Error(be(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(qf(i,""),r.flags&=-33);var s=zE(n);u2(n,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,l=zE(n);A2(n,l,o);break;default:throw Error(be(161))}}catch(u){kn(n,n.return,u)}n.flags&=-3}e&4096&&(n.flags&=-4097)}function uP(n,e,t){ze=n,cR(n)}function cR(n,e,t){for(var r=(n.mode&1)!==0;ze!==null;){var i=ze,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||gd;if(!o){var l=i.alternate,u=l!==null&&l.memoizedState!==null||Ir;l=gd;var h=Ir;if(gd=o,(Ir=u)&&!h)for(ze=i;ze!==null;)o=ze,u=o.child,o.tag===22&&o.memoizedState!==null?QE(i):u!==null?(u.return=o,ze=u):QE(i);for(;s!==null;)ze=s,cR(s),s=s.sibling;ze=i,gd=l,Ir=h}jE(n)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ze=s):jE(n)}}function jE(n){for(;ze!==null;){var e=ze;if(e.flags&8772){var t=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Ir||Kp(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Ir)if(t===null)r.componentDidMount();else{var i=e.elementType===e.type?t.memoizedProps:js(e.type,t.memoizedProps);r.componentDidUpdate(i,t.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&RE(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(t=null,e.child!==null)switch(e.child.tag){case 5:t=e.child.stateNode;break;case 1:t=e.child.stateNode}RE(e,o,t)}break;case 5:var l=e.stateNode;if(t===null&&e.flags&4){t=l;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&t.focus();break;case"img":u.src&&(t.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var h=e.alternate;if(h!==null){var m=h.memoizedState;if(m!==null){var y=m.dehydrated;y!==null&&ec(y)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(be(163))}Ir||e.flags&512&&a2(e)}catch(_){kn(e,e.return,_)}}if(e===n){ze=null;break}if(t=e.sibling,t!==null){t.return=e.return,ze=t;break}ze=e.return}}function VE(n){for(;ze!==null;){var e=ze;if(e===n){ze=null;break}var t=e.sibling;if(t!==null){t.return=e.return,ze=t;break}ze=e.return}}function QE(n){for(;ze!==null;){var e=ze;try{switch(e.tag){case 0:case 11:case 15:var t=e.return;try{Kp(4,e)}catch(u){kn(e,t,u)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(u){kn(e,i,u)}}var s=e.return;try{a2(e)}catch(u){kn(e,s,u)}break;case 5:var o=e.return;try{a2(e)}catch(u){kn(e,o,u)}}}catch(u){kn(e,e.return,u)}if(e===n){ze=null;break}var l=e.sibling;if(l!==null){l.return=e.return,ze=l;break}ze=e.return}}var fP=Math.ceil,Fg=vl.ReactCurrentDispatcher,gx=vl.ReactCurrentOwner,ws=vl.ReactCurrentBatchConfig,Ut=0,or=null,Un=null,hr=0,Fi=0,bu=_a(0),Wn=0,fc=null,SA=0,Wp=0,px=0,Bf=null,ci=null,mx=0,a0=1/0,qo=null,Ng=!1,f2=null,Aa=null,pd=!1,Jl=null,Bg=0,Uf=0,c2=null,Jd=-1,eg=0;function Jr(){return Ut&6?Pn():Jd!==-1?Jd:Jd=Pn()}function ua(n){return n.mode&1?Ut&2&&hr!==0?hr&-hr:W4.transition!==null?(eg===0&&(eg=qk()),eg):(n=Wt,n!==0||(n=window.event,n=n===void 0?16:rL(n.type)),n):1}function Xs(n,e,t,r){if(50<Uf)throw Uf=0,c2=null,Error(be(185));Mc(n,t,r),(!(Ut&2)||n!==or)&&(n===or&&(!(Ut&2)&&(Wp|=t),Wn===4&&Xl(n,hr)),yi(n,r),t===1&&Ut===0&&!(e.mode&1)&&(a0=Pn()+500,jp&&Ea()))}function yi(n,e){var t=n.callbackNode;Wb(n,e);var r=_g(n,n===or?hr:0);if(r===0)t!==null&&tE(t),n.callbackNode=null,n.callbackPriority=0;else if(e=r&-r,n.callbackPriority!==e){if(t!=null&&tE(t),e===1)n.tag===0?K4(KE.bind(null,n)):EL(KE.bind(null,n)),H4(function(){!(Ut&6)&&Ea()}),t=null;else{switch(Xk(r)){case 1:t=Hv;break;case 4:t=Wk;break;case 16:t=xg;break;case 536870912:t=Yk;break;default:t=xg}t=xR(t,hR.bind(null,n))}n.callbackPriority=e,n.callbackNode=t}}function hR(n,e){if(Jd=-1,eg=0,Ut&6)throw Error(be(327));var t=n.callbackNode;if(Ku()&&n.callbackNode!==t)return null;var r=_g(n,n===or?hr:0);if(r===0)return null;if(r&30||r&n.expiredLanes||e)e=Ug(n,r);else{e=r;var i=Ut;Ut|=2;var s=gR();(or!==n||hr!==e)&&(qo=null,a0=Pn()+500,fA(n,e));do try{dP();break}catch(l){dR(n,l)}while(!0);nx(),Fg.current=s,Ut=i,Un!==null?e=0:(or=null,hr=0,e=Wn)}if(e!==0){if(e===2&&(i=Uy(n),i!==0&&(r=i,e=h2(n,i))),e===1)throw t=fc,fA(n,0),Xl(n,r),yi(n,Pn()),t;if(e===6)Xl(n,r);else{if(i=n.current.alternate,!(r&30)&&!cP(i)&&(e=Ug(n,r),e===2&&(s=Uy(n),s!==0&&(r=s,e=h2(n,s))),e===1))throw t=fc,fA(n,0),Xl(n,r),yi(n,Pn()),t;switch(n.finishedWork=i,n.finishedLanes=r,e){case 0:case 1:throw Error(be(345));case 2:Xa(n,ci,qo);break;case 3:if(Xl(n,r),(r&130023424)===r&&(e=mx+500-Pn(),10<e)){if(_g(n,0)!==0)break;if(i=n.suspendedLanes,(i&r)!==r){Jr(),n.pingedLanes|=n.suspendedLanes&i;break}n.timeoutHandle=Ky(Xa.bind(null,n,ci,qo),e);break}Xa(n,ci,qo);break;case 4:if(Xl(n,r),(r&4194240)===r)break;for(e=n.eventTimes,i=-1;0<r;){var o=31-qs(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Pn()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*fP(r/1960))-r,10<r){n.timeoutHandle=Ky(Xa.bind(null,n,ci,qo),r);break}Xa(n,ci,qo);break;case 5:Xa(n,ci,qo);break;default:throw Error(be(329))}}}return yi(n,Pn()),n.callbackNode===t?hR.bind(null,n):null}function h2(n,e){var t=Bf;return n.current.memoizedState.isDehydrated&&(fA(n,e).flags|=256),n=Ug(n,e),n!==2&&(e=ci,ci=t,e!==null&&d2(e)),n}function d2(n){ci===null?ci=n:ci.push.apply(ci,n)}function cP(n){for(var e=n;;){if(e.flags&16384){var t=e.updateQueue;if(t!==null&&(t=t.stores,t!==null))for(var r=0;r<t.length;r++){var i=t[r],s=i.getSnapshot;i=i.value;try{if(!Zs(s(),i))return!1}catch{return!1}}}if(t=e.child,e.subtreeFlags&16384&&t!==null)t.return=e,e=t;else{if(e===n)break;for(;e.sibling===null;){if(e.return===null||e.return===n)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Xl(n,e){for(e&=~px,e&=~Wp,n.suspendedLanes|=e,n.pingedLanes&=~e,n=n.expirationTimes;0<e;){var t=31-qs(e),r=1<<t;n[t]=-1,e&=~r}}function KE(n){if(Ut&6)throw Error(be(327));Ku();var e=_g(n,0);if(!(e&1))return yi(n,Pn()),null;var t=Ug(n,e);if(n.tag!==0&&t===2){var r=Uy(n);r!==0&&(e=r,t=h2(n,r))}if(t===1)throw t=fc,fA(n,0),Xl(n,e),yi(n,Pn()),t;if(t===6)throw Error(be(345));return n.finishedWork=n.current.alternate,n.finishedLanes=e,Xa(n,ci,qo),yi(n,Pn()),null}function yx(n,e){var t=Ut;Ut|=1;try{return n(e)}finally{Ut=t,Ut===0&&(a0=Pn()+500,jp&&Ea())}}function TA(n){Jl!==null&&Jl.tag===0&&!(Ut&6)&&Ku();var e=Ut;Ut|=1;var t=ws.transition,r=Wt;try{if(ws.transition=null,Wt=1,n)return n()}finally{Wt=r,ws.transition=t,Ut=e,!(Ut&6)&&Ea()}}function vx(){Fi=bu.current,an(bu)}function fA(n,e){n.finishedWork=null,n.finishedLanes=0;var t=n.timeoutHandle;if(t!==-1&&(n.timeoutHandle=-1,z4(t)),Un!==null)for(t=Un.return;t!==null;){var r=t;switch(Jv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&kg();break;case 3:o0(),an(pi),an(Or),ax();break;case 5:lx(r);break;case 4:o0();break;case 13:an(pn);break;case 19:an(pn);break;case 10:rx(r.type._context);break;case 22:case 23:vx()}t=t.return}if(or=n,Un=n=fa(n.current,null),hr=Fi=e,Wn=0,fc=null,px=Wp=SA=0,ci=Bf=null,iA!==null){for(e=0;e<iA.length;e++)if(t=iA[e],r=t.interleaved,r!==null){t.interleaved=null;var i=r.next,s=t.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}t.pending=r}iA=null}return n}function dR(n,e){do{var t=Un;try{if(nx(),qd.current=Og,Mg){for(var r=xn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Mg=!1}if(EA=0,nr=Kn=xn=null,Ff=!1,ac=0,gx.current=null,t===null||t.return===null){Wn=1,fc=e,Un=null;break}e:{var s=n,o=t.return,l=t,u=e;if(e=hr,l.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var h=u,m=l,y=m.tag;if(!(m.mode&1)&&(y===0||y===11||y===15)){var _=m.alternate;_?(m.updateQueue=_.updateQueue,m.memoizedState=_.memoizedState,m.lanes=_.lanes):(m.updateQueue=null,m.memoizedState=null)}var T=ME(o);if(T!==null){T.flags&=-257,OE(T,o,l,s,e),T.mode&1&&PE(s,h,e),e=T,u=h;var w=e.updateQueue;if(w===null){var L=new Set;L.add(u),e.updateQueue=L}else w.add(u);break e}else{if(!(e&1)){PE(s,h,e),xx();break e}u=Error(be(426))}}else if(hn&&l.mode&1){var I=ME(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),OE(I,o,l,s,e),ex(l0(u,l));break e}}s=u=l0(u,l),Wn!==4&&(Wn=2),Bf===null?Bf=[s]:Bf.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var C=XL(s,u,e);LE(s,C);break e;case 1:l=u;var b=s.type,M=s.stateNode;if(!(s.flags&128)&&(typeof b.getDerivedStateFromError=="function"||M!==null&&typeof M.componentDidCatch=="function"&&(Aa===null||!Aa.has(M)))){s.flags|=65536,e&=-e,s.lanes|=e;var U=ZL(s,l,e);LE(s,U);break e}}s=s.return}while(s!==null)}mR(t)}catch(B){e=B,Un===t&&t!==null&&(Un=t=t.return);continue}break}while(!0)}function gR(){var n=Fg.current;return Fg.current=Og,n===null?Og:n}function xx(){(Wn===0||Wn===3||Wn===2)&&(Wn=4),or===null||!(SA&268435455)&&!(Wp&268435455)||Xl(or,hr)}function Ug(n,e){var t=Ut;Ut|=2;var r=gR();(or!==n||hr!==e)&&(qo=null,fA(n,e));do try{hP();break}catch(i){dR(n,i)}while(!0);if(nx(),Ut=t,Fg.current=r,Un!==null)throw Error(be(261));return or=null,hr=0,Wn}function hP(){for(;Un!==null;)pR(Un)}function dP(){for(;Un!==null&&!Ub();)pR(Un)}function pR(n){var e=vR(n.alternate,n,Fi);n.memoizedProps=n.pendingProps,e===null?mR(n):Un=e,gx.current=null}function mR(n){var e=n;do{var t=e.alternate;if(n=e.return,e.flags&32768){if(t=lP(t,e),t!==null){t.flags&=32767,Un=t;return}if(n!==null)n.flags|=32768,n.subtreeFlags=0,n.deletions=null;else{Wn=6,Un=null;return}}else if(t=oP(t,e,Fi),t!==null){Un=t;return}if(e=e.sibling,e!==null){Un=e;return}Un=e=n}while(e!==null);Wn===0&&(Wn=5)}function Xa(n,e,t){var r=Wt,i=ws.transition;try{ws.transition=null,Wt=1,gP(n,e,t,r)}finally{ws.transition=i,Wt=r}return null}function gP(n,e,t,r){do Ku();while(Jl!==null);if(Ut&6)throw Error(be(327));t=n.finishedWork;var i=n.finishedLanes;if(t===null)return null;if(n.finishedWork=null,n.finishedLanes=0,t===n.current)throw Error(be(177));n.callbackNode=null,n.callbackPriority=0;var s=t.lanes|t.childLanes;if(Yb(n,s),n===or&&(Un=or=null,hr=0),!(t.subtreeFlags&2064)&&!(t.flags&2064)||pd||(pd=!0,xR(xg,function(){return Ku(),null})),s=(t.flags&15990)!==0,t.subtreeFlags&15990||s){s=ws.transition,ws.transition=null;var o=Wt;Wt=1;var l=Ut;Ut|=4,gx.current=null,AP(n,t),fR(t,n),O4(Vy),Eg=!!jy,Vy=jy=null,n.current=t,uP(t),Gb(),Ut=l,Wt=o,ws.transition=s}else n.current=t;if(pd&&(pd=!1,Jl=n,Bg=i),s=n.pendingLanes,s===0&&(Aa=null),Hb(t.stateNode),yi(n,Pn()),e!==null)for(r=n.onRecoverableError,t=0;t<e.length;t++)i=e[t],r(i.value,{componentStack:i.stack,digest:i.digest});if(Ng)throw Ng=!1,n=f2,f2=null,n;return Bg&1&&n.tag!==0&&Ku(),s=n.pendingLanes,s&1?n===c2?Uf++:(Uf=0,c2=n):Uf=0,Ea(),null}function Ku(){if(Jl!==null){var n=Xk(Bg),e=ws.transition,t=Wt;try{if(ws.transition=null,Wt=16>n?16:n,Jl===null)var r=!1;else{if(n=Jl,Jl=null,Bg=0,Ut&6)throw Error(be(331));var i=Ut;for(Ut|=4,ze=n.current;ze!==null;){var s=ze,o=s.child;if(ze.flags&16){var l=s.deletions;if(l!==null){for(var u=0;u<l.length;u++){var h=l[u];for(ze=h;ze!==null;){var m=ze;switch(m.tag){case 0:case 11:case 15:Nf(8,m,s)}var y=m.child;if(y!==null)y.return=m,ze=y;else for(;ze!==null;){m=ze;var _=m.sibling,T=m.return;if(aR(m),m===h){ze=null;break}if(_!==null){_.return=T,ze=_;break}ze=T}}}var w=s.alternate;if(w!==null){var L=w.child;if(L!==null){w.child=null;do{var I=L.sibling;L.sibling=null,L=I}while(L!==null)}}ze=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ze=o;else e:for(;ze!==null;){if(s=ze,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nf(9,s,s.return)}var C=s.sibling;if(C!==null){C.return=s.return,ze=C;break e}ze=s.return}}var b=n.current;for(ze=b;ze!==null;){o=ze;var M=o.child;if(o.subtreeFlags&2064&&M!==null)M.return=o,ze=M;else e:for(o=b;ze!==null;){if(l=ze,l.flags&2048)try{switch(l.tag){case 0:case 11:case 15:Kp(9,l)}}catch(B){kn(l,l.return,B)}if(l===o){ze=null;break e}var U=l.sibling;if(U!==null){U.return=l.return,ze=U;break e}ze=l.return}}if(Ut=i,Ea(),_o&&typeof _o.onPostCommitFiberRoot=="function")try{_o.onPostCommitFiberRoot(Up,n)}catch{}r=!0}return r}finally{Wt=t,ws.transition=e}}return!1}function WE(n,e,t){e=l0(t,e),e=XL(n,e,1),n=aa(n,e,1),e=Jr(),n!==null&&(Mc(n,1,e),yi(n,e))}function kn(n,e,t){if(n.tag===3)WE(n,n,t);else for(;e!==null;){if(e.tag===3){WE(e,n,t);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Aa===null||!Aa.has(r))){n=l0(t,n),n=ZL(e,n,1),e=aa(e,n,1),n=Jr(),e!==null&&(Mc(e,1,n),yi(e,n));break}}e=e.return}}function pP(n,e,t){var r=n.pingCache;r!==null&&r.delete(e),e=Jr(),n.pingedLanes|=n.suspendedLanes&t,or===n&&(hr&t)===t&&(Wn===4||Wn===3&&(hr&130023424)===hr&&500>Pn()-mx?fA(n,0):px|=t),yi(n,e)}function yR(n,e){e===0&&(n.mode&1?(e=od,od<<=1,!(od&130023424)&&(od=4194304)):e=1);var t=Jr();n=fl(n,e),n!==null&&(Mc(n,e,t),yi(n,t))}function mP(n){var e=n.memoizedState,t=0;e!==null&&(t=e.retryLane),yR(n,t)}function yP(n,e){var t=0;switch(n.tag){case 13:var r=n.stateNode,i=n.memoizedState;i!==null&&(t=i.retryLane);break;case 19:r=n.stateNode;break;default:throw Error(be(314))}r!==null&&r.delete(e),yR(n,t)}var vR;vR=function(n,e,t){if(n!==null)if(n.memoizedProps!==e.pendingProps||pi.current)di=!0;else{if(!(n.lanes&t)&&!(e.flags&128))return di=!1,sP(n,e,t);di=!!(n.flags&131072)}else di=!1,hn&&e.flags&1048576&&SL(e,Cg,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Zd(n,e),n=e.pendingProps;var i=r0(e,Or.current);Qu(e,t),i=ux(null,e,r,n,i,t);var s=fx();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mi(r)?(s=!0,Lg(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,sx(e),i.updater=Qp,e.stateNode=i,i._reactInternals=e,e2(e,r,n,t),e=r2(null,e,r,!0,s,t)):(e.tag=0,hn&&s&&Zv(e),Kr(null,e,i,t),e=e.child),e;case 16:r=e.elementType;e:{switch(Zd(n,e),n=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=xP(r),n=js(r,n),i){case 0:e=n2(null,e,r,n,t);break e;case 1:e=BE(null,e,r,n,t);break e;case 11:e=FE(null,e,r,n,t);break e;case 14:e=NE(null,e,r,js(r.type,n),t);break e}throw Error(be(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:js(r,i),n2(n,e,r,i,t);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:js(r,i),BE(n,e,r,i,t);case 3:e:{if(nR(e),n===null)throw Error(be(387));r=e.pendingProps,s=e.memoizedState,i=s.element,CL(n,e),bg(e,r,null,t);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=l0(Error(be(423)),e),e=UE(n,e,r,t,i);break e}else if(r!==i){i=l0(Error(be(424)),e),e=UE(n,e,r,t,i);break e}else for(zi=la(e.stateNode.containerInfo.firstChild),ji=e,hn=!0,Qs=null,t=LL(e,null,r,t),e.child=t;t;)t.flags=t.flags&-3|4096,t=t.sibling;else{if(i0(),r===i){e=cl(n,e,t);break e}Kr(n,e,r,t)}e=e.child}return e;case 5:return IL(e),n===null&&Xy(e),r=e.type,i=e.pendingProps,s=n!==null?n.memoizedProps:null,o=i.children,Qy(r,i)?o=null:s!==null&&Qy(r,s)&&(e.flags|=32),tR(n,e),Kr(n,e,o,t),e.child;case 6:return n===null&&Xy(e),null;case 13:return rR(n,e,t);case 4:return ox(e,e.stateNode.containerInfo),r=e.pendingProps,n===null?e.child=s0(e,null,r,t):Kr(n,e,r,t),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:js(r,i),FE(n,e,r,i,t);case 7:return Kr(n,e,e.pendingProps,t),e.child;case 8:return Kr(n,e,e.pendingProps.children,t),e.child;case 12:return Kr(n,e,e.pendingProps.children,t),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,sn(Ig,r._currentValue),r._currentValue=o,s!==null)if(Zs(s.value,o)){if(s.children===i.children&&!pi.current){e=cl(n,e,t);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var l=s.dependencies;if(l!==null){o=s.child;for(var u=l.firstContext;u!==null;){if(u.context===r){if(s.tag===1){u=ol(-1,t&-t),u.tag=2;var h=s.updateQueue;if(h!==null){h=h.shared;var m=h.pending;m===null?u.next=u:(u.next=m.next,m.next=u),h.pending=u}}s.lanes|=t,u=s.alternate,u!==null&&(u.lanes|=t),Zy(s.return,t,e),l.lanes|=t;break}u=u.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(be(341));o.lanes|=t,l=o.alternate,l!==null&&(l.lanes|=t),Zy(o,t,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Kr(n,e,i.children,t),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Qu(e,t),i=ks(i),r=r(i),e.flags|=1,Kr(n,e,r,t),e.child;case 14:return r=e.type,i=js(r,e.pendingProps),i=js(r.type,i),NE(n,e,r,i,t);case 15:return JL(n,e,e.type,e.pendingProps,t);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:js(r,i),Zd(n,e),e.tag=1,mi(r)?(n=!0,Lg(e)):n=!1,Qu(e,t),qL(e,r,i),e2(e,r,i,t),r2(null,e,r,!0,n,t);case 19:return iR(n,e,t);case 22:return eR(n,e,t)}throw Error(be(156,e.tag))};function xR(n,e){return Kk(n,e)}function vP(n,e,t,r){this.tag=n,this.key=t,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _s(n,e,t,r){return new vP(n,e,t,r)}function _x(n){return n=n.prototype,!(!n||!n.isReactComponent)}function xP(n){if(typeof n=="function")return _x(n)?1:0;if(n!=null){if(n=n.$$typeof,n===Gv)return 11;if(n===$v)return 14}return 2}function fa(n,e){var t=n.alternate;return t===null?(t=_s(n.tag,e,n.key,n.mode),t.elementType=n.elementType,t.type=n.type,t.stateNode=n.stateNode,t.alternate=n,n.alternate=t):(t.pendingProps=e,t.type=n.type,t.flags=0,t.subtreeFlags=0,t.deletions=null),t.flags=n.flags&14680064,t.childLanes=n.childLanes,t.lanes=n.lanes,t.child=n.child,t.memoizedProps=n.memoizedProps,t.memoizedState=n.memoizedState,t.updateQueue=n.updateQueue,e=n.dependencies,t.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},t.sibling=n.sibling,t.index=n.index,t.ref=n.ref,t}function tg(n,e,t,r,i,s){var o=2;if(r=n,typeof n=="function")_x(n)&&(o=1);else if(typeof n=="string")o=5;else e:switch(n){case Eu:return cA(t.children,i,s,e);case Uv:o=8,i|=8;break;case Ty:return n=_s(12,t,e,i|2),n.elementType=Ty,n.lanes=s,n;case wy:return n=_s(13,t,e,i),n.elementType=wy,n.lanes=s,n;case ky:return n=_s(19,t,e,i),n.elementType=ky,n.lanes=s,n;case Ik:return Yp(t,i,s,e);default:if(typeof n=="object"&&n!==null)switch(n.$$typeof){case Rk:o=10;break e;case Ck:o=9;break e;case Gv:o=11;break e;case $v:o=14;break e;case Ql:o=16,r=null;break e}throw Error(be(130,n==null?n:typeof n,""))}return e=_s(o,t,e,i),e.elementType=n,e.type=r,e.lanes=s,e}function cA(n,e,t,r){return n=_s(7,n,r,e),n.lanes=t,n}function Yp(n,e,t,r){return n=_s(22,n,r,e),n.elementType=Ik,n.lanes=t,n.stateNode={isHidden:!1},n}function b1(n,e,t){return n=_s(6,n,null,e),n.lanes=t,n}function P1(n,e,t){return e=_s(4,n.children!==null?n.children:[],n.key,e),e.lanes=t,e.stateNode={containerInfo:n.containerInfo,pendingChildren:null,implementation:n.implementation},e}function _P(n,e,t,r,i){this.tag=e,this.containerInfo=n,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=h1(0),this.expirationTimes=h1(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=h1(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Ex(n,e,t,r,i,s,o,l,u){return n=new _P(n,e,t,l,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=_s(3,null,null,e),n.current=s,s.stateNode=n,s.memoizedState={element:r,isDehydrated:t,cache:null,transitions:null,pendingSuspenseBoundaries:null},sx(s),n}function EP(n,e,t){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_u,key:r==null?null:""+r,children:n,containerInfo:e,implementation:t}}function _R(n){if(!n)return ga;n=n._reactInternals;e:{if(DA(n)!==n||n.tag!==1)throw Error(be(170));var e=n;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mi(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(be(171))}if(n.tag===1){var t=n.type;if(mi(t))return _L(n,t,e)}return e}function ER(n,e,t,r,i,s,o,l,u){return n=Ex(t,r,!0,n,i,s,o,l,u),n.context=_R(null),t=n.current,r=Jr(),i=ua(t),s=ol(r,i),s.callback=e??null,aa(t,s,i),n.current.lanes=i,Mc(n,i,r),yi(n,r),n}function qp(n,e,t,r){var i=e.current,s=Jr(),o=ua(i);return t=_R(t),e.context===null?e.context=t:e.pendingContext=t,e=ol(s,o),e.payload={element:n},r=r===void 0?null:r,r!==null&&(e.callback=r),n=aa(i,e,o),n!==null&&(Xs(n,i,o,s),Yd(n,i,o)),o}function Gg(n){if(n=n.current,!n.child)return null;switch(n.child.tag){case 5:return n.child.stateNode;default:return n.child.stateNode}}function YE(n,e){if(n=n.memoizedState,n!==null&&n.dehydrated!==null){var t=n.retryLane;n.retryLane=t!==0&&t<e?t:e}}function Sx(n,e){YE(n,e),(n=n.alternate)&&YE(n,e)}function SP(){return null}var SR=typeof reportError=="function"?reportError:function(n){console.error(n)};function Tx(n){this._internalRoot=n}Xp.prototype.render=Tx.prototype.render=function(n){var e=this._internalRoot;if(e===null)throw Error(be(409));qp(n,e,null,null)};Xp.prototype.unmount=Tx.prototype.unmount=function(){var n=this._internalRoot;if(n!==null){this._internalRoot=null;var e=n.containerInfo;TA(function(){qp(null,n,null,null)}),e[ul]=null}};function Xp(n){this._internalRoot=n}Xp.prototype.unstable_scheduleHydration=function(n){if(n){var e=eL();n={blockedOn:null,target:n,priority:e};for(var t=0;t<ql.length&&e!==0&&e<ql[t].priority;t++);ql.splice(t,0,n),t===0&&nL(n)}};function wx(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11)}function Zp(n){return!(!n||n.nodeType!==1&&n.nodeType!==9&&n.nodeType!==11&&(n.nodeType!==8||n.nodeValue!==" react-mount-point-unstable "))}function qE(){}function TP(n,e,t,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var h=Gg(o);s.call(h)}}var o=ER(e,r,n,0,null,!1,!1,"",qE);return n._reactRootContainer=o,n[ul]=o.current,rc(n.nodeType===8?n.parentNode:n),TA(),o}for(;i=n.lastChild;)n.removeChild(i);if(typeof r=="function"){var l=r;r=function(){var h=Gg(u);l.call(h)}}var u=Ex(n,0,!1,null,null,!1,!1,"",qE);return n._reactRootContainer=u,n[ul]=u.current,rc(n.nodeType===8?n.parentNode:n),TA(function(){qp(e,u,t,r)}),u}function Jp(n,e,t,r,i){var s=t._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var l=i;i=function(){var u=Gg(o);l.call(u)}}qp(e,o,n,i)}else o=TP(t,e,n,i,r);return Gg(o)}Zk=function(n){switch(n.tag){case 3:var e=n.stateNode;if(e.current.memoizedState.isDehydrated){var t=Ef(e.pendingLanes);t!==0&&(jv(e,t|1),yi(e,Pn()),!(Ut&6)&&(a0=Pn()+500,Ea()))}break;case 13:TA(function(){var r=fl(n,1);if(r!==null){var i=Jr();Xs(r,n,1,i)}}),Sx(n,1)}};Vv=function(n){if(n.tag===13){var e=fl(n,134217728);if(e!==null){var t=Jr();Xs(e,n,134217728,t)}Sx(n,134217728)}};Jk=function(n){if(n.tag===13){var e=ua(n),t=fl(n,e);if(t!==null){var r=Jr();Xs(t,n,e,r)}Sx(n,e)}};eL=function(){return Wt};tL=function(n,e){var t=Wt;try{return Wt=n,e()}finally{Wt=t}};Fy=function(n,e,t){switch(e){case"input":if(Cy(n,t),e=t.name,t.type==="radio"&&e!=null){for(t=n;t.parentNode;)t=t.parentNode;for(t=t.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<t.length;e++){var r=t[e];if(r!==n&&r.form===n.form){var i=Hp(r);if(!i)throw Error(be(90));bk(r),Cy(r,i)}}}break;case"textarea":Mk(n,t);break;case"select":e=t.value,e!=null&&zu(n,!!t.multiple,e,!1)}};$k=yx;zk=TA;var wP={usingClientEntryPoint:!1,Events:[Fc,ku,Hp,Uk,Gk,yx]},Af={findFiberByHostInstance:rA,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},kP={bundleType:Af.bundleType,version:Af.version,rendererPackageName:Af.rendererPackageName,rendererConfig:Af.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:vl.ReactCurrentDispatcher,findHostInstanceByFiber:function(n){return n=Vk(n),n===null?null:n.stateNode},findFiberByHostInstance:Af.findFiberByHostInstance||SP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var md=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!md.isDisabled&&md.supportsFiber)try{Up=md.inject(kP),_o=md}catch{}}Yi.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wP;Yi.createPortal=function(n,e){var t=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!wx(e))throw Error(be(200));return EP(n,e,null,t)};Yi.createRoot=function(n,e){if(!wx(n))throw Error(be(299));var t=!1,r="",i=SR;return e!=null&&(e.unstable_strictMode===!0&&(t=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Ex(n,1,!1,null,null,t,!1,r,i),n[ul]=e.current,rc(n.nodeType===8?n.parentNode:n),new Tx(e)};Yi.findDOMNode=function(n){if(n==null)return null;if(n.nodeType===1)return n;var e=n._reactInternals;if(e===void 0)throw typeof n.render=="function"?Error(be(188)):(n=Object.keys(n).join(","),Error(be(268,n)));return n=Vk(e),n=n===null?null:n.stateNode,n};Yi.flushSync=function(n){return TA(n)};Yi.hydrate=function(n,e,t){if(!Zp(e))throw Error(be(200));return Jp(null,n,e,!0,t)};Yi.hydrateRoot=function(n,e,t){if(!wx(n))throw Error(be(405));var r=t!=null&&t.hydratedSources||null,i=!1,s="",o=SR;if(t!=null&&(t.unstable_strictMode===!0&&(i=!0),t.identifierPrefix!==void 0&&(s=t.identifierPrefix),t.onRecoverableError!==void 0&&(o=t.onRecoverableError)),e=ER(e,null,n,1,t??null,i,!1,s,o),n[ul]=e.current,rc(n),r)for(n=0;n<r.length;n++)t=r[n],i=t._getVersion,i=i(t._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[t,i]:e.mutableSourceEagerHydrationData.push(t,i);return new Xp(e)};Yi.render=function(n,e,t){if(!Zp(e))throw Error(be(200));return Jp(null,n,e,!1,t)};Yi.unmountComponentAtNode=function(n){if(!Zp(n))throw Error(be(40));return n._reactRootContainer?(TA(function(){Jp(null,null,n,!1,function(){n._reactRootContainer=null,n[ul]=null})}),!0):!1};Yi.unstable_batchedUpdates=yx;Yi.unstable_renderSubtreeIntoContainer=function(n,e,t,r){if(!Zp(t))throw Error(be(200));if(n==null||n._reactInternals===void 0)throw Error(be(38));return Jp(n,e,t,!1,r)};Yi.version="18.3.1-next-f1338f8080-20240426";function TR(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(TR)}catch(n){console.error(n)}}TR(),Tk.exports=Yi;var LP=Tk.exports,RP,XE=LP;RP=V_.createRoot=XE.createRoot,V_.hydrateRoot=XE.hydrateRoot;var wR={exports:{}},bA={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */bA.ConcurrentRoot=1;bA.ContinuousEventPriority=4;bA.DefaultEventPriority=16;bA.DiscreteEventPriority=1;bA.IdleEventPriority=536870912;bA.LegacyRoot=0;wR.exports=bA;var fz=wR.exports;function CP(n){let e;const t=new Set,r=(h,m)=>{const y=typeof h=="function"?h(e):h;if(y!==e){const _=e;e=m?y:Object.assign({},e,y),t.forEach(T=>T(e,_))}},i=()=>e,s=(h,m=i,y=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let _=m(e);function T(){const w=m(e);if(!y(_,w)){const L=_;h(_=w,L)}}return t.add(T),()=>t.delete(T)},u={setState:r,getState:i,subscribe:(h,m,y)=>m||y?s(h,m,y):(t.add(h),()=>t.delete(h)),destroy:()=>t.clear()};return e=n(r,i,u),u}const IP=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),ZE=IP?Qe.useEffect:Qe.useLayoutEffect;function cz(n){const e=typeof n=="function"?CP(n):n,t=(r=e.getState,i=Object.is)=>{const[,s]=Qe.useReducer(I=>I+1,0),o=e.getState(),l=Qe.useRef(o),u=Qe.useRef(r),h=Qe.useRef(i),m=Qe.useRef(!1),y=Qe.useRef();y.current===void 0&&(y.current=r(o));let _,T=!1;(l.current!==o||u.current!==r||h.current!==i||m.current)&&(_=r(o),T=!i(y.current,_)),ZE(()=>{T&&(y.current=_),l.current=o,u.current=r,h.current=i,m.current=!1});const w=Qe.useRef(o);ZE(()=>{const I=()=>{try{const b=e.getState(),M=u.current(b);h.current(y.current,M)||(l.current=b,y.current=M,s())}catch{m.current=!0,s()}},C=e.subscribe(I);return e.getState()!==w.current&&I(),C},[]);const L=T?_:y.current;return Qe.useDebugValue(L),L};return Object.assign(t,e),t[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[t,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},t}const DP=n=>typeof n=="object"&&typeof n.then=="function",oA=[];function kR(n,e,t=(r,i)=>r===i){if(n===e)return!0;if(!n||!e)return!1;const r=n.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!t(n[i],e[i]))return!1;return!0}function LR(n,e=null,t=!1,r={}){e===null&&(e=[n]);for(const s of oA)if(kR(e,s.keys,s.equal)){if(t)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!t)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=oA.indexOf(i);s!==-1&&oA.splice(s,1)},promise:(DP(n)?n:n(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(oA.push(i),!t)throw i.promise}const hz=(n,e,t)=>LR(n,e,!1,t),dz=(n,e,t)=>void LR(n,e,!0,t),gz=n=>{if(n===void 0||n.length===0)oA.splice(0,oA.length);else{const e=oA.find(t=>kR(n,t.keys,t.equal));e&&e.remove()}};var RR={exports:{}},M1={exports:{}},O1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var JE;function bP(){return JE||(JE=1,function(n){function e(re,se){var fe=re.length;re.push(se);e:for(;0<fe;){var Ie=fe-1>>>1,Ce=re[Ie];if(0<i(Ce,se))re[Ie]=se,re[fe]=Ce,fe=Ie;else break e}}function t(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var se=re[0],fe=re.pop();if(fe!==se){re[0]=fe;e:for(var Ie=0,Ce=re.length,We=Ce>>>1;Ie<We;){var Xe=2*(Ie+1)-1,At=re[Xe],Tt=Xe+1,qt=re[Tt];if(0>i(At,fe))Tt<Ce&&0>i(qt,At)?(re[Ie]=qt,re[Tt]=fe,Ie=Tt):(re[Ie]=At,re[Xe]=fe,Ie=Xe);else if(Tt<Ce&&0>i(qt,fe))re[Ie]=qt,re[Tt]=fe,Ie=Tt;else break e}}return se}function i(re,se){var fe=re.sortIndex-se.sortIndex;return fe!==0?fe:re.id-se.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;n.unstable_now=function(){return s.now()}}else{var o=Date,l=o.now();n.unstable_now=function(){return o.now()-l}}var u=[],h=[],m=1,y=null,_=3,T=!1,w=!1,L=!1,I=typeof setTimeout=="function"?setTimeout:null,C=typeof clearTimeout=="function"?clearTimeout:null,b=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function M(re){for(var se=t(h);se!==null;){if(se.callback===null)r(h);else if(se.startTime<=re)r(h),se.sortIndex=se.expirationTime,e(u,se);else break;se=t(h)}}function U(re){if(L=!1,M(re),!w)if(t(u)!==null)w=!0,ce(B);else{var se=t(h);se!==null&&ke(U,se.startTime-re)}}function B(re,se){w=!1,L&&(L=!1,C(j),j=-1),T=!0;var fe=_;try{for(M(se),y=t(u);y!==null&&(!(y.expirationTime>se)||re&&!X());){var Ie=y.callback;if(typeof Ie=="function"){y.callback=null,_=y.priorityLevel;var Ce=Ie(y.expirationTime<=se);se=n.unstable_now(),typeof Ce=="function"?y.callback=Ce:y===t(u)&&r(u),M(se)}else r(u);y=t(u)}if(y!==null)var We=!0;else{var Xe=t(h);Xe!==null&&ke(U,Xe.startTime-se),We=!1}return We}finally{y=null,_=fe,T=!1}}var $=!1,H=null,j=-1,Y=5,q=-1;function X(){return!(n.unstable_now()-q<Y)}function ge(){if(H!==null){var re=n.unstable_now();q=re;var se=!0;try{se=H(!0,re)}finally{se?ae():($=!1,H=null)}}else $=!1}var ae;if(typeof b=="function")ae=function(){b(ge)};else if(typeof MessageChannel<"u"){var xe=new MessageChannel,ie=xe.port2;xe.port1.onmessage=ge,ae=function(){ie.postMessage(null)}}else ae=function(){I(ge,0)};function ce(re){H=re,$||($=!0,ae())}function ke(re,se){j=I(function(){re(n.unstable_now())},se)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(re){re.callback=null},n.unstable_continueExecution=function(){w||T||(w=!0,ce(B))},n.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):Y=0<re?Math.floor(1e3/re):5},n.unstable_getCurrentPriorityLevel=function(){return _},n.unstable_getFirstCallbackNode=function(){return t(u)},n.unstable_next=function(re){switch(_){case 1:case 2:case 3:var se=3;break;default:se=_}var fe=_;_=se;try{return re()}finally{_=fe}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(re,se){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var fe=_;_=re;try{return se()}finally{_=fe}},n.unstable_scheduleCallback=function(re,se,fe){var Ie=n.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?Ie+fe:Ie):fe=Ie,re){case 1:var Ce=-1;break;case 2:Ce=250;break;case 5:Ce=1073741823;break;case 4:Ce=1e4;break;default:Ce=5e3}return Ce=fe+Ce,re={id:m++,callback:se,priorityLevel:re,startTime:fe,expirationTime:Ce,sortIndex:-1},fe>Ie?(re.sortIndex=fe,e(h,re),t(u)===null&&re===t(h)&&(L?(C(j),j=-1):L=!0,ke(U,fe-Ie))):(re.sortIndex=Ce,e(u,re),w||T||(w=!0,ce(B))),re},n.unstable_shouldYield=X,n.unstable_wrapCallback=function(re){var se=_;return function(){var fe=_;_=se;try{return re.apply(this,arguments)}finally{_=fe}}}}(O1)),O1}var eS;function PP(){return eS||(eS=1,M1.exports=bP()),M1.exports}/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var MP=function(e){var t={},r=Qe,i=PP(),s=Object.assign;function o(d){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+d,S=1;S<arguments.length;S++)g+="&args[]="+encodeURIComponent(arguments[S]);return"Minified React error #"+d+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var l=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),h=Symbol.for("react.portal"),m=Symbol.for("react.fragment"),y=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),T=Symbol.for("react.provider"),w=Symbol.for("react.context"),L=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),C=Symbol.for("react.suspense_list"),b=Symbol.for("react.memo"),M=Symbol.for("react.lazy"),U=Symbol.for("react.offscreen"),B=Symbol.iterator;function $(d){return d===null||typeof d!="object"?null:(d=B&&d[B]||d["@@iterator"],typeof d=="function"?d:null)}function H(d){if(d==null)return null;if(typeof d=="function")return d.displayName||d.name||null;if(typeof d=="string")return d;switch(d){case m:return"Fragment";case h:return"Portal";case _:return"Profiler";case y:return"StrictMode";case I:return"Suspense";case C:return"SuspenseList"}if(typeof d=="object")switch(d.$$typeof){case w:return(d.displayName||"Context")+".Consumer";case T:return(d._context.displayName||"Context")+".Provider";case L:var g=d.render;return d=d.displayName,d||(d=g.displayName||g.name||"",d=d!==""?"ForwardRef("+d+")":"ForwardRef"),d;case b:return g=d.displayName||null,g!==null?g:H(d.type)||"Memo";case M:g=d._payload,d=d._init;try{return H(d(g))}catch{}}return null}function j(d){var g=d.type;switch(d.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return d=g.render,d=d.displayName||d.name||"",g.displayName||(d!==""?"ForwardRef("+d+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return H(g);case 8:return g===y?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function Y(d){var g=d,S=d;if(d.alternate)for(;g.return;)g=g.return;else{d=g;do g=d,g.flags&4098&&(S=g.return),d=g.return;while(d)}return g.tag===3?S:null}function q(d){if(Y(d)!==d)throw Error(o(188))}function X(d){var g=d.alternate;if(!g){if(g=Y(d),g===null)throw Error(o(188));return g!==d?null:d}for(var S=d,R=g;;){var P=S.return;if(P===null)break;var N=P.alternate;if(N===null){if(R=P.return,R!==null){S=R;continue}break}if(P.child===N.child){for(N=P.child;N;){if(N===S)return q(P),d;if(N===R)return q(P),g;N=N.sibling}throw Error(o(188))}if(S.return!==R.return)S=P,R=N;else{for(var Z=!1,le=P.child;le;){if(le===S){Z=!0,S=P,R=N;break}if(le===R){Z=!0,R=P,S=N;break}le=le.sibling}if(!Z){for(le=N.child;le;){if(le===S){Z=!0,S=N,R=P;break}if(le===R){Z=!0,R=N,S=P;break}le=le.sibling}if(!Z)throw Error(o(189))}}if(S.alternate!==R)throw Error(o(190))}if(S.tag!==3)throw Error(o(188));return S.stateNode.current===S?d:g}function ge(d){return d=X(d),d!==null?ae(d):null}function ae(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){var g=ae(d);if(g!==null)return g;d=d.sibling}return null}function xe(d){if(d.tag===5||d.tag===6)return d;for(d=d.child;d!==null;){if(d.tag!==4){var g=xe(d);if(g!==null)return g}d=d.sibling}return null}var ie=Array.isArray,ce=e.getPublicInstance,ke=e.getRootHostContext,re=e.getChildHostContext,se=e.prepareForCommit,fe=e.resetAfterCommit,Ie=e.createInstance,Ce=e.appendInitialChild,We=e.finalizeInitialChildren,Xe=e.prepareUpdate,At=e.shouldSetTextContent,Tt=e.createTextInstance,qt=e.scheduleTimeout,Io=e.cancelTimeout,Do=e.noTimeout,MA=e.isPrimaryRenderer,Li=e.supportsMutation,OA=e.supportsPersistence,Br=e.supportsHydration,dm=e.getInstanceFromNode,gm=e.preparePortalMount,pm=e.getCurrentEventPriority,bo=e.detachDeletedInstance,ka=e.supportsMicrotasks,mm=e.scheduleMicrotask,La=e.supportsTestSelectors,Ds=e.findFiberRoot,R0=e.getBoundingRect,Vc=e.getTextContent,Zi=e.isHiddenSubtree,C0=e.matchAccessibilityRole,ym=e.setFocusIfFocusable,vm=e.setupIntersectionObserver,Qc=e.appendChild,Kc=e.appendChildToContainer,xm=e.commitTextUpdate,_m=e.commitMount,Wc=e.commitUpdate,Em=e.insertBefore,Sm=e.insertInContainerBefore,Tm=e.removeChild,Yc=e.removeChildFromContainer,qc=e.resetTextContent,wm=e.hideInstance,km=e.hideTextInstance,I0=e.unhideInstance,Lm=e.unhideTextInstance,Rm=e.clearContainer,De=e.cloneInstance,Xc=e.createContainerChildSet,D0=e.appendChildToContainerChildSet,Cm=e.finalizeContainerChildren,Zc=e.replaceContainerChildren,FA=e.cloneHiddenInstance,b0=e.cloneHiddenTextInstance,Jc=e.canHydrateInstance,eh=e.canHydrateTextInstance,NA=e.canHydrateSuspenseInstance,BA=e.isSuspenseInstancePending,bs=e.isSuspenseInstanceFallback,pe=e.registerSuspenseInstanceRetry,we=e.getNextHydratableSibling,Fe=e.getFirstHydratableChild,Je=e.getFirstHydratableChildWithinContainer,f=e.getFirstHydratableChildWithinSuspenseInstance,Q=e.hydrateInstance,It=e.hydrateTextInstance,Gt=e.hydrateSuspenseInstance,Mn=e.getNextHydratableInstanceAfterSuspenseInstance,yt=e.commitHydratedContainer,Dt=e.commitHydratedSuspenseInstance,Js=e.clearSuspenseBoundary,$t=e.clearSuspenseBoundaryFromContainer,pt=e.shouldDeleteUnhydratedTailInstances,ni=e.didNotMatchHydratedContainerTextInstance,UA=e.didNotMatchHydratedTextInstance,P0;function Po(d){if(P0===void 0)try{throw Error()}catch(S){var g=S.stack.trim().match(/\n( *(at )?)/);P0=g&&g[1]||""}return`
`+P0+d}var pr=!1;function eo(d,g){if(!d||pr)return"";pr=!0;var S=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Me){var R=Me}Reflect.construct(d,[],g)}else{try{g.call()}catch(Me){R=Me}d.call(g.prototype)}else{try{throw Error()}catch(Me){R=Me}d()}}catch(Me){if(Me&&R&&typeof Me.stack=="string"){for(var P=Me.stack.split(`
`),N=R.stack.split(`
`),Z=P.length-1,le=N.length-1;1<=Z&&0<=le&&P[Z]!==N[le];)le--;for(;1<=Z&&0<=le;Z--,le--)if(P[Z]!==N[le]){if(Z!==1||le!==1)do if(Z--,le--,0>le||P[Z]!==N[le]){var Te=`
`+P[Z].replace(" at new "," at ");return d.displayName&&Te.includes("<anonymous>")&&(Te=Te.replace("<anonymous>",d.displayName)),Te}while(1<=Z&&0<=le);break}}}finally{pr=!1,Error.prepareStackTrace=S}return(d=d?d.displayName||d.name:"")?Po(d):""}var Ji=Object.prototype.hasOwnProperty,Ra=[],xl=-1;function mr(d){return{current:d}}function $e(d){0>xl||(d.current=Ra[xl],Ra[xl]=null,xl--)}function W(d,g){xl++,Ra[xl]=d.current,d.current=g}var Ke={},$n=mr(Ke),yr=mr(!1),Mo=Ke;function _l(d,g){var S=d.type.contextTypes;if(!S)return Ke;var R=d.stateNode;if(R&&R.__reactInternalMemoizedUnmaskedChildContext===g)return R.__reactInternalMemoizedMaskedChildContext;var P={},N;for(N in S)P[N]=g[N];return R&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=g,d.__reactInternalMemoizedMaskedChildContext=P),P}function vr(d){return d=d.childContextTypes,d!=null}function V(){$e(yr),$e($n)}function th(d,g,S){if($n.current!==Ke)throw Error(o(168));W($n,g),W(yr,S)}function nh(d,g,S){var R=d.stateNode;if(g=g.childContextTypes,typeof R.getChildContext!="function")return S;R=R.getChildContext();for(var P in R)if(!(P in g))throw Error(o(108,j(d)||"Unknown",P));return s({},S,R)}function GA(d){return d=(d=d.stateNode)&&d.__reactInternalMemoizedMergedChildContext||Ke,Mo=$n.current,W($n,d),W(yr,yr.current),!0}function rh(d,g,S){var R=d.stateNode;if(!R)throw Error(o(169));S?(d=nh(d,g,Mo),R.__reactInternalMemoizedMergedChildContext=d,$e(yr),$e($n),W($n,d)):$e(yr),W(yr,S)}var Ri=Math.clz32?Math.clz32:sh,Im=Math.log,ih=Math.LN2;function sh(d){return d>>>=0,d===0?32:31-(Im(d)/ih|0)|0}var Ca=64,ri=4194304;function An(d){switch(d&-d){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return d&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return d}}function El(d,g){var S=d.pendingLanes;if(S===0)return 0;var R=0,P=d.suspendedLanes,N=d.pingedLanes,Z=S&268435455;if(Z!==0){var le=Z&~P;le!==0?R=An(le):(N&=Z,N!==0&&(R=An(N)))}else Z=S&~P,Z!==0?R=An(Z):N!==0&&(R=An(N));if(R===0)return 0;if(g!==0&&g!==R&&!(g&P)&&(P=R&-R,N=g&-g,P>=N||P===16&&(N&4194240)!==0))return g;if(R&4&&(R|=S&16),g=d.entangledLanes,g!==0)for(d=d.entanglements,g&=R;0<g;)S=31-Ri(g),P=1<<S,R|=d[S],g&=~P;return R}function Dm(d,g){switch(d){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function bm(d,g){for(var S=d.suspendedLanes,R=d.pingedLanes,P=d.expirationTimes,N=d.pendingLanes;0<N;){var Z=31-Ri(N),le=1<<Z,Te=P[Z];Te===-1?(!(le&S)||le&R)&&(P[Z]=Dm(le,g)):Te<=g&&(d.expiredLanes|=le),N&=~le}}function $A(d){return d=d.pendingLanes&-1073741825,d!==0?d:d&1073741824?1073741824:0}function M0(d){for(var g=[],S=0;31>S;S++)g.push(d);return g}function Ia(d,g,S){d.pendingLanes|=g,g!==536870912&&(d.suspendedLanes=0,d.pingedLanes=0),d=d.eventTimes,g=31-Ri(g),d[g]=S}function Pm(d,g){var S=d.pendingLanes&~g;d.pendingLanes=g,d.suspendedLanes=0,d.pingedLanes=0,d.expiredLanes&=g,d.mutableReadLanes&=g,d.entangledLanes&=g,g=d.entanglements;var R=d.eventTimes;for(d=d.expirationTimes;0<S;){var P=31-Ri(S),N=1<<P;g[P]=0,R[P]=-1,d[P]=-1,S&=~N}}function jt(d,g){var S=d.entangledLanes|=g;for(d=d.entanglements;S;){var R=31-Ri(S),P=1<<R;P&g|d[R]&g&&(d[R]|=g),S&=~P}}var bt=0;function O0(d){return d&=-d,1<d?4<d?d&268435455?16:536870912:4:1}var F0=i.unstable_scheduleCallback,oh=i.unstable_cancelCallback,Mm=i.unstable_shouldYield,lh=i.unstable_requestPaint,En=i.unstable_now,Da=i.unstable_ImmediatePriority,Om=i.unstable_UserBlockingPriority,N0=i.unstable_NormalPriority,ah=i.unstable_IdlePriority,ba=null,Ci=null;function Fm(d){if(Ci&&typeof Ci.onCommitFiberRoot=="function")try{Ci.onCommitFiberRoot(ba,d,void 0,(d.current.flags&128)===128)}catch{}}function Nm(d,g){return d===g&&(d!==0||1/d===1/g)||d!==d&&g!==g}var es=typeof Object.is=="function"?Object.is:Nm,en=null,ts=!1,zn=!1;function zA(d){en===null?en=[d]:en.push(d)}function Ah(d){ts=!0,zA(d)}function Ur(){if(!zn&&en!==null){zn=!0;var d=0,g=bt;try{var S=en;for(bt=1;d<S.length;d++){var R=S[d];do R=R(!0);while(R!==null)}en=null,ts=!1}catch(P){throw en!==null&&(en=en.slice(d+1)),F0(Da,Ur),P}finally{bt=g,zn=!1}}return null}var Bm=l.ReactCurrentBatchConfig;function HA(d,g){if(es(d,g))return!0;if(typeof d!="object"||d===null||typeof g!="object"||g===null)return!1;var S=Object.keys(d),R=Object.keys(g);if(S.length!==R.length)return!1;for(R=0;R<S.length;R++){var P=S[R];if(!Ji.call(g,P)||!es(d[P],g[P]))return!1}return!0}function Um(d){switch(d.tag){case 5:return Po(d.type);case 16:return Po("Lazy");case 13:return Po("Suspense");case 19:return Po("SuspenseList");case 0:case 2:case 15:return d=eo(d.type,!1),d;case 11:return d=eo(d.type.render,!1),d;case 1:return d=eo(d.type,!0),d;default:return""}}function ii(d,g){if(d&&d.defaultProps){g=s({},g),d=d.defaultProps;for(var S in d)g[S]===void 0&&(g[S]=d[S]);return g}return g}var Oo=mr(null),ns=null,Fo=null,jA=null;function Sl(){jA=Fo=ns=null}function to(d,g,S){MA?(W(Oo,g._currentValue),g._currentValue=S):(W(Oo,g._currentValue2),g._currentValue2=S)}function rs(d){var g=Oo.current;$e(Oo),MA?d._currentValue=g:d._currentValue2=g}function VA(d,g,S){for(;d!==null;){var R=d.alternate;if((d.childLanes&g)!==g?(d.childLanes|=g,R!==null&&(R.childLanes|=g)):R!==null&&(R.childLanes&g)!==g&&(R.childLanes|=g),d===S)break;d=d.return}}function No(d,g){ns=d,jA=Fo=null,d=d.dependencies,d!==null&&d.firstContext!==null&&(d.lanes&g&&(On=!0),d.firstContext=null)}function xr(d){var g=MA?d._currentValue:d._currentValue2;if(jA!==d)if(d={context:d,memoizedValue:g,next:null},Fo===null){if(ns===null)throw Error(o(308));Fo=d,ns.dependencies={lanes:0,firstContext:d}}else Fo=Fo.next=d;return g}var is=null,no=!1;function QA(d){d.updateQueue={baseState:d.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function uh(d,g){d=d.updateQueue,g.updateQueue===d&&(g.updateQueue={baseState:d.baseState,firstBaseUpdate:d.firstBaseUpdate,lastBaseUpdate:d.lastBaseUpdate,shared:d.shared,effects:d.effects})}function Ps(d,g){return{eventTime:d,lane:g,tag:0,payload:null,callback:null,next:null}}function ro(d,g){var S=d.updateQueue;S!==null&&(S=S.shared,Fn!==null&&d.mode&1&&!(wt&2)?(d=S.interleaved,d===null?(g.next=g,is===null?is=[S]:is.push(S)):(g.next=d.next,d.next=g),S.interleaved=g):(d=S.pending,d===null?g.next=g:(g.next=d.next,d.next=g),S.pending=g))}function KA(d,g,S){if(g=g.updateQueue,g!==null&&(g=g.shared,(S&4194240)!==0)){var R=g.lanes;R&=d.pendingLanes,S|=R,g.lanes=S,jt(d,S)}}function fh(d,g){var S=d.updateQueue,R=d.alternate;if(R!==null&&(R=R.updateQueue,S===R)){var P=null,N=null;if(S=S.firstBaseUpdate,S!==null){do{var Z={eventTime:S.eventTime,lane:S.lane,tag:S.tag,payload:S.payload,callback:S.callback,next:null};N===null?P=N=Z:N=N.next=Z,S=S.next}while(S!==null);N===null?P=N=g:N=N.next=g}else P=N=g;S={baseState:R.baseState,firstBaseUpdate:P,lastBaseUpdate:N,shared:R.shared,effects:R.effects},d.updateQueue=S;return}d=S.lastBaseUpdate,d===null?S.firstBaseUpdate=g:d.next=g,S.lastBaseUpdate=g}function WA(d,g,S,R){var P=d.updateQueue;no=!1;var N=P.firstBaseUpdate,Z=P.lastBaseUpdate,le=P.shared.pending;if(le!==null){P.shared.pending=null;var Te=le,Me=Te.next;Te.next=null,Z===null?N=Me:Z.next=Me,Z=Te;var je=d.alternate;je!==null&&(je=je.updateQueue,le=je.lastBaseUpdate,le!==Z&&(le===null?je.firstBaseUpdate=Me:le.next=Me,je.lastBaseUpdate=Te))}if(N!==null){var vt=P.baseState;Z=0,je=Me=Te=null,le=N;do{var tt=le.lane,Xt=le.eventTime;if((R&tt)===tt){je!==null&&(je=je.next={eventTime:Xt,lane:0,tag:le.tag,payload:le.payload,callback:le.callback,next:null});e:{var qe=d,Tr=le;switch(tt=g,Xt=S,Tr.tag){case 1:if(qe=Tr.payload,typeof qe=="function"){vt=qe.call(Xt,vt,tt);break e}vt=qe;break e;case 3:qe.flags=qe.flags&-65537|128;case 0:if(qe=Tr.payload,tt=typeof qe=="function"?qe.call(Xt,vt,tt):qe,tt==null)break e;vt=s({},vt,tt);break e;case 2:no=!0}}le.callback!==null&&le.lane!==0&&(d.flags|=64,tt=P.effects,tt===null?P.effects=[le]:tt.push(le))}else Xt={eventTime:Xt,lane:tt,tag:le.tag,payload:le.payload,callback:le.callback,next:null},je===null?(Me=je=Xt,Te=vt):je=je.next=Xt,Z|=tt;if(le=le.next,le===null){if(le=P.shared.pending,le===null)break;tt=le,le=tt.next,tt.next=null,P.lastBaseUpdate=tt,P.shared.pending=null}}while(!0);if(je===null&&(Te=vt),P.baseState=Te,P.firstBaseUpdate=Me,P.lastBaseUpdate=je,g=P.shared.interleaved,g!==null){P=g;do Z|=P.lane,P=P.next;while(P!==g)}else N===null&&(P.shared.lanes=0);Au|=Z,d.lanes=Z,d.memoizedState=vt}}function ch(d,g,S){if(d=g.effects,g.effects=null,d!==null)for(g=0;g<d.length;g++){var R=d[g],P=R.callback;if(P!==null){if(R.callback=null,R=S,typeof P!="function")throw Error(o(191,P));P.call(R)}}}var hh=new r.Component().refs;function Tl(d,g,S,R){g=d.memoizedState,S=S(R,g),S=S==null?g:s({},g,S),d.memoizedState=S,d.lanes===0&&(d.updateQueue.baseState=S)}var YA={isMounted:function(d){return(d=d._reactInternals)?Y(d)===d:!1},enqueueSetState:function(d,g,S){d=d._reactInternals;var R=jr(),P=Ul(d),N=Ps(R,P);N.payload=g,S!=null&&(N.callback=S),ro(d,N),g=As(d,P,R),g!==null&&KA(g,d,P)},enqueueReplaceState:function(d,g,S){d=d._reactInternals;var R=jr(),P=Ul(d),N=Ps(R,P);N.tag=1,N.payload=g,S!=null&&(N.callback=S),ro(d,N),g=As(d,P,R),g!==null&&KA(g,d,P)},enqueueForceUpdate:function(d,g){d=d._reactInternals;var S=jr(),R=Ul(d),P=Ps(S,R);P.tag=2,g!=null&&(P.callback=g),ro(d,P),g=As(d,R,S),g!==null&&KA(g,d,R)}};function dh(d,g,S,R,P,N,Z){return d=d.stateNode,typeof d.shouldComponentUpdate=="function"?d.shouldComponentUpdate(R,N,Z):g.prototype&&g.prototype.isPureReactComponent?!HA(S,R)||!HA(P,N):!0}function gh(d,g,S){var R=!1,P=Ke,N=g.contextType;return typeof N=="object"&&N!==null?N=xr(N):(P=vr(g)?Mo:$n.current,R=g.contextTypes,N=(R=R!=null)?_l(d,P):Ke),g=new g(S,N),d.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=YA,d.stateNode=g,g._reactInternals=d,R&&(d=d.stateNode,d.__reactInternalMemoizedUnmaskedChildContext=P,d.__reactInternalMemoizedMaskedChildContext=N),g}function wl(d,g,S,R){d=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(S,R),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(S,R),g.state!==d&&YA.enqueueReplaceState(g,g.state,null)}function B0(d,g,S,R){var P=d.stateNode;P.props=S,P.state=d.memoizedState,P.refs=hh,QA(d);var N=g.contextType;typeof N=="object"&&N!==null?P.context=xr(N):(N=vr(g)?Mo:$n.current,P.context=_l(d,N)),P.state=d.memoizedState,N=g.getDerivedStateFromProps,typeof N=="function"&&(Tl(d,g,N,S),P.state=d.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof P.getSnapshotBeforeUpdate=="function"||typeof P.UNSAFE_componentWillMount!="function"&&typeof P.componentWillMount!="function"||(g=P.state,typeof P.componentWillMount=="function"&&P.componentWillMount(),typeof P.UNSAFE_componentWillMount=="function"&&P.UNSAFE_componentWillMount(),g!==P.state&&YA.enqueueReplaceState(P,P.state,null),WA(d,S,P,R),P.state=d.memoizedState),typeof P.componentDidMount=="function"&&(d.flags|=4194308)}var io=[],Bo=0,Ms=null,qA=0,_r=[],Gr=0,Uo=null,ss=1,Ii="";function Os(d,g){io[Bo++]=qA,io[Bo++]=Ms,Ms=d,qA=g}function Pa(d,g,S){_r[Gr++]=ss,_r[Gr++]=Ii,_r[Gr++]=Uo,Uo=d;var R=ss;d=Ii;var P=32-Ri(R)-1;R&=~(1<<P),S+=1;var N=32-Ri(g)+P;if(30<N){var Z=P-P%5;N=(R&(1<<Z)-1).toString(32),R>>=Z,P-=Z,ss=1<<32-Ri(g)+P|S<<P|R,Ii=N+d}else ss=1<<N|S<<P|R,Ii=d}function Vt(d){d.return!==null&&(Os(d,1),Pa(d,1,0))}function U0(d){for(;d===Ms;)Ms=io[--Bo],io[Bo]=null,qA=io[--Bo],io[Bo]=null;for(;d===Uo;)Uo=_r[--Gr],_r[Gr]=null,Ii=_r[--Gr],_r[Gr]=null,ss=_r[--Gr],_r[Gr]=null}var $r=null,zr=null,tn=!1,Ma=!1,Di=null;function ph(d,g){var S=us(5,null,null,0);S.elementType="DELETED",S.stateNode=g,S.return=d,g=d.deletions,g===null?(d.deletions=[S],d.flags|=16):g.push(S)}function Ar(d,g){switch(d.tag){case 5:return g=Jc(g,d.type,d.pendingProps),g!==null?(d.stateNode=g,$r=d,zr=Fe(g),!0):!1;case 6:return g=eh(g,d.pendingProps),g!==null?(d.stateNode=g,$r=d,zr=null,!0):!1;case 13:if(g=NA(g),g!==null){var S=Uo!==null?{id:ss,overflow:Ii}:null;return d.memoizedState={dehydrated:g,treeContext:S,retryLane:1073741824},S=us(18,null,null,0),S.stateNode=g,S.return=d,d.child=S,$r=d,zr=null,!0}return!1;default:return!1}}function Oa(d){return(d.mode&1)!==0&&(d.flags&128)===0}function Fs(d){if(tn){var g=zr;if(g){var S=g;if(!Ar(d,g)){if(Oa(d))throw Error(o(418));g=we(S);var R=$r;g&&Ar(d,g)?ph(R,S):(d.flags=d.flags&-4097|2,tn=!1,$r=d)}}else{if(Oa(d))throw Error(o(418));d.flags=d.flags&-4097|2,tn=!1,$r=d}}}function mh(d){for(d=d.return;d!==null&&d.tag!==5&&d.tag!==3&&d.tag!==13;)d=d.return;$r=d}function Go(d){if(!Br||d!==$r)return!1;if(!tn)return mh(d),tn=!0,!1;if(d.tag!==3&&(d.tag!==5||pt(d.type)&&!At(d.type,d.memoizedProps))){var g=zr;if(g){if(Oa(d)){for(d=zr;d;)d=we(d);throw Error(o(418))}for(;g;)ph(d,g),g=we(g)}}if(mh(d),d.tag===13){if(!Br)throw Error(o(316));if(d=d.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));zr=Mn(d)}else zr=$r?we(d.stateNode):null;return!0}function kl(){Br&&(zr=$r=null,Ma=tn=!1)}function Er(d){Di===null?Di=[d]:Di.push(d)}function Ll(d,g,S){if(d=S.ref,d!==null&&typeof d!="function"&&typeof d!="object"){if(S._owner){if(S=S._owner,S){if(S.tag!==1)throw Error(o(309));var R=S.stateNode}if(!R)throw Error(o(147,d));var P=R,N=""+d;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===N?g.ref:(g=function(Z){var le=P.refs;le===hh&&(le=P.refs={}),Z===null?delete le[N]:le[N]=Z},g._stringRef=N,g)}if(typeof d!="string")throw Error(o(284));if(!S._owner)throw Error(o(290,d))}return d}function Rl(d,g){throw d=Object.prototype.toString.call(g),Error(o(31,d==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":d))}function $o(d){var g=d._init;return g(d._payload)}function Cl(d){function g(ve,ue){if(d){var Ee=ve.deletions;Ee===null?(ve.deletions=[ue],ve.flags|=16):Ee.push(ue)}}function S(ve,ue){if(!d)return null;for(;ue!==null;)g(ve,ue),ue=ue.sibling;return null}function R(ve,ue){for(ve=new Map;ue!==null;)ue.key!==null?ve.set(ue.key,ue):ve.set(ue.index,ue),ue=ue.sibling;return ve}function P(ve,ue){return ve=$l(ve,ue),ve.index=0,ve.sibling=null,ve}function N(ve,ue,Ee){return ve.index=Ee,d?(Ee=ve.alternate,Ee!==null?(Ee=Ee.index,Ee<ue?(ve.flags|=2,ue):Ee):(ve.flags|=2,ue)):(ve.flags|=1048576,ue)}function Z(ve){return d&&ve.alternate===null&&(ve.flags|=2),ve}function le(ve,ue,Ee,Ge){return ue===null||ue.tag!==6?(ue=s1(Ee,ve.mode,Ge),ue.return=ve,ue):(ue=P(ue,Ee),ue.return=ve,ue)}function Te(ve,ue,Ee,Ge){var Ye=Ee.type;return Ye===m?je(ve,ue,Ee.props.children,Ge,Ee.key):ue!==null&&(ue.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===M&&$o(Ye)===ue.type)?(Ge=P(ue,Ee.props),Ge.ref=Ll(ve,ue,Ee),Ge.return=ve,Ge):(Ge=Jh(Ee.type,Ee.key,Ee.props,null,ve.mode,Ge),Ge.ref=Ll(ve,ue,Ee),Ge.return=ve,Ge)}function Me(ve,ue,Ee,Ge){return ue===null||ue.tag!==4||ue.stateNode.containerInfo!==Ee.containerInfo||ue.stateNode.implementation!==Ee.implementation?(ue=o1(Ee,ve.mode,Ge),ue.return=ve,ue):(ue=P(ue,Ee.children||[]),ue.return=ve,ue)}function je(ve,ue,Ee,Ge,Ye){return ue===null||ue.tag!==7?(ue=Qa(Ee,ve.mode,Ge,Ye),ue.return=ve,ue):(ue=P(ue,Ee),ue.return=ve,ue)}function vt(ve,ue,Ee){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return ue=s1(""+ue,ve.mode,Ee),ue.return=ve,ue;if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case u:return Ee=Jh(ue.type,ue.key,ue.props,null,ve.mode,Ee),Ee.ref=Ll(ve,null,ue),Ee.return=ve,Ee;case h:return ue=o1(ue,ve.mode,Ee),ue.return=ve,ue;case M:var Ge=ue._init;return vt(ve,Ge(ue._payload),Ee)}if(ie(ue)||$(ue))return ue=Qa(ue,ve.mode,Ee,null),ue.return=ve,ue;Rl(ve,ue)}return null}function tt(ve,ue,Ee,Ge){var Ye=ue!==null?ue.key:null;if(typeof Ee=="string"&&Ee!==""||typeof Ee=="number")return Ye!==null?null:le(ve,ue,""+Ee,Ge);if(typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case u:return Ee.key===Ye?Te(ve,ue,Ee,Ge):null;case h:return Ee.key===Ye?Me(ve,ue,Ee,Ge):null;case M:return Ye=Ee._init,tt(ve,ue,Ye(Ee._payload),Ge)}if(ie(Ee)||$(Ee))return Ye!==null?null:je(ve,ue,Ee,Ge,null);Rl(ve,Ee)}return null}function Xt(ve,ue,Ee,Ge,Ye){if(typeof Ge=="string"&&Ge!==""||typeof Ge=="number")return ve=ve.get(Ee)||null,le(ue,ve,""+Ge,Ye);if(typeof Ge=="object"&&Ge!==null){switch(Ge.$$typeof){case u:return ve=ve.get(Ge.key===null?Ee:Ge.key)||null,Te(ue,ve,Ge,Ye);case h:return ve=ve.get(Ge.key===null?Ee:Ge.key)||null,Me(ue,ve,Ge,Ye);case M:var St=Ge._init;return Xt(ve,ue,Ee,St(Ge._payload),Ye)}if(ie(Ge)||$(Ge))return ve=ve.get(Ee)||null,je(ue,ve,Ge,Ye,null);Rl(ue,Ge)}return null}function qe(ve,ue,Ee,Ge){for(var Ye=null,St=null,xt=ue,zt=ue=0,er=null;xt!==null&&zt<Ee.length;zt++){xt.index>zt?(er=xt,xt=null):er=xt.sibling;var Ht=tt(ve,xt,Ee[zt],Ge);if(Ht===null){xt===null&&(xt=er);break}d&&xt&&Ht.alternate===null&&g(ve,xt),ue=N(Ht,ue,zt),St===null?Ye=Ht:St.sibling=Ht,St=Ht,xt=er}if(zt===Ee.length)return S(ve,xt),tn&&Os(ve,zt),Ye;if(xt===null){for(;zt<Ee.length;zt++)xt=vt(ve,Ee[zt],Ge),xt!==null&&(ue=N(xt,ue,zt),St===null?Ye=xt:St.sibling=xt,St=xt);return tn&&Os(ve,zt),Ye}for(xt=R(ve,xt);zt<Ee.length;zt++)er=Xt(xt,ve,zt,Ee[zt],Ge),er!==null&&(d&&er.alternate!==null&&xt.delete(er.key===null?zt:er.key),ue=N(er,ue,zt),St===null?Ye=er:St.sibling=er,St=er);return d&&xt.forEach(function(zl){return g(ve,zl)}),tn&&Os(ve,zt),Ye}function Tr(ve,ue,Ee,Ge){var Ye=$(Ee);if(typeof Ye!="function")throw Error(o(150));if(Ee=Ye.call(Ee),Ee==null)throw Error(o(151));for(var St=Ye=null,xt=ue,zt=ue=0,er=null,Ht=Ee.next();xt!==null&&!Ht.done;zt++,Ht=Ee.next()){xt.index>zt?(er=xt,xt=null):er=xt.sibling;var zl=tt(ve,xt,Ht.value,Ge);if(zl===null){xt===null&&(xt=er);break}d&&xt&&zl.alternate===null&&g(ve,xt),ue=N(zl,ue,zt),St===null?Ye=zl:St.sibling=zl,St=zl,xt=er}if(Ht.done)return S(ve,xt),tn&&Os(ve,zt),Ye;if(xt===null){for(;!Ht.done;zt++,Ht=Ee.next())Ht=vt(ve,Ht.value,Ge),Ht!==null&&(ue=N(Ht,ue,zt),St===null?Ye=Ht:St.sibling=Ht,St=Ht);return tn&&Os(ve,zt),Ye}for(xt=R(ve,xt);!Ht.done;zt++,Ht=Ee.next())Ht=Xt(xt,ve,zt,Ht.value,Ge),Ht!==null&&(d&&Ht.alternate!==null&&xt.delete(Ht.key===null?zt:Ht.key),ue=N(Ht,ue,zt),St===null?Ye=Ht:St.sibling=Ht,St=Ht);return d&&xt.forEach(function(QD){return g(ve,QD)}),tn&&Os(ve,zt),Ye}function fs(ve,ue,Ee,Ge){if(typeof Ee=="object"&&Ee!==null&&Ee.type===m&&Ee.key===null&&(Ee=Ee.props.children),typeof Ee=="object"&&Ee!==null){switch(Ee.$$typeof){case u:e:{for(var Ye=Ee.key,St=ue;St!==null;){if(St.key===Ye){if(Ye=Ee.type,Ye===m){if(St.tag===7){S(ve,St.sibling),ue=P(St,Ee.props.children),ue.return=ve,ve=ue;break e}}else if(St.elementType===Ye||typeof Ye=="object"&&Ye!==null&&Ye.$$typeof===M&&$o(Ye)===St.type){S(ve,St.sibling),ue=P(St,Ee.props),ue.ref=Ll(ve,St,Ee),ue.return=ve,ve=ue;break e}S(ve,St);break}else g(ve,St);St=St.sibling}Ee.type===m?(ue=Qa(Ee.props.children,ve.mode,Ge,Ee.key),ue.return=ve,ve=ue):(Ge=Jh(Ee.type,Ee.key,Ee.props,null,ve.mode,Ge),Ge.ref=Ll(ve,ue,Ee),Ge.return=ve,ve=Ge)}return Z(ve);case h:e:{for(St=Ee.key;ue!==null;){if(ue.key===St)if(ue.tag===4&&ue.stateNode.containerInfo===Ee.containerInfo&&ue.stateNode.implementation===Ee.implementation){S(ve,ue.sibling),ue=P(ue,Ee.children||[]),ue.return=ve,ve=ue;break e}else{S(ve,ue);break}else g(ve,ue);ue=ue.sibling}ue=o1(Ee,ve.mode,Ge),ue.return=ve,ve=ue}return Z(ve);case M:return St=Ee._init,fs(ve,ue,St(Ee._payload),Ge)}if(ie(Ee))return qe(ve,ue,Ee,Ge);if($(Ee))return Tr(ve,ue,Ee,Ge);Rl(ve,Ee)}return typeof Ee=="string"&&Ee!==""||typeof Ee=="number"?(Ee=""+Ee,ue!==null&&ue.tag===6?(S(ve,ue.sibling),ue=P(ue,Ee),ue.return=ve,ve=ue):(S(ve,ue),ue=s1(Ee,ve.mode,Ge),ue.return=ve,ve=ue),Z(ve)):S(ve,ue)}return fs}var os=Cl(!0),yh=Cl(!1),Il={},si=mr(Il),zo=mr(Il),Dl=mr(Il);function ls(d){if(d===Il)throw Error(o(174));return d}function XA(d,g){W(Dl,g),W(zo,d),W(si,Il),d=ke(g),$e(si),W(si,d)}function Ho(){$e(si),$e(zo),$e(Dl)}function bl(d){var g=ls(Dl.current),S=ls(si.current);g=re(S,d.type,g),S!==g&&(W(zo,d),W(si,g))}function so(d){zo.current===d&&($e(si),$e(zo))}var on=mr(0);function oo(d){for(var g=d;g!==null;){if(g.tag===13){var S=g.memoizedState;if(S!==null&&(S=S.dehydrated,S===null||BA(S)||bs(S)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var G0=[];function $0(){for(var d=0;d<G0.length;d++){var g=G0[d];MA?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}G0.length=0}var ZA=l.ReactCurrentDispatcher,oi=l.ReactCurrentBatchConfig,Pl=0,un=null,Yn=null,Sn=null,Fa=!1,jo=!1,Na=0,Gm=0;function qn(){throw Error(o(321))}function z0(d,g){if(g===null)return!1;for(var S=0;S<g.length&&S<d.length;S++)if(!es(d[S],g[S]))return!1;return!0}function H0(d,g,S,R,P,N){if(Pl=N,un=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,ZA.current=d===null||d.memoizedState===null?zm:Ph,d=S(R,P),jo){N=0;do{if(jo=!1,Na=0,25<=N)throw Error(o(301));N+=1,Sn=Yn=null,g.updateQueue=null,ZA.current=Mh,d=S(R,P)}while(jo)}if(ZA.current=tu,g=Yn!==null&&Yn.next!==null,Pl=0,Sn=Yn=un=null,Fa=!1,g)throw Error(o(300));return d}function j0(){var d=Na!==0;return Na=0,d}function Ns(){var d={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Sn===null?un.memoizedState=Sn=d:Sn=Sn.next=d,Sn}function bi(){if(Yn===null){var d=un.alternate;d=d!==null?d.memoizedState:null}else d=Yn.next;var g=Sn===null?un.memoizedState:Sn.next;if(g!==null)Sn=g,Yn=d;else{if(d===null)throw Error(o(310));Yn=d,d={memoizedState:Yn.memoizedState,baseState:Yn.baseState,baseQueue:Yn.baseQueue,queue:Yn.queue,next:null},Sn===null?un.memoizedState=Sn=d:Sn=Sn.next=d}return Sn}function Vo(d,g){return typeof g=="function"?g(d):g}function Ba(d){var g=bi(),S=g.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=d;var R=Yn,P=R.baseQueue,N=S.pending;if(N!==null){if(P!==null){var Z=P.next;P.next=N.next,N.next=Z}R.baseQueue=P=N,S.pending=null}if(P!==null){N=P.next,R=R.baseState;var le=Z=null,Te=null,Me=N;do{var je=Me.lane;if((Pl&je)===je)Te!==null&&(Te=Te.next={lane:0,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null}),R=Me.hasEagerState?Me.eagerState:d(R,Me.action);else{var vt={lane:je,action:Me.action,hasEagerState:Me.hasEagerState,eagerState:Me.eagerState,next:null};Te===null?(le=Te=vt,Z=R):Te=Te.next=vt,un.lanes|=je,Au|=je}Me=Me.next}while(Me!==null&&Me!==N);Te===null?Z=R:Te.next=le,es(R,g.memoizedState)||(On=!0),g.memoizedState=R,g.baseState=Z,g.baseQueue=Te,S.lastRenderedState=R}if(d=S.interleaved,d!==null){P=d;do N=P.lane,un.lanes|=N,Au|=N,P=P.next;while(P!==d)}else P===null&&(S.lanes=0);return[g.memoizedState,S.dispatch]}function li(d){var g=bi(),S=g.queue;if(S===null)throw Error(o(311));S.lastRenderedReducer=d;var R=S.dispatch,P=S.pending,N=g.memoizedState;if(P!==null){S.pending=null;var Z=P=P.next;do N=d(N,Z.action),Z=Z.next;while(Z!==P);es(N,g.memoizedState)||(On=!0),g.memoizedState=N,g.baseQueue===null&&(g.baseState=N),S.lastRenderedState=N}return[N,R]}function V0(){}function vh(d,g){var S=un,R=bi(),P=g(),N=!es(R.memoizedState,P);if(N&&(R.memoizedState=P,On=!0),R=R.queue,Ua(Eh.bind(null,S,R,d),[d]),R.getSnapshot!==g||N||Sn!==null&&Sn.memoizedState.tag&1){if(S.flags|=2048,Ml(9,_h.bind(null,S,R,P,g),void 0,null),Fn===null)throw Error(o(349));Pl&30||xh(S,g,P)}return P}function xh(d,g,S){d.flags|=16384,d={getSnapshot:g,value:S},g=un.updateQueue,g===null?(g={lastEffect:null,stores:null},un.updateQueue=g,g.stores=[d]):(S=g.stores,S===null?g.stores=[d]:S.push(d))}function _h(d,g,S,R){g.value=S,g.getSnapshot=R,Sh(g)&&As(d,1,-1)}function Eh(d,g,S){return S(function(){Sh(g)&&As(d,1,-1)})}function Sh(d){var g=d.getSnapshot;d=d.value;try{var S=g();return!es(d,S)}catch{return!0}}function as(d){var g=Ns();return typeof d=="function"&&(d=d()),g.memoizedState=g.baseState=d,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Vo,lastRenderedState:d},g.queue=d,d=d.dispatch=$m.bind(null,un,d),[g.memoizedState,d]}function Ml(d,g,S,R){return d={tag:d,create:g,destroy:S,deps:R,next:null},g=un.updateQueue,g===null?(g={lastEffect:null,stores:null},un.updateQueue=g,g.lastEffect=d.next=d):(S=g.lastEffect,S===null?g.lastEffect=d.next=d:(R=S.next,S.next=d,d.next=R,g.lastEffect=d)),d}function Q0(){return bi().memoizedState}function JA(d,g,S,R){var P=Ns();un.flags|=d,P.memoizedState=Ml(1|g,S,void 0,R===void 0?null:R)}function eu(d,g,S,R){var P=bi();R=R===void 0?null:R;var N=void 0;if(Yn!==null){var Z=Yn.memoizedState;if(N=Z.destroy,R!==null&&z0(R,Z.deps)){P.memoizedState=Ml(g,S,N,R);return}}un.flags|=d,P.memoizedState=Ml(1|g,S,N,R)}function K0(d,g){return JA(8390656,8,d,g)}function Ua(d,g){return eu(2048,8,d,g)}function Th(d,g){return eu(4,2,d,g)}function wh(d,g){return eu(4,4,d,g)}function kh(d,g){if(typeof g=="function")return d=d(),g(d),function(){g(null)};if(g!=null)return d=d(),g.current=d,function(){g.current=null}}function Lh(d,g,S){return S=S!=null?S.concat([d]):null,eu(4,4,kh.bind(null,g,d),S)}function W0(){}function Rh(d,g){var S=bi();g=g===void 0?null:g;var R=S.memoizedState;return R!==null&&g!==null&&z0(g,R[1])?R[0]:(S.memoizedState=[d,g],d)}function Ch(d,g){var S=bi();g=g===void 0?null:g;var R=S.memoizedState;return R!==null&&g!==null&&z0(g,R[1])?R[0]:(d=d(),S.memoizedState=[d,g],d)}function Ih(d,g){var S=bt;bt=S!==0&&4>S?S:4,d(!0);var R=oi.transition;oi.transition={};try{d(!1),g()}finally{bt=S,oi.transition=R}}function Y0(){return bi().memoizedState}function Tn(d,g,S){var R=Ul(d);S={lane:R,action:S,hasEagerState:!1,eagerState:null,next:null},Dh(d)?Ol(g,S):(Hr(d,g,S),S=jr(),d=As(d,R,S),d!==null&&bh(d,g,R))}function $m(d,g,S){var R=Ul(d),P={lane:R,action:S,hasEagerState:!1,eagerState:null,next:null};if(Dh(d))Ol(g,P);else{Hr(d,g,P);var N=d.alternate;if(d.lanes===0&&(N===null||N.lanes===0)&&(N=g.lastRenderedReducer,N!==null))try{var Z=g.lastRenderedState,le=N(Z,S);if(P.hasEagerState=!0,P.eagerState=le,es(le,Z))return}catch{}finally{}S=jr(),d=As(d,R,S),d!==null&&bh(d,g,R)}}function Dh(d){var g=d.alternate;return d===un||g!==null&&g===un}function Ol(d,g){jo=Fa=!0;var S=d.pending;S===null?g.next=g:(g.next=S.next,S.next=g),d.pending=g}function Hr(d,g,S){Fn!==null&&d.mode&1&&!(wt&2)?(d=g.interleaved,d===null?(S.next=S,is===null?is=[g]:is.push(g)):(S.next=d.next,d.next=S),g.interleaved=S):(d=g.pending,d===null?S.next=S:(S.next=d.next,d.next=S),g.pending=S)}function bh(d,g,S){if(S&4194240){var R=g.lanes;R&=d.pendingLanes,S|=R,g.lanes=S,jt(d,S)}}var tu={readContext:xr,useCallback:qn,useContext:qn,useEffect:qn,useImperativeHandle:qn,useInsertionEffect:qn,useLayoutEffect:qn,useMemo:qn,useReducer:qn,useRef:qn,useState:qn,useDebugValue:qn,useDeferredValue:qn,useTransition:qn,useMutableSource:qn,useSyncExternalStore:qn,useId:qn,unstable_isNewReconciler:!1},zm={readContext:xr,useCallback:function(d,g){return Ns().memoizedState=[d,g===void 0?null:g],d},useContext:xr,useEffect:K0,useImperativeHandle:function(d,g,S){return S=S!=null?S.concat([d]):null,JA(4194308,4,kh.bind(null,g,d),S)},useLayoutEffect:function(d,g){return JA(4194308,4,d,g)},useInsertionEffect:function(d,g){return JA(4,2,d,g)},useMemo:function(d,g){var S=Ns();return g=g===void 0?null:g,d=d(),S.memoizedState=[d,g],d},useReducer:function(d,g,S){var R=Ns();return g=S!==void 0?S(g):g,R.memoizedState=R.baseState=g,d={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:d,lastRenderedState:g},R.queue=d,d=d.dispatch=Tn.bind(null,un,d),[R.memoizedState,d]},useRef:function(d){var g=Ns();return d={current:d},g.memoizedState=d},useState:as,useDebugValue:W0,useDeferredValue:function(d){var g=as(d),S=g[0],R=g[1];return K0(function(){var P=oi.transition;oi.transition={};try{R(d)}finally{oi.transition=P}},[d]),S},useTransition:function(){var d=as(!1),g=d[0];return d=Ih.bind(null,d[1]),Ns().memoizedState=d,[g,d]},useMutableSource:function(){},useSyncExternalStore:function(d,g,S){var R=un,P=Ns();if(tn){if(S===void 0)throw Error(o(407));S=S()}else{if(S=g(),Fn===null)throw Error(o(349));Pl&30||xh(R,g,S)}P.memoizedState=S;var N={value:S,getSnapshot:g};return P.queue=N,K0(Eh.bind(null,R,N,d),[d]),R.flags|=2048,Ml(9,_h.bind(null,R,N,S,g),void 0,null),S},useId:function(){var d=Ns(),g=Fn.identifierPrefix;if(tn){var S=Ii,R=ss;S=(R&~(1<<32-Ri(R)-1)).toString(32)+S,g=":"+g+"R"+S,S=Na++,0<S&&(g+="H"+S.toString(32)),g+=":"}else S=Gm++,g=":"+g+"r"+S.toString(32)+":";return d.memoizedState=g},unstable_isNewReconciler:!1},Ph={readContext:xr,useCallback:Rh,useContext:xr,useEffect:Ua,useImperativeHandle:Lh,useInsertionEffect:Th,useLayoutEffect:wh,useMemo:Ch,useReducer:Ba,useRef:Q0,useState:function(){return Ba(Vo)},useDebugValue:W0,useDeferredValue:function(d){var g=Ba(Vo),S=g[0],R=g[1];return Ua(function(){var P=oi.transition;oi.transition={};try{R(d)}finally{oi.transition=P}},[d]),S},useTransition:function(){var d=Ba(Vo)[0],g=bi().memoizedState;return[d,g]},useMutableSource:V0,useSyncExternalStore:vh,useId:Y0,unstable_isNewReconciler:!1},Mh={readContext:xr,useCallback:Rh,useContext:xr,useEffect:Ua,useImperativeHandle:Lh,useInsertionEffect:Th,useLayoutEffect:wh,useMemo:Ch,useReducer:li,useRef:Q0,useState:function(){return li(Vo)},useDebugValue:W0,useDeferredValue:function(d){var g=li(Vo),S=g[0],R=g[1];return Ua(function(){var P=oi.transition;oi.transition={};try{R(d)}finally{oi.transition=P}},[d]),S},useTransition:function(){var d=li(Vo)[0],g=bi().memoizedState;return[d,g]},useMutableSource:V0,useSyncExternalStore:vh,useId:Y0,unstable_isNewReconciler:!1};function nu(d,g){try{var S="",R=g;do S+=Um(R),R=R.return;while(R);var P=S}catch(N){P=`
Error generating stack: `+N.message+`
`+N.stack}return{value:d,source:g,stack:P}}function ru(d,g){try{console.error(g.value)}catch(S){setTimeout(function(){throw S})}}var Hm=typeof WeakMap=="function"?WeakMap:Map;function Oh(d,g,S){S=Ps(-1,S),S.tag=3,S.payload={element:null};var R=g.value;return S.callback=function(){Qh||(Qh=!0,Zm=R),ru(d,g)},S}function Fh(d,g,S){S=Ps(-1,S),S.tag=3;var R=d.type.getDerivedStateFromError;if(typeof R=="function"){var P=g.value;S.payload=function(){return R(P)},S.callback=function(){ru(d,g)}}var N=d.stateNode;return N!==null&&typeof N.componentDidCatch=="function"&&(S.callback=function(){ru(d,g),typeof R!="function"&&(Nl===null?Nl=new Set([this]):Nl.add(this));var Z=g.stack;this.componentDidCatch(g.value,{componentStack:Z!==null?Z:""})}),S}function Nh(d,g,S){var R=d.pingCache;if(R===null){R=d.pingCache=new Hm;var P=new Set;R.set(g,P)}else P=R.get(g),P===void 0&&(P=new Set,R.set(g,P));P.has(S)||(P.add(S),d=BD.bind(null,d,g,S),g.then(d,d))}function Bh(d){do{var g;if((g=d.tag===13)&&(g=d.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return d;d=d.return}while(d!==null);return null}function Bs(d,g,S,R,P){return d.mode&1?(d.flags|=65536,d.lanes=P,d):(d===g?d.flags|=65536:(d.flags|=128,S.flags|=131072,S.flags&=-52805,S.tag===1&&(S.alternate===null?S.tag=17:(g=Ps(-1,1),g.tag=2,ro(S,g))),S.lanes|=1),d)}function Cn(d){d.flags|=4}function it(d,g){if(d!==null&&d.child===g.child)return!0;if(g.flags&16)return!1;for(d=g.child;d!==null;){if(d.flags&12854||d.subtreeFlags&12854)return!1;d=d.sibling}return!0}var Sr,gt,In,Ga;if(Li)Sr=function(d,g){for(var S=g.child;S!==null;){if(S.tag===5||S.tag===6)Ce(d,S.stateNode);else if(S.tag!==4&&S.child!==null){S.child.return=S,S=S.child;continue}if(S===g)break;for(;S.sibling===null;){if(S.return===null||S.return===g)return;S=S.return}S.sibling.return=S.return,S=S.sibling}},gt=function(){},In=function(d,g,S,R,P){if(d=d.memoizedProps,d!==R){var N=g.stateNode,Z=ls(si.current);S=Xe(N,S,d,R,P,Z),(g.updateQueue=S)&&Cn(g)}},Ga=function(d,g,S,R){S!==R&&Cn(g)};else if(OA){Sr=function(d,g,S,R){for(var P=g.child;P!==null;){if(P.tag===5){var N=P.stateNode;S&&R&&(N=FA(N,P.type,P.memoizedProps,P)),Ce(d,N)}else if(P.tag===6)N=P.stateNode,S&&R&&(N=b0(N,P.memoizedProps,P)),Ce(d,N);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)N=P.child,N!==null&&(N.return=P),Sr(d,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===g)break;for(;P.sibling===null;){if(P.return===null||P.return===g)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};var iu=function(d,g,S,R){for(var P=g.child;P!==null;){if(P.tag===5){var N=P.stateNode;S&&R&&(N=FA(N,P.type,P.memoizedProps,P)),D0(d,N)}else if(P.tag===6)N=P.stateNode,S&&R&&(N=b0(N,P.memoizedProps,P)),D0(d,N);else if(P.tag!==4){if(P.tag===22&&P.memoizedState!==null)N=P.child,N!==null&&(N.return=P),iu(d,P,!0,!0);else if(P.child!==null){P.child.return=P,P=P.child;continue}}if(P===g)break;for(;P.sibling===null;){if(P.return===null||P.return===g)return;P=P.return}P.sibling.return=P.return,P=P.sibling}};gt=function(d,g){var S=g.stateNode;if(!it(d,g)){d=S.containerInfo;var R=Xc(d);iu(R,g,!1,!1),S.pendingChildren=R,Cn(g),Cm(d,R)}},In=function(d,g,S,R,P){var N=d.stateNode,Z=d.memoizedProps;if((d=it(d,g))&&Z===R)g.stateNode=N;else{var le=g.stateNode,Te=ls(si.current),Me=null;Z!==R&&(Me=Xe(le,S,Z,R,P,Te)),d&&Me===null?g.stateNode=N:(N=De(N,Me,S,Z,R,g,d,le),We(N,S,R,P,Te)&&Cn(g),g.stateNode=N,d?Cn(g):Sr(N,g,!1,!1))}},Ga=function(d,g,S,R){S!==R?(d=ls(Dl.current),S=ls(si.current),g.stateNode=Tt(R,d,S,g),Cn(g)):g.stateNode=d.stateNode}}else gt=function(){},In=function(){},Ga=function(){};function Pi(d,g){if(!tn)switch(d.tailMode){case"hidden":g=d.tail;for(var S=null;g!==null;)g.alternate!==null&&(S=g),g=g.sibling;S===null?d.tail=null:S.sibling=null;break;case"collapsed":S=d.tail;for(var R=null;S!==null;)S.alternate!==null&&(R=S),S=S.sibling;R===null?g||d.tail===null?d.tail=null:d.tail.sibling=null:R.sibling=null}}function Xn(d){var g=d.alternate!==null&&d.alternate.child===d.child,S=0,R=0;if(g)for(var P=d.child;P!==null;)S|=P.lanes|P.childLanes,R|=P.subtreeFlags&14680064,R|=P.flags&14680064,P.return=d,P=P.sibling;else for(P=d.child;P!==null;)S|=P.lanes|P.childLanes,R|=P.subtreeFlags,R|=P.flags,P.return=d,P=P.sibling;return d.subtreeFlags|=R,d.childLanes=S,g}function Zn(d,g,S){var R=g.pendingProps;switch(U0(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xn(g),null;case 1:return vr(g.type)&&V(),Xn(g),null;case 3:return R=g.stateNode,Ho(),$e(yr),$e($n),$0(),R.pendingContext&&(R.context=R.pendingContext,R.pendingContext=null),(d===null||d.child===null)&&(Go(g)?Cn(g):d===null||d.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,Di!==null&&(t1(Di),Di=null))),gt(d,g),Xn(g),null;case 5:so(g),S=ls(Dl.current);var P=g.type;if(d!==null&&g.stateNode!=null)In(d,g,P,R,S),d.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!R){if(g.stateNode===null)throw Error(o(166));return Xn(g),null}if(d=ls(si.current),Go(g)){if(!Br)throw Error(o(175));d=Q(g.stateNode,g.type,g.memoizedProps,S,d,g,!Ma),g.updateQueue=d,d!==null&&Cn(g)}else{var N=Ie(P,R,S,d,g);Sr(N,g,!1,!1),g.stateNode=N,We(N,P,R,S,d)&&Cn(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return Xn(g),null;case 6:if(d&&g.stateNode!=null)Ga(d,g,d.memoizedProps,R);else{if(typeof R!="string"&&g.stateNode===null)throw Error(o(166));if(d=ls(Dl.current),S=ls(si.current),Go(g)){if(!Br)throw Error(o(176));if(d=g.stateNode,R=g.memoizedProps,(S=It(d,R,g,!Ma))&&(P=$r,P!==null))switch(N=(P.mode&1)!==0,P.tag){case 3:ni(P.stateNode.containerInfo,d,R,N);break;case 5:UA(P.type,P.memoizedProps,P.stateNode,d,R,N)}S&&Cn(g)}else g.stateNode=Tt(R,d,S,g)}return Xn(g),null;case 13:if($e(on),R=g.memoizedState,tn&&zr!==null&&g.mode&1&&!(g.flags&128)){for(d=zr;d;)d=we(d);return kl(),g.flags|=98560,g}if(R!==null&&R.dehydrated!==null){if(R=Go(g),d===null){if(!R)throw Error(o(318));if(!Br)throw Error(o(344));if(d=g.memoizedState,d=d!==null?d.dehydrated:null,!d)throw Error(o(317));Gt(d,g)}else kl(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;return Xn(g),null}return Di!==null&&(t1(Di),Di=null),g.flags&128?(g.lanes=S,g):(R=R!==null,S=!1,d===null?Go(g):S=d.memoizedState!==null,R&&!S&&(g.child.flags|=8192,g.mode&1&&(d===null||on.current&1?jn===0&&(jn=3):r1())),g.updateQueue!==null&&(g.flags|=4),Xn(g),null);case 4:return Ho(),gt(d,g),d===null&&gm(g.stateNode.containerInfo),Xn(g),null;case 10:return rs(g.type._context),Xn(g),null;case 17:return vr(g.type)&&V(),Xn(g),null;case 19:if($e(on),P=g.memoizedState,P===null)return Xn(g),null;if(R=(g.flags&128)!==0,N=P.rendering,N===null)if(R)Pi(P,!1);else{if(jn!==0||d!==null&&d.flags&128)for(d=g.child;d!==null;){if(N=oo(d),N!==null){for(g.flags|=128,Pi(P,!1),d=N.updateQueue,d!==null&&(g.updateQueue=d,g.flags|=4),g.subtreeFlags=0,d=S,R=g.child;R!==null;)S=R,P=d,S.flags&=14680066,N=S.alternate,N===null?(S.childLanes=0,S.lanes=P,S.child=null,S.subtreeFlags=0,S.memoizedProps=null,S.memoizedState=null,S.updateQueue=null,S.dependencies=null,S.stateNode=null):(S.childLanes=N.childLanes,S.lanes=N.lanes,S.child=N.child,S.subtreeFlags=0,S.deletions=null,S.memoizedProps=N.memoizedProps,S.memoizedState=N.memoizedState,S.updateQueue=N.updateQueue,S.type=N.type,P=N.dependencies,S.dependencies=P===null?null:{lanes:P.lanes,firstContext:P.firstContext}),R=R.sibling;return W(on,on.current&1|2),g.child}d=d.sibling}P.tail!==null&&En()>Xm&&(g.flags|=128,R=!0,Pi(P,!1),g.lanes=4194304)}else{if(!R)if(d=oo(N),d!==null){if(g.flags|=128,R=!0,d=d.updateQueue,d!==null&&(g.updateQueue=d,g.flags|=4),Pi(P,!0),P.tail===null&&P.tailMode==="hidden"&&!N.alternate&&!tn)return Xn(g),null}else 2*En()-P.renderingStartTime>Xm&&S!==1073741824&&(g.flags|=128,R=!0,Pi(P,!1),g.lanes=4194304);P.isBackwards?(N.sibling=g.child,g.child=N):(d=P.last,d!==null?d.sibling=N:g.child=N,P.last=N)}return P.tail!==null?(g=P.tail,P.rendering=g,P.tail=g.sibling,P.renderingStartTime=En(),g.sibling=null,d=on.current,W(on,R?d&1|2:d&1),g):(Xn(g),null);case 22:case 23:return n1(),R=g.memoizedState!==null,d!==null&&d.memoizedState!==null!==R&&(g.flags|=8192),R&&g.mode&1?Mi&1073741824&&(Xn(g),Li&&g.subtreeFlags&6&&(g.flags|=8192)):Xn(g),null;case 24:return null;case 25:return null}throw Error(o(156,g.tag))}var su=l.ReactCurrentOwner,On=!1;function Jn(d,g,S,R){g.child=d===null?yh(g,null,S,R):os(g,d.child,S,R)}function Re(d,g,S,R,P){S=S.render;var N=g.ref;return No(g,P),R=H0(d,g,S,R,N,P),S=j0(),d!==null&&!On?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~P,K(d,g,P)):(tn&&S&&Vt(g),g.flags|=1,Jn(d,g,R,P),g.child)}function Oe(d,g,S,R,P){if(d===null){var N=S.type;return typeof N=="function"&&!i1(N)&&N.defaultProps===void 0&&S.compare===null&&S.defaultProps===void 0?(g.tag=15,g.type=N,q0(d,g,N,R,P)):(d=Jh(S.type,null,R,g,g.mode,P),d.ref=g.ref,d.return=g,g.child=d)}if(N=d.child,!(d.lanes&P)){var Z=N.memoizedProps;if(S=S.compare,S=S!==null?S:HA,S(Z,R)&&d.ref===g.ref)return K(d,g,P)}return g.flags|=1,d=$l(N,R),d.ref=g.ref,d.return=g,g.child=d}function q0(d,g,S,R,P){if(d!==null&&HA(d.memoizedProps,R)&&d.ref===g.ref)if(On=!1,(d.lanes&P)!==0)d.flags&131072&&(On=!0);else return g.lanes=d.lanes,K(d,g,P);return Fl(d,g,S,R,P)}function ou(d,g,S){var R=g.pendingProps,P=R.children,N=d!==null?d.memoizedState:null;if(R.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null},W(au,Mi),Mi|=S;else if(S&1073741824)g.memoizedState={baseLanes:0,cachePool:null},R=N!==null?N.baseLanes:S,W(au,Mi),Mi|=R;else return d=N!==null?N.baseLanes|S:S,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:d,cachePool:null},g.updateQueue=null,W(au,Mi),Mi|=d,null;else N!==null?(R=N.baseLanes|S,g.memoizedState=null):R=S,W(au,Mi),Mi|=R;return Jn(d,g,P,S),g.child}function $a(d,g){var S=g.ref;(d===null&&S!==null||d!==null&&d.ref!==S)&&(g.flags|=512,g.flags|=2097152)}function Fl(d,g,S,R,P){var N=vr(S)?Mo:$n.current;return N=_l(g,N),No(g,P),S=H0(d,g,S,R,N,P),R=j0(),d!==null&&!On?(g.updateQueue=d.updateQueue,g.flags&=-2053,d.lanes&=~P,K(d,g,P)):(tn&&R&&Vt(g),g.flags|=1,Jn(d,g,S,P),g.child)}function lo(d,g,S,R,P){if(vr(S)){var N=!0;GA(g)}else N=!1;if(No(g,P),g.stateNode===null)d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2),gh(g,S,R),B0(g,S,R,P),R=!0;else if(d===null){var Z=g.stateNode,le=g.memoizedProps;Z.props=le;var Te=Z.context,Me=S.contextType;typeof Me=="object"&&Me!==null?Me=xr(Me):(Me=vr(S)?Mo:$n.current,Me=_l(g,Me));var je=S.getDerivedStateFromProps,vt=typeof je=="function"||typeof Z.getSnapshotBeforeUpdate=="function";vt||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(le!==R||Te!==Me)&&wl(g,Z,R,Me),no=!1;var tt=g.memoizedState;Z.state=tt,WA(g,R,Z,P),Te=g.memoizedState,le!==R||tt!==Te||yr.current||no?(typeof je=="function"&&(Tl(g,S,je,R),Te=g.memoizedState),(le=no||dh(g,S,le,R,tt,Te,Me))?(vt||typeof Z.UNSAFE_componentWillMount!="function"&&typeof Z.componentWillMount!="function"||(typeof Z.componentWillMount=="function"&&Z.componentWillMount(),typeof Z.UNSAFE_componentWillMount=="function"&&Z.UNSAFE_componentWillMount()),typeof Z.componentDidMount=="function"&&(g.flags|=4194308)):(typeof Z.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=R,g.memoizedState=Te),Z.props=R,Z.state=Te,Z.context=Me,R=le):(typeof Z.componentDidMount=="function"&&(g.flags|=4194308),R=!1)}else{Z=g.stateNode,uh(d,g),le=g.memoizedProps,Me=g.type===g.elementType?le:ii(g.type,le),Z.props=Me,vt=g.pendingProps,tt=Z.context,Te=S.contextType,typeof Te=="object"&&Te!==null?Te=xr(Te):(Te=vr(S)?Mo:$n.current,Te=_l(g,Te));var Xt=S.getDerivedStateFromProps;(je=typeof Xt=="function"||typeof Z.getSnapshotBeforeUpdate=="function")||typeof Z.UNSAFE_componentWillReceiveProps!="function"&&typeof Z.componentWillReceiveProps!="function"||(le!==vt||tt!==Te)&&wl(g,Z,R,Te),no=!1,tt=g.memoizedState,Z.state=tt,WA(g,R,Z,P);var qe=g.memoizedState;le!==vt||tt!==qe||yr.current||no?(typeof Xt=="function"&&(Tl(g,S,Xt,R),qe=g.memoizedState),(Me=no||dh(g,S,Me,R,tt,qe,Te)||!1)?(je||typeof Z.UNSAFE_componentWillUpdate!="function"&&typeof Z.componentWillUpdate!="function"||(typeof Z.componentWillUpdate=="function"&&Z.componentWillUpdate(R,qe,Te),typeof Z.UNSAFE_componentWillUpdate=="function"&&Z.UNSAFE_componentWillUpdate(R,qe,Te)),typeof Z.componentDidUpdate=="function"&&(g.flags|=4),typeof Z.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof Z.componentDidUpdate!="function"||le===d.memoizedProps&&tt===d.memoizedState||(g.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||le===d.memoizedProps&&tt===d.memoizedState||(g.flags|=1024),g.memoizedProps=R,g.memoizedState=qe),Z.props=R,Z.state=qe,Z.context=Te,R=Me):(typeof Z.componentDidUpdate!="function"||le===d.memoizedProps&&tt===d.memoizedState||(g.flags|=4),typeof Z.getSnapshotBeforeUpdate!="function"||le===d.memoizedProps&&tt===d.memoizedState||(g.flags|=1024),R=!1)}return lu(d,g,S,R,N,P)}function lu(d,g,S,R,P,N){$a(d,g);var Z=(g.flags&128)!==0;if(!R&&!Z)return P&&rh(g,S,!1),K(d,g,N);R=g.stateNode,su.current=g;var le=Z&&typeof S.getDerivedStateFromError!="function"?null:R.render();return g.flags|=1,d!==null&&Z?(g.child=os(g,d.child,null,N),g.child=os(g,null,le,N)):Jn(d,g,le,N),g.memoizedState=R.state,P&&rh(g,S,!0),g.child}function Us(d){var g=d.stateNode;g.pendingContext?th(d,g.pendingContext,g.pendingContext!==g.context):g.context&&th(d,g.context,!1),XA(d,g.containerInfo)}function A(d,g,S,R,P){return kl(),Er(P),g.flags|=256,Jn(d,g,S,R),g.child}var a={dehydrated:null,treeContext:null,retryLane:0};function c(d){return{baseLanes:d,cachePool:null}}function p(d,g,S){var R=g.pendingProps,P=on.current,N=!1,Z=(g.flags&128)!==0,le;if((le=Z)||(le=d!==null&&d.memoizedState===null?!1:(P&2)!==0),le?(N=!0,g.flags&=-129):(d===null||d.memoizedState!==null)&&(P|=1),W(on,P&1),d===null)return Fs(g),d=g.memoizedState,d!==null&&(d=d.dehydrated,d!==null)?(g.mode&1?bs(d)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(P=R.children,d=R.fallback,N?(R=g.mode,N=g.child,P={mode:"hidden",children:P},!(R&1)&&N!==null?(N.childLanes=0,N.pendingProps=P):N=ed(P,R,0,null),d=Qa(d,R,S,null),N.return=g,d.return=g,N.sibling=d,g.child=N,g.child.memoizedState=c(S),g.memoizedState=a,d):v(g,P));if(P=d.memoizedState,P!==null){if(le=P.dehydrated,le!==null){if(Z)return g.flags&256?(g.flags&=-257,k(d,g,S,Error(o(422)))):g.memoizedState!==null?(g.child=d.child,g.flags|=128,null):(N=R.fallback,P=g.mode,R=ed({mode:"visible",children:R.children},P,0,null),N=Qa(N,P,S,null),N.flags|=2,R.return=g,N.return=g,R.sibling=N,g.child=R,g.mode&1&&os(g,d.child,null,S),g.child.memoizedState=c(S),g.memoizedState=a,N);if(!(g.mode&1))g=k(d,g,S,null);else if(bs(le))g=k(d,g,S,Error(o(419)));else if(R=(S&d.childLanes)!==0,On||R){if(R=Fn,R!==null){switch(S&-S){case 4:N=2;break;case 16:N=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:N=32;break;case 536870912:N=268435456;break;default:N=0}R=N&(R.suspendedLanes|S)?0:N,R!==0&&R!==P.retryLane&&(P.retryLane=R,As(d,R,-1))}r1(),g=k(d,g,S,Error(o(421)))}else BA(le)?(g.flags|=128,g.child=d.child,g=UD.bind(null,d),pe(le,g),g=null):(S=P.treeContext,Br&&(zr=f(le),$r=g,tn=!0,Di=null,Ma=!1,S!==null&&(_r[Gr++]=ss,_r[Gr++]=Ii,_r[Gr++]=Uo,ss=S.id,Ii=S.overflow,Uo=g)),g=v(g,g.pendingProps.children),g.flags|=4096);return g}return N?(R=E(d,g,R.children,R.fallback,S),N=g.child,P=d.child.memoizedState,N.memoizedState=P===null?c(S):{baseLanes:P.baseLanes|S,cachePool:null},N.childLanes=d.childLanes&~S,g.memoizedState=a,R):(S=x(d,g,R.children,S),g.memoizedState=null,S)}return N?(R=E(d,g,R.children,R.fallback,S),N=g.child,P=d.child.memoizedState,N.memoizedState=P===null?c(S):{baseLanes:P.baseLanes|S,cachePool:null},N.childLanes=d.childLanes&~S,g.memoizedState=a,R):(S=x(d,g,R.children,S),g.memoizedState=null,S)}function v(d,g){return g=ed({mode:"visible",children:g},d.mode,0,null),g.return=d,d.child=g}function x(d,g,S,R){var P=d.child;return d=P.sibling,S=$l(P,{mode:"visible",children:S}),!(g.mode&1)&&(S.lanes=R),S.return=g,S.sibling=null,d!==null&&(R=g.deletions,R===null?(g.deletions=[d],g.flags|=16):R.push(d)),g.child=S}function E(d,g,S,R,P){var N=g.mode;d=d.child;var Z=d.sibling,le={mode:"hidden",children:S};return!(N&1)&&g.child!==d?(S=g.child,S.childLanes=0,S.pendingProps=le,g.deletions=null):(S=$l(d,le),S.subtreeFlags=d.subtreeFlags&14680064),Z!==null?R=$l(Z,R):(R=Qa(R,N,P,null),R.flags|=2),R.return=g,S.return=g,S.sibling=R,g.child=S,R}function k(d,g,S,R){return R!==null&&Er(R),os(g,d.child,null,S),d=v(g,g.pendingProps.children),d.flags|=2,g.memoizedState=null,d}function D(d,g,S){d.lanes|=g;var R=d.alternate;R!==null&&(R.lanes|=g),VA(d.return,g,S)}function O(d,g,S,R,P){var N=d.memoizedState;N===null?d.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:R,tail:S,tailMode:P}:(N.isBackwards=g,N.rendering=null,N.renderingStartTime=0,N.last=R,N.tail=S,N.tailMode=P)}function G(d,g,S){var R=g.pendingProps,P=R.revealOrder,N=R.tail;if(Jn(d,g,R.children,S),R=on.current,R&2)R=R&1|2,g.flags|=128;else{if(d!==null&&d.flags&128)e:for(d=g.child;d!==null;){if(d.tag===13)d.memoizedState!==null&&D(d,S,g);else if(d.tag===19)D(d,S,g);else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===g)break e;for(;d.sibling===null;){if(d.return===null||d.return===g)break e;d=d.return}d.sibling.return=d.return,d=d.sibling}R&=1}if(W(on,R),!(g.mode&1))g.memoizedState=null;else switch(P){case"forwards":for(S=g.child,P=null;S!==null;)d=S.alternate,d!==null&&oo(d)===null&&(P=S),S=S.sibling;S=P,S===null?(P=g.child,g.child=null):(P=S.sibling,S.sibling=null),O(g,!1,P,S,N);break;case"backwards":for(S=null,P=g.child,g.child=null;P!==null;){if(d=P.alternate,d!==null&&oo(d)===null){g.child=P;break}d=P.sibling,P.sibling=S,S=P,P=d}O(g,!0,S,null,N);break;case"together":O(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function K(d,g,S){if(d!==null&&(g.dependencies=d.dependencies),Au|=g.lanes,!(S&g.childLanes))return null;if(d!==null&&g.child!==d.child)throw Error(o(153));if(g.child!==null){for(d=g.child,S=$l(d,d.pendingProps),g.child=S,S.return=g;d.sibling!==null;)d=d.sibling,S=S.sibling=$l(d,d.pendingProps),S.return=g;S.sibling=null}return g.child}function ee(d,g,S){switch(g.tag){case 3:Us(g),kl();break;case 5:bl(g);break;case 1:vr(g.type)&&GA(g);break;case 4:XA(g,g.stateNode.containerInfo);break;case 10:to(g,g.type._context,g.memoizedProps.value);break;case 13:var R=g.memoizedState;if(R!==null)return R.dehydrated!==null?(W(on,on.current&1),g.flags|=128,null):S&g.child.childLanes?p(d,g,S):(W(on,on.current&1),d=K(d,g,S),d!==null?d.sibling:null);W(on,on.current&1);break;case 19:if(R=(S&g.childLanes)!==0,d.flags&128){if(R)return G(d,g,S);g.flags|=128}var P=g.memoizedState;if(P!==null&&(P.rendering=null,P.tail=null,P.lastEffect=null),W(on,on.current),R)break;return null;case 22:case 23:return g.lanes=0,ou(d,g,S)}return K(d,g,S)}function te(d,g){switch(U0(g),g.tag){case 1:return vr(g.type)&&V(),d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 3:return Ho(),$e(yr),$e($n),$0(),d=g.flags,d&65536&&!(d&128)?(g.flags=d&-65537|128,g):null;case 5:return so(g),null;case 13:if($e(on),d=g.memoizedState,d!==null&&d.dehydrated!==null){if(g.alternate===null)throw Error(o(340));kl()}return d=g.flags,d&65536?(g.flags=d&-65537|128,g):null;case 19:return $e(on),null;case 4:return Ho(),null;case 10:return rs(g.type._context),null;case 22:case 23:return n1(),null;case 24:return null;default:return null}}var J=!1,oe=!1,Se=typeof WeakSet=="function"?WeakSet:Set,ne=null;function de(d,g){var S=d.ref;if(S!==null)if(typeof S=="function")try{S(null)}catch(R){ui(d,g,R)}else S.current=null}function me(d,g,S){try{S()}catch(R){ui(d,g,R)}}var Ae=!1;function Be(d,g){for(se(d.containerInfo),ne=g;ne!==null;)if(d=ne,g=d.child,(d.subtreeFlags&1028)!==0&&g!==null)g.return=d,ne=g;else for(;ne!==null;){d=ne;try{var S=d.alternate;if(d.flags&1024)switch(d.tag){case 0:case 11:case 15:break;case 1:if(S!==null){var R=S.memoizedProps,P=S.memoizedState,N=d.stateNode,Z=N.getSnapshotBeforeUpdate(d.elementType===d.type?R:ii(d.type,R),P);N.__reactInternalSnapshotBeforeUpdate=Z}break;case 3:Li&&Rm(d.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(o(163))}}catch(le){ui(d,d.return,le)}if(g=d.sibling,g!==null){g.return=d.return,ne=g;break}ne=d.return}return S=Ae,Ae=!1,S}function Ue(d,g,S){var R=g.updateQueue;if(R=R!==null?R.lastEffect:null,R!==null){var P=R=R.next;do{if((P.tag&d)===d){var N=P.destroy;P.destroy=void 0,N!==void 0&&me(g,S,N)}P=P.next}while(P!==R)}}function Pe(d,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var S=g=g.next;do{if((S.tag&d)===d){var R=S.create;S.destroy=R()}S=S.next}while(S!==g)}}function Ne(d){var g=d.ref;if(g!==null){var S=d.stateNode;switch(d.tag){case 5:d=ce(S);break;default:d=S}typeof g=="function"?g(d):g.current=d}}function Ot(d,g,S){if(Ci&&typeof Ci.onCommitFiberUnmount=="function")try{Ci.onCommitFiberUnmount(ba,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(d=g.updateQueue,d!==null&&(d=d.lastEffect,d!==null)){var R=d=d.next;do{var P=R,N=P.destroy;P=P.tag,N!==void 0&&(P&2||P&4)&&me(g,S,N),R=R.next}while(R!==d)}break;case 1:if(de(g,S),d=g.stateNode,typeof d.componentWillUnmount=="function")try{d.props=g.memoizedProps,d.state=g.memoizedState,d.componentWillUnmount()}catch(Z){ui(g,S,Z)}break;case 5:de(g,S);break;case 4:Li?Qt(d,g,S):OA&&OA&&(g=g.stateNode.containerInfo,S=Xc(g),Zc(g,S))}}function kt(d,g,S){for(var R=g;;)if(Ot(d,R,S),R.child===null||Li&&R.tag===4){if(R===g)break;for(;R.sibling===null;){if(R.return===null||R.return===g)return;R=R.return}R.sibling.return=R.return,R=R.sibling}else R.child.return=R,R=R.child}function Rt(d){var g=d.alternate;g!==null&&(d.alternate=null,Rt(g)),d.child=null,d.deletions=null,d.sibling=null,d.tag===5&&(g=d.stateNode,g!==null&&bo(g)),d.stateNode=null,d.return=null,d.dependencies=null,d.memoizedProps=null,d.memoizedState=null,d.pendingProps=null,d.stateNode=null,d.updateQueue=null}function ct(d){return d.tag===5||d.tag===3||d.tag===4}function lt(d){e:for(;;){for(;d.sibling===null;){if(d.return===null||ct(d.return))return null;d=d.return}for(d.sibling.return=d.return,d=d.sibling;d.tag!==5&&d.tag!==6&&d.tag!==18;){if(d.flags&2||d.child===null||d.tag===4)continue e;d.child.return=d,d=d.child}if(!(d.flags&2))return d.stateNode}}function ht(d){if(Li){e:{for(var g=d.return;g!==null;){if(ct(g))break e;g=g.return}throw Error(o(160))}var S=g;switch(S.tag){case 5:g=S.stateNode,S.flags&32&&(qc(g),S.flags&=-33),S=lt(d),rt(d,S,g);break;case 3:case 4:g=S.stateNode.containerInfo,S=lt(d),Nt(d,S,g);break;default:throw Error(o(161))}}}function Nt(d,g,S){var R=d.tag;if(R===5||R===6)d=d.stateNode,g?Sm(S,d,g):Kc(S,d);else if(R!==4&&(d=d.child,d!==null))for(Nt(d,g,S),d=d.sibling;d!==null;)Nt(d,g,S),d=d.sibling}function rt(d,g,S){var R=d.tag;if(R===5||R===6)d=d.stateNode,g?Em(S,d,g):Qc(S,d);else if(R!==4&&(d=d.child,d!==null))for(rt(d,g,S),d=d.sibling;d!==null;)rt(d,g,S),d=d.sibling}function Qt(d,g,S){for(var R=g,P=!1,N,Z;;){if(!P){P=R.return;e:for(;;){if(P===null)throw Error(o(160));switch(N=P.stateNode,P.tag){case 5:Z=!1;break e;case 3:N=N.containerInfo,Z=!0;break e;case 4:N=N.containerInfo,Z=!0;break e}P=P.return}P=!0}if(R.tag===5||R.tag===6)kt(d,R,S),Z?Yc(N,R.stateNode):Tm(N,R.stateNode);else if(R.tag===18)Z?$t(N,R.stateNode):Js(N,R.stateNode);else if(R.tag===4){if(R.child!==null){N=R.stateNode.containerInfo,Z=!0,R.child.return=R,R=R.child;continue}}else if(Ot(d,R,S),R.child!==null){R.child.return=R,R=R.child;continue}if(R===g)break;for(;R.sibling===null;){if(R.return===null||R.return===g)return;R=R.return,R.tag===4&&(P=!1)}R.sibling.return=R.return,R=R.sibling}}function Hn(d,g){if(Li){switch(g.tag){case 0:case 11:case 14:case 15:Ue(3,g,g.return),Pe(3,g),Ue(5,g,g.return);return;case 1:return;case 5:var S=g.stateNode;if(S!=null){var R=g.memoizedProps;d=d!==null?d.memoizedProps:R;var P=g.type,N=g.updateQueue;g.updateQueue=null,N!==null&&Wc(S,N,P,d,R,g)}return;case 6:if(g.stateNode===null)throw Error(o(162));S=g.memoizedProps,xm(g.stateNode,d!==null?d.memoizedProps:S,S);return;case 3:Br&&d!==null&&d.memoizedState.isDehydrated&&yt(g.stateNode.containerInfo);return;case 12:return;case 13:za(g);return;case 19:za(g);return;case 17:return}throw Error(o(163))}switch(g.tag){case 0:case 11:case 14:case 15:Ue(3,g,g.return),Pe(3,g),Ue(5,g,g.return);return;case 12:return;case 13:za(g);return;case 19:za(g);return;case 3:Br&&d!==null&&d.memoizedState.isDehydrated&&yt(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(OA){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,Zc(g.containerInfo,g.pendingChildren);break e}throw Error(o(163))}}function za(d){var g=d.updateQueue;if(g!==null){d.updateQueue=null;var S=d.stateNode;S===null&&(S=d.stateNode=new Se),g.forEach(function(R){var P=GD.bind(null,d,R);S.has(R)||(S.add(R),R.then(P,P))})}}function DD(d,g){for(ne=g;ne!==null;){g=ne;var S=g.deletions;if(S!==null)for(var R=0;R<S.length;R++){var P=S[R];try{var N=d;Li?Qt(N,P,g):kt(N,P,g);var Z=P.alternate;Z!==null&&(Z.return=null),P.return=null}catch(Ye){ui(P,g,Ye)}}if(S=g.child,g.subtreeFlags&12854&&S!==null)S.return=g,ne=S;else for(;ne!==null;){g=ne;try{var le=g.flags;if(le&32&&Li&&qc(g.stateNode),le&512){var Te=g.alternate;if(Te!==null){var Me=Te.ref;Me!==null&&(typeof Me=="function"?Me(null):Me.current=null)}}if(le&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var je=g.alternate;(je===null||je.memoizedState===null)&&(qm=En())}break;case 22:var vt=g.memoizedState!==null,tt=g.alternate,Xt=tt!==null&&tt.memoizedState!==null;if(S=g,Li){e:if(R=S,P=vt,N=null,Li)for(var qe=R;;){if(qe.tag===5){if(N===null){N=qe;var Tr=qe.stateNode;P?wm(Tr):I0(qe.stateNode,qe.memoizedProps)}}else if(qe.tag===6){if(N===null){var fs=qe.stateNode;P?km(fs):Lm(fs,qe.memoizedProps)}}else if((qe.tag!==22&&qe.tag!==23||qe.memoizedState===null||qe===R)&&qe.child!==null){qe.child.return=qe,qe=qe.child;continue}if(qe===R)break;for(;qe.sibling===null;){if(qe.return===null||qe.return===R)break e;N===qe&&(N=null),qe=qe.return}N===qe&&(N=null),qe.sibling.return=qe.return,qe=qe.sibling}}if(vt&&!Xt&&S.mode&1){ne=S;for(var ve=S.child;ve!==null;){for(S=ne=ve;ne!==null;){R=ne;var ue=R.child;switch(R.tag){case 0:case 11:case 14:case 15:Ue(4,R,R.return);break;case 1:de(R,R.return);var Ee=R.stateNode;if(typeof Ee.componentWillUnmount=="function"){var Ge=R.return;try{Ee.props=R.memoizedProps,Ee.state=R.memoizedState,Ee.componentWillUnmount()}catch(Ye){ui(R,Ge,Ye)}}break;case 5:de(R,R.return);break;case 22:if(R.memoizedState!==null){T_(S);continue}}ue!==null?(ue.return=R,ne=ue):T_(S)}ve=ve.sibling}}}switch(le&4102){case 2:ht(g),g.flags&=-3;break;case 6:ht(g),g.flags&=-3,Hn(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,Hn(g.alternate,g);break;case 4:Hn(g.alternate,g)}}catch(Ye){ui(g,g.return,Ye)}if(S=g.sibling,S!==null){S.return=g.return,ne=S;break}ne=g.return}}}function bD(d,g,S){ne=d,E_(d)}function E_(d,g,S){for(var R=(d.mode&1)!==0;ne!==null;){var P=ne,N=P.child;if(P.tag===22&&R){var Z=P.memoizedState!==null||J;if(!Z){var le=P.alternate,Te=le!==null&&le.memoizedState!==null||oe;le=J;var Me=oe;if(J=Z,(oe=Te)&&!Me)for(ne=P;ne!==null;)Z=ne,Te=Z.child,Z.tag===22&&Z.memoizedState!==null?w_(P):Te!==null?(Te.return=Z,ne=Te):w_(P);for(;N!==null;)ne=N,E_(N),N=N.sibling;ne=P,J=le,oe=Me}S_(d)}else P.subtreeFlags&8772&&N!==null?(N.return=P,ne=N):S_(d)}}function S_(d){for(;ne!==null;){var g=ne;if(g.flags&8772){var S=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:oe||Pe(5,g);break;case 1:var R=g.stateNode;if(g.flags&4&&!oe)if(S===null)R.componentDidMount();else{var P=g.elementType===g.type?S.memoizedProps:ii(g.type,S.memoizedProps);R.componentDidUpdate(P,S.memoizedState,R.__reactInternalSnapshotBeforeUpdate)}var N=g.updateQueue;N!==null&&ch(g,N,R);break;case 3:var Z=g.updateQueue;if(Z!==null){if(S=null,g.child!==null)switch(g.child.tag){case 5:S=ce(g.child.stateNode);break;case 1:S=g.child.stateNode}ch(g,Z,S)}break;case 5:var le=g.stateNode;S===null&&g.flags&4&&_m(le,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(Br&&g.memoizedState===null){var Te=g.alternate;if(Te!==null){var Me=Te.memoizedState;if(Me!==null){var je=Me.dehydrated;je!==null&&Dt(je)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(o(163))}oe||g.flags&512&&Ne(g)}catch(vt){ui(g,g.return,vt)}}if(g===d){ne=null;break}if(S=g.sibling,S!==null){S.return=g.return,ne=S;break}ne=g.return}}function T_(d){for(;ne!==null;){var g=ne;if(g===d){ne=null;break}var S=g.sibling;if(S!==null){S.return=g.return,ne=S;break}ne=g.return}}function w_(d){for(;ne!==null;){var g=ne;try{switch(g.tag){case 0:case 11:case 15:var S=g.return;try{Pe(4,g)}catch(Te){ui(g,S,Te)}break;case 1:var R=g.stateNode;if(typeof R.componentDidMount=="function"){var P=g.return;try{R.componentDidMount()}catch(Te){ui(g,P,Te)}}var N=g.return;try{Ne(g)}catch(Te){ui(g,N,Te)}break;case 5:var Z=g.return;try{Ne(g)}catch(Te){ui(g,Z,Te)}}}catch(Te){ui(g,g.return,Te)}if(g===d){ne=null;break}var le=g.sibling;if(le!==null){le.return=g.return,ne=le;break}ne=g.return}}var Uh=0,Gh=1,$h=2,zh=3,Hh=4;if(typeof Symbol=="function"&&Symbol.for){var X0=Symbol.for;Uh=X0("selector.component"),Gh=X0("selector.has_pseudo_class"),$h=X0("selector.role"),zh=X0("selector.test_id"),Hh=X0("selector.text")}function jm(d){var g=dm(d);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(o(364));return g}if(d=Ds(d),d===null)throw Error(o(362));return d.stateNode.current}function Vm(d,g){switch(g.$$typeof){case Uh:if(d.type===g.value)return!0;break;case Gh:e:{g=g.value,d=[d,0];for(var S=0;S<d.length;){var R=d[S++],P=d[S++],N=g[P];if(R.tag!==5||!Zi(R)){for(;N!=null&&Vm(R,N);)P++,N=g[P];if(P===g.length){g=!0;break e}else for(R=R.child;R!==null;)d.push(R,P),R=R.sibling}}g=!1}return g;case $h:if(d.tag===5&&C0(d.stateNode,g.value))return!0;break;case Hh:if((d.tag===5||d.tag===6)&&(d=Vc(d),d!==null&&0<=d.indexOf(g.value)))return!0;break;case zh:if(d.tag===5&&(d=d.memoizedProps["data-testname"],typeof d=="string"&&d.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(o(365))}return!1}function Qm(d){switch(d.$$typeof){case Uh:return"<"+(H(d.value)||"Unknown")+">";case Gh:return":has("+(Qm(d)||"")+")";case $h:return'[role="'+d.value+'"]';case Hh:return'"'+d.value+'"';case zh:return'[data-testname="'+d.value+'"]';default:throw Error(o(365))}}function k_(d,g){var S=[];d=[d,0];for(var R=0;R<d.length;){var P=d[R++],N=d[R++],Z=g[N];if(P.tag!==5||!Zi(P)){for(;Z!=null&&Vm(P,Z);)N++,Z=g[N];if(N===g.length)S.push(P);else for(P=P.child;P!==null;)d.push(P,N),P=P.sibling}}return S}function Km(d,g){if(!La)throw Error(o(363));d=jm(d),d=k_(d,g),g=[],d=Array.from(d);for(var S=0;S<d.length;){var R=d[S++];if(R.tag===5)Zi(R)||g.push(R.stateNode);else for(R=R.child;R!==null;)d.push(R),R=R.sibling}return g}var PD=Math.ceil,jh=l.ReactCurrentDispatcher,Wm=l.ReactCurrentOwner,Dn=l.ReactCurrentBatchConfig,wt=0,Fn=null,Nn=null,ur=0,Mi=0,au=mr(0),jn=0,Z0=null,Au=0,Vh=0,Ym=0,J0=null,ai=null,qm=0,Xm=1/0;function uu(){Xm=En()+500}var Qh=!1,Zm=null,Nl=null,Kh=!1,Bl=null,Wh=0,ef=0,Jm=null,Yh=-1,qh=0;function jr(){return wt&6?En():Yh!==-1?Yh:Yh=En()}function Ul(d){return d.mode&1?wt&2&&ur!==0?ur&-ur:Bm.transition!==null?(qh===0&&(d=Ca,Ca<<=1,!(Ca&4194240)&&(Ca=64),qh=d),qh):(d=bt,d!==0?d:pm()):1}function As(d,g,S){if(50<ef)throw ef=0,Jm=null,Error(o(185));var R=Xh(d,g);return R===null?null:(Ia(R,g,S),(!(wt&2)||R!==Fn)&&(R===Fn&&(!(wt&2)&&(Vh|=g),jn===4&&Gl(R,ur)),Ai(R,S),g===1&&wt===0&&!(d.mode&1)&&(uu(),ts&&Ur())),R)}function Xh(d,g){d.lanes|=g;var S=d.alternate;for(S!==null&&(S.lanes|=g),S=d,d=d.return;d!==null;)d.childLanes|=g,S=d.alternate,S!==null&&(S.childLanes|=g),S=d,d=d.return;return S.tag===3?S.stateNode:null}function Ai(d,g){var S=d.callbackNode;bm(d,g);var R=El(d,d===Fn?ur:0);if(R===0)S!==null&&oh(S),d.callbackNode=null,d.callbackPriority=0;else if(g=R&-R,d.callbackPriority!==g){if(S!=null&&oh(S),g===1)d.tag===0?Ah(R_.bind(null,d)):zA(R_.bind(null,d)),ka?mm(function(){wt===0&&Ur()}):F0(Da,Ur),S=null;else{switch(O0(R)){case 1:S=Da;break;case 4:S=Om;break;case 16:S=N0;break;case 536870912:S=ah;break;default:S=N0}S=N_(S,L_.bind(null,d))}d.callbackPriority=g,d.callbackNode=S}}function L_(d,g){if(Yh=-1,qh=0,wt&6)throw Error(o(327));var S=d.callbackNode;if(Va()&&d.callbackNode!==S)return null;var R=El(d,d===Fn?ur:0);if(R===0)return null;if(R&30||R&d.expiredLanes||g)g=Zh(d,R);else{g=R;var P=wt;wt|=2;var N=D_();(Fn!==d||ur!==g)&&(uu(),Ha(d,g));do try{FD();break}catch(le){I_(d,le)}while(!0);Sl(),jh.current=N,wt=P,Nn!==null?g=0:(Fn=null,ur=0,g=jn)}if(g!==0){if(g===2&&(P=$A(d),P!==0&&(R=P,g=e1(d,P))),g===1)throw S=Z0,Ha(d,0),Gl(d,R),Ai(d,En()),S;if(g===6)Gl(d,R);else{if(P=d.current.alternate,!(R&30)&&!MD(P)&&(g=Zh(d,R),g===2&&(N=$A(d),N!==0&&(R=N,g=e1(d,N))),g===1))throw S=Z0,Ha(d,0),Gl(d,R),Ai(d,En()),S;switch(d.finishedWork=P,d.finishedLanes=R,g){case 0:case 1:throw Error(o(345));case 2:ja(d,ai);break;case 3:if(Gl(d,R),(R&130023424)===R&&(g=qm+500-En(),10<g)){if(El(d,0)!==0)break;if(P=d.suspendedLanes,(P&R)!==R){jr(),d.pingedLanes|=d.suspendedLanes&P;break}d.timeoutHandle=qt(ja.bind(null,d,ai),g);break}ja(d,ai);break;case 4:if(Gl(d,R),(R&4194240)===R)break;for(g=d.eventTimes,P=-1;0<R;){var Z=31-Ri(R);N=1<<Z,Z=g[Z],Z>P&&(P=Z),R&=~N}if(R=P,R=En()-R,R=(120>R?120:480>R?480:1080>R?1080:1920>R?1920:3e3>R?3e3:4320>R?4320:1960*PD(R/1960))-R,10<R){d.timeoutHandle=qt(ja.bind(null,d,ai),R);break}ja(d,ai);break;case 5:ja(d,ai);break;default:throw Error(o(329))}}}return Ai(d,En()),d.callbackNode===S?L_.bind(null,d):null}function e1(d,g){var S=J0;return d.current.memoizedState.isDehydrated&&(Ha(d,g).flags|=256),d=Zh(d,g),d!==2&&(g=ai,ai=S,g!==null&&t1(g)),d}function t1(d){ai===null?ai=d:ai.push.apply(ai,d)}function MD(d){for(var g=d;;){if(g.flags&16384){var S=g.updateQueue;if(S!==null&&(S=S.stores,S!==null))for(var R=0;R<S.length;R++){var P=S[R],N=P.getSnapshot;P=P.value;try{if(!es(N(),P))return!1}catch{return!1}}}if(S=g.child,g.subtreeFlags&16384&&S!==null)S.return=g,g=S;else{if(g===d)break;for(;g.sibling===null;){if(g.return===null||g.return===d)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Gl(d,g){for(g&=~Ym,g&=~Vh,d.suspendedLanes|=g,d.pingedLanes&=~g,d=d.expirationTimes;0<g;){var S=31-Ri(g),R=1<<S;d[S]=-1,g&=~R}}function R_(d){if(wt&6)throw Error(o(327));Va();var g=El(d,0);if(!(g&1))return Ai(d,En()),null;var S=Zh(d,g);if(d.tag!==0&&S===2){var R=$A(d);R!==0&&(g=R,S=e1(d,R))}if(S===1)throw S=Z0,Ha(d,0),Gl(d,g),Ai(d,En()),S;if(S===6)throw Error(o(345));return d.finishedWork=d.current.alternate,d.finishedLanes=g,ja(d,ai),Ai(d,En()),null}function C_(d){Bl!==null&&Bl.tag===0&&!(wt&6)&&Va();var g=wt;wt|=1;var S=Dn.transition,R=bt;try{if(Dn.transition=null,bt=1,d)return d()}finally{bt=R,Dn.transition=S,wt=g,!(wt&6)&&Ur()}}function n1(){Mi=au.current,$e(au)}function Ha(d,g){d.finishedWork=null,d.finishedLanes=0;var S=d.timeoutHandle;if(S!==Do&&(d.timeoutHandle=Do,Io(S)),Nn!==null)for(S=Nn.return;S!==null;){var R=S;switch(U0(R),R.tag){case 1:R=R.type.childContextTypes,R!=null&&V();break;case 3:Ho(),$e(yr),$e($n),$0();break;case 5:so(R);break;case 4:Ho();break;case 13:$e(on);break;case 19:$e(on);break;case 10:rs(R.type._context);break;case 22:case 23:n1()}S=S.return}if(Fn=d,Nn=d=$l(d.current,null),ur=Mi=g,jn=0,Z0=null,Ym=Vh=Au=0,ai=J0=null,is!==null){for(g=0;g<is.length;g++)if(S=is[g],R=S.interleaved,R!==null){S.interleaved=null;var P=R.next,N=S.pending;if(N!==null){var Z=N.next;N.next=P,R.next=Z}S.pending=R}is=null}return d}function I_(d,g){do{var S=Nn;try{if(Sl(),ZA.current=tu,Fa){for(var R=un.memoizedState;R!==null;){var P=R.queue;P!==null&&(P.pending=null),R=R.next}Fa=!1}if(Pl=0,Sn=Yn=un=null,jo=!1,Na=0,Wm.current=null,S===null||S.return===null){jn=1,Z0=g,Nn=null;break}e:{var N=d,Z=S.return,le=S,Te=g;if(g=ur,le.flags|=32768,Te!==null&&typeof Te=="object"&&typeof Te.then=="function"){var Me=Te,je=le,vt=je.tag;if(!(je.mode&1)&&(vt===0||vt===11||vt===15)){var tt=je.alternate;tt?(je.updateQueue=tt.updateQueue,je.memoizedState=tt.memoizedState,je.lanes=tt.lanes):(je.updateQueue=null,je.memoizedState=null)}var Xt=Bh(Z);if(Xt!==null){Xt.flags&=-257,Bs(Xt,Z,le,N,g),Xt.mode&1&&Nh(N,Me,g),g=Xt,Te=Me;var qe=g.updateQueue;if(qe===null){var Tr=new Set;Tr.add(Te),g.updateQueue=Tr}else qe.add(Te);break e}else{if(!(g&1)){Nh(N,Me,g),r1();break e}Te=Error(o(426))}}else if(tn&&le.mode&1){var fs=Bh(Z);if(fs!==null){!(fs.flags&65536)&&(fs.flags|=256),Bs(fs,Z,le,N,g),Er(Te);break e}}N=Te,jn!==4&&(jn=2),J0===null?J0=[N]:J0.push(N),Te=nu(Te,le),le=Z;do{switch(le.tag){case 3:le.flags|=65536,g&=-g,le.lanes|=g;var ve=Oh(le,Te,g);fh(le,ve);break e;case 1:N=Te;var ue=le.type,Ee=le.stateNode;if(!(le.flags&128)&&(typeof ue.getDerivedStateFromError=="function"||Ee!==null&&typeof Ee.componentDidCatch=="function"&&(Nl===null||!Nl.has(Ee)))){le.flags|=65536,g&=-g,le.lanes|=g;var Ge=Fh(le,N,g);fh(le,Ge);break e}}le=le.return}while(le!==null)}P_(S)}catch(Ye){g=Ye,Nn===S&&S!==null&&(Nn=S=S.return);continue}break}while(!0)}function D_(){var d=jh.current;return jh.current=tu,d===null?tu:d}function r1(){(jn===0||jn===3||jn===2)&&(jn=4),Fn===null||!(Au&268435455)&&!(Vh&268435455)||Gl(Fn,ur)}function Zh(d,g){var S=wt;wt|=2;var R=D_();Fn===d&&ur===g||Ha(d,g);do try{OD();break}catch(P){I_(d,P)}while(!0);if(Sl(),wt=S,jh.current=R,Nn!==null)throw Error(o(261));return Fn=null,ur=0,jn}function OD(){for(;Nn!==null;)b_(Nn)}function FD(){for(;Nn!==null&&!Mm();)b_(Nn)}function b_(d){var g=F_(d.alternate,d,Mi);d.memoizedProps=d.pendingProps,g===null?P_(d):Nn=g,Wm.current=null}function P_(d){var g=d;do{var S=g.alternate;if(d=g.return,g.flags&32768){if(S=te(S,g),S!==null){S.flags&=32767,Nn=S;return}if(d!==null)d.flags|=32768,d.subtreeFlags=0,d.deletions=null;else{jn=6,Nn=null;return}}else if(S=Zn(S,g,Mi),S!==null){Nn=S;return}if(g=g.sibling,g!==null){Nn=g;return}Nn=g=d}while(g!==null);jn===0&&(jn=5)}function ja(d,g){var S=bt,R=Dn.transition;try{Dn.transition=null,bt=1,ND(d,g,S)}finally{Dn.transition=R,bt=S}return null}function ND(d,g,S){do Va();while(Bl!==null);if(wt&6)throw Error(o(327));var R=d.finishedWork,P=d.finishedLanes;if(R===null)return null;if(d.finishedWork=null,d.finishedLanes=0,R===d.current)throw Error(o(177));d.callbackNode=null,d.callbackPriority=0;var N=R.lanes|R.childLanes;if(Pm(d,N),d===Fn&&(Nn=Fn=null,ur=0),!(R.subtreeFlags&2064)&&!(R.flags&2064)||Kh||(Kh=!0,N_(N0,function(){return Va(),null})),N=(R.flags&15990)!==0,R.subtreeFlags&15990||N){N=Dn.transition,Dn.transition=null;var Z=bt;bt=1;var le=wt;wt|=4,Wm.current=null,Be(d,R),DD(d,R),fe(d.containerInfo),d.current=R,bD(R),lh(),wt=le,bt=Z,Dn.transition=N}else d.current=R;if(Kh&&(Kh=!1,Bl=d,Wh=P),N=d.pendingLanes,N===0&&(Nl=null),Fm(R.stateNode),Ai(d,En()),g!==null)for(S=d.onRecoverableError,R=0;R<g.length;R++)S(g[R]);if(Qh)throw Qh=!1,d=Zm,Zm=null,d;return Wh&1&&d.tag!==0&&Va(),N=d.pendingLanes,N&1?d===Jm?ef++:(ef=0,Jm=d):ef=0,Ur(),null}function Va(){if(Bl!==null){var d=O0(Wh),g=Dn.transition,S=bt;try{if(Dn.transition=null,bt=16>d?16:d,Bl===null)var R=!1;else{if(d=Bl,Bl=null,Wh=0,wt&6)throw Error(o(331));var P=wt;for(wt|=4,ne=d.current;ne!==null;){var N=ne,Z=N.child;if(ne.flags&16){var le=N.deletions;if(le!==null){for(var Te=0;Te<le.length;Te++){var Me=le[Te];for(ne=Me;ne!==null;){var je=ne;switch(je.tag){case 0:case 11:case 15:Ue(8,je,N)}var vt=je.child;if(vt!==null)vt.return=je,ne=vt;else for(;ne!==null;){je=ne;var tt=je.sibling,Xt=je.return;if(Rt(je),je===Me){ne=null;break}if(tt!==null){tt.return=Xt,ne=tt;break}ne=Xt}}}var qe=N.alternate;if(qe!==null){var Tr=qe.child;if(Tr!==null){qe.child=null;do{var fs=Tr.sibling;Tr.sibling=null,Tr=fs}while(Tr!==null)}}ne=N}}if(N.subtreeFlags&2064&&Z!==null)Z.return=N,ne=Z;else e:for(;ne!==null;){if(N=ne,N.flags&2048)switch(N.tag){case 0:case 11:case 15:Ue(9,N,N.return)}var ve=N.sibling;if(ve!==null){ve.return=N.return,ne=ve;break e}ne=N.return}}var ue=d.current;for(ne=ue;ne!==null;){Z=ne;var Ee=Z.child;if(Z.subtreeFlags&2064&&Ee!==null)Ee.return=Z,ne=Ee;else e:for(Z=ue;ne!==null;){if(le=ne,le.flags&2048)try{switch(le.tag){case 0:case 11:case 15:Pe(9,le)}}catch(Ye){ui(le,le.return,Ye)}if(le===Z){ne=null;break e}var Ge=le.sibling;if(Ge!==null){Ge.return=le.return,ne=Ge;break e}ne=le.return}}if(wt=P,Ur(),Ci&&typeof Ci.onPostCommitFiberRoot=="function")try{Ci.onPostCommitFiberRoot(ba,d)}catch{}R=!0}return R}finally{bt=S,Dn.transition=g}}return!1}function M_(d,g,S){g=nu(S,g),g=Oh(d,g,1),ro(d,g),g=jr(),d=Xh(d,1),d!==null&&(Ia(d,1,g),Ai(d,g))}function ui(d,g,S){if(d.tag===3)M_(d,d,S);else for(;g!==null;){if(g.tag===3){M_(g,d,S);break}else if(g.tag===1){var R=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof R.componentDidCatch=="function"&&(Nl===null||!Nl.has(R))){d=nu(S,d),d=Fh(g,d,1),ro(g,d),d=jr(),g=Xh(g,1),g!==null&&(Ia(g,1,d),Ai(g,d));break}}g=g.return}}function BD(d,g,S){var R=d.pingCache;R!==null&&R.delete(g),g=jr(),d.pingedLanes|=d.suspendedLanes&S,Fn===d&&(ur&S)===S&&(jn===4||jn===3&&(ur&130023424)===ur&&500>En()-qm?Ha(d,0):Ym|=S),Ai(d,g)}function O_(d,g){g===0&&(d.mode&1?(g=ri,ri<<=1,!(ri&130023424)&&(ri=4194304)):g=1);var S=jr();d=Xh(d,g),d!==null&&(Ia(d,g,S),Ai(d,S))}function UD(d){var g=d.memoizedState,S=0;g!==null&&(S=g.retryLane),O_(d,S)}function GD(d,g){var S=0;switch(d.tag){case 13:var R=d.stateNode,P=d.memoizedState;P!==null&&(S=P.retryLane);break;case 19:R=d.stateNode;break;default:throw Error(o(314))}R!==null&&R.delete(g),O_(d,S)}var F_;F_=function(d,g,S){if(d!==null)if(d.memoizedProps!==g.pendingProps||yr.current)On=!0;else{if(!(d.lanes&S)&&!(g.flags&128))return On=!1,ee(d,g,S);On=!!(d.flags&131072)}else On=!1,tn&&g.flags&1048576&&Pa(g,qA,g.index);switch(g.lanes=0,g.tag){case 2:var R=g.type;d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2),d=g.pendingProps;var P=_l(g,$n.current);No(g,S),P=H0(null,g,R,d,P,S);var N=j0();return g.flags|=1,typeof P=="object"&&P!==null&&typeof P.render=="function"&&P.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,vr(R)?(N=!0,GA(g)):N=!1,g.memoizedState=P.state!==null&&P.state!==void 0?P.state:null,QA(g),P.updater=YA,g.stateNode=P,P._reactInternals=g,B0(g,R,d,S),g=lu(null,g,R,!0,N,S)):(g.tag=0,tn&&N&&Vt(g),Jn(null,g,P,S),g=g.child),g;case 16:R=g.elementType;e:{switch(d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2),d=g.pendingProps,P=R._init,R=P(R._payload),g.type=R,P=g.tag=zD(R),d=ii(R,d),P){case 0:g=Fl(null,g,R,d,S);break e;case 1:g=lo(null,g,R,d,S);break e;case 11:g=Re(null,g,R,d,S);break e;case 14:g=Oe(null,g,R,ii(R.type,d),S);break e}throw Error(o(306,R,""))}return g;case 0:return R=g.type,P=g.pendingProps,P=g.elementType===R?P:ii(R,P),Fl(d,g,R,P,S);case 1:return R=g.type,P=g.pendingProps,P=g.elementType===R?P:ii(R,P),lo(d,g,R,P,S);case 3:e:{if(Us(g),d===null)throw Error(o(387));R=g.pendingProps,N=g.memoizedState,P=N.element,uh(d,g),WA(g,R,null,S);var Z=g.memoizedState;if(R=Z.element,Br&&N.isDehydrated)if(N={element:R,isDehydrated:!1,cache:Z.cache,transitions:Z.transitions},g.updateQueue.baseState=N,g.memoizedState=N,g.flags&256){P=Error(o(423)),g=A(d,g,R,S,P);break e}else if(R!==P){P=Error(o(424)),g=A(d,g,R,S,P);break e}else for(Br&&(zr=Je(g.stateNode.containerInfo),$r=g,tn=!0,Di=null,Ma=!1),S=yh(g,null,R,S),g.child=S;S;)S.flags=S.flags&-3|4096,S=S.sibling;else{if(kl(),R===P){g=K(d,g,S);break e}Jn(d,g,R,S)}g=g.child}return g;case 5:return bl(g),d===null&&Fs(g),R=g.type,P=g.pendingProps,N=d!==null?d.memoizedProps:null,Z=P.children,At(R,P)?Z=null:N!==null&&At(R,N)&&(g.flags|=32),$a(d,g),Jn(d,g,Z,S),g.child;case 6:return d===null&&Fs(g),null;case 13:return p(d,g,S);case 4:return XA(g,g.stateNode.containerInfo),R=g.pendingProps,d===null?g.child=os(g,null,R,S):Jn(d,g,R,S),g.child;case 11:return R=g.type,P=g.pendingProps,P=g.elementType===R?P:ii(R,P),Re(d,g,R,P,S);case 7:return Jn(d,g,g.pendingProps,S),g.child;case 8:return Jn(d,g,g.pendingProps.children,S),g.child;case 12:return Jn(d,g,g.pendingProps.children,S),g.child;case 10:e:{if(R=g.type._context,P=g.pendingProps,N=g.memoizedProps,Z=P.value,to(g,R,Z),N!==null)if(es(N.value,Z)){if(N.children===P.children&&!yr.current){g=K(d,g,S);break e}}else for(N=g.child,N!==null&&(N.return=g);N!==null;){var le=N.dependencies;if(le!==null){Z=N.child;for(var Te=le.firstContext;Te!==null;){if(Te.context===R){if(N.tag===1){Te=Ps(-1,S&-S),Te.tag=2;var Me=N.updateQueue;if(Me!==null){Me=Me.shared;var je=Me.pending;je===null?Te.next=Te:(Te.next=je.next,je.next=Te),Me.pending=Te}}N.lanes|=S,Te=N.alternate,Te!==null&&(Te.lanes|=S),VA(N.return,S,g),le.lanes|=S;break}Te=Te.next}}else if(N.tag===10)Z=N.type===g.type?null:N.child;else if(N.tag===18){if(Z=N.return,Z===null)throw Error(o(341));Z.lanes|=S,le=Z.alternate,le!==null&&(le.lanes|=S),VA(Z,S,g),Z=N.sibling}else Z=N.child;if(Z!==null)Z.return=N;else for(Z=N;Z!==null;){if(Z===g){Z=null;break}if(N=Z.sibling,N!==null){N.return=Z.return,Z=N;break}Z=Z.return}N=Z}Jn(d,g,P.children,S),g=g.child}return g;case 9:return P=g.type,R=g.pendingProps.children,No(g,S),P=xr(P),R=R(P),g.flags|=1,Jn(d,g,R,S),g.child;case 14:return R=g.type,P=ii(R,g.pendingProps),P=ii(R.type,P),Oe(d,g,R,P,S);case 15:return q0(d,g,g.type,g.pendingProps,S);case 17:return R=g.type,P=g.pendingProps,P=g.elementType===R?P:ii(R,P),d!==null&&(d.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,vr(R)?(d=!0,GA(g)):d=!1,No(g,S),gh(g,R,P),B0(g,R,P,S),lu(null,g,R,!0,d,S);case 19:return G(d,g,S);case 22:return ou(d,g,S)}throw Error(o(156,g.tag))};function N_(d,g){return F0(d,g)}function $D(d,g,S,R){this.tag=d,this.key=S,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=R,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function us(d,g,S,R){return new $D(d,g,S,R)}function i1(d){return d=d.prototype,!(!d||!d.isReactComponent)}function zD(d){if(typeof d=="function")return i1(d)?1:0;if(d!=null){if(d=d.$$typeof,d===L)return 11;if(d===b)return 14}return 2}function $l(d,g){var S=d.alternate;return S===null?(S=us(d.tag,g,d.key,d.mode),S.elementType=d.elementType,S.type=d.type,S.stateNode=d.stateNode,S.alternate=d,d.alternate=S):(S.pendingProps=g,S.type=d.type,S.flags=0,S.subtreeFlags=0,S.deletions=null),S.flags=d.flags&14680064,S.childLanes=d.childLanes,S.lanes=d.lanes,S.child=d.child,S.memoizedProps=d.memoizedProps,S.memoizedState=d.memoizedState,S.updateQueue=d.updateQueue,g=d.dependencies,S.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},S.sibling=d.sibling,S.index=d.index,S.ref=d.ref,S}function Jh(d,g,S,R,P,N){var Z=2;if(R=d,typeof d=="function")i1(d)&&(Z=1);else if(typeof d=="string")Z=5;else e:switch(d){case m:return Qa(S.children,P,N,g);case y:Z=8,P|=8;break;case _:return d=us(12,S,g,P|2),d.elementType=_,d.lanes=N,d;case I:return d=us(13,S,g,P),d.elementType=I,d.lanes=N,d;case C:return d=us(19,S,g,P),d.elementType=C,d.lanes=N,d;case U:return ed(S,P,N,g);default:if(typeof d=="object"&&d!==null)switch(d.$$typeof){case T:Z=10;break e;case w:Z=9;break e;case L:Z=11;break e;case b:Z=14;break e;case M:Z=16,R=null;break e}throw Error(o(130,d==null?d:typeof d,""))}return g=us(Z,S,g,P),g.elementType=d,g.type=R,g.lanes=N,g}function Qa(d,g,S,R){return d=us(7,d,R,g),d.lanes=S,d}function ed(d,g,S,R){return d=us(22,d,R,g),d.elementType=U,d.lanes=S,d.stateNode={},d}function s1(d,g,S){return d=us(6,d,null,g),d.lanes=S,d}function o1(d,g,S){return g=us(4,d.children!==null?d.children:[],d.key,g),g.lanes=S,g.stateNode={containerInfo:d.containerInfo,pendingChildren:null,implementation:d.implementation},g}function HD(d,g,S,R,P){this.tag=g,this.containerInfo=d,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=Do,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=M0(0),this.expirationTimes=M0(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=M0(0),this.identifierPrefix=R,this.onRecoverableError=P,Br&&(this.mutableSourceEagerHydrationData=null)}function B_(d,g,S,R,P,N,Z,le,Te){return d=new HD(d,g,S,le,Te),g===1?(g=1,N===!0&&(g|=8)):g=0,N=us(3,null,null,g),d.current=N,N.stateNode=d,N.memoizedState={element:R,isDehydrated:S,cache:null,transitions:null},QA(N),d}function U_(d){if(!d)return Ke;d=d._reactInternals;e:{if(Y(d)!==d||d.tag!==1)throw Error(o(170));var g=d;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(vr(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(o(171))}if(d.tag===1){var S=d.type;if(vr(S))return nh(d,S,g)}return g}function G_(d){var g=d._reactInternals;if(g===void 0)throw typeof d.render=="function"?Error(o(188)):(d=Object.keys(d).join(","),Error(o(268,d)));return d=ge(g),d===null?null:d.stateNode}function $_(d,g){if(d=d.memoizedState,d!==null&&d.dehydrated!==null){var S=d.retryLane;d.retryLane=S!==0&&S<g?S:g}}function l1(d,g){$_(d,g),(d=d.alternate)&&$_(d,g)}function jD(d){return d=ge(d),d===null?null:d.stateNode}function VD(){return null}return t.attemptContinuousHydration=function(d){if(d.tag===13){var g=jr();As(d,134217728,g),l1(d,134217728)}},t.attemptHydrationAtCurrentPriority=function(d){if(d.tag===13){var g=jr(),S=Ul(d);As(d,S,g),l1(d,S)}},t.attemptSynchronousHydration=function(d){switch(d.tag){case 3:var g=d.stateNode;if(g.current.memoizedState.isDehydrated){var S=An(g.pendingLanes);S!==0&&(jt(g,S|1),Ai(g,En()),!(wt&6)&&(uu(),Ur()))}break;case 13:var R=jr();C_(function(){return As(d,1,R)}),l1(d,1)}},t.batchedUpdates=function(d,g){var S=wt;wt|=1;try{return d(g)}finally{wt=S,wt===0&&(uu(),ts&&Ur())}},t.createComponentSelector=function(d){return{$$typeof:Uh,value:d}},t.createContainer=function(d,g,S,R,P,N,Z){return B_(d,g,!1,null,S,R,P,N,Z)},t.createHasPseudoClassSelector=function(d){return{$$typeof:Gh,value:d}},t.createHydrationContainer=function(d,g,S,R,P,N,Z,le,Te){return d=B_(S,R,!0,d,P,N,Z,le,Te),d.context=U_(null),S=d.current,R=jr(),P=Ul(S),N=Ps(R,P),N.callback=g??null,ro(S,N),d.current.lanes=P,Ia(d,P,R),Ai(d,R),d},t.createPortal=function(d,g,S){var R=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:h,key:R==null?null:""+R,children:d,containerInfo:g,implementation:S}},t.createRoleSelector=function(d){return{$$typeof:$h,value:d}},t.createTestNameSelector=function(d){return{$$typeof:zh,value:d}},t.createTextSelector=function(d){return{$$typeof:Hh,value:d}},t.deferredUpdates=function(d){var g=bt,S=Dn.transition;try{return Dn.transition=null,bt=16,d()}finally{bt=g,Dn.transition=S}},t.discreteUpdates=function(d,g,S,R,P){var N=bt,Z=Dn.transition;try{return Dn.transition=null,bt=1,d(g,S,R,P)}finally{bt=N,Dn.transition=Z,wt===0&&uu()}},t.findAllNodes=Km,t.findBoundingRects=function(d,g){if(!La)throw Error(o(363));g=Km(d,g),d=[];for(var S=0;S<g.length;S++)d.push(R0(g[S]));for(g=d.length-1;0<g;g--){S=d[g];for(var R=S.x,P=R+S.width,N=S.y,Z=N+S.height,le=g-1;0<=le;le--)if(g!==le){var Te=d[le],Me=Te.x,je=Me+Te.width,vt=Te.y,tt=vt+Te.height;if(R>=Me&&N>=vt&&P<=je&&Z<=tt){d.splice(g,1);break}else if(R!==Me||S.width!==Te.width||tt<N||vt>Z){if(!(N!==vt||S.height!==Te.height||je<R||Me>P)){Me>R&&(Te.width+=Me-R,Te.x=R),je<P&&(Te.width=P-Me),d.splice(g,1);break}}else{vt>N&&(Te.height+=vt-N,Te.y=N),tt<Z&&(Te.height=Z-vt),d.splice(g,1);break}}}return d},t.findHostInstance=G_,t.findHostInstanceWithNoPortals=function(d){return d=X(d),d=d!==null?xe(d):null,d===null?null:d.stateNode},t.findHostInstanceWithWarning=function(d){return G_(d)},t.flushControlled=function(d){var g=wt;wt|=1;var S=Dn.transition,R=bt;try{Dn.transition=null,bt=1,d()}finally{bt=R,Dn.transition=S,wt=g,wt===0&&(uu(),Ur())}},t.flushPassiveEffects=Va,t.flushSync=C_,t.focusWithin=function(d,g){if(!La)throw Error(o(363));for(d=jm(d),g=k_(d,g),g=Array.from(g),d=0;d<g.length;){var S=g[d++];if(!Zi(S)){if(S.tag===5&&ym(S.stateNode))return!0;for(S=S.child;S!==null;)g.push(S),S=S.sibling}}return!1},t.getCurrentUpdatePriority=function(){return bt},t.getFindAllNodesFailureDescription=function(d,g){if(!La)throw Error(o(363));var S=0,R=[];d=[jm(d),0];for(var P=0;P<d.length;){var N=d[P++],Z=d[P++],le=g[Z];if((N.tag!==5||!Zi(N))&&(Vm(N,le)&&(R.push(Qm(le)),Z++,Z>S&&(S=Z)),Z<g.length))for(N=N.child;N!==null;)d.push(N,Z),N=N.sibling}if(S<g.length){for(d=[];S<g.length;S++)d.push(Qm(g[S]));return`findAllNodes was able to match part of the selector:
  `+(R.join(" > ")+`

No matching component was found for:
  `)+d.join(" > ")}return null},t.getPublicRootInstance=function(d){if(d=d.current,!d.child)return null;switch(d.child.tag){case 5:return ce(d.child.stateNode);default:return d.child.stateNode}},t.injectIntoDevTools=function(d){if(d={bundleType:d.bundleType,version:d.version,rendererPackageName:d.rendererPackageName,rendererConfig:d.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:l.ReactCurrentDispatcher,findHostInstanceByFiber:jD,findFiberByHostInstance:d.findFiberByHostInstance||VD,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")d=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)d=!0;else{try{ba=g.inject(d),Ci=g}catch{}d=!!g.checkDCE}}return d},t.isAlreadyRendering=function(){return!1},t.observeVisibleRects=function(d,g,S,R){if(!La)throw Error(o(363));d=Km(d,g);var P=vm(d,S,R).disconnect;return{disconnect:function(){P()}}},t.registerMutableSourceForHydration=function(d,g){var S=g._getVersion;S=S(g._source),d.mutableSourceEagerHydrationData==null?d.mutableSourceEagerHydrationData=[g,S]:d.mutableSourceEagerHydrationData.push(g,S)},t.runWithPriority=function(d,g){var S=bt;try{return bt=d,g()}finally{bt=S}},t.shouldError=function(){return null},t.shouldSuspend=function(){return!1},t.updateContainer=function(d,g,S,R){var P=g.current,N=jr(),Z=Ul(P);return S=U_(S),g.context===null?g.context=S:g.pendingContext=S,g=Ps(N,Z),g.payload={element:d},R=R===void 0?null:R,R!==null&&(g.callback=R),ro(P,g),d=As(P,Z,N),d!==null&&KA(d,P,Z),Z},t};RR.exports=MP;var OP=RR.exports;const pz=va(OP);function g2(n,e,t){var r,i,s,o,l;e==null&&(e=100);function u(){var m=Date.now()-o;m<e&&m>=0?r=setTimeout(u,e-m):(r=null,t||(l=n.apply(s,i),s=i=null))}var h=function(){s=this,i=arguments,o=Date.now();var m=t&&!r;return r||(r=setTimeout(u,e)),m&&(l=n.apply(s,i),s=i=null),l};return h.clear=function(){r&&(clearTimeout(r),r=null)},h.flush=function(){r&&(l=n.apply(s,i),s=i=null,clearTimeout(r),r=null)},h}g2.debounce=g2;var FP=g2;const mz=va(FP);var NP=Object.defineProperty,BP=Object.defineProperties,UP=Object.getOwnPropertyDescriptors,tS=Object.getOwnPropertySymbols,GP=Object.prototype.hasOwnProperty,$P=Object.prototype.propertyIsEnumerable,nS=(n,e,t)=>e in n?NP(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,rS=(n,e)=>{for(var t in e||(e={}))GP.call(e,t)&&nS(n,t,e[t]);if(tS)for(var t of tS(e))$P.call(e,t)&&nS(n,t,e[t]);return n},zP=(n,e)=>BP(n,UP(e)),iS,sS;typeof window<"u"&&((iS=window.document)!=null&&iS.createElement||((sS=window.navigator)==null?void 0:sS.product)==="ReactNative")?Qe.useLayoutEffect:Qe.useEffect;function CR(n,e,t){if(!n)return;if(t(n)===!0)return n;let r=n.child;for(;r;){const i=CR(r,e,t);if(i)return i;r=r.sibling}}function IR(n){try{return Object.defineProperties(n,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return n}}const oS=console.error;console.error=function(){const n=[...arguments].join("");if(n!=null&&n.startsWith("Warning:")&&n.includes("useContext")){console.error=oS;return}return oS.apply(this,arguments)};const kx=IR(Qe.createContext(null));class HP extends Qe.Component{render(){return Qe.createElement(kx.Provider,{value:this._reactInternals},this.props.children)}}function jP(){const n=Qe.useContext(kx);if(n===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=Qe.useId();return Qe.useMemo(()=>{for(const r of[n,n==null?void 0:n.alternate]){if(!r)continue;const i=CR(r,!1,s=>{let o=s.memoizedState;for(;o;){if(o.memoizedState===e)return!0;o=o.next}});if(i)return i}},[n,e])}function VP(){const n=jP(),[e]=Qe.useState(()=>new Map);e.clear();let t=n;for(;t;){if(t.type&&typeof t.type=="object"){const i=t.type._context===void 0&&t.type.Provider===t.type?t.type:t.type._context;i&&i!==kx&&!e.has(i)&&e.set(i,Qe.useContext(IR(i)))}t=t.return}return e}function yz(){const n=VP();return Qe.useMemo(()=>Array.from(n.keys()).reduce((e,t)=>r=>Qe.createElement(e,null,Qe.createElement(t.Provider,zP(rS({},r),{value:n.get(t)}))),e=>Qe.createElement(HP,rS({},e))),[n])}function Si(){return Si=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)({}).hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Si.apply(null,arguments)}function QP(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var DR={exports:{}};(function(n,e){(function(t){var r=/^(?=((?:[a-zA-Z0-9+\-.]+:)?))\1(?=((?:\/\/[^\/?#]*)?))\2(?=((?:(?:[^?#\/]*\/)*[^;?#\/]*)?))\3((?:;[^?#]*)?)(\?[^#]*)?(#[^]*)?$/,i=/^(?=([^\/?#]*))\1([^]*)$/,s=/(?:\/|^)\.(?=\/)/g,o=/(?:\/|^)\.\.\/(?!\.\.\/)[^\/]*(?=\/)/g,l={buildAbsoluteURL:function(u,h,m){if(m=m||{},u=u.trim(),h=h.trim(),!h){if(!m.alwaysNormalize)return u;var y=l.parseURL(u);if(!y)throw new Error("Error trying to parse base URL.");return y.path=l.normalizePath(y.path),l.buildURLFromParts(y)}var _=l.parseURL(h);if(!_)throw new Error("Error trying to parse relative URL.");if(_.scheme)return m.alwaysNormalize?(_.path=l.normalizePath(_.path),l.buildURLFromParts(_)):h;var T=l.parseURL(u);if(!T)throw new Error("Error trying to parse base URL.");if(!T.netLoc&&T.path&&T.path[0]!=="/"){var w=i.exec(T.path);T.netLoc=w[1],T.path=w[2]}T.netLoc&&!T.path&&(T.path="/");var L={scheme:T.scheme,netLoc:_.netLoc,path:null,params:_.params,query:_.query,fragment:_.fragment};if(!_.netLoc&&(L.netLoc=T.netLoc,_.path[0]!=="/"))if(!_.path)L.path=T.path,_.params||(L.params=T.params,_.query||(L.query=T.query));else{var I=T.path,C=I.substring(0,I.lastIndexOf("/")+1)+_.path;L.path=l.normalizePath(C)}return L.path===null&&(L.path=m.alwaysNormalize?l.normalizePath(_.path):_.path),l.buildURLFromParts(L)},parseURL:function(u){var h=r.exec(u);return h?{scheme:h[1]||"",netLoc:h[2]||"",path:h[3]||"",params:h[4]||"",query:h[5]||"",fragment:h[6]||""}:null},normalizePath:function(u){for(u=u.split("").reverse().join("").replace(s,"");u.length!==(u=u.replace(o,"")).length;);return u.split("").reverse().join("")},buildURLFromParts:function(u){return u.scheme+u.netLoc+u.path+u.params+u.query+u.fragment}};n.exports=l})()})(DR);var Lx=DR.exports;function lS(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function lr(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?lS(Object(t),!0).forEach(function(r){YP(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):lS(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function KP(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function WP(n){var e=KP(n,"string");return typeof e=="symbol"?e:String(e)}function YP(n,e,t){return e=WP(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function Gn(){return Gn=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Gn.apply(this,arguments)}const He=Number.isFinite||function(n){return typeof n=="number"&&isFinite(n)},qP=Number.isSafeInteger||function(n){return typeof n=="number"&&Math.abs(n)<=XP},XP=Number.MAX_SAFE_INTEGER||9007199254740991;let z=function(n){return n.MEDIA_ATTACHING="hlsMediaAttaching",n.MEDIA_ATTACHED="hlsMediaAttached",n.MEDIA_DETACHING="hlsMediaDetaching",n.MEDIA_DETACHED="hlsMediaDetached",n.BUFFER_RESET="hlsBufferReset",n.BUFFER_CODECS="hlsBufferCodecs",n.BUFFER_CREATED="hlsBufferCreated",n.BUFFER_APPENDING="hlsBufferAppending",n.BUFFER_APPENDED="hlsBufferAppended",n.BUFFER_EOS="hlsBufferEos",n.BUFFER_FLUSHING="hlsBufferFlushing",n.BUFFER_FLUSHED="hlsBufferFlushed",n.MANIFEST_LOADING="hlsManifestLoading",n.MANIFEST_LOADED="hlsManifestLoaded",n.MANIFEST_PARSED="hlsManifestParsed",n.LEVEL_SWITCHING="hlsLevelSwitching",n.LEVEL_SWITCHED="hlsLevelSwitched",n.LEVEL_LOADING="hlsLevelLoading",n.LEVEL_LOADED="hlsLevelLoaded",n.LEVEL_UPDATED="hlsLevelUpdated",n.LEVEL_PTS_UPDATED="hlsLevelPtsUpdated",n.LEVELS_UPDATED="hlsLevelsUpdated",n.AUDIO_TRACKS_UPDATED="hlsAudioTracksUpdated",n.AUDIO_TRACK_SWITCHING="hlsAudioTrackSwitching",n.AUDIO_TRACK_SWITCHED="hlsAudioTrackSwitched",n.AUDIO_TRACK_LOADING="hlsAudioTrackLoading",n.AUDIO_TRACK_LOADED="hlsAudioTrackLoaded",n.SUBTITLE_TRACKS_UPDATED="hlsSubtitleTracksUpdated",n.SUBTITLE_TRACKS_CLEARED="hlsSubtitleTracksCleared",n.SUBTITLE_TRACK_SWITCH="hlsSubtitleTrackSwitch",n.SUBTITLE_TRACK_LOADING="hlsSubtitleTrackLoading",n.SUBTITLE_TRACK_LOADED="hlsSubtitleTrackLoaded",n.SUBTITLE_FRAG_PROCESSED="hlsSubtitleFragProcessed",n.CUES_PARSED="hlsCuesParsed",n.NON_NATIVE_TEXT_TRACKS_FOUND="hlsNonNativeTextTracksFound",n.INIT_PTS_FOUND="hlsInitPtsFound",n.FRAG_LOADING="hlsFragLoading",n.FRAG_LOAD_EMERGENCY_ABORTED="hlsFragLoadEmergencyAborted",n.FRAG_LOADED="hlsFragLoaded",n.FRAG_DECRYPTED="hlsFragDecrypted",n.FRAG_PARSING_INIT_SEGMENT="hlsFragParsingInitSegment",n.FRAG_PARSING_USERDATA="hlsFragParsingUserdata",n.FRAG_PARSING_METADATA="hlsFragParsingMetadata",n.FRAG_PARSED="hlsFragParsed",n.FRAG_BUFFERED="hlsFragBuffered",n.FRAG_CHANGED="hlsFragChanged",n.FPS_DROP="hlsFpsDrop",n.FPS_DROP_LEVEL_CAPPING="hlsFpsDropLevelCapping",n.MAX_AUTO_LEVEL_UPDATED="hlsMaxAutoLevelUpdated",n.ERROR="hlsError",n.DESTROYING="hlsDestroying",n.KEY_LOADING="hlsKeyLoading",n.KEY_LOADED="hlsKeyLoaded",n.LIVE_BACK_BUFFER_REACHED="hlsLiveBackBufferReached",n.BACK_BUFFER_REACHED="hlsBackBufferReached",n.STEERING_MANIFEST_LOADED="hlsSteeringManifestLoaded",n}({}),st=function(n){return n.NETWORK_ERROR="networkError",n.MEDIA_ERROR="mediaError",n.KEY_SYSTEM_ERROR="keySystemError",n.MUX_ERROR="muxError",n.OTHER_ERROR="otherError",n}({}),_e=function(n){return n.KEY_SYSTEM_NO_KEYS="keySystemNoKeys",n.KEY_SYSTEM_NO_ACCESS="keySystemNoAccess",n.KEY_SYSTEM_NO_SESSION="keySystemNoSession",n.KEY_SYSTEM_NO_CONFIGURED_LICENSE="keySystemNoConfiguredLicense",n.KEY_SYSTEM_LICENSE_REQUEST_FAILED="keySystemLicenseRequestFailed",n.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED="keySystemServerCertificateRequestFailed",n.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED="keySystemServerCertificateUpdateFailed",n.KEY_SYSTEM_SESSION_UPDATE_FAILED="keySystemSessionUpdateFailed",n.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED="keySystemStatusOutputRestricted",n.KEY_SYSTEM_STATUS_INTERNAL_ERROR="keySystemStatusInternalError",n.MANIFEST_LOAD_ERROR="manifestLoadError",n.MANIFEST_LOAD_TIMEOUT="manifestLoadTimeOut",n.MANIFEST_PARSING_ERROR="manifestParsingError",n.MANIFEST_INCOMPATIBLE_CODECS_ERROR="manifestIncompatibleCodecsError",n.LEVEL_EMPTY_ERROR="levelEmptyError",n.LEVEL_LOAD_ERROR="levelLoadError",n.LEVEL_LOAD_TIMEOUT="levelLoadTimeOut",n.LEVEL_PARSING_ERROR="levelParsingError",n.LEVEL_SWITCH_ERROR="levelSwitchError",n.AUDIO_TRACK_LOAD_ERROR="audioTrackLoadError",n.AUDIO_TRACK_LOAD_TIMEOUT="audioTrackLoadTimeOut",n.SUBTITLE_LOAD_ERROR="subtitleTrackLoadError",n.SUBTITLE_TRACK_LOAD_TIMEOUT="subtitleTrackLoadTimeOut",n.FRAG_LOAD_ERROR="fragLoadError",n.FRAG_LOAD_TIMEOUT="fragLoadTimeOut",n.FRAG_DECRYPT_ERROR="fragDecryptError",n.FRAG_PARSING_ERROR="fragParsingError",n.FRAG_GAP="fragGap",n.REMUX_ALLOC_ERROR="remuxAllocError",n.KEY_LOAD_ERROR="keyLoadError",n.KEY_LOAD_TIMEOUT="keyLoadTimeOut",n.BUFFER_ADD_CODEC_ERROR="bufferAddCodecError",n.BUFFER_INCOMPATIBLE_CODECS_ERROR="bufferIncompatibleCodecsError",n.BUFFER_APPEND_ERROR="bufferAppendError",n.BUFFER_APPENDING_ERROR="bufferAppendingError",n.BUFFER_STALLED_ERROR="bufferStalledError",n.BUFFER_FULL_ERROR="bufferFullError",n.BUFFER_SEEK_OVER_HOLE="bufferSeekOverHole",n.BUFFER_NUDGE_ON_STALL="bufferNudgeOnStall",n.INTERNAL_EXCEPTION="internalException",n.INTERNAL_ABORTED="aborted",n.UNKNOWN="unknown",n}({});const Za=function(){},p2={trace:Za,debug:Za,log:Za,warn:Za,info:Za,error:Za};let Gf=p2;function ZP(n){const e=self.console[n];return e?e.bind(self.console,`[${n}] >`):Za}function JP(n,...e){e.forEach(function(t){Gf[t]=n[t]?n[t].bind(n):ZP(t)})}function e8(n,e){if(typeof console=="object"&&n===!0||typeof n=="object"){JP(n,"debug","log","info","warn","error");try{Gf.log(`Debug logs enabled for "${e}" in hls.js version 1.5.17`)}catch{Gf=p2}}else Gf=p2}const he=Gf,t8=/^(\d+)x(\d+)$/,aS=/(.+?)=(".*?"|.*?)(?:,|$)/g;class fn{constructor(e){typeof e=="string"&&(e=fn.parseAttrList(e)),Gn(this,e)}get clientAttrs(){return Object.keys(this).filter(e=>e.substring(0,2)==="X-")}decimalInteger(e){const t=parseInt(this[e],10);return t>Number.MAX_SAFE_INTEGER?1/0:t}hexadecimalInteger(e){if(this[e]){let t=(this[e]||"0x").slice(2);t=(t.length&1?"0":"")+t;const r=new Uint8Array(t.length/2);for(let i=0;i<t.length/2;i++)r[i]=parseInt(t.slice(i*2,i*2+2),16);return r}else return null}hexadecimalIntegerAsNumber(e){const t=parseInt(this[e],16);return t>Number.MAX_SAFE_INTEGER?1/0:t}decimalFloatingPoint(e){return parseFloat(this[e])}optionalFloat(e,t){const r=this[e];return r?parseFloat(r):t}enumeratedString(e){return this[e]}bool(e){return this[e]==="YES"}decimalResolution(e){const t=t8.exec(this[e]);if(t!==null)return{width:parseInt(t[1],10),height:parseInt(t[2],10)}}static parseAttrList(e){let t;const r={},i='"';for(aS.lastIndex=0;(t=aS.exec(e))!==null;){let s=t[2];s.indexOf(i)===0&&s.lastIndexOf(i)===s.length-1&&(s=s.slice(1,-1));const o=t[1].trim();r[o]=s}return r}}function n8(n){return n!=="ID"&&n!=="CLASS"&&n!=="START-DATE"&&n!=="DURATION"&&n!=="END-DATE"&&n!=="END-ON-NEXT"}function r8(n){return n==="SCTE35-OUT"||n==="SCTE35-IN"}class Rx{constructor(e,t){if(this.attr=void 0,this._startDate=void 0,this._endDate=void 0,this._badValueForSameId=void 0,t){const r=t.attr;for(const i in r)if(Object.prototype.hasOwnProperty.call(e,i)&&e[i]!==r[i]){he.warn(`DATERANGE tag attribute: "${i}" does not match for tags with ID: "${e.ID}"`),this._badValueForSameId=i;break}e=Gn(new fn({}),r,e)}if(this.attr=e,this._startDate=new Date(e["START-DATE"]),"END-DATE"in this.attr){const r=new Date(this.attr["END-DATE"]);He(r.getTime())&&(this._endDate=r)}}get id(){return this.attr.ID}get class(){return this.attr.CLASS}get startDate(){return this._startDate}get endDate(){if(this._endDate)return this._endDate;const e=this.duration;return e!==null?new Date(this._startDate.getTime()+e*1e3):null}get duration(){if("DURATION"in this.attr){const e=this.attr.decimalFloatingPoint("DURATION");if(He(e))return e}else if(this._endDate)return(this._endDate.getTime()-this._startDate.getTime())/1e3;return null}get plannedDuration(){return"PLANNED-DURATION"in this.attr?this.attr.decimalFloatingPoint("PLANNED-DURATION"):null}get endOnNext(){return this.attr.bool("END-ON-NEXT")}get isValid(){return!!this.id&&!this._badValueForSameId&&He(this.startDate.getTime())&&(this.duration===null||this.duration>=0)&&(!this.endOnNext||!!this.class)}}class Bc{constructor(){this.aborted=!1,this.loaded=0,this.retry=0,this.total=0,this.chunkCount=0,this.bwEstimate=0,this.loading={start:0,first:0,end:0},this.parsing={start:0,end:0},this.buffering={start:0,first:0,end:0}}}var Kt={AUDIO:"audio",VIDEO:"video",AUDIOVIDEO:"audiovideo"};class Cx{constructor(e){this._byteRange=null,this._url=null,this.baseurl=void 0,this.relurl=void 0,this.elementaryStreams={[Kt.AUDIO]:null,[Kt.VIDEO]:null,[Kt.AUDIOVIDEO]:null},this.baseurl=e}setByteRange(e,t){const r=e.split("@",2);let i;r.length===1?i=(t==null?void 0:t.byteRangeEndOffset)||0:i=parseInt(r[1]),this._byteRange=[i,parseInt(r[0])+i]}get byteRange(){return this._byteRange?this._byteRange:[]}get byteRangeStartOffset(){return this.byteRange[0]}get byteRangeEndOffset(){return this.byteRange[1]}get url(){return!this._url&&this.baseurl&&this.relurl&&(this._url=Lx.buildAbsoluteURL(this.baseurl,this.relurl,{alwaysNormalize:!0})),this._url||""}set url(e){this._url=e}}class ng extends Cx{constructor(e,t){super(t),this._decryptdata=null,this.rawProgramDateTime=null,this.programDateTime=null,this.tagList=[],this.duration=0,this.sn=0,this.levelkeys=void 0,this.type=void 0,this.loader=null,this.keyLoader=null,this.level=-1,this.cc=0,this.startPTS=void 0,this.endPTS=void 0,this.startDTS=void 0,this.endDTS=void 0,this.start=0,this.deltaPTS=void 0,this.maxStartPTS=void 0,this.minEndPTS=void 0,this.stats=new Bc,this.data=void 0,this.bitrateTest=!1,this.title=null,this.initSegment=null,this.endList=void 0,this.gap=void 0,this.urlId=0,this.type=e}get decryptdata(){const{levelkeys:e}=this;if(!e&&!this._decryptdata)return null;if(!this._decryptdata&&this.levelkeys&&!this.levelkeys.NONE){const t=this.levelkeys.identity;if(t)this._decryptdata=t.getDecryptData(this.sn);else{const r=Object.keys(this.levelkeys);if(r.length===1)return this._decryptdata=this.levelkeys[r[0]].getDecryptData(this.sn)}}return this._decryptdata}get end(){return this.start+this.duration}get endProgramDateTime(){if(this.programDateTime===null||!He(this.programDateTime))return null;const e=He(this.duration)?this.duration:0;return this.programDateTime+e*1e3}get encrypted(){var e;if((e=this._decryptdata)!=null&&e.encrypted)return!0;if(this.levelkeys){const t=Object.keys(this.levelkeys),r=t.length;if(r>1||r===1&&this.levelkeys[t[0]].encrypted)return!0}return!1}setKeyFormat(e){if(this.levelkeys){const t=this.levelkeys[e];t&&!this._decryptdata&&(this._decryptdata=t.getDecryptData(this.sn))}}abortRequests(){var e,t;(e=this.loader)==null||e.abort(),(t=this.keyLoader)==null||t.abort()}setElementaryStreamInfo(e,t,r,i,s,o=!1){const{elementaryStreams:l}=this,u=l[e];if(!u){l[e]={startPTS:t,endPTS:r,startDTS:i,endDTS:s,partial:o};return}u.startPTS=Math.min(u.startPTS,t),u.endPTS=Math.max(u.endPTS,r),u.startDTS=Math.min(u.startDTS,i),u.endDTS=Math.max(u.endDTS,s)}clearElementaryStreamInfo(){const{elementaryStreams:e}=this;e[Kt.AUDIO]=null,e[Kt.VIDEO]=null,e[Kt.AUDIOVIDEO]=null}}class bR extends Cx{constructor(e,t,r,i,s){super(r),this.fragOffset=0,this.duration=0,this.gap=!1,this.independent=!1,this.relurl=void 0,this.fragment=void 0,this.index=void 0,this.stats=new Bc,this.duration=e.decimalFloatingPoint("DURATION"),this.gap=e.bool("GAP"),this.independent=e.bool("INDEPENDENT"),this.relurl=e.enumeratedString("URI"),this.fragment=t,this.index=i;const o=e.enumeratedString("BYTERANGE");o&&this.setByteRange(o,s),s&&(this.fragOffset=s.fragOffset+s.duration)}get start(){return this.fragment.start+this.fragOffset}get end(){return this.start+this.duration}get loaded(){const{elementaryStreams:e}=this;return!!(e.audio||e.video||e.audiovideo)}}const i8=10;class PR{constructor(e){this.PTSKnown=!1,this.alignedSliding=!1,this.averagetargetduration=void 0,this.endCC=0,this.endSN=0,this.fragments=void 0,this.fragmentHint=void 0,this.partList=null,this.dateRanges=void 0,this.live=!0,this.ageHeader=0,this.advancedDateTime=void 0,this.updated=!0,this.advanced=!0,this.availabilityDelay=void 0,this.misses=0,this.startCC=0,this.startSN=0,this.startTimeOffset=null,this.targetduration=0,this.totalduration=0,this.type=null,this.url=void 0,this.m3u8="",this.version=null,this.canBlockReload=!1,this.canSkipUntil=0,this.canSkipDateRanges=!1,this.skippedSegments=0,this.recentlyRemovedDateranges=void 0,this.partHoldBack=0,this.holdBack=0,this.partTarget=0,this.preloadHint=void 0,this.renditionReports=void 0,this.tuneInGoal=0,this.deltaUpdateFailed=void 0,this.driftStartTime=0,this.driftEndTime=0,this.driftStart=0,this.driftEnd=0,this.encryptedFragments=void 0,this.playlistParsingError=null,this.variableList=null,this.hasVariableRefs=!1,this.fragments=[],this.encryptedFragments=[],this.dateRanges={},this.url=e}reloaded(e){if(!e){this.advanced=!0,this.updated=!0;return}const t=this.lastPartSn-e.lastPartSn,r=this.lastPartIndex-e.lastPartIndex;this.updated=this.endSN!==e.endSN||!!r||!!t||!this.live,this.advanced=this.endSN>e.endSN||t>0||t===0&&r>0,this.updated||this.advanced?this.misses=Math.floor(e.misses*.6):this.misses=e.misses+1,this.availabilityDelay=e.availabilityDelay}get hasProgramDateTime(){return this.fragments.length?He(this.fragments[this.fragments.length-1].programDateTime):!1}get levelTargetDuration(){return this.averagetargetduration||this.targetduration||i8}get drift(){const e=this.driftEndTime-this.driftStartTime;return e>0?(this.driftEnd-this.driftStart)*1e3/e:1}get edge(){return this.partEnd||this.fragmentEnd}get partEnd(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].end:this.fragmentEnd}get fragmentEnd(){var e;return(e=this.fragments)!=null&&e.length?this.fragments[this.fragments.length-1].end:0}get age(){return this.advancedDateTime?Math.max(Date.now()-this.advancedDateTime,0)/1e3:0}get lastPartIndex(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].index:-1}get lastPartSn(){var e;return(e=this.partList)!=null&&e.length?this.partList[this.partList.length-1].fragment.sn:this.endSN}}function Ix(n){return Uint8Array.from(atob(n),e=>e.charCodeAt(0))}function s8(n){const e=m2(n).subarray(0,16),t=new Uint8Array(16);return t.set(e,16-e.length),t}function o8(n){const e=function(r,i,s){const o=r[i];r[i]=r[s],r[s]=o};e(n,0,3),e(n,1,2),e(n,4,5),e(n,6,7)}function l8(n){const e=n.split(":");let t=null;if(e[0]==="data"&&e.length===2){const r=e[1].split(";"),i=r[r.length-1].split(",");if(i.length===2){const s=i[0]==="base64",o=i[1];s?(r.splice(-1,1),t=Ix(o)):t=s8(o)}}return t}function m2(n){return Uint8Array.from(unescape(encodeURIComponent(n)),e=>e.charCodeAt(0))}const A0=typeof self<"u"?self:void 0;var Jt={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.fps",PLAYREADY:"com.microsoft.playready",WIDEVINE:"com.widevine.alpha"},Wr={CLEARKEY:"org.w3.clearkey",FAIRPLAY:"com.apple.streamingkeydelivery",PLAYREADY:"com.microsoft.playready",WIDEVINE:"urn:uuid:edef8ba9-79d6-4ace-a3c8-27dcd51d21ed"};function AS(n){switch(n){case Wr.FAIRPLAY:return Jt.FAIRPLAY;case Wr.PLAYREADY:return Jt.PLAYREADY;case Wr.WIDEVINE:return Jt.WIDEVINE;case Wr.CLEARKEY:return Jt.CLEARKEY}}var Tf={CENC:"1077efecc0b24d02ace33c1e52e2fb4b",CLEARKEY:"e2719d58a985b3c9781ab030af78d30e",FAIRPLAY:"94ce86fb07ff4f43adb893d2fa968ca2",PLAYREADY:"9a04f07998404286ab92e65be0885f95",WIDEVINE:"edef8ba979d64acea3c827dcd51d21ed"};function uS(n){if(n===Tf.WIDEVINE)return Jt.WIDEVINE;if(n===Tf.PLAYREADY)return Jt.PLAYREADY;if(n===Tf.CENC||n===Tf.CLEARKEY)return Jt.CLEARKEY}function fS(n){switch(n){case Jt.FAIRPLAY:return Wr.FAIRPLAY;case Jt.PLAYREADY:return Wr.PLAYREADY;case Jt.WIDEVINE:return Wr.WIDEVINE;case Jt.CLEARKEY:return Wr.CLEARKEY}}function F1(n){const{drmSystems:e,widevineLicenseUrl:t}=n,r=e?[Jt.FAIRPLAY,Jt.WIDEVINE,Jt.PLAYREADY,Jt.CLEARKEY].filter(i=>!!e[i]):[];return!r[Jt.WIDEVINE]&&t&&r.push(Jt.WIDEVINE),r}const MR=function(n){return A0!=null&&(n=A0.navigator)!=null&&n.requestMediaKeySystemAccess?self.navigator.requestMediaKeySystemAccess.bind(self.navigator):null}();function a8(n,e,t,r){let i;switch(n){case Jt.FAIRPLAY:i=["cenc","sinf"];break;case Jt.WIDEVINE:case Jt.PLAYREADY:i=["cenc"];break;case Jt.CLEARKEY:i=["cenc","keyids"];break;default:throw new Error(`Unknown key-system: ${n}`)}return A8(i,e,t,r)}function A8(n,e,t,r){return[{initDataTypes:n,persistentState:r.persistentState||"optional",distinctiveIdentifier:r.distinctiveIdentifier||"optional",sessionTypes:r.sessionTypes||[r.sessionType||"temporary"],audioCapabilities:e.map(s=>({contentType:`audio/mp4; codecs="${s}"`,robustness:r.audioRobustness||"",encryptionScheme:r.audioEncryptionScheme||null})),videoCapabilities:t.map(s=>({contentType:`video/mp4; codecs="${s}"`,robustness:r.videoRobustness||"",encryptionScheme:r.videoEncryptionScheme||null}))}]}function hA(n,e,t){return Uint8Array.prototype.slice?n.slice(e,t):new Uint8Array(Array.prototype.slice.call(n,e,t))}const Dx=(n,e)=>e+10<=n.length&&n[e]===73&&n[e+1]===68&&n[e+2]===51&&n[e+3]<255&&n[e+4]<255&&n[e+6]<128&&n[e+7]<128&&n[e+8]<128&&n[e+9]<128,OR=(n,e)=>e+10<=n.length&&n[e]===51&&n[e+1]===68&&n[e+2]===73&&n[e+3]<255&&n[e+4]<255&&n[e+6]<128&&n[e+7]<128&&n[e+8]<128&&n[e+9]<128,cc=(n,e)=>{const t=e;let r=0;for(;Dx(n,e);){r+=10;const i=em(n,e+6);r+=i,OR(n,e+10)&&(r+=10),e+=r}if(r>0)return n.subarray(t,t+r)},em=(n,e)=>{let t=0;return t=(n[e]&127)<<21,t|=(n[e+1]&127)<<14,t|=(n[e+2]&127)<<7,t|=n[e+3]&127,t},u8=(n,e)=>Dx(n,e)&&em(n,e+6)+10<=n.length-e,bx=n=>{const e=NR(n);for(let t=0;t<e.length;t++){const r=e[t];if(FR(r))return p8(r)}},FR=n=>n&&n.key==="PRIV"&&n.info==="com.apple.streaming.transportStreamTimestamp",f8=n=>{const e=String.fromCharCode(n[0],n[1],n[2],n[3]),t=em(n,4),r=10;return{type:e,size:t,data:n.subarray(r,r+t)}},NR=n=>{let e=0;const t=[];for(;Dx(n,e);){const r=em(n,e+6);e+=10;const i=e+r;for(;e+8<i;){const s=f8(n.subarray(e)),o=c8(s);o&&t.push(o),e+=s.size+10}OR(n,e)&&(e+=10)}return t},c8=n=>n.type==="PRIV"?h8(n):n.type[0]==="W"?g8(n):d8(n),h8=n=>{if(n.size<2)return;const e=So(n.data,!0),t=new Uint8Array(n.data.subarray(e.length+1));return{key:n.type,info:e,data:t.buffer}},d8=n=>{if(n.size<2)return;if(n.type==="TXXX"){let t=1;const r=So(n.data.subarray(t),!0);t+=r.length+1;const i=So(n.data.subarray(t));return{key:n.type,info:r,data:i}}const e=So(n.data.subarray(1));return{key:n.type,data:e}},g8=n=>{if(n.type==="WXXX"){if(n.size<2)return;let t=1;const r=So(n.data.subarray(t),!0);t+=r.length+1;const i=So(n.data.subarray(t));return{key:n.type,info:r,data:i}}const e=So(n.data);return{key:n.type,data:e}},p8=n=>{if(n.data.byteLength===8){const e=new Uint8Array(n.data),t=e[3]&1;let r=(e[4]<<23)+(e[5]<<15)+(e[6]<<7)+e[7];return r/=45,t&&(r+=4772185884e-2),Math.round(r)}},So=(n,e=!1)=>{const t=m8();if(t){const h=t.decode(n);if(e){const m=h.indexOf("\0");return m!==-1?h.substring(0,m):h}return h.replace(/\0/g,"")}const r=n.length;let i,s,o,l="",u=0;for(;u<r;){if(i=n[u++],i===0&&e)return l;if(i===0||i===3)continue;switch(i>>4){case 0:case 1:case 2:case 3:case 4:case 5:case 6:case 7:l+=String.fromCharCode(i);break;case 12:case 13:s=n[u++],l+=String.fromCharCode((i&31)<<6|s&63);break;case 14:s=n[u++],o=n[u++],l+=String.fromCharCode((i&15)<<12|(s&63)<<6|(o&63)<<0);break}}return l};let N1;function m8(){if(!navigator.userAgent.includes("PlayStation 4"))return!N1&&typeof self.TextDecoder<"u"&&(N1=new self.TextDecoder("utf-8")),N1}const fo={hexDump:function(n){let e="";for(let t=0;t<n.length;t++){let r=n[t].toString(16);r.length<2&&(r="0"+r),e+=r}return e}},$g=Math.pow(2,32)-1,y8=[].push,BR={video:1,audio:2,id3:3,text:4};function Vn(n){return String.fromCharCode.apply(null,n)}function UR(n,e){const t=n[e]<<8|n[e+1];return t<0?65536+t:t}function nt(n,e){const t=GR(n,e);return t<0?4294967296+t:t}function cS(n,e){let t=nt(n,e);return t*=Math.pow(2,32),t+=nt(n,e+4),t}function GR(n,e){return n[e]<<24|n[e+1]<<16|n[e+2]<<8|n[e+3]}function B1(n,e,t){n[e]=t>>24,n[e+1]=t>>16&255,n[e+2]=t>>8&255,n[e+3]=t&255}function v8(n){const e=n.byteLength;for(let t=0;t<e;){const r=nt(n,t);if(r>8&&n[t+4]===109&&n[t+5]===111&&n[t+6]===111&&n[t+7]===102)return!0;t=r>1?t+r:e}return!1}function Et(n,e){const t=[];if(!e.length)return t;const r=n.byteLength;for(let i=0;i<r;){const s=nt(n,i),o=Vn(n.subarray(i+4,i+8)),l=s>1?i+s:r;if(o===e[0])if(e.length===1)t.push(n.subarray(i+8,l));else{const u=Et(n.subarray(i+8,l),e.slice(1));u.length&&y8.apply(t,u)}i=l}return t}function x8(n){const e=[],t=n[0];let r=8;const i=nt(n,r);r+=4;let s=0,o=0;t===0?(s=nt(n,r),o=nt(n,r+4),r+=8):(s=cS(n,r),o=cS(n,r+8),r+=16),r+=2;let l=n.length+o;const u=UR(n,r);r+=2;for(let h=0;h<u;h++){let m=r;const y=nt(n,m);m+=4;const _=y&2147483647;if((y&2147483648)>>>31===1)return he.warn("SIDX has hierarchical references (not supported)"),null;const w=nt(n,m);m+=4,e.push({referenceSize:_,subsegmentDuration:w,info:{duration:w/i,start:l,end:l+_-1}}),l+=_,m+=4,r=m}return{earliestPresentationTime:s,timescale:i,version:t,referencesCount:u,references:e}}function $R(n){const e=[],t=Et(n,["moov","trak"]);for(let i=0;i<t.length;i++){const s=t[i],o=Et(s,["tkhd"])[0];if(o){let l=o[0];const u=nt(o,l===0?12:20),h=Et(s,["mdia","mdhd"])[0];if(h){l=h[0];const m=nt(h,l===0?12:20),y=Et(s,["mdia","hdlr"])[0];if(y){const _=Vn(y.subarray(8,12)),T={soun:Kt.AUDIO,vide:Kt.VIDEO}[_];if(T){const w=Et(s,["mdia","minf","stbl","stsd"])[0],L=_8(w);e[u]={timescale:m,type:T},e[T]=lr({timescale:m,id:u},L)}}}}}return Et(n,["moov","mvex","trex"]).forEach(i=>{const s=nt(i,4),o=e[s];o&&(o.default={duration:nt(i,12),flags:nt(i,20)})}),e}function _8(n){const e=n.subarray(8),t=e.subarray(86),r=Vn(e.subarray(4,8));let i=r;const s=r==="enca"||r==="encv";if(s){const l=Et(e,[r])[0].subarray(r==="enca"?28:78);Et(l,["sinf"]).forEach(h=>{const m=Et(h,["schm"])[0];if(m){const y=Vn(m.subarray(4,8));if(y==="cbcs"||y==="cenc"){const _=Et(h,["frma"])[0];_&&(i=Vn(_))}}})}switch(i){case"avc1":case"avc2":case"avc3":case"avc4":{const o=Et(t,["avcC"])[0];i+="."+yd(o[1])+yd(o[2])+yd(o[3]);break}case"mp4a":{const o=Et(e,[r])[0],l=Et(o.subarray(28),["esds"])[0];if(l&&l.length>12){let u=4;if(l[u++]!==3)break;u=U1(l,u),u+=2;const h=l[u++];if(h&128&&(u+=2),h&64&&(u+=l[u++]),l[u++]!==4)break;u=U1(l,u);const m=l[u++];if(m===64)i+="."+yd(m);else break;if(u+=12,l[u++]!==5)break;u=U1(l,u);const y=l[u++];let _=(y&248)>>3;_===31&&(_+=1+((y&7)<<3)+((l[u]&224)>>5)),i+="."+_}break}case"hvc1":case"hev1":{const o=Et(t,["hvcC"])[0],l=o[1],u=["","A","B","C"][l>>6],h=l&31,m=nt(o,2),y=(l&32)>>5?"H":"L",_=o[12],T=o.subarray(6,12);i+="."+u+h,i+="."+m.toString(16).toUpperCase(),i+="."+y+_;let w="";for(let L=T.length;L--;){const I=T[L];(I||w)&&(w="."+I.toString(16).toUpperCase()+w)}i+=w;break}case"dvh1":case"dvhe":{const o=Et(t,["dvcC"])[0],l=o[2]>>1&127,u=o[2]<<5&32|o[3]>>3&31;i+="."+Ao(l)+"."+Ao(u);break}case"vp09":{const o=Et(t,["vpcC"])[0],l=o[4],u=o[5],h=o[6]>>4&15;i+="."+Ao(l)+"."+Ao(u)+"."+Ao(h);break}case"av01":{const o=Et(t,["av1C"])[0],l=o[1]>>>5,u=o[1]&31,h=o[2]>>>7?"H":"M",m=(o[2]&64)>>6,y=(o[2]&32)>>5,_=l===2&&m?y?12:10:m?10:8,T=(o[2]&16)>>4,w=(o[2]&8)>>3,L=(o[2]&4)>>2,I=o[2]&3;i+="."+l+"."+Ao(u)+h+"."+Ao(_)+"."+T+"."+w+L+I+"."+Ao(1)+"."+Ao(1)+"."+Ao(1)+"."+0;break}}return{codec:i,encrypted:s}}function U1(n,e){const t=e+5;for(;n[e++]&128&&e<t;);return e}function yd(n){return("0"+n.toString(16).toUpperCase()).slice(-2)}function Ao(n){return(n<10?"0":"")+n}function E8(n,e){if(!n||!e)return n;const t=e.keyId;return t&&e.isCommonEncryption&&Et(n,["moov","trak"]).forEach(i=>{const o=Et(i,["mdia","minf","stbl","stsd"])[0].subarray(8);let l=Et(o,["enca"]);const u=l.length>0;u||(l=Et(o,["encv"])),l.forEach(h=>{const m=u?h.subarray(28):h.subarray(78);Et(m,["sinf"]).forEach(_=>{const T=zR(_);if(T){const w=T.subarray(8,24);w.some(L=>L!==0)||(he.log(`[eme] Patching keyId in 'enc${u?"a":"v"}>sinf>>tenc' box: ${fo.hexDump(w)} -> ${fo.hexDump(t)}`),T.set(t,8))}})})}),n}function zR(n){const e=Et(n,["schm"])[0];if(e){const t=Vn(e.subarray(4,8));if(t==="cbcs"||t==="cenc")return Et(n,["schi","tenc"])[0]}return null}function S8(n,e){return Et(e,["moof","traf"]).reduce((t,r)=>{const i=Et(r,["tfdt"])[0],s=i[0],o=Et(r,["tfhd"]).reduce((l,u)=>{const h=nt(u,4),m=n[h];if(m){let y=nt(i,4);if(s===1){if(y===$g)return he.warn("[mp4-demuxer]: Ignoring assumed invalid signed 64-bit track fragment decode time"),l;y*=$g+1,y+=nt(i,8)}const _=m.timescale||9e4,T=y/_;if(He(T)&&(l===null||T<l))return T}return l},null);return o!==null&&He(o)&&(t===null||o<t)?o:t},null)}function T8(n,e){let t=0,r=0,i=0;const s=Et(n,["moof","traf"]);for(let o=0;o<s.length;o++){const l=s[o],u=Et(l,["tfhd"])[0],h=nt(u,4),m=e[h];if(!m)continue;const y=m.default,_=nt(u,0)|(y==null?void 0:y.flags);let T=y==null?void 0:y.duration;_&8&&(_&2?T=nt(u,12):T=nt(u,8));const w=m.timescale||9e4,L=Et(l,["trun"]);for(let I=0;I<L.length;I++){if(t=w8(L[I]),!t&&T){const C=nt(L[I],4);t=T*C}m.type===Kt.VIDEO?r+=t/w:m.type===Kt.AUDIO&&(i+=t/w)}}if(r===0&&i===0){let o=1/0,l=0,u=0;const h=Et(n,["sidx"]);for(let m=0;m<h.length;m++){const y=x8(h[m]);if(y!=null&&y.references){o=Math.min(o,y.earliestPresentationTime/y.timescale);const _=y.references.reduce((T,w)=>T+w.info.duration||0,0);l=Math.max(l,_+y.earliestPresentationTime/y.timescale),u=l-o}}if(u&&He(u))return u}return r||i}function w8(n){const e=nt(n,0);let t=8;e&1&&(t+=4),e&4&&(t+=4);let r=0;const i=nt(n,4);for(let s=0;s<i;s++){if(e&256){const o=nt(n,t);r+=o,t+=4}e&512&&(t+=4),e&1024&&(t+=4),e&2048&&(t+=4)}return r}function k8(n,e,t){Et(e,["moof","traf"]).forEach(r=>{Et(r,["tfhd"]).forEach(i=>{const s=nt(i,4),o=n[s];if(!o)return;const l=o.timescale||9e4;Et(r,["tfdt"]).forEach(u=>{const h=u[0],m=t*l;if(m){let y=nt(u,4);if(h===0)y-=m,y=Math.max(y,0),B1(u,4,y);else{y*=Math.pow(2,32),y+=nt(u,8),y-=m,y=Math.max(y,0);const _=Math.floor(y/($g+1)),T=Math.floor(y%($g+1));B1(u,4,_),B1(u,8,T)}}})})})}function L8(n){const e={valid:null,remainder:null},t=Et(n,["moof"]);if(t.length<2)return e.remainder=n,e;const r=t[t.length-1];return e.valid=hA(n,0,r.byteOffset-8),e.remainder=hA(n,r.byteOffset-8),e}function Rs(n,e){const t=new Uint8Array(n.length+e.length);return t.set(n),t.set(e,n.length),t}function hS(n,e){const t=[],r=e.samples,i=e.timescale,s=e.id;let o=!1;return Et(r,["moof"]).map(u=>{const h=u.byteOffset-8;Et(u,["traf"]).map(y=>{const _=Et(y,["tfdt"]).map(T=>{const w=T[0];let L=nt(T,4);return w===1&&(L*=Math.pow(2,32),L+=nt(T,8)),L/i})[0];return _!==void 0&&(n=_),Et(y,["tfhd"]).map(T=>{const w=nt(T,4),L=nt(T,0)&16777215,I=(L&1)!==0,C=(L&2)!==0,b=(L&8)!==0;let M=0;const U=(L&16)!==0;let B=0;const $=(L&32)!==0;let H=8;w===s&&(I&&(H+=8),C&&(H+=4),b&&(M=nt(T,H),H+=4),U&&(B=nt(T,H),H+=4),$&&(H+=4),e.type==="video"&&(o=R8(e.codec)),Et(y,["trun"]).map(j=>{const Y=j[0],q=nt(j,0)&16777215,X=(q&1)!==0;let ge=0;const ae=(q&4)!==0,xe=(q&256)!==0;let ie=0;const ce=(q&512)!==0;let ke=0;const re=(q&1024)!==0,se=(q&2048)!==0;let fe=0;const Ie=nt(j,4);let Ce=8;X&&(ge=nt(j,Ce),Ce+=4),ae&&(Ce+=4);let We=ge+h;for(let Xe=0;Xe<Ie;Xe++){if(xe?(ie=nt(j,Ce),Ce+=4):ie=M,ce?(ke=nt(j,Ce),Ce+=4):ke=B,re&&(Ce+=4),se&&(Y===0?fe=nt(j,Ce):fe=GR(j,Ce),Ce+=4),e.type===Kt.VIDEO){let At=0;for(;At<ke;){const Tt=nt(r,We);if(We+=4,C8(o,r[We])){const qt=r.subarray(We,We+Tt);HR(qt,o?2:1,n+fe/i,t)}We+=Tt,At+=Tt+4}}n+=ie/i}}))})})}),t}function R8(n){if(!n)return!1;const e=n.indexOf("."),t=e<0?n:n.substring(0,e);return t==="hvc1"||t==="hev1"||t==="dvh1"||t==="dvhe"}function C8(n,e){if(n){const t=e>>1&63;return t===39||t===40}else return(e&31)===6}function HR(n,e,t,r){const i=jR(n);let s=0;s+=e;let o=0,l=0,u=0;for(;s<i.length;){o=0;do{if(s>=i.length)break;u=i[s++],o+=u}while(u===255);l=0;do{if(s>=i.length)break;u=i[s++],l+=u}while(u===255);const h=i.length-s;let m=s;if(l<h)s+=l;else if(l>h){he.error(`Malformed SEI payload. ${l} is too small, only ${h} bytes left to parse.`);break}if(o===4){if(i[m++]===181){const _=UR(i,m);if(m+=2,_===49){const T=nt(i,m);if(m+=4,T===1195456820){const w=i[m++];if(w===3){const L=i[m++],I=31&L,C=64&L,b=C?2+I*3:0,M=new Uint8Array(b);if(C){M[0]=L;for(let U=1;U<b;U++)M[U]=i[m++]}r.push({type:w,payloadType:o,pts:t,bytes:M})}}}}}else if(o===5&&l>16){const y=[];for(let w=0;w<16;w++){const L=i[m++].toString(16);y.push(L.length==1?"0"+L:L),(w===3||w===5||w===7||w===9)&&y.push("-")}const _=l-16,T=new Uint8Array(_);for(let w=0;w<_;w++)T[w]=i[m++];r.push({payloadType:o,pts:t,uuid:y.join(""),userData:So(T),userDataBytes:T})}}}function jR(n){const e=n.byteLength,t=[];let r=1;for(;r<e-2;)n[r]===0&&n[r+1]===0&&n[r+2]===3?(t.push(r+2),r+=2):r++;if(t.length===0)return n;const i=e-t.length,s=new Uint8Array(i);let o=0;for(r=0;r<i;o++,r++)o===t[0]&&(o++,t.shift()),s[r]=n[o];return s}function I8(n){const e=n[0];let t="",r="",i=0,s=0,o=0,l=0,u=0,h=0;if(e===0){for(;Vn(n.subarray(h,h+1))!=="\0";)t+=Vn(n.subarray(h,h+1)),h+=1;for(t+=Vn(n.subarray(h,h+1)),h+=1;Vn(n.subarray(h,h+1))!=="\0";)r+=Vn(n.subarray(h,h+1)),h+=1;r+=Vn(n.subarray(h,h+1)),h+=1,i=nt(n,12),s=nt(n,16),l=nt(n,20),u=nt(n,24),h=28}else if(e===1){h+=4,i=nt(n,h),h+=4;const y=nt(n,h);h+=4;const _=nt(n,h);for(h+=4,o=2**32*y+_,qP(o)||(o=Number.MAX_SAFE_INTEGER,he.warn("Presentation time exceeds safe integer limit and wrapped to max safe integer in parsing emsg box")),l=nt(n,h),h+=4,u=nt(n,h),h+=4;Vn(n.subarray(h,h+1))!=="\0";)t+=Vn(n.subarray(h,h+1)),h+=1;for(t+=Vn(n.subarray(h,h+1)),h+=1;Vn(n.subarray(h,h+1))!=="\0";)r+=Vn(n.subarray(h,h+1)),h+=1;r+=Vn(n.subarray(h,h+1)),h+=1}const m=n.subarray(h,n.byteLength);return{schemeIdUri:t,value:r,timeScale:i,presentationTime:o,presentationTimeDelta:s,eventDuration:l,id:u,payload:m}}function D8(n,...e){const t=e.length;let r=8,i=t;for(;i--;)r+=e[i].byteLength;const s=new Uint8Array(r);for(s[0]=r>>24&255,s[1]=r>>16&255,s[2]=r>>8&255,s[3]=r&255,s.set(n,4),i=0,r=8;i<t;i++)s.set(e[i],r),r+=e[i].byteLength;return s}function b8(n,e,t){if(n.byteLength!==16)throw new RangeError("Invalid system id");let r,i;r=0,i=new Uint8Array;let s;r>0?(s=new Uint8Array(4),e.length>0&&new DataView(s.buffer).setUint32(0,e.length,!1)):s=new Uint8Array;const o=new Uint8Array(4);return t&&t.byteLength>0&&new DataView(o.buffer).setUint32(0,t.byteLength,!1),D8([112,115,115,104],new Uint8Array([r,0,0,0]),n,s,i,o,t||new Uint8Array)}function P8(n){const e=[];if(n instanceof ArrayBuffer){const t=n.byteLength;let r=0;for(;r+32<t;){const i=new DataView(n,r),s=M8(i);e.push(s),r+=s.size}}return e}function M8(n){const e=n.getUint32(0),t=n.byteOffset,r=n.byteLength;if(r<e)return{offset:t,size:r};if(n.getUint32(4)!==1886614376)return{offset:t,size:e};const s=n.getUint32(8)>>>24;if(s!==0&&s!==1)return{offset:t,size:e};const o=n.buffer,l=fo.hexDump(new Uint8Array(o,t+12,16)),u=n.getUint32(28);let h=null,m=null;if(s===0){if(e-32<u||u<22)return{offset:t,size:e};m=new Uint8Array(o,t+32,u)}else if(s===1){if(!u||r<t+32+u*16+16)return{offset:t,size:e};h=[];for(let y=0;y<u;y++)h.push(new Uint8Array(o,t+32+y*16,16))}return{version:s,systemId:l,kids:h,data:m,offset:t,size:e}}let vd={};class u0{static clearKeyUriToKeyIdMap(){vd={}}constructor(e,t,r,i=[1],s=null){this.uri=void 0,this.method=void 0,this.keyFormat=void 0,this.keyFormatVersions=void 0,this.encrypted=void 0,this.isCommonEncryption=void 0,this.iv=null,this.key=null,this.keyId=null,this.pssh=null,this.method=e,this.uri=t,this.keyFormat=r,this.keyFormatVersions=i,this.iv=s,this.encrypted=e?e!=="NONE":!1,this.isCommonEncryption=this.encrypted&&e!=="AES-128"}isSupported(){if(this.method){if(this.method==="AES-128"||this.method==="NONE")return!0;if(this.keyFormat==="identity")return this.method==="SAMPLE-AES";switch(this.keyFormat){case Wr.FAIRPLAY:case Wr.WIDEVINE:case Wr.PLAYREADY:case Wr.CLEARKEY:return["ISO-23001-7","SAMPLE-AES","SAMPLE-AES-CENC","SAMPLE-AES-CTR"].indexOf(this.method)!==-1}}return!1}getDecryptData(e){if(!this.encrypted||!this.uri)return null;if(this.method==="AES-128"&&this.uri&&!this.iv){typeof e!="number"&&(this.method==="AES-128"&&!this.iv&&he.warn(`missing IV for initialization segment with method="${this.method}" - compliance issue`),e=0);const r=O8(e);return new u0(this.method,this.uri,"identity",this.keyFormatVersions,r)}const t=l8(this.uri);if(t)switch(this.keyFormat){case Wr.WIDEVINE:this.pssh=t,t.length>=22&&(this.keyId=t.subarray(t.length-22,t.length-6));break;case Wr.PLAYREADY:{const r=new Uint8Array([154,4,240,121,152,64,66,134,171,146,230,91,224,136,95,149]);this.pssh=b8(r,null,t);const i=new Uint16Array(t.buffer,t.byteOffset,t.byteLength/2),s=String.fromCharCode.apply(null,Array.from(i)),o=s.substring(s.indexOf("<"),s.length),h=new DOMParser().parseFromString(o,"text/xml").getElementsByTagName("KID")[0];if(h){const m=h.childNodes[0]?h.childNodes[0].nodeValue:h.getAttribute("VALUE");if(m){const y=Ix(m).subarray(0,16);o8(y),this.keyId=y}}break}default:{let r=t.subarray(0,16);if(r.length!==16){const i=new Uint8Array(16);i.set(r,16-r.length),r=i}this.keyId=r;break}}if(!this.keyId||this.keyId.byteLength!==16){let r=vd[this.uri];if(!r){const i=Object.keys(vd).length%Number.MAX_SAFE_INTEGER;r=new Uint8Array(16),new DataView(r.buffer,12,4).setUint32(0,i),vd[this.uri]=r}this.keyId=r}return this}}function O8(n){const e=new Uint8Array(16);for(let t=12;t<16;t++)e[t]=n>>8*(15-t)&255;return e}const VR=/\{\$([a-zA-Z0-9-_]+)\}/g;function dS(n){return VR.test(n)}function fi(n,e,t){if(n.variableList!==null||n.hasVariableRefs)for(let r=t.length;r--;){const i=t[r],s=e[i];s&&(e[i]=y2(n,s))}}function y2(n,e){if(n.variableList!==null||n.hasVariableRefs){const t=n.variableList;return e.replace(VR,r=>{const i=r.substring(2,r.length-1),s=t==null?void 0:t[i];return s===void 0?(n.playlistParsingError||(n.playlistParsingError=new Error(`Missing preceding EXT-X-DEFINE tag for Variable Reference: "${i}"`)),r):s})}return e}function gS(n,e,t){let r=n.variableList;r||(n.variableList=r={});let i,s;if("QUERYPARAM"in e){i=e.QUERYPARAM;try{const o=new self.URL(t).searchParams;if(o.has(i))s=o.get(i);else throw new Error(`"${i}" does not match any query parameter in URI: "${t}"`)}catch(o){n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE QUERYPARAM: ${o.message}`))}}else i=e.NAME,s=e.VALUE;i in r?n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE duplicate Variable Name declarations: "${i}"`)):r[i]=s||""}function F8(n,e,t){const r=e.IMPORT;if(t&&r in t){let i=n.variableList;i||(n.variableList=i={}),i[r]=t[r]}else n.playlistParsingError||(n.playlistParsingError=new Error(`EXT-X-DEFINE IMPORT attribute not found in Multivariant Playlist: "${r}"`))}function pa(n=!0){return typeof self>"u"?void 0:(n||!self.MediaSource)&&self.ManagedMediaSource||self.MediaSource||self.WebKitMediaSource}function N8(n){return typeof self<"u"&&n===self.ManagedMediaSource}const zg={audio:{a3ds:1,"ac-3":.95,"ac-4":1,alac:.9,alaw:1,dra1:1,"dts+":1,"dts-":1,dtsc:1,dtse:1,dtsh:1,"ec-3":.9,enca:1,fLaC:.9,flac:.9,FLAC:.9,g719:1,g726:1,m4ae:1,mha1:1,mha2:1,mhm1:1,mhm2:1,mlpa:1,mp4a:1,"raw ":1,Opus:1,opus:1,samr:1,sawb:1,sawp:1,sevc:1,sqcp:1,ssmv:1,twos:1,ulaw:1},video:{avc1:1,avc2:1,avc3:1,avc4:1,avcp:1,av01:.8,drac:1,dva1:1,dvav:1,dvh1:.7,dvhe:.7,encv:1,hev1:.75,hvc1:.75,mjp2:1,mp4v:1,mvc1:1,mvc2:1,mvc3:1,mvc4:1,resv:1,rv60:1,s263:1,svc1:1,svc2:1,"vc-1":1,vp08:1,vp09:.9},text:{stpp:1,wvtt:1}};function B8(n,e){const t=zg[e];return!!t&&!!t[n.slice(0,4)]}function G1(n,e,t=!0){return!n.split(",").some(r=>!QR(r,e,t))}function QR(n,e,t=!0){var r;const i=pa(t);return(r=i==null?void 0:i.isTypeSupported(hc(n,e)))!=null?r:!1}function hc(n,e){return`${e}/mp4;codecs="${n}"`}function pS(n){if(n){const e=n.substring(0,4);return zg.video[e]}return 2}function Hg(n){return n.split(",").reduce((e,t)=>{const r=zg.video[t];return r?(r*2+e)/(e?3:2):(zg.audio[t]+e)/(e?2:1)},0)}const $1={};function U8(n,e=!0){if($1[n])return $1[n];const t={flac:["flac","fLaC","FLAC"],opus:["opus","Opus"]}[n];for(let r=0;r<t.length;r++)if(QR(t[r],"audio",e))return $1[n]=t[r],t[r];return n}const G8=/flac|opus/i;function jg(n,e=!0){return n.replace(G8,t=>U8(t.toLowerCase(),e))}function mS(n,e){return n&&n!=="mp4a"?n:e&&e.split(",")[0]}function $8(n){const e=n.split(",");for(let t=0;t<e.length;t++){const r=e[t].split(".");if(r.length>2){let i=r.shift()+".";i+=parseInt(r.shift()).toString(16),i+=("000"+parseInt(r.shift()).toString(16)).slice(-4),e[t]=i}}return e.join(",")}const yS=/#EXT-X-STREAM-INF:([^\r\n]*)(?:[\r\n](?:#[^\r\n]*)?)*([^\r\n]+)|#EXT-X-(SESSION-DATA|SESSION-KEY|DEFINE|CONTENT-STEERING|START):([^\r\n]*)[\r\n]+/g,vS=/#EXT-X-MEDIA:(.*)/g,z8=/^#EXT(?:INF|-X-TARGETDURATION):/m,xS=new RegExp([/#EXTINF:\s*(\d*(?:\.\d+)?)(?:,(.*)\s+)?/.source,/(?!#) *(\S[^\r\n]*)/.source,/#EXT-X-BYTERANGE:*(.+)/.source,/#EXT-X-PROGRAM-DATE-TIME:(.+)/.source,/#.*/.source].join("|"),"g"),H8=new RegExp([/#(EXTM3U)/.source,/#EXT-X-(DATERANGE|DEFINE|KEY|MAP|PART|PART-INF|PLAYLIST-TYPE|PRELOAD-HINT|RENDITION-REPORT|SERVER-CONTROL|SKIP|START):(.+)/.source,/#EXT-X-(BITRATE|DISCONTINUITY-SEQUENCE|MEDIA-SEQUENCE|TARGETDURATION|VERSION): *(\d+)/.source,/#EXT-X-(DISCONTINUITY|ENDLIST|GAP|INDEPENDENT-SEGMENTS)/.source,/(#)([^:]*):(.*)/.source,/(#)(.*)(?:.*)\r?\n?/.source].join("|"));class mo{static findGroup(e,t){for(let r=0;r<e.length;r++){const i=e[r];if(i.id===t)return i}}static resolve(e,t){return Lx.buildAbsoluteURL(t,e,{alwaysNormalize:!0})}static isMediaPlaylist(e){return z8.test(e)}static parseMasterPlaylist(e,t){const r=dS(e),i={contentSteering:null,levels:[],playlistParsingError:null,sessionData:null,sessionKeys:null,startTimeOffset:null,variableList:null,hasVariableRefs:r},s=[];yS.lastIndex=0;let o;for(;(o=yS.exec(e))!=null;)if(o[1]){var l;const h=new fn(o[1]);fi(i,h,["CODECS","SUPPLEMENTAL-CODECS","ALLOWED-CPC","PATHWAY-ID","STABLE-VARIANT-ID","AUDIO","VIDEO","SUBTITLES","CLOSED-CAPTIONS","NAME"]);const m=y2(i,o[2]),y={attrs:h,bitrate:h.decimalInteger("BANDWIDTH")||h.decimalInteger("AVERAGE-BANDWIDTH"),name:h.NAME,url:mo.resolve(m,t)},_=h.decimalResolution("RESOLUTION");_&&(y.width=_.width,y.height=_.height),j8(h.CODECS,y),(l=y.unknownCodecs)!=null&&l.length||s.push(y),i.levels.push(y)}else if(o[3]){const h=o[3],m=o[4];switch(h){case"SESSION-DATA":{const y=new fn(m);fi(i,y,["DATA-ID","LANGUAGE","VALUE","URI"]);const _=y["DATA-ID"];_&&(i.sessionData===null&&(i.sessionData={}),i.sessionData[_]=y);break}case"SESSION-KEY":{const y=_S(m,t,i);y.encrypted&&y.isSupported()?(i.sessionKeys===null&&(i.sessionKeys=[]),i.sessionKeys.push(y)):he.warn(`[Keys] Ignoring invalid EXT-X-SESSION-KEY tag: "${m}"`);break}case"DEFINE":{{const y=new fn(m);fi(i,y,["NAME","VALUE","QUERYPARAM"]),gS(i,y,t)}break}case"CONTENT-STEERING":{const y=new fn(m);fi(i,y,["SERVER-URI","PATHWAY-ID"]),i.contentSteering={uri:mo.resolve(y["SERVER-URI"],t),pathwayId:y["PATHWAY-ID"]||"."};break}case"START":{i.startTimeOffset=ES(m);break}}}const u=s.length>0&&s.length<i.levels.length;return i.levels=u?s:i.levels,i.levels.length===0&&(i.playlistParsingError=new Error("no levels found in manifest")),i}static parseMasterPlaylistMedia(e,t,r){let i;const s={},o=r.levels,l={AUDIO:o.map(h=>({id:h.attrs.AUDIO,audioCodec:h.audioCodec})),SUBTITLES:o.map(h=>({id:h.attrs.SUBTITLES,textCodec:h.textCodec})),"CLOSED-CAPTIONS":[]};let u=0;for(vS.lastIndex=0;(i=vS.exec(e))!==null;){const h=new fn(i[1]),m=h.TYPE;if(m){const y=l[m],_=s[m]||[];s[m]=_,fi(r,h,["URI","GROUP-ID","LANGUAGE","ASSOC-LANGUAGE","STABLE-RENDITION-ID","NAME","INSTREAM-ID","CHARACTERISTICS","CHANNELS"]);const T=h.LANGUAGE,w=h["ASSOC-LANGUAGE"],L=h.CHANNELS,I=h.CHARACTERISTICS,C=h["INSTREAM-ID"],b={attrs:h,bitrate:0,id:u++,groupId:h["GROUP-ID"]||"",name:h.NAME||T||"",type:m,default:h.bool("DEFAULT"),autoselect:h.bool("AUTOSELECT"),forced:h.bool("FORCED"),lang:T,url:h.URI?mo.resolve(h.URI,t):""};if(w&&(b.assocLang=w),L&&(b.channels=L),I&&(b.characteristics=I),C&&(b.instreamId=C),y!=null&&y.length){const M=mo.findGroup(y,b.groupId)||y[0];SS(b,M,"audioCodec"),SS(b,M,"textCodec")}_.push(b)}}return s}static parseLevelPlaylist(e,t,r,i,s,o){const l=new PR(t),u=l.fragments;let h=null,m=0,y=0,_=0,T=0,w=null,L=new ng(i,t),I,C,b,M=-1,U=!1,B=null;for(xS.lastIndex=0,l.m3u8=e,l.hasVariableRefs=dS(e);(I=xS.exec(e))!==null;){U&&(U=!1,L=new ng(i,t),L.start=_,L.sn=m,L.cc=T,L.level=r,h&&(L.initSegment=h,L.rawProgramDateTime=h.rawProgramDateTime,h.rawProgramDateTime=null,B&&(L.setByteRange(B),B=null)));const Y=I[1];if(Y){L.duration=parseFloat(Y);const q=(" "+I[2]).slice(1);L.title=q||null,L.tagList.push(q?["INF",Y,q]:["INF",Y])}else if(I[3]){if(He(L.duration)){L.start=_,b&&kS(L,b,l),L.sn=m,L.level=r,L.cc=T,u.push(L);const q=(" "+I[3]).slice(1);L.relurl=y2(l,q),TS(L,w),w=L,_+=L.duration,m++,y=0,U=!0}}else if(I[4]){const q=(" "+I[4]).slice(1);w?L.setByteRange(q,w):L.setByteRange(q)}else if(I[5])L.rawProgramDateTime=(" "+I[5]).slice(1),L.tagList.push(["PROGRAM-DATE-TIME",L.rawProgramDateTime]),M===-1&&(M=u.length);else{if(I=I[0].match(H8),!I){he.warn("No matches on slow regex match for level playlist!");continue}for(C=1;C<I.length&&!(typeof I[C]<"u");C++);const q=(" "+I[C]).slice(1),X=(" "+I[C+1]).slice(1),ge=I[C+2]?(" "+I[C+2]).slice(1):"";switch(q){case"PLAYLIST-TYPE":l.type=X.toUpperCase();break;case"MEDIA-SEQUENCE":m=l.startSN=parseInt(X);break;case"SKIP":{const ae=new fn(X);fi(l,ae,["RECENTLY-REMOVED-DATERANGES"]);const xe=ae.decimalInteger("SKIPPED-SEGMENTS");if(He(xe)){l.skippedSegments=xe;for(let ce=xe;ce--;)u.unshift(null);m+=xe}const ie=ae.enumeratedString("RECENTLY-REMOVED-DATERANGES");ie&&(l.recentlyRemovedDateranges=ie.split("	"));break}case"TARGETDURATION":l.targetduration=Math.max(parseInt(X),1);break;case"VERSION":l.version=parseInt(X);break;case"INDEPENDENT-SEGMENTS":case"EXTM3U":break;case"ENDLIST":l.live=!1;break;case"#":(X||ge)&&L.tagList.push(ge?[X,ge]:[X]);break;case"DISCONTINUITY":T++,L.tagList.push(["DIS"]);break;case"GAP":L.gap=!0,L.tagList.push([q]);break;case"BITRATE":L.tagList.push([q,X]);break;case"DATERANGE":{const ae=new fn(X);fi(l,ae,["ID","CLASS","START-DATE","END-DATE","SCTE35-CMD","SCTE35-OUT","SCTE35-IN"]),fi(l,ae,ae.clientAttrs);const xe=new Rx(ae,l.dateRanges[ae.ID]);xe.isValid||l.skippedSegments?l.dateRanges[xe.id]=xe:he.warn(`Ignoring invalid DATERANGE tag: "${X}"`),L.tagList.push(["EXT-X-DATERANGE",X]);break}case"DEFINE":{{const ae=new fn(X);fi(l,ae,["NAME","VALUE","IMPORT","QUERYPARAM"]),"IMPORT"in ae?F8(l,ae,o):gS(l,ae,t)}break}case"DISCONTINUITY-SEQUENCE":T=parseInt(X);break;case"KEY":{const ae=_S(X,t,l);if(ae.isSupported()){if(ae.method==="NONE"){b=void 0;break}b||(b={}),b[ae.keyFormat]&&(b=Gn({},b)),b[ae.keyFormat]=ae}else he.warn(`[Keys] Ignoring invalid EXT-X-KEY tag: "${X}"`);break}case"START":l.startTimeOffset=ES(X);break;case"MAP":{const ae=new fn(X);if(fi(l,ae,["BYTERANGE","URI"]),L.duration){const xe=new ng(i,t);wS(xe,ae,r,b),h=xe,L.initSegment=h,h.rawProgramDateTime&&!L.rawProgramDateTime&&(L.rawProgramDateTime=h.rawProgramDateTime)}else{const xe=L.byteRangeEndOffset;if(xe){const ie=L.byteRangeStartOffset;B=`${xe-ie}@${ie}`}else B=null;wS(L,ae,r,b),h=L,U=!0}break}case"SERVER-CONTROL":{const ae=new fn(X);l.canBlockReload=ae.bool("CAN-BLOCK-RELOAD"),l.canSkipUntil=ae.optionalFloat("CAN-SKIP-UNTIL",0),l.canSkipDateRanges=l.canSkipUntil>0&&ae.bool("CAN-SKIP-DATERANGES"),l.partHoldBack=ae.optionalFloat("PART-HOLD-BACK",0),l.holdBack=ae.optionalFloat("HOLD-BACK",0);break}case"PART-INF":{const ae=new fn(X);l.partTarget=ae.decimalFloatingPoint("PART-TARGET");break}case"PART":{let ae=l.partList;ae||(ae=l.partList=[]);const xe=y>0?ae[ae.length-1]:void 0,ie=y++,ce=new fn(X);fi(l,ce,["BYTERANGE","URI"]);const ke=new bR(ce,L,t,ie,xe);ae.push(ke),L.duration+=ke.duration;break}case"PRELOAD-HINT":{const ae=new fn(X);fi(l,ae,["URI"]),l.preloadHint=ae;break}case"RENDITION-REPORT":{const ae=new fn(X);fi(l,ae,["URI"]),l.renditionReports=l.renditionReports||[],l.renditionReports.push(ae);break}default:he.warn(`line parsed but not handled: ${I}`);break}}}w&&!w.relurl?(u.pop(),_-=w.duration,l.partList&&(l.fragmentHint=w)):l.partList&&(TS(L,w),L.cc=T,l.fragmentHint=L,b&&kS(L,b,l));const $=u.length,H=u[0],j=u[$-1];if(_+=l.skippedSegments*l.targetduration,_>0&&$&&j){l.averagetargetduration=_/$;const Y=j.sn;l.endSN=Y!=="initSegment"?Y:0,l.live||(j.endList=!0),H&&(l.startCC=H.cc)}else l.endSN=0,l.startCC=0;return l.fragmentHint&&(_+=l.fragmentHint.duration),l.totalduration=_,l.endCC=T,M>0&&V8(u,M),l}}function _S(n,e,t){var r,i;const s=new fn(n);fi(t,s,["KEYFORMAT","KEYFORMATVERSIONS","URI","IV","URI"]);const o=(r=s.METHOD)!=null?r:"",l=s.URI,u=s.hexadecimalInteger("IV"),h=s.KEYFORMATVERSIONS,m=(i=s.KEYFORMAT)!=null?i:"identity";l&&s.IV&&!u&&he.error(`Invalid IV: ${s.IV}`);const y=l?mo.resolve(l,e):"",_=(h||"1").split("/").map(Number).filter(Number.isFinite);return new u0(o,y,m,_,u)}function ES(n){const t=new fn(n).decimalFloatingPoint("TIME-OFFSET");return He(t)?t:null}function j8(n,e){let t=(n||"").split(/[ ,]+/).filter(r=>r);["video","audio","text"].forEach(r=>{const i=t.filter(s=>B8(s,r));i.length&&(e[`${r}Codec`]=i.join(","),t=t.filter(s=>i.indexOf(s)===-1))}),e.unknownCodecs=t}function SS(n,e,t){const r=e[t];r&&(n[t]=r)}function V8(n,e){let t=n[e];for(let r=e;r--;){const i=n[r];if(!i)return;i.programDateTime=t.programDateTime-i.duration*1e3,t=i}}function TS(n,e){n.rawProgramDateTime?n.programDateTime=Date.parse(n.rawProgramDateTime):e!=null&&e.programDateTime&&(n.programDateTime=e.endProgramDateTime),He(n.programDateTime)||(n.programDateTime=null,n.rawProgramDateTime=null)}function wS(n,e,t,r){n.relurl=e.URI,e.BYTERANGE&&n.setByteRange(e.BYTERANGE),n.level=t,n.sn="initSegment",r&&(n.levelkeys=r),n.initSegment=null}function kS(n,e,t){n.levelkeys=e;const{encryptedFragments:r}=t;(!r.length||r[r.length-1].levelkeys!==e)&&Object.keys(e).some(i=>e[i].isCommonEncryption)&&r.push(n)}var Ft={MANIFEST:"manifest",LEVEL:"level",AUDIO_TRACK:"audioTrack",SUBTITLE_TRACK:"subtitleTrack"},et={MAIN:"main",AUDIO:"audio",SUBTITLE:"subtitle"};function LS(n){const{type:e}=n;switch(e){case Ft.AUDIO_TRACK:return et.AUDIO;case Ft.SUBTITLE_TRACK:return et.SUBTITLE;default:return et.MAIN}}function z1(n,e){let t=n.url;return(t===void 0||t.indexOf("data:")===0)&&(t=e.url),t}class Q8{constructor(e){this.hls=void 0,this.loaders=Object.create(null),this.variableList=null,this.hls=e,this.registerListeners()}startLoad(e){}stopLoad(){this.destroyInternalLoaders()}registerListeners(){const{hls:e}=this;e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.LEVEL_LOADING,this.onLevelLoading,this),e.on(z.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.on(z.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}unregisterListeners(){const{hls:e}=this;e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.LEVEL_LOADING,this.onLevelLoading,this),e.off(z.AUDIO_TRACK_LOADING,this.onAudioTrackLoading,this),e.off(z.SUBTITLE_TRACK_LOADING,this.onSubtitleTrackLoading,this)}createInternalLoader(e){const t=this.hls.config,r=t.pLoader,i=t.loader,s=r||i,o=new s(t);return this.loaders[e.type]=o,o}getInternalLoader(e){return this.loaders[e.type]}resetInternalLoader(e){this.loaders[e]&&delete this.loaders[e]}destroyInternalLoaders(){for(const e in this.loaders){const t=this.loaders[e];t&&t.destroy(),this.resetInternalLoader(e)}}destroy(){this.variableList=null,this.unregisterListeners(),this.destroyInternalLoaders()}onManifestLoading(e,t){const{url:r}=t;this.variableList=null,this.load({id:null,level:0,responseType:"text",type:Ft.MANIFEST,url:r,deliveryDirectives:null})}onLevelLoading(e,t){const{id:r,level:i,pathwayId:s,url:o,deliveryDirectives:l}=t;this.load({id:r,level:i,pathwayId:s,responseType:"text",type:Ft.LEVEL,url:o,deliveryDirectives:l})}onAudioTrackLoading(e,t){const{id:r,groupId:i,url:s,deliveryDirectives:o}=t;this.load({id:r,groupId:i,level:null,responseType:"text",type:Ft.AUDIO_TRACK,url:s,deliveryDirectives:o})}onSubtitleTrackLoading(e,t){const{id:r,groupId:i,url:s,deliveryDirectives:o}=t;this.load({id:r,groupId:i,level:null,responseType:"text",type:Ft.SUBTITLE_TRACK,url:s,deliveryDirectives:o})}load(e){var t;const r=this.hls.config;let i=this.getInternalLoader(e);if(i){const h=i.context;if(h&&h.url===e.url&&h.level===e.level){he.trace("[playlist-loader]: playlist request ongoing");return}he.log(`[playlist-loader]: aborting previous loader for type: ${e.type}`),i.abort()}let s;if(e.type===Ft.MANIFEST?s=r.manifestLoadPolicy.default:s=Gn({},r.playlistLoadPolicy.default,{timeoutRetry:null,errorRetry:null}),i=this.createInternalLoader(e),He((t=e.deliveryDirectives)==null?void 0:t.part)){let h;if(e.type===Ft.LEVEL&&e.level!==null?h=this.hls.levels[e.level].details:e.type===Ft.AUDIO_TRACK&&e.id!==null?h=this.hls.audioTracks[e.id].details:e.type===Ft.SUBTITLE_TRACK&&e.id!==null&&(h=this.hls.subtitleTracks[e.id].details),h){const m=h.partTarget,y=h.targetduration;if(m&&y){const _=Math.max(m*3,y*.8)*1e3;s=Gn({},s,{maxTimeToFirstByteMs:Math.min(_,s.maxTimeToFirstByteMs),maxLoadTimeMs:Math.min(_,s.maxTimeToFirstByteMs)})}}}const o=s.errorRetry||s.timeoutRetry||{},l={loadPolicy:s,timeout:s.maxLoadTimeMs,maxRetry:o.maxNumRetry||0,retryDelay:o.retryDelayMs||0,maxRetryDelay:o.maxRetryDelayMs||0},u={onSuccess:(h,m,y,_)=>{const T=this.getInternalLoader(y);this.resetInternalLoader(y.type);const w=h.data;if(w.indexOf("#EXTM3U")!==0){this.handleManifestParsingError(h,y,new Error("no EXTM3U delimiter"),_||null,m);return}m.parsing.start=performance.now(),mo.isMediaPlaylist(w)?this.handleTrackOrLevelPlaylist(h,m,y,_||null,T):this.handleMasterPlaylist(h,m,y,_)},onError:(h,m,y,_)=>{this.handleNetworkError(m,y,!1,h,_)},onTimeout:(h,m,y)=>{this.handleNetworkError(m,y,!0,void 0,h)}};i.load(e,l,u)}handleMasterPlaylist(e,t,r,i){const s=this.hls,o=e.data,l=z1(e,r),u=mo.parseMasterPlaylist(o,l);if(u.playlistParsingError){this.handleManifestParsingError(e,r,u.playlistParsingError,i,t);return}const{contentSteering:h,levels:m,sessionData:y,sessionKeys:_,startTimeOffset:T,variableList:w}=u;this.variableList=w;const{AUDIO:L=[],SUBTITLES:I,"CLOSED-CAPTIONS":C}=mo.parseMasterPlaylistMedia(o,l,u);L.length&&!L.some(M=>!M.url)&&m[0].audioCodec&&!m[0].attrs.AUDIO&&(he.log("[playlist-loader]: audio codec signaled in quality level, but no embedded audio track signaled, create one"),L.unshift({type:"main",name:"main",groupId:"main",default:!1,autoselect:!1,forced:!1,id:-1,attrs:new fn({}),bitrate:0,url:""})),s.trigger(z.MANIFEST_LOADED,{levels:m,audioTracks:L,subtitles:I,captions:C,contentSteering:h,url:l,stats:t,networkDetails:i,sessionData:y,sessionKeys:_,startTimeOffset:T,variableList:w})}handleTrackOrLevelPlaylist(e,t,r,i,s){const o=this.hls,{id:l,level:u,type:h}=r,m=z1(e,r),y=0,_=He(u)?u:He(l)?l:0,T=LS(r),w=mo.parseLevelPlaylist(e.data,m,_,T,y,this.variableList);if(h===Ft.MANIFEST){const L={attrs:new fn({}),bitrate:0,details:w,name:"",url:m};o.trigger(z.MANIFEST_LOADED,{levels:[L],audioTracks:[],url:m,stats:t,networkDetails:i,sessionData:null,sessionKeys:null,contentSteering:null,startTimeOffset:null,variableList:null})}t.parsing.end=performance.now(),r.levelDetails=w,this.handlePlaylistLoaded(w,e,t,r,i,s)}handleManifestParsingError(e,t,r,i,s){this.hls.trigger(z.ERROR,{type:st.NETWORK_ERROR,details:_e.MANIFEST_PARSING_ERROR,fatal:t.type===Ft.MANIFEST,url:e.url,err:r,error:r,reason:r.message,response:e,context:t,networkDetails:i,stats:s})}handleNetworkError(e,t,r=!1,i,s){let o=`A network ${r?"timeout":"error"+(i?" (status "+i.code+")":"")} occurred while loading ${e.type}`;e.type===Ft.LEVEL?o+=`: ${e.level} id: ${e.id}`:(e.type===Ft.AUDIO_TRACK||e.type===Ft.SUBTITLE_TRACK)&&(o+=` id: ${e.id} group-id: "${e.groupId}"`);const l=new Error(o);he.warn(`[playlist-loader]: ${o}`);let u=_e.UNKNOWN,h=!1;const m=this.getInternalLoader(e);switch(e.type){case Ft.MANIFEST:u=r?_e.MANIFEST_LOAD_TIMEOUT:_e.MANIFEST_LOAD_ERROR,h=!0;break;case Ft.LEVEL:u=r?_e.LEVEL_LOAD_TIMEOUT:_e.LEVEL_LOAD_ERROR,h=!1;break;case Ft.AUDIO_TRACK:u=r?_e.AUDIO_TRACK_LOAD_TIMEOUT:_e.AUDIO_TRACK_LOAD_ERROR,h=!1;break;case Ft.SUBTITLE_TRACK:u=r?_e.SUBTITLE_TRACK_LOAD_TIMEOUT:_e.SUBTITLE_LOAD_ERROR,h=!1;break}m&&this.resetInternalLoader(e.type);const y={type:st.NETWORK_ERROR,details:u,fatal:h,url:e.url,loader:m,context:e,error:l,networkDetails:t,stats:s};if(i){const _=(t==null?void 0:t.url)||e.url;y.response=lr({url:_,data:void 0},i)}this.hls.trigger(z.ERROR,y)}handlePlaylistLoaded(e,t,r,i,s,o){const l=this.hls,{type:u,level:h,id:m,groupId:y,deliveryDirectives:_}=i,T=z1(t,i),w=LS(i),L=typeof i.level=="number"&&w===et.MAIN?h:void 0;if(!e.fragments.length){const C=new Error("No Segments found in Playlist");l.trigger(z.ERROR,{type:st.NETWORK_ERROR,details:_e.LEVEL_EMPTY_ERROR,fatal:!1,url:T,error:C,reason:C.message,response:t,context:i,level:L,parent:w,networkDetails:s,stats:r});return}e.targetduration||(e.playlistParsingError=new Error("Missing Target Duration"));const I=e.playlistParsingError;if(I){l.trigger(z.ERROR,{type:st.NETWORK_ERROR,details:_e.LEVEL_PARSING_ERROR,fatal:!1,url:T,error:I,reason:I.message,response:t,context:i,level:L,parent:w,networkDetails:s,stats:r});return}switch(e.live&&o&&(o.getCacheAge&&(e.ageHeader=o.getCacheAge()||0),(!o.getCacheAge||isNaN(e.ageHeader))&&(e.ageHeader=0)),u){case Ft.MANIFEST:case Ft.LEVEL:l.trigger(z.LEVEL_LOADED,{details:e,level:L||0,id:m||0,stats:r,networkDetails:s,deliveryDirectives:_});break;case Ft.AUDIO_TRACK:l.trigger(z.AUDIO_TRACK_LOADED,{details:e,id:m||0,groupId:y||"",stats:r,networkDetails:s,deliveryDirectives:_});break;case Ft.SUBTITLE_TRACK:l.trigger(z.SUBTITLE_TRACK_LOADED,{details:e,id:m||0,groupId:y||"",stats:r,networkDetails:s,deliveryDirectives:_});break}}}function KR(n,e){let t;try{t=new Event("addtrack")}catch{t=document.createEvent("Event"),t.initEvent("addtrack",!1,!1)}t.track=n,e.dispatchEvent(t)}function WR(n,e){const t=n.mode;if(t==="disabled"&&(n.mode="hidden"),n.cues&&!n.cues.getCueById(e.id))try{if(n.addCue(e),!n.cues.getCueById(e.id))throw new Error(`addCue is failed for: ${e}`)}catch(r){he.debug(`[texttrack-utils]: ${r}`);try{const i=new self.TextTrackCue(e.startTime,e.endTime,e.text);i.id=e.id,n.addCue(i)}catch(i){he.debug(`[texttrack-utils]: Legacy TextTrackCue fallback failed: ${i}`)}}t==="disabled"&&(n.mode=t)}function Pu(n){const e=n.mode;if(e==="disabled"&&(n.mode="hidden"),n.cues)for(let t=n.cues.length;t--;)n.removeCue(n.cues[t]);e==="disabled"&&(n.mode=e)}function v2(n,e,t,r){const i=n.mode;if(i==="disabled"&&(n.mode="hidden"),n.cues&&n.cues.length>0){const s=W8(n.cues,e,t);for(let o=0;o<s.length;o++)(!r||r(s[o]))&&n.removeCue(s[o])}i==="disabled"&&(n.mode=i)}function K8(n,e){if(e<n[0].startTime)return 0;const t=n.length-1;if(e>n[t].endTime)return-1;let r=0,i=t;for(;r<=i;){const s=Math.floor((i+r)/2);if(e<n[s].startTime)i=s-1;else if(e>n[s].startTime&&r<t)r=s+1;else return s}return n[r].startTime-e<e-n[i].startTime?r:i}function W8(n,e,t){const r=[],i=K8(n,e);if(i>-1)for(let s=i,o=n.length;s<o;s++){const l=n[s];if(l.startTime>=e&&l.endTime<=t)r.push(l);else if(l.startTime>t)return r}return r}function rg(n){const e=[];for(let t=0;t<n.length;t++){const r=n[t];(r.kind==="subtitles"||r.kind==="captions")&&r.label&&e.push(n[t])}return e}var xs={audioId3:"org.id3",dateRange:"com.apple.quicktime.HLS",emsg:"https://aomedia.org/emsg/ID3"};const Y8=.25;function x2(){if(!(typeof self>"u"))return self.VTTCue||self.TextTrackCue}function RS(n,e,t,r,i){let s=new n(e,t,"");try{s.value=r,i&&(s.type=i)}catch{s=new n(e,t,JSON.stringify(i?lr({type:i},r):r))}return s}const xd=(()=>{const n=x2();try{n&&new n(0,Number.POSITIVE_INFINITY,"")}catch{return Number.MAX_VALUE}return Number.POSITIVE_INFINITY})();function H1(n,e){return n.getTime()/1e3-e}function q8(n){return Uint8Array.from(n.replace(/^0x/,"").replace(/([\da-fA-F]{2}) ?/g,"0x$1 ").replace(/ +$/,"").split(" ")).buffer}class X8{constructor(e){this.hls=void 0,this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=e,this._registerListeners()}destroy(){this._unregisterListeners(),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={},this.hls=null}_registerListeners(){const{hls:e}=this;e.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.on(z.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(z.LEVEL_UPDATED,this.onLevelUpdated,this)}_unregisterListeners(){const{hls:e}=this;e.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.FRAG_PARSING_METADATA,this.onFragParsingMetadata,this),e.off(z.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(z.LEVEL_UPDATED,this.onLevelUpdated,this)}onMediaAttached(e,t){this.media=t.media}onMediaDetaching(){this.id3Track&&(Pu(this.id3Track),this.id3Track=null,this.media=null,this.dateRangeCuesAppended={})}onManifestLoading(){this.dateRangeCuesAppended={}}createTrack(e){const t=this.getID3Track(e.textTracks);return t.mode="hidden",t}getID3Track(e){if(this.media){for(let t=0;t<e.length;t++){const r=e[t];if(r.kind==="metadata"&&r.label==="id3")return KR(r,this.media),r}return this.media.addTextTrack("metadata","id3")}}onFragParsingMetadata(e,t){if(!this.media)return;const{hls:{config:{enableEmsgMetadataCues:r,enableID3MetadataCues:i}}}=this;if(!r&&!i)return;const{samples:s}=t;this.id3Track||(this.id3Track=this.createTrack(this.media));const o=x2();if(o)for(let l=0;l<s.length;l++){const u=s[l].type;if(u===xs.emsg&&!r||!i)continue;const h=NR(s[l].data);if(h){const m=s[l].pts;let y=m+s[l].duration;y>xd&&(y=xd),y-m<=0&&(y=m+Y8);for(let T=0;T<h.length;T++){const w=h[T];if(!FR(w)){this.updateId3CueEnds(m,u);const L=RS(o,m,y,w,u);L&&this.id3Track.addCue(L)}}}}}updateId3CueEnds(e,t){var r;const i=(r=this.id3Track)==null?void 0:r.cues;if(i)for(let s=i.length;s--;){const o=i[s];o.type===t&&o.startTime<e&&o.endTime===xd&&(o.endTime=e)}}onBufferFlushing(e,{startOffset:t,endOffset:r,type:i}){const{id3Track:s,hls:o}=this;if(!o)return;const{config:{enableEmsgMetadataCues:l,enableID3MetadataCues:u}}=o;if(s&&(l||u)){let h;i==="audio"?h=m=>m.type===xs.audioId3&&u:i==="video"?h=m=>m.type===xs.emsg&&l:h=m=>m.type===xs.audioId3&&u||m.type===xs.emsg&&l,v2(s,t,r,h)}}onLevelUpdated(e,{details:t}){if(!this.media||!t.hasProgramDateTime||!this.hls.config.enableDateRangeMetadataCues)return;const{dateRangeCuesAppended:r,id3Track:i}=this,{dateRanges:s}=t,o=Object.keys(s);if(i){const m=Object.keys(r).filter(y=>!o.includes(y));for(let y=m.length;y--;){const _=m[y];Object.keys(r[_].cues).forEach(T=>{i.removeCue(r[_].cues[T])}),delete r[_]}}const l=t.fragments[t.fragments.length-1];if(o.length===0||!He(l==null?void 0:l.programDateTime))return;this.id3Track||(this.id3Track=this.createTrack(this.media));const u=l.programDateTime/1e3-l.start,h=x2();for(let m=0;m<o.length;m++){const y=o[m],_=s[y],T=H1(_.startDate,u),w=r[y],L=(w==null?void 0:w.cues)||{};let I=(w==null?void 0:w.durationKnown)||!1,C=xd;const b=_.endDate;if(b)C=H1(b,u),I=!0;else if(_.endOnNext&&!I){const U=o.reduce((B,$)=>{if($!==_.id){const H=s[$];if(H.class===_.class&&H.startDate>_.startDate&&(!B||_.startDate<B.startDate))return H}return B},null);U&&(C=H1(U.startDate,u),I=!0)}const M=Object.keys(_.attr);for(let U=0;U<M.length;U++){const B=M[U];if(!n8(B))continue;const $=L[B];if($)I&&!w.durationKnown&&($.endTime=C);else if(h){let H=_.attr[B];r8(B)&&(H=q8(H));const j=RS(h,T,C,{key:B,data:H},xs.dateRange);j&&(j.id=y,this.id3Track.addCue(j),L[B]=j)}}r[y]={cues:L,dateRange:_,durationKnown:I}}}}class Z8{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.levelDetails=null,this.currentTime=0,this.stallCount=0,this._latency=null,this.timeupdateHandler=()=>this.timeupdate(),this.hls=e,this.config=e.config,this.registerListeners()}get latency(){return this._latency||0}get maxLatency(){const{config:e,levelDetails:t}=this;return e.liveMaxLatencyDuration!==void 0?e.liveMaxLatencyDuration:t?e.liveMaxLatencyDurationCount*t.targetduration:0}get targetLatency(){const{levelDetails:e}=this;if(e===null)return null;const{holdBack:t,partHoldBack:r,targetduration:i}=e,{liveSyncDuration:s,liveSyncDurationCount:o,lowLatencyMode:l}=this.config,u=this.hls.userConfig;let h=l&&r||t;(u.liveSyncDuration||u.liveSyncDurationCount||h===0)&&(h=s!==void 0?s:o*i);const m=i;return h+Math.min(this.stallCount*1,m)}get liveSyncPosition(){const e=this.estimateLiveEdge(),t=this.targetLatency,r=this.levelDetails;if(e===null||t===null||r===null)return null;const i=r.edge,s=e-t-this.edgeStalled,o=i-r.totalduration,l=i-(this.config.lowLatencyMode&&r.partTarget||r.targetduration);return Math.min(Math.max(o,s),l)}get drift(){const{levelDetails:e}=this;return e===null?1:e.drift}get edgeStalled(){const{levelDetails:e}=this;if(e===null)return 0;const t=(this.config.lowLatencyMode&&e.partTarget||e.targetduration)*3;return Math.max(e.age-t,0)}get forwardBufferLength(){const{media:e,levelDetails:t}=this;if(!e||!t)return 0;const r=e.buffered.length;return(r?e.buffered.end(r-1):t.edge)-this.currentTime}destroy(){this.unregisterListeners(),this.onMediaDetaching(),this.levelDetails=null,this.hls=this.timeupdateHandler=null}registerListeners(){this.hls.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.on(z.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(z.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.on(z.ERROR,this.onError,this)}unregisterListeners(){this.hls.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),this.hls.off(z.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(z.LEVEL_UPDATED,this.onLevelUpdated,this),this.hls.off(z.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("timeupdate",this.timeupdateHandler)}onMediaDetaching(){this.media&&(this.media.removeEventListener("timeupdate",this.timeupdateHandler),this.media=null)}onManifestLoading(){this.levelDetails=null,this._latency=null,this.stallCount=0}onLevelUpdated(e,{details:t}){this.levelDetails=t,t.advanced&&this.timeupdate(),!t.live&&this.media&&this.media.removeEventListener("timeupdate",this.timeupdateHandler)}onError(e,t){var r;t.details===_e.BUFFER_STALLED_ERROR&&(this.stallCount++,(r=this.levelDetails)!=null&&r.live&&he.warn("[playback-rate-controller]: Stall detected, adjusting target latency"))}timeupdate(){const{media:e,levelDetails:t}=this;if(!e||!t)return;this.currentTime=e.currentTime;const r=this.computeLatency();if(r===null)return;this._latency=r;const{lowLatencyMode:i,maxLiveSyncPlaybackRate:s}=this.config;if(!i||s===1||!t.live)return;const o=this.targetLatency;if(o===null)return;const l=r-o,u=Math.min(this.maxLatency,o+t.targetduration);if(l<u&&l>.05&&this.forwardBufferLength>1){const m=Math.min(2,Math.max(1,s)),y=Math.round(2/(1+Math.exp(-.75*l-this.edgeStalled))*20)/20;e.playbackRate=Math.min(m,Math.max(1,y))}else e.playbackRate!==1&&e.playbackRate!==0&&(e.playbackRate=1)}estimateLiveEdge(){const{levelDetails:e}=this;return e===null?null:e.edge+e.age}computeLatency(){const e=this.estimateLiveEdge();return e===null?null:e-this.currentTime}}const _2=["NONE","TYPE-0","TYPE-1",null];function J8(n){return _2.indexOf(n)>-1}const Vg=["SDR","PQ","HLG"];function e5(n){return!!n&&Vg.indexOf(n)>-1}var $f={No:"",Yes:"YES",v2:"v2"};function CS(n){const{canSkipUntil:e,canSkipDateRanges:t,age:r}=n,i=r<e/2;return e&&i?t?$f.v2:$f.Yes:$f.No}class E2{constructor(e,t,r){this.msn=void 0,this.part=void 0,this.skip=void 0,this.msn=e,this.part=t,this.skip=r}addDirectives(e){const t=new self.URL(e);return this.msn!==void 0&&t.searchParams.set("_HLS_msn",this.msn.toString()),this.part!==void 0&&t.searchParams.set("_HLS_part",this.part.toString()),this.skip&&t.searchParams.set("_HLS_skip",this.skip),t.href}}class wA{constructor(e){this._attrs=void 0,this.audioCodec=void 0,this.bitrate=void 0,this.codecSet=void 0,this.url=void 0,this.frameRate=void 0,this.height=void 0,this.id=void 0,this.name=void 0,this.videoCodec=void 0,this.width=void 0,this.details=void 0,this.fragmentError=0,this.loadError=0,this.loaded=void 0,this.realBitrate=0,this.supportedPromise=void 0,this.supportedResult=void 0,this._avgBitrate=0,this._audioGroups=void 0,this._subtitleGroups=void 0,this._urlId=0,this.url=[e.url],this._attrs=[e.attrs],this.bitrate=e.bitrate,e.details&&(this.details=e.details),this.id=e.id||0,this.name=e.name,this.width=e.width||0,this.height=e.height||0,this.frameRate=e.attrs.optionalFloat("FRAME-RATE",0),this._avgBitrate=e.attrs.decimalInteger("AVERAGE-BANDWIDTH"),this.audioCodec=e.audioCodec,this.videoCodec=e.videoCodec,this.codecSet=[e.videoCodec,e.audioCodec].filter(t=>!!t).map(t=>t.substring(0,4)).join(","),this.addGroupId("audio",e.attrs.AUDIO),this.addGroupId("text",e.attrs.SUBTITLES)}get maxBitrate(){return Math.max(this.realBitrate,this.bitrate)}get averageBitrate(){return this._avgBitrate||this.realBitrate||this.bitrate}get attrs(){return this._attrs[0]}get codecs(){return this.attrs.CODECS||""}get pathwayId(){return this.attrs["PATHWAY-ID"]||"."}get videoRange(){return this.attrs["VIDEO-RANGE"]||"SDR"}get score(){return this.attrs.optionalFloat("SCORE",0)}get uri(){return this.url[0]||""}hasAudioGroup(e){return IS(this._audioGroups,e)}hasSubtitleGroup(e){return IS(this._subtitleGroups,e)}get audioGroups(){return this._audioGroups}get subtitleGroups(){return this._subtitleGroups}addGroupId(e,t){if(t){if(e==="audio"){let r=this._audioGroups;r||(r=this._audioGroups=[]),r.indexOf(t)===-1&&r.push(t)}else if(e==="text"){let r=this._subtitleGroups;r||(r=this._subtitleGroups=[]),r.indexOf(t)===-1&&r.push(t)}}}get urlId(){return 0}set urlId(e){}get audioGroupIds(){return this.audioGroups?[this.audioGroupId]:void 0}get textGroupIds(){return this.subtitleGroups?[this.textGroupId]:void 0}get audioGroupId(){var e;return(e=this.audioGroups)==null?void 0:e[0]}get textGroupId(){var e;return(e=this.subtitleGroups)==null?void 0:e[0]}addFallback(){}}function IS(n,e){return!e||!n?!1:n.indexOf(e)!==-1}function j1(n,e){const t=e.startPTS;if(He(t)){let r=0,i;e.sn>n.sn?(r=t-n.start,i=n):(r=n.start-t,i=e),i.duration!==r&&(i.duration=r)}else e.sn>n.sn?n.cc===e.cc&&n.minEndPTS?e.start=n.start+(n.minEndPTS-n.start):e.start=n.start+n.duration:e.start=Math.max(n.start-e.duration,0)}function YR(n,e,t,r,i,s){r-t<=0&&(he.warn("Fragment should have a positive duration",e),r=t+e.duration,s=i+e.duration);let l=t,u=r;const h=e.startPTS,m=e.endPTS;if(He(h)){const I=Math.abs(h-t);He(e.deltaPTS)?e.deltaPTS=Math.max(I,e.deltaPTS):e.deltaPTS=I,l=Math.max(t,h),t=Math.min(t,h),i=Math.min(i,e.startDTS),u=Math.min(r,m),r=Math.max(r,m),s=Math.max(s,e.endDTS)}const y=t-e.start;e.start!==0&&(e.start=t),e.duration=r-e.start,e.startPTS=t,e.maxStartPTS=l,e.startDTS=i,e.endPTS=r,e.minEndPTS=u,e.endDTS=s;const _=e.sn;if(!n||_<n.startSN||_>n.endSN)return 0;let T;const w=_-n.startSN,L=n.fragments;for(L[w]=e,T=w;T>0;T--)j1(L[T],L[T-1]);for(T=w;T<L.length-1;T++)j1(L[T],L[T+1]);return n.fragmentHint&&j1(L[L.length-1],n.fragmentHint),n.PTSKnown=n.alignedSliding=!0,y}function t5(n,e){let t=null;const r=n.fragments;for(let u=r.length-1;u>=0;u--){const h=r[u].initSegment;if(h){t=h;break}}n.fragmentHint&&delete n.fragmentHint.endPTS;let i=0,s;if(i5(n,e,(u,h)=>{u.relurl&&(i=u.cc-h.cc),He(u.startPTS)&&He(u.endPTS)&&(h.start=h.startPTS=u.startPTS,h.startDTS=u.startDTS,h.maxStartPTS=u.maxStartPTS,h.endPTS=u.endPTS,h.endDTS=u.endDTS,h.minEndPTS=u.minEndPTS,h.duration=u.endPTS-u.startPTS,h.duration&&(s=h),e.PTSKnown=e.alignedSliding=!0),h.elementaryStreams=u.elementaryStreams,h.loader=u.loader,h.stats=u.stats,u.initSegment&&(h.initSegment=u.initSegment,t=u.initSegment)}),t&&(e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments).forEach(h=>{var m;h&&(!h.initSegment||h.initSegment.relurl===((m=t)==null?void 0:m.relurl))&&(h.initSegment=t)}),e.skippedSegments)if(e.deltaUpdateFailed=e.fragments.some(u=>!u),e.deltaUpdateFailed){he.warn("[level-helper] Previous playlist missing segments skipped in delta playlist");for(let u=e.skippedSegments;u--;)e.fragments.shift();e.startSN=e.fragments[0].sn,e.startCC=e.fragments[0].cc}else e.canSkipDateRanges&&(e.dateRanges=n5(n.dateRanges,e.dateRanges,e.recentlyRemovedDateranges));const o=e.fragments;if(i){he.warn("discontinuity sliding from playlist, take drift into account");for(let u=0;u<o.length;u++)o[u].cc+=i}e.skippedSegments&&(e.startCC=e.fragments[0].cc),r5(n.partList,e.partList,(u,h)=>{h.elementaryStreams=u.elementaryStreams,h.stats=u.stats}),s?YR(e,s,s.startPTS,s.endPTS,s.startDTS,s.endDTS):qR(n,e),o.length&&(e.totalduration=e.edge-o[0].start),e.driftStartTime=n.driftStartTime,e.driftStart=n.driftStart;const l=e.advancedDateTime;if(e.advanced&&l){const u=e.edge;e.driftStart||(e.driftStartTime=l,e.driftStart=u),e.driftEndTime=l,e.driftEnd=u}else e.driftEndTime=n.driftEndTime,e.driftEnd=n.driftEnd,e.advancedDateTime=n.advancedDateTime}function n5(n,e,t){const r=Gn({},n);return t&&t.forEach(i=>{delete r[i]}),Object.keys(e).forEach(i=>{const s=new Rx(e[i].attr,r[i]);s.isValid?r[i]=s:he.warn(`Ignoring invalid Playlist Delta Update DATERANGE tag: "${JSON.stringify(e[i].attr)}"`)}),r}function r5(n,e,t){if(n&&e){let r=0;for(let i=0,s=n.length;i<=s;i++){const o=n[i],l=e[i+r];o&&l&&o.index===l.index&&o.fragment.sn===l.fragment.sn?t(o,l):r--}}}function i5(n,e,t){const r=e.skippedSegments,i=Math.max(n.startSN,e.startSN)-e.startSN,s=(n.fragmentHint?1:0)+(r?e.endSN:Math.min(n.endSN,e.endSN))-e.startSN,o=e.startSN-n.startSN,l=e.fragmentHint?e.fragments.concat(e.fragmentHint):e.fragments,u=n.fragmentHint?n.fragments.concat(n.fragmentHint):n.fragments;for(let h=i;h<=s;h++){const m=u[o+h];let y=l[h];r&&!y&&h<r&&(y=e.fragments[h]=m),m&&y&&t(m,y)}}function qR(n,e){const t=e.startSN+e.skippedSegments-n.startSN,r=n.fragments;t<0||t>=r.length||S2(e,r[t].start)}function S2(n,e){if(e){const t=n.fragments;for(let r=n.skippedSegments;r<t.length;r++)t[r].start+=e;n.fragmentHint&&(n.fragmentHint.start+=e)}}function s5(n,e=1/0){let t=1e3*n.targetduration;if(n.updated){const r=n.fragments;if(r.length&&t*4>e){const s=r[r.length-1].duration*1e3;s<t&&(t=s)}}else t/=2;return Math.round(t)}function o5(n,e,t){if(!(n!=null&&n.details))return null;const r=n.details;let i=r.fragments[e-r.startSN];return i||(i=r.fragmentHint,i&&i.sn===e)?i:e<r.startSN&&t&&t.sn===e?t:null}function DS(n,e,t){var r;return n!=null&&n.details?XR((r=n.details)==null?void 0:r.partList,e,t):null}function XR(n,e,t){if(n)for(let r=n.length;r--;){const i=n[r];if(i.index===t&&i.fragment.sn===e)return i}return null}function ZR(n){n.forEach((e,t)=>{const{details:r}=e;r!=null&&r.fragments&&r.fragments.forEach(i=>{i.level=t})})}function Qg(n){switch(n.details){case _e.FRAG_LOAD_TIMEOUT:case _e.KEY_LOAD_TIMEOUT:case _e.LEVEL_LOAD_TIMEOUT:case _e.MANIFEST_LOAD_TIMEOUT:return!0}return!1}function bS(n,e){const t=Qg(e);return n.default[`${t?"timeout":"error"}Retry`]}function Px(n,e){const t=n.backoff==="linear"?1:Math.pow(2,e);return Math.min(t*n.retryDelayMs,n.maxRetryDelayMs)}function PS(n){return lr(lr({},n),{errorRetry:null,timeoutRetry:null})}function Kg(n,e,t,r){if(!n)return!1;const i=r==null?void 0:r.code,s=e<n.maxNumRetry&&(l5(i)||!!t);return n.shouldRetry?n.shouldRetry(n,e,t,r,s):s}function l5(n){return n===0&&navigator.onLine===!1||!!n&&(n<400||n>499)}const JR={search:function(n,e){let t=0,r=n.length-1,i=null,s=null;for(;t<=r;){i=(t+r)/2|0,s=n[i];const o=e(s);if(o>0)t=i+1;else if(o<0)r=i-1;else return s}return null}};function a5(n,e,t){if(e===null||!Array.isArray(n)||!n.length||!He(e))return null;const r=n[0].programDateTime;if(e<(r||0))return null;const i=n[n.length-1].endProgramDateTime;if(e>=(i||0))return null;t=t||0;for(let s=0;s<n.length;++s){const o=n[s];if(u5(e,t,o))return o}return null}function Wg(n,e,t=0,r=0,i=.005){let s=null;if(n){s=e[n.sn-e[0].sn+1]||null;const l=n.endDTS-t;l>0&&l<15e-7&&(t+=15e-7)}else t===0&&e[0].start===0&&(s=e[0]);if(s&&((!n||n.level===s.level)&&T2(t,r,s)===0||A5(s,n,Math.min(i,r))))return s;const o=JR.search(e,T2.bind(null,t,r));return o&&(o!==n||!s)?o:s}function A5(n,e,t){if(e&&e.start===0&&e.level<n.level&&(e.endPTS||0)>0){const r=e.tagList.reduce((i,s)=>(s[0]==="INF"&&(i+=parseFloat(s[1])),i),t);return n.start<=r}return!1}function T2(n=0,e=0,t){if(t.start<=n&&t.start+t.duration>n)return 0;const r=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0));return t.start+t.duration-r<=n?1:t.start-r>n&&t.start?-1:0}function u5(n,e,t){const r=Math.min(e,t.duration+(t.deltaPTS?t.deltaPTS:0))*1e3;return(t.endProgramDateTime||0)-r>n}function f5(n,e){return JR.search(n,t=>t.cc<e?1:t.cc>e?-1:0)}var Qn={DoNothing:0,SendEndCallback:1,SendAlternateToPenaltyBox:2,RemoveAlternatePermanently:3,InsertDiscontinuity:4,RetryRequest:5},ds={None:0,MoveAllAlternatesMatchingHost:1,MoveAllAlternatesMatchingHDCP:2,SwitchToSDR:4};class e3{constructor(e){this.hls=void 0,this.playlistError=0,this.penalizedRenditions={},this.log=void 0,this.warn=void 0,this.error=void 0,this.hls=e,this.log=he.log.bind(he,"[info]:"),this.warn=he.warn.bind(he,"[warning]:"),this.error=he.error.bind(he,"[error]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(z.ERROR,this.onError,this),e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.LEVEL_UPDATED,this.onLevelUpdated,this)}unregisterListeners(){const e=this.hls;e&&(e.off(z.ERROR,this.onError,this),e.off(z.ERROR,this.onErrorOut,this),e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.LEVEL_UPDATED,this.onLevelUpdated,this))}destroy(){this.unregisterListeners(),this.hls=null,this.penalizedRenditions={}}startLoad(e){}stopLoad(){this.playlistError=0}getVariantLevelIndex(e){return(e==null?void 0:e.type)===et.MAIN?e.level:this.hls.loadLevel}onManifestLoading(){this.playlistError=0,this.penalizedRenditions={}}onLevelUpdated(){this.playlistError=0}onError(e,t){var r,i;if(t.fatal)return;const s=this.hls,o=t.context;switch(t.details){case _e.FRAG_LOAD_ERROR:case _e.FRAG_LOAD_TIMEOUT:case _e.KEY_LOAD_ERROR:case _e.KEY_LOAD_TIMEOUT:t.errorAction=this.getFragRetryOrSwitchAction(t);return;case _e.FRAG_PARSING_ERROR:if((r=t.frag)!=null&&r.gap){t.errorAction={action:Qn.DoNothing,flags:ds.None};return}case _e.FRAG_GAP:case _e.FRAG_DECRYPT_ERROR:{t.errorAction=this.getFragRetryOrSwitchAction(t),t.errorAction.action=Qn.SendAlternateToPenaltyBox;return}case _e.LEVEL_EMPTY_ERROR:case _e.LEVEL_PARSING_ERROR:{var l,u;const h=t.parent===et.MAIN?t.level:s.loadLevel;t.details===_e.LEVEL_EMPTY_ERROR&&((l=t.context)!=null&&(u=l.levelDetails)!=null&&u.live)?t.errorAction=this.getPlaylistRetryOrSwitchAction(t,h):(t.levelRetry=!1,t.errorAction=this.getLevelSwitchAction(t,h))}return;case _e.LEVEL_LOAD_ERROR:case _e.LEVEL_LOAD_TIMEOUT:typeof(o==null?void 0:o.level)=="number"&&(t.errorAction=this.getPlaylistRetryOrSwitchAction(t,o.level));return;case _e.AUDIO_TRACK_LOAD_ERROR:case _e.AUDIO_TRACK_LOAD_TIMEOUT:case _e.SUBTITLE_LOAD_ERROR:case _e.SUBTITLE_TRACK_LOAD_TIMEOUT:if(o){const h=s.levels[s.loadLevel];if(h&&(o.type===Ft.AUDIO_TRACK&&h.hasAudioGroup(o.groupId)||o.type===Ft.SUBTITLE_TRACK&&h.hasSubtitleGroup(o.groupId))){t.errorAction=this.getPlaylistRetryOrSwitchAction(t,s.loadLevel),t.errorAction.action=Qn.SendAlternateToPenaltyBox,t.errorAction.flags=ds.MoveAllAlternatesMatchingHost;return}}return;case _e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED:{const h=s.levels[s.loadLevel],m=h==null?void 0:h.attrs["HDCP-LEVEL"];m?t.errorAction={action:Qn.SendAlternateToPenaltyBox,flags:ds.MoveAllAlternatesMatchingHDCP,hdcpLevel:m}:this.keySystemError(t)}return;case _e.BUFFER_ADD_CODEC_ERROR:case _e.REMUX_ALLOC_ERROR:case _e.BUFFER_APPEND_ERROR:t.errorAction=this.getLevelSwitchAction(t,(i=t.level)!=null?i:s.loadLevel);return;case _e.INTERNAL_EXCEPTION:case _e.BUFFER_APPENDING_ERROR:case _e.BUFFER_FULL_ERROR:case _e.LEVEL_SWITCH_ERROR:case _e.BUFFER_STALLED_ERROR:case _e.BUFFER_SEEK_OVER_HOLE:case _e.BUFFER_NUDGE_ON_STALL:t.errorAction={action:Qn.DoNothing,flags:ds.None};return}t.type===st.KEY_SYSTEM_ERROR&&this.keySystemError(t)}keySystemError(e){const t=this.getVariantLevelIndex(e.frag);e.levelRetry=!1,e.errorAction=this.getLevelSwitchAction(e,t)}getPlaylistRetryOrSwitchAction(e,t){const r=this.hls,i=bS(r.config.playlistLoadPolicy,e),s=this.playlistError++;if(Kg(i,s,Qg(e),e.response))return{action:Qn.RetryRequest,flags:ds.None,retryConfig:i,retryCount:s};const l=this.getLevelSwitchAction(e,t);return i&&(l.retryConfig=i,l.retryCount=s),l}getFragRetryOrSwitchAction(e){const t=this.hls,r=this.getVariantLevelIndex(e.frag),i=t.levels[r],{fragLoadPolicy:s,keyLoadPolicy:o}=t.config,l=bS(e.details.startsWith("key")?o:s,e),u=t.levels.reduce((m,y)=>m+y.fragmentError,0);if(i&&(e.details!==_e.FRAG_GAP&&i.fragmentError++,Kg(l,u,Qg(e),e.response)))return{action:Qn.RetryRequest,flags:ds.None,retryConfig:l,retryCount:u};const h=this.getLevelSwitchAction(e,r);return l&&(h.retryConfig=l,h.retryCount=u),h}getLevelSwitchAction(e,t){const r=this.hls;t==null&&(t=r.loadLevel);const i=this.hls.levels[t];if(i){var s,o;const h=e.details;i.loadError++,h===_e.BUFFER_APPEND_ERROR&&i.fragmentError++;let m=-1;const{levels:y,loadLevel:_,minAutoLevel:T,maxAutoLevel:w}=r;r.autoLevelEnabled||(r.loadLevel=-1);const L=(s=e.frag)==null?void 0:s.type,C=(L===et.AUDIO&&h===_e.FRAG_PARSING_ERROR||e.sourceBufferName==="audio"&&(h===_e.BUFFER_ADD_CODEC_ERROR||h===_e.BUFFER_APPEND_ERROR))&&y.some(({audioCodec:$})=>i.audioCodec!==$),M=e.sourceBufferName==="video"&&(h===_e.BUFFER_ADD_CODEC_ERROR||h===_e.BUFFER_APPEND_ERROR)&&y.some(({codecSet:$,audioCodec:H})=>i.codecSet!==$&&i.audioCodec===H),{type:U,groupId:B}=(o=e.context)!=null?o:{};for(let $=y.length;$--;){const H=($+_)%y.length;if(H!==_&&H>=T&&H<=w&&y[H].loadError===0){var l,u;const j=y[H];if(h===_e.FRAG_GAP&&L===et.MAIN&&e.frag){const Y=y[H].details;if(Y){const q=Wg(e.frag,Y.fragments,e.frag.start);if(q!=null&&q.gap)continue}}else{if(U===Ft.AUDIO_TRACK&&j.hasAudioGroup(B)||U===Ft.SUBTITLE_TRACK&&j.hasSubtitleGroup(B))continue;if(L===et.AUDIO&&(l=i.audioGroups)!=null&&l.some(Y=>j.hasAudioGroup(Y))||L===et.SUBTITLE&&(u=i.subtitleGroups)!=null&&u.some(Y=>j.hasSubtitleGroup(Y))||C&&i.audioCodec===j.audioCodec||!C&&i.audioCodec!==j.audioCodec||M&&i.codecSet===j.codecSet)continue}m=H;break}}if(m>-1&&r.loadLevel!==m)return e.levelRetry=!0,this.playlistError=0,{action:Qn.SendAlternateToPenaltyBox,flags:ds.None,nextAutoLevel:m}}return{action:Qn.SendAlternateToPenaltyBox,flags:ds.MoveAllAlternatesMatchingHost}}onErrorOut(e,t){var r;switch((r=t.errorAction)==null?void 0:r.action){case Qn.DoNothing:break;case Qn.SendAlternateToPenaltyBox:this.sendAlternateToPenaltyBox(t),!t.errorAction.resolved&&t.details!==_e.FRAG_GAP?t.fatal=!0:/MediaSource readyState: ended/.test(t.error.message)&&(this.warn(`MediaSource ended after "${t.sourceBufferName}" sourceBuffer append error. Attempting to recover from media error.`),this.hls.recoverMediaError());break;case Qn.RetryRequest:break}if(t.fatal){this.hls.stopLoad();return}}sendAlternateToPenaltyBox(e){const t=this.hls,r=e.errorAction;if(!r)return;const{flags:i,hdcpLevel:s,nextAutoLevel:o}=r;switch(i){case ds.None:this.switchLevel(e,o);break;case ds.MoveAllAlternatesMatchingHDCP:s&&(t.maxHdcpLevel=_2[_2.indexOf(s)-1],r.resolved=!0),this.warn(`Restricting playback to HDCP-LEVEL of "${t.maxHdcpLevel}" or lower`);break}r.resolved||this.switchLevel(e,o)}switchLevel(e,t){t!==void 0&&e.errorAction&&(this.warn(`switching to level ${t} after ${e.details}`),this.hls.nextAutoLevel=t,e.errorAction.resolved=!0,this.hls.nextLoadLevel=this.hls.nextAutoLevel)}}class tm{constructor(e,t){this.hls=void 0,this.timer=-1,this.requestScheduled=-1,this.canLoad=!1,this.log=void 0,this.warn=void 0,this.log=he.log.bind(he,`${t}:`),this.warn=he.warn.bind(he,`${t}:`),this.hls=e}destroy(){this.clearTimer(),this.hls=this.log=this.warn=null}clearTimer(){this.timer!==-1&&(self.clearTimeout(this.timer),this.timer=-1)}startLoad(){this.canLoad=!0,this.requestScheduled=-1,this.loadPlaylist()}stopLoad(){this.canLoad=!1,this.clearTimer()}switchParams(e,t,r){const i=t==null?void 0:t.renditionReports;if(i){let s=-1;for(let o=0;o<i.length;o++){const l=i[o];let u;try{u=new self.URL(l.URI,t.url).href}catch(h){he.warn(`Could not construct new URL for Rendition Report: ${h}`),u=l.URI||""}if(u===e){s=o;break}else u===e.substring(0,u.length)&&(s=o)}if(s!==-1){const o=i[s],l=parseInt(o["LAST-MSN"])||(t==null?void 0:t.lastPartSn);let u=parseInt(o["LAST-PART"])||(t==null?void 0:t.lastPartIndex);if(this.hls.config.lowLatencyMode){const m=Math.min(t.age-t.partTarget,t.targetduration);u>=0&&m>t.partTarget&&(u+=1)}const h=r&&CS(r);return new E2(l,u>=0?u:void 0,h)}}}loadPlaylist(e){this.requestScheduled===-1&&(this.requestScheduled=self.performance.now())}shouldLoadPlaylist(e){return this.canLoad&&!!e&&!!e.url&&(!e.details||e.details.live)}shouldReloadPlaylist(e){return this.timer===-1&&this.requestScheduled===-1&&this.shouldLoadPlaylist(e)}playlistLoaded(e,t,r){const{details:i,stats:s}=t,o=self.performance.now(),l=s.loading.first?Math.max(0,o-s.loading.first):0;if(i.advancedDateTime=Date.now()-l,i.live||r!=null&&r.live){if(i.reloaded(r),r&&this.log(`live playlist ${e} ${i.advanced?"REFRESHED "+i.lastPartSn+"-"+i.lastPartIndex:i.updated?"UPDATED":"MISSED"}`),r&&i.fragments.length>0&&t5(r,i),!this.canLoad||!i.live)return;let u,h,m;if(i.canBlockReload&&i.endSN&&i.advanced){const I=this.hls.config.lowLatencyMode,C=i.lastPartSn,b=i.endSN,M=i.lastPartIndex,U=M!==-1,B=C===b,$=I?0:M;U?(h=B?b+1:C,m=B?$:M+1):h=b+1;const H=i.age,j=H+i.ageHeader;let Y=Math.min(j-i.partTarget,i.targetduration*1.5);if(Y>0){if(r&&Y>r.tuneInGoal)this.warn(`CDN Tune-in goal increased from: ${r.tuneInGoal} to: ${Y} with playlist age: ${i.age}`),Y=0;else{const q=Math.floor(Y/i.targetduration);if(h+=q,m!==void 0){const X=Math.round(Y%i.targetduration/i.partTarget);m+=X}this.log(`CDN Tune-in age: ${i.ageHeader}s last advanced ${H.toFixed(2)}s goal: ${Y} skip sn ${q} to part ${m}`)}i.tuneInGoal=Y}if(u=this.getDeliveryDirectives(i,t.deliveryDirectives,h,m),I||!B){this.loadPlaylist(u);return}}else(i.canBlockReload||i.canSkipUntil)&&(u=this.getDeliveryDirectives(i,t.deliveryDirectives,h,m));const y=this.hls.mainForwardBufferInfo,_=y?y.end-y.len:0,T=(i.edge-_)*1e3,w=s5(i,T);i.updated&&o>this.requestScheduled+w&&(this.requestScheduled=s.loading.start),h!==void 0&&i.canBlockReload?this.requestScheduled=s.loading.first+w-(i.partTarget*1e3||1e3):this.requestScheduled===-1||this.requestScheduled+w<o?this.requestScheduled=o:this.requestScheduled-o<=0&&(this.requestScheduled+=w);let L=this.requestScheduled-o;L=Math.max(0,L),this.log(`reload live playlist ${e} in ${Math.round(L)} ms`),this.timer=self.setTimeout(()=>this.loadPlaylist(u),L)}else this.clearTimer()}getDeliveryDirectives(e,t,r,i){let s=CS(e);return t!=null&&t.skip&&e.deltaUpdateFailed&&(r=t.msn,i=t.part,s=$f.No),new E2(r,i,s)}checkRetry(e){const t=e.details,r=Qg(e),i=e.errorAction,{action:s,retryCount:o=0,retryConfig:l}=i||{},u=!!i&&!!l&&(s===Qn.RetryRequest||!i.resolved&&s===Qn.SendAlternateToPenaltyBox);if(u){var h;if(this.requestScheduled=-1,o>=l.maxNumRetry)return!1;if(r&&(h=e.context)!=null&&h.deliveryDirectives)this.warn(`Retrying playlist loading ${o+1}/${l.maxNumRetry} after "${t}" without delivery-directives`),this.loadPlaylist();else{const m=Px(l,o);this.timer=self.setTimeout(()=>this.loadPlaylist(),m),this.warn(`Retrying playlist loading ${o+1}/${l.maxNumRetry} after "${t}" in ${m}ms`)}e.levelRetry=!0,i.resolved=!0}return u}}class cu{constructor(e,t=0,r=0){this.halfLife=void 0,this.alpha_=void 0,this.estimate_=void 0,this.totalWeight_=void 0,this.halfLife=e,this.alpha_=e?Math.exp(Math.log(.5)/e):0,this.estimate_=t,this.totalWeight_=r}sample(e,t){const r=Math.pow(this.alpha_,e);this.estimate_=t*(1-r)+r*this.estimate_,this.totalWeight_+=e}getTotalWeight(){return this.totalWeight_}getEstimate(){if(this.alpha_){const e=1-Math.pow(this.alpha_,this.totalWeight_);if(e)return this.estimate_/e}return this.estimate_}}class c5{constructor(e,t,r,i=100){this.defaultEstimate_=void 0,this.minWeight_=void 0,this.minDelayMs_=void 0,this.slow_=void 0,this.fast_=void 0,this.defaultTTFB_=void 0,this.ttfb_=void 0,this.defaultEstimate_=r,this.minWeight_=.001,this.minDelayMs_=50,this.slow_=new cu(e),this.fast_=new cu(t),this.defaultTTFB_=i,this.ttfb_=new cu(e)}update(e,t){const{slow_:r,fast_:i,ttfb_:s}=this;r.halfLife!==e&&(this.slow_=new cu(e,r.getEstimate(),r.getTotalWeight())),i.halfLife!==t&&(this.fast_=new cu(t,i.getEstimate(),i.getTotalWeight())),s.halfLife!==e&&(this.ttfb_=new cu(e,s.getEstimate(),s.getTotalWeight()))}sample(e,t){e=Math.max(e,this.minDelayMs_);const r=8*t,i=e/1e3,s=r/i;this.fast_.sample(i,s),this.slow_.sample(i,s)}sampleTTFB(e){const t=e/1e3,r=Math.sqrt(2)*Math.exp(-Math.pow(t,2)/2);this.ttfb_.sample(r,Math.max(e,5))}canEstimate(){return this.fast_.getTotalWeight()>=this.minWeight_}getEstimate(){return this.canEstimate()?Math.min(this.fast_.getEstimate(),this.slow_.getEstimate()):this.defaultEstimate_}getEstimateTTFB(){return this.ttfb_.getTotalWeight()>=this.minWeight_?this.ttfb_.getEstimate():this.defaultTTFB_}destroy(){}}const t3={supported:!0,configurations:[],decodingInfoResults:[{supported:!0,powerEfficient:!0,smooth:!0}]},MS={};function h5(n,e,t,r,i,s){const o=n.audioCodec?n.audioGroups:null,l=s==null?void 0:s.audioCodec,u=s==null?void 0:s.channels,h=u?parseInt(u):l?1/0:2;let m=null;if(o!=null&&o.length)try{o.length===1&&o[0]?m=e.groups[o[0]].channels:m=o.reduce((y,_)=>{if(_){const T=e.groups[_];if(!T)throw new Error(`Audio track group ${_} not found`);Object.keys(T.channels).forEach(w=>{y[w]=(y[w]||0)+T.channels[w]})}return y},{2:0})}catch{return!0}return n.videoCodec!==void 0&&(n.width>1920&&n.height>1088||n.height>1920&&n.width>1088||n.frameRate>Math.max(r,30)||n.videoRange!=="SDR"&&n.videoRange!==t||n.bitrate>Math.max(i,8e6))||!!m&&He(h)&&Object.keys(m).some(y=>parseInt(y)>h)}function d5(n,e,t){const r=n.videoCodec,i=n.audioCodec;if(!r||!i||!t)return Promise.resolve(t3);const s={width:n.width,height:n.height,bitrate:Math.ceil(Math.max(n.bitrate*.9,n.averageBitrate)),framerate:n.frameRate||30},o=n.videoRange;o!=="SDR"&&(s.transferFunction=o.toLowerCase());const l=r.split(",").map(u=>({type:"media-source",video:lr(lr({},s),{},{contentType:hc(u,"video")})}));return i&&n.audioGroups&&n.audioGroups.forEach(u=>{var h;u&&((h=e.groups[u])==null||h.tracks.forEach(m=>{if(m.groupId===u){const y=m.channels||"",_=parseFloat(y);He(_)&&_>2&&l.push.apply(l,i.split(",").map(T=>({type:"media-source",audio:{contentType:hc(T,"audio"),channels:""+_}})))}}))}),Promise.all(l.map(u=>{const h=g5(u);return MS[h]||(MS[h]=t.decodingInfo(u))})).then(u=>({supported:!u.some(h=>!h.supported),configurations:l,decodingInfoResults:u})).catch(u=>({supported:!1,configurations:l,decodingInfoResults:[],error:u}))}function g5(n){const{audio:e,video:t}=n,r=t||e;if(r){const i=r.contentType.split('"')[1];if(t)return`r${t.height}x${t.width}f${Math.ceil(t.framerate)}${t.transferFunction||"sd"}_${i}_${Math.ceil(t.bitrate/1e5)}`;if(e)return`c${e.channels}${e.spatialRendering?"s":"n"}_${i}`}return""}function p5(){if(typeof matchMedia=="function"){const n=matchMedia("(dynamic-range: high)"),e=matchMedia("bad query");if(n.media!==e.media)return n.matches===!0}return!1}function m5(n,e){let t=!1,r=[];return n&&(t=n!=="SDR",r=[n]),e&&(r=e.allowedVideoRanges||Vg.slice(0),t=e.preferHDR!==void 0?e.preferHDR:p5(),t?r=r.filter(i=>i!=="SDR"):r=["SDR"]),{preferHDR:t,allowedVideoRanges:r}}function y5(n,e,t,r,i){const s=Object.keys(n),o=r==null?void 0:r.channels,l=r==null?void 0:r.audioCodec,u=o&&parseInt(o)===2;let h=!0,m=!1,y=1/0,_=1/0,T=1/0,w=0,L=[];const{preferHDR:I,allowedVideoRanges:C}=m5(e,i);for(let B=s.length;B--;){const $=n[s[B]];h=$.channels[2]>0,y=Math.min(y,$.minHeight),_=Math.min(_,$.minFramerate),T=Math.min(T,$.minBitrate);const H=C.filter(j=>$.videoRanges[j]>0);H.length>0&&(m=!0,L=H)}y=He(y)?y:0,_=He(_)?_:0;const b=Math.max(1080,y),M=Math.max(30,_);return T=He(T)?T:t,t=Math.max(T,t),m||(e=void 0,L=[]),{codecSet:s.reduce((B,$)=>{const H=n[$];if($===B)return B;if(H.minBitrate>t)return Qo($,`min bitrate of ${H.minBitrate} > current estimate of ${t}`),B;if(!H.hasDefaultAudio)return Qo($,"no renditions with default or auto-select sound found"),B;if(l&&$.indexOf(l.substring(0,4))%5!==0)return Qo($,`audio codec preference "${l}" not found`),B;if(o&&!u){if(!H.channels[o])return Qo($,`no renditions with ${o} channel sound found (channels options: ${Object.keys(H.channels)})`),B}else if((!l||u)&&h&&H.channels[2]===0)return Qo($,"no renditions with stereo sound found"),B;return H.minHeight>b?(Qo($,`min resolution of ${H.minHeight} > maximum of ${b}`),B):H.minFramerate>M?(Qo($,`min framerate of ${H.minFramerate} > maximum of ${M}`),B):L.some(j=>H.videoRanges[j]>0)?H.maxScore<w?(Qo($,`max score of ${H.maxScore} < selected max of ${w}`),B):B&&(Hg($)>=Hg(B)||H.fragmentError>n[B].fragmentError)?B:(w=H.maxScore,$):(Qo($,`no variants with VIDEO-RANGE of ${JSON.stringify(L)} found`),B)},void 0),videoRanges:L,preferHDR:I,minFramerate:_,minBitrate:T}}function Qo(n,e){he.log(`[abr] start candidates with "${n}" ignored because ${e}`)}function v5(n){return n.reduce((e,t)=>{let r=e.groups[t.groupId];r||(r=e.groups[t.groupId]={tracks:[],channels:{2:0},hasDefault:!1,hasAutoSelect:!1}),r.tracks.push(t);const i=t.channels||"2";return r.channels[i]=(r.channels[i]||0)+1,r.hasDefault=r.hasDefault||t.default,r.hasAutoSelect=r.hasAutoSelect||t.autoselect,r.hasDefault&&(e.hasDefaultAudio=!0),r.hasAutoSelect&&(e.hasAutoSelectAudio=!0),e},{hasDefaultAudio:!1,hasAutoSelectAudio:!1,groups:{}})}function x5(n,e,t,r){return n.slice(t,r+1).reduce((i,s)=>{if(!s.codecSet)return i;const o=s.audioGroups;let l=i[s.codecSet];l||(i[s.codecSet]=l={minBitrate:1/0,minHeight:1/0,minFramerate:1/0,maxScore:0,videoRanges:{SDR:0},channels:{2:0},hasDefaultAudio:!o,fragmentError:0}),l.minBitrate=Math.min(l.minBitrate,s.bitrate);const u=Math.min(s.height,s.width);return l.minHeight=Math.min(l.minHeight,u),l.minFramerate=Math.min(l.minFramerate,s.frameRate),l.maxScore=Math.max(l.maxScore,s.score),l.fragmentError+=s.fragmentError,l.videoRanges[s.videoRange]=(l.videoRanges[s.videoRange]||0)+1,o&&o.forEach(h=>{if(!h)return;const m=e.groups[h];m&&(l.hasDefaultAudio=l.hasDefaultAudio||e.hasDefaultAudio?m.hasDefault:m.hasAutoSelect||!e.hasDefaultAudio&&!e.hasAutoSelectAudio,Object.keys(m.channels).forEach(y=>{l.channels[y]=(l.channels[y]||0)+m.channels[y]}))}),i},{})}function yo(n,e,t){if("attrs"in n){const r=e.indexOf(n);if(r!==-1)return r}for(let r=0;r<e.length;r++){const i=e[r];if(Wu(n,i,t))return r}return-1}function Wu(n,e,t){const{groupId:r,name:i,lang:s,assocLang:o,characteristics:l,default:u}=n,h=n.forced;return(r===void 0||e.groupId===r)&&(i===void 0||e.name===i)&&(s===void 0||e.lang===s)&&(s===void 0||e.assocLang===o)&&(u===void 0||e.default===u)&&(h===void 0||e.forced===h)&&(l===void 0||_5(l,e.characteristics))&&(t===void 0||t(n,e))}function _5(n,e=""){const t=n.split(","),r=e.split(",");return t.length===r.length&&!t.some(i=>r.indexOf(i)===-1)}function hu(n,e){const{audioCodec:t,channels:r}=n;return(t===void 0||(e.audioCodec||"").substring(0,4)===t.substring(0,4))&&(r===void 0||r===(e.channels||"2"))}function E5(n,e,t,r,i){const s=e[r],l=e.reduce((_,T,w)=>{const L=T.uri;return(_[L]||(_[L]=[])).push(w),_},{})[s.uri];l.length>1&&(r=Math.max.apply(Math,l));const u=s.videoRange,h=s.frameRate,m=s.codecSet.substring(0,4),y=OS(e,r,_=>{if(_.videoRange!==u||_.frameRate!==h||_.codecSet.substring(0,4)!==m)return!1;const T=_.audioGroups,w=t.filter(L=>!T||T.indexOf(L.groupId)!==-1);return yo(n,w,i)>-1});return y>-1?y:OS(e,r,_=>{const T=_.audioGroups,w=t.filter(L=>!T||T.indexOf(L.groupId)!==-1);return yo(n,w,i)>-1})}function OS(n,e,t){for(let r=e;r>-1;r--)if(t(n[r]))return r;for(let r=e+1;r<n.length;r++)if(t(n[r]))return r;return-1}class n3{constructor(e){this.hls=void 0,this.lastLevelLoadSec=0,this.lastLoadedFragLevel=-1,this.firstSelection=-1,this._nextAutoLevel=-1,this.nextAutoLevelKey="",this.audioTracksByGroup=null,this.codecTiers=null,this.timer=-1,this.fragCurrent=null,this.partCurrent=null,this.bitrateTestDelay=0,this.bwEstimator=void 0,this._abandonRulesCheck=()=>{const{fragCurrent:t,partCurrent:r,hls:i}=this,{autoLevelEnabled:s,media:o}=i;if(!t||!o)return;const l=performance.now(),u=r?r.stats:t.stats,h=r?r.duration:t.duration,m=l-u.loading.start,y=i.minAutoLevel;if(u.aborted||u.loaded&&u.loaded===u.total||t.level<=y){this.clearTimer(),this._nextAutoLevel=-1;return}if(!s||o.paused||!o.playbackRate||!o.readyState)return;const _=i.mainForwardBufferInfo;if(_===null)return;const T=this.bwEstimator.getEstimateTTFB(),w=Math.abs(o.playbackRate);if(m<=Math.max(T,1e3*(h/(w*2))))return;const L=_.len/w,I=u.loading.first?u.loading.first-u.loading.start:-1,C=u.loaded&&I>-1,b=this.getBwEstimate(),M=i.levels,U=M[t.level],B=u.total||Math.max(u.loaded,Math.round(h*U.averageBitrate/8));let $=C?m-I:m;$<1&&C&&($=Math.min(m,u.loaded*8/b));const H=C?u.loaded*1e3/$:0,j=H?(B-u.loaded)/H:B*8/b+T/1e3;if(j<=L)return;const Y=H?H*8:b;let q=Number.POSITIVE_INFINITY,X;for(X=t.level-1;X>y;X--){const ae=M[X].maxBitrate;if(q=this.getTimeToLoadFrag(T/1e3,Y,h*ae,!M[X].details),q<L)break}if(q>=j||q>h*10)return;i.nextLoadLevel=i.nextAutoLevel=X,C?this.bwEstimator.sample(m-Math.min(T,I),u.loaded):this.bwEstimator.sampleTTFB(m);const ge=M[X].maxBitrate;this.getBwEstimate()*this.hls.config.abrBandWidthUpFactor>ge&&this.resetEstimator(ge),this.clearTimer(),he.warn(`[abr] Fragment ${t.sn}${r?" part "+r.index:""} of level ${t.level} is loading too slowly;
      Time to underbuffer: ${L.toFixed(3)} s
      Estimated load time for current fragment: ${j.toFixed(3)} s
      Estimated load time for down switch fragment: ${q.toFixed(3)} s
      TTFB estimate: ${I|0} ms
      Current BW estimate: ${He(b)?b|0:"Unknown"} bps
      New BW estimate: ${this.getBwEstimate()|0} bps
      Switching to level ${X} @ ${ge|0} bps`),i.trigger(z.FRAG_LOAD_EMERGENCY_ABORTED,{frag:t,part:r,stats:u})},this.hls=e,this.bwEstimator=this.initEstimator(),this.registerListeners()}resetEstimator(e){e&&(he.log(`setting initial bwe to ${e}`),this.hls.config.abrEwmaDefaultEstimate=e),this.firstSelection=-1,this.bwEstimator=this.initEstimator()}initEstimator(){const e=this.hls.config;return new c5(e.abrEwmaSlowVoD,e.abrEwmaFastVoD,e.abrEwmaDefaultEstimate)}registerListeners(){const{hls:e}=this;e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.FRAG_LOADING,this.onFragLoading,this),e.on(z.FRAG_LOADED,this.onFragLoaded,this),e.on(z.FRAG_BUFFERED,this.onFragBuffered,this),e.on(z.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(z.LEVEL_LOADED,this.onLevelLoaded,this),e.on(z.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(z.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.on(z.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e&&(e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.FRAG_LOADING,this.onFragLoading,this),e.off(z.FRAG_LOADED,this.onFragLoaded,this),e.off(z.FRAG_BUFFERED,this.onFragBuffered,this),e.off(z.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(z.LEVEL_LOADED,this.onLevelLoaded,this),e.off(z.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(z.MAX_AUTO_LEVEL_UPDATED,this.onMaxAutoLevelUpdated,this),e.off(z.ERROR,this.onError,this))}destroy(){this.unregisterListeners(),this.clearTimer(),this.hls=this._abandonRulesCheck=null,this.fragCurrent=this.partCurrent=null}onManifestLoading(e,t){this.lastLoadedFragLevel=-1,this.firstSelection=-1,this.lastLevelLoadSec=0,this.fragCurrent=this.partCurrent=null,this.onLevelsUpdated(),this.clearTimer()}onLevelsUpdated(){this.lastLoadedFragLevel>-1&&this.fragCurrent&&(this.lastLoadedFragLevel=this.fragCurrent.level),this._nextAutoLevel=-1,this.onMaxAutoLevelUpdated(),this.codecTiers=null,this.audioTracksByGroup=null}onMaxAutoLevelUpdated(){this.firstSelection=-1,this.nextAutoLevelKey=""}onFragLoading(e,t){const r=t.frag;if(!this.ignoreFragment(r)){if(!r.bitrateTest){var i;this.fragCurrent=r,this.partCurrent=(i=t.part)!=null?i:null}this.clearTimer(),this.timer=self.setInterval(this._abandonRulesCheck,100)}}onLevelSwitching(e,t){this.clearTimer()}onError(e,t){if(!t.fatal)switch(t.details){case _e.BUFFER_ADD_CODEC_ERROR:case _e.BUFFER_APPEND_ERROR:this.lastLoadedFragLevel=-1,this.firstSelection=-1;break;case _e.FRAG_LOAD_TIMEOUT:{const r=t.frag,{fragCurrent:i,partCurrent:s}=this;if(r&&i&&r.sn===i.sn&&r.level===i.level){const o=performance.now(),l=s?s.stats:r.stats,u=o-l.loading.start,h=l.loading.first?l.loading.first-l.loading.start:-1;if(l.loaded&&h>-1){const y=this.bwEstimator.getEstimateTTFB();this.bwEstimator.sample(u-Math.min(y,h),l.loaded)}else this.bwEstimator.sampleTTFB(u)}break}}}getTimeToLoadFrag(e,t,r,i){const s=e+r/t,o=i?this.lastLevelLoadSec:0;return s+o}onLevelLoaded(e,t){const r=this.hls.config,{loading:i}=t.stats,s=i.end-i.start;He(s)&&(this.lastLevelLoadSec=s/1e3),t.details.live?this.bwEstimator.update(r.abrEwmaSlowLive,r.abrEwmaFastLive):this.bwEstimator.update(r.abrEwmaSlowVoD,r.abrEwmaFastVoD)}onFragLoaded(e,{frag:t,part:r}){const i=r?r.stats:t.stats;if(t.type===et.MAIN&&this.bwEstimator.sampleTTFB(i.loading.first-i.loading.start),!this.ignoreFragment(t)){if(this.clearTimer(),t.level===this._nextAutoLevel&&(this._nextAutoLevel=-1),this.firstSelection=-1,this.hls.config.abrMaxWithRealBitrate){const s=r?r.duration:t.duration,o=this.hls.levels[t.level],l=(o.loaded?o.loaded.bytes:0)+i.loaded,u=(o.loaded?o.loaded.duration:0)+s;o.loaded={bytes:l,duration:u},o.realBitrate=Math.round(8*l/u)}if(t.bitrateTest){const s={stats:i,frag:t,part:r,id:t.type};this.onFragBuffered(z.FRAG_BUFFERED,s),t.bitrateTest=!1}else this.lastLoadedFragLevel=t.level}}onFragBuffered(e,t){const{frag:r,part:i}=t,s=i!=null&&i.stats.loaded?i.stats:r.stats;if(s.aborted||this.ignoreFragment(r))return;const o=s.parsing.end-s.loading.start-Math.min(s.loading.first-s.loading.start,this.bwEstimator.getEstimateTTFB());this.bwEstimator.sample(o,s.loaded),s.bwEstimate=this.getBwEstimate(),r.bitrateTest?this.bitrateTestDelay=o/1e3:this.bitrateTestDelay=0}ignoreFragment(e){return e.type!==et.MAIN||e.sn==="initSegment"}clearTimer(){this.timer>-1&&(self.clearInterval(this.timer),this.timer=-1)}get firstAutoLevel(){const{maxAutoLevel:e,minAutoLevel:t}=this.hls,r=this.getBwEstimate(),i=this.hls.config.maxStarvationDelay,s=this.findBestLevel(r,t,e,0,i,1,1);if(s>-1)return s;const o=this.hls.firstLevel,l=Math.min(Math.max(o,t),e);return he.warn(`[abr] Could not find best starting auto level. Defaulting to first in playlist ${o} clamped to ${l}`),l}get forcedAutoLevel(){return this.nextAutoLevelKey?-1:this._nextAutoLevel}get nextAutoLevel(){const e=this.forcedAutoLevel,r=this.bwEstimator.canEstimate(),i=this.lastLoadedFragLevel>-1;if(e!==-1&&(!r||!i||this.nextAutoLevelKey===this.getAutoLevelKey()))return e;const s=r&&i?this.getNextABRAutoLevel():this.firstAutoLevel;if(e!==-1){const o=this.hls.levels;if(o.length>Math.max(e,s)&&o[e].loadError<=o[s].loadError)return e}return this._nextAutoLevel=s,this.nextAutoLevelKey=this.getAutoLevelKey(),s}getAutoLevelKey(){return`${this.getBwEstimate()}_${this.getStarvationDelay().toFixed(2)}`}getNextABRAutoLevel(){const{fragCurrent:e,partCurrent:t,hls:r}=this,{maxAutoLevel:i,config:s,minAutoLevel:o}=r,l=t?t.duration:e?e.duration:0,u=this.getBwEstimate(),h=this.getStarvationDelay();let m=s.abrBandWidthFactor,y=s.abrBandWidthUpFactor;if(h){const I=this.findBestLevel(u,o,i,h,0,m,y);if(I>=0)return I}let _=l?Math.min(l,s.maxStarvationDelay):s.maxStarvationDelay;if(!h){const I=this.bitrateTestDelay;I&&(_=(l?Math.min(l,s.maxLoadingDelay):s.maxLoadingDelay)-I,he.info(`[abr] bitrate test took ${Math.round(1e3*I)}ms, set first fragment max fetchDuration to ${Math.round(1e3*_)} ms`),m=y=1)}const T=this.findBestLevel(u,o,i,h,_,m,y);if(he.info(`[abr] ${h?"rebuffering expected":"buffer is empty"}, optimal quality level ${T}`),T>-1)return T;const w=r.levels[o],L=r.levels[r.loadLevel];return(w==null?void 0:w.bitrate)<(L==null?void 0:L.bitrate)?o:r.loadLevel}getStarvationDelay(){const e=this.hls,t=e.media;if(!t)return 1/0;const r=t&&t.playbackRate!==0?Math.abs(t.playbackRate):1,i=e.mainForwardBufferInfo;return(i?i.len:0)/r}getBwEstimate(){return this.bwEstimator.canEstimate()?this.bwEstimator.getEstimate():this.hls.config.abrEwmaDefaultEstimate}findBestLevel(e,t,r,i,s,o,l){var u;const h=i+s,m=this.lastLoadedFragLevel,y=m===-1?this.hls.firstLevel:m,{fragCurrent:_,partCurrent:T}=this,{levels:w,allAudioTracks:L,loadLevel:I,config:C}=this.hls;if(w.length===1)return 0;const b=w[y],M=!!(b!=null&&(u=b.details)!=null&&u.live),U=I===-1||m===-1;let B,$="SDR",H=(b==null?void 0:b.frameRate)||0;const{audioPreference:j,videoPreference:Y}=C,q=this.audioTracksByGroup||(this.audioTracksByGroup=v5(L));if(U){if(this.firstSelection!==-1)return this.firstSelection;const ie=this.codecTiers||(this.codecTiers=x5(w,q,t,r)),ce=y5(ie,$,e,j,Y),{codecSet:ke,videoRanges:re,minFramerate:se,minBitrate:fe,preferHDR:Ie}=ce;B=ke,$=Ie?re[re.length-1]:re[0],H=se,e=Math.max(e,fe),he.log(`[abr] picked start tier ${JSON.stringify(ce)}`)}else B=b==null?void 0:b.codecSet,$=b==null?void 0:b.videoRange;const X=T?T.duration:_?_.duration:0,ge=this.bwEstimator.getEstimateTTFB()/1e3,ae=[];for(let ie=r;ie>=t;ie--){var xe;const ce=w[ie],ke=ie>y;if(!ce)continue;if(C.useMediaCapabilities&&!ce.supportedResult&&!ce.supportedPromise){const Xe=navigator.mediaCapabilities;typeof(Xe==null?void 0:Xe.decodingInfo)=="function"&&h5(ce,q,$,H,e,j)?(ce.supportedPromise=d5(ce,q,Xe),ce.supportedPromise.then(At=>{if(!this.hls)return;ce.supportedResult=At;const Tt=this.hls.levels,qt=Tt.indexOf(ce);At.error?he.warn(`[abr] MediaCapabilities decodingInfo error: "${At.error}" for level ${qt} ${JSON.stringify(At)}`):At.supported||(he.warn(`[abr] Unsupported MediaCapabilities decodingInfo result for level ${qt} ${JSON.stringify(At)}`),qt>-1&&Tt.length>1&&(he.log(`[abr] Removing unsupported level ${qt}`),this.hls.removeLevel(qt)))})):ce.supportedResult=t3}if(B&&ce.codecSet!==B||$&&ce.videoRange!==$||ke&&H>ce.frameRate||!ke&&H>0&&H<ce.frameRate||ce.supportedResult&&!((xe=ce.supportedResult.decodingInfoResults)!=null&&xe[0].smooth)){ae.push(ie);continue}const re=ce.details,se=(T?re==null?void 0:re.partTarget:re==null?void 0:re.averagetargetduration)||X;let fe;ke?fe=l*e:fe=o*e;const Ie=X&&i>=X*2&&s===0?w[ie].averageBitrate:w[ie].maxBitrate,Ce=this.getTimeToLoadFrag(ge,fe,Ie*se,re===void 0);if(fe>=Ie&&(ie===m||ce.loadError===0&&ce.fragmentError===0)&&(Ce<=ge||!He(Ce)||M&&!this.bitrateTestDelay||Ce<h)){const Xe=this.forcedAutoLevel;return ie!==I&&(Xe===-1||Xe!==I)&&(ae.length&&he.trace(`[abr] Skipped level(s) ${ae.join(",")} of ${r} max with CODECS and VIDEO-RANGE:"${w[ae[0]].codecs}" ${w[ae[0]].videoRange}; not compatible with "${b.codecs}" ${$}`),he.info(`[abr] switch candidate:${y}->${ie} adjustedbw(${Math.round(fe)})-bitrate=${Math.round(fe-Ie)} ttfb:${ge.toFixed(1)} avgDuration:${se.toFixed(1)} maxFetchDuration:${h.toFixed(1)} fetchDuration:${Ce.toFixed(1)} firstSelection:${U} codecSet:${B} videoRange:${$} hls.loadLevel:${I}`)),U&&(this.firstSelection=ie),ie}}return-1}set nextAutoLevel(e){const{maxAutoLevel:t,minAutoLevel:r}=this.hls,i=Math.min(Math.max(e,r),t);this._nextAutoLevel!==i&&(this.nextAutoLevelKey="",this._nextAutoLevel=i)}}class S5{constructor(){this._boundTick=void 0,this._tickTimer=null,this._tickInterval=null,this._tickCallCount=0,this._boundTick=this.tick.bind(this)}destroy(){this.onHandlerDestroying(),this.onHandlerDestroyed()}onHandlerDestroying(){this.clearNextTick(),this.clearInterval()}onHandlerDestroyed(){}hasInterval(){return!!this._tickInterval}hasNextTick(){return!!this._tickTimer}setInterval(e){return this._tickInterval?!1:(this._tickCallCount=0,this._tickInterval=self.setInterval(this._boundTick,e),!0)}clearInterval(){return this._tickInterval?(self.clearInterval(this._tickInterval),this._tickInterval=null,!0):!1}clearNextTick(){return this._tickTimer?(self.clearTimeout(this._tickTimer),this._tickTimer=null,!0):!1}tick(){this._tickCallCount++,this._tickCallCount===1&&(this.doTick(),this._tickCallCount>1&&this.tickImmediate(),this._tickCallCount=0)}tickImmediate(){this.clearNextTick(),this._tickTimer=self.setTimeout(this._boundTick,0)}doTick(){}}var rr={NOT_LOADED:"NOT_LOADED",APPENDING:"APPENDING",PARTIAL:"PARTIAL",OK:"OK"};class T5{constructor(e){this.activePartLists=Object.create(null),this.endListFragments=Object.create(null),this.fragments=Object.create(null),this.timeRanges=Object.create(null),this.bufferPadding=.2,this.hls=void 0,this.hasGaps=!1,this.hls=e,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(z.BUFFER_APPENDED,this.onBufferAppended,this),e.on(z.FRAG_BUFFERED,this.onFragBuffered,this),e.on(z.FRAG_LOADED,this.onFragLoaded,this)}_unregisterListeners(){const{hls:e}=this;e.off(z.BUFFER_APPENDED,this.onBufferAppended,this),e.off(z.FRAG_BUFFERED,this.onFragBuffered,this),e.off(z.FRAG_LOADED,this.onFragLoaded,this)}destroy(){this._unregisterListeners(),this.fragments=this.activePartLists=this.endListFragments=this.timeRanges=null}getAppendedFrag(e,t){const r=this.activePartLists[t];if(r)for(let i=r.length;i--;){const s=r[i];if(!s)break;const o=s.end;if(s.start<=e&&o!==null&&e<=o)return s}return this.getBufferedFrag(e,t)}getBufferedFrag(e,t){const{fragments:r}=this,i=Object.keys(r);for(let s=i.length;s--;){const o=r[i[s]];if((o==null?void 0:o.body.type)===t&&o.buffered){const l=o.body;if(l.start<=e&&e<=l.end)return l}}return null}detectEvictedFragments(e,t,r,i){this.timeRanges&&(this.timeRanges[e]=t);const s=(i==null?void 0:i.fragment.sn)||-1;Object.keys(this.fragments).forEach(o=>{const l=this.fragments[o];if(!l||s>=l.body.sn)return;if(!l.buffered&&!l.loaded){l.body.type===r&&this.removeFragment(l.body);return}const u=l.range[e];u&&u.time.some(h=>{const m=!this.isTimeBuffered(h.startPTS,h.endPTS,t);return m&&this.removeFragment(l.body),m})})}detectPartialFragments(e){const t=this.timeRanges,{frag:r,part:i}=e;if(!t||r.sn==="initSegment")return;const s=du(r),o=this.fragments[s];if(!o||o.buffered&&r.gap)return;const l=!r.relurl;Object.keys(t).forEach(u=>{const h=r.elementaryStreams[u];if(!h)return;const m=t[u],y=l||h.partial===!0;o.range[u]=this.getBufferedTimes(r,i,y,m)}),o.loaded=null,Object.keys(o.range).length?(o.buffered=!0,(o.body.endList=r.endList||o.body.endList)&&(this.endListFragments[o.body.type]=o),_d(o)||this.removeParts(r.sn-1,r.type)):this.removeFragment(o.body)}removeParts(e,t){const r=this.activePartLists[t];r&&(this.activePartLists[t]=r.filter(i=>i.fragment.sn>=e))}fragBuffered(e,t){const r=du(e);let i=this.fragments[r];!i&&t&&(i=this.fragments[r]={body:e,appendedPTS:null,loaded:null,buffered:!1,range:Object.create(null)},e.gap&&(this.hasGaps=!0)),i&&(i.loaded=null,i.buffered=!0)}getBufferedTimes(e,t,r,i){const s={time:[],partial:r},o=e.start,l=e.end,u=e.minEndPTS||l,h=e.maxStartPTS||o;for(let m=0;m<i.length;m++){const y=i.start(m)-this.bufferPadding,_=i.end(m)+this.bufferPadding;if(h>=y&&u<=_){s.time.push({startPTS:Math.max(o,i.start(m)),endPTS:Math.min(l,i.end(m))});break}else if(o<_&&l>y){const T=Math.max(o,i.start(m)),w=Math.min(l,i.end(m));w>T&&(s.partial=!0,s.time.push({startPTS:T,endPTS:w}))}else if(l<=y)break}return s}getPartialFragment(e){let t=null,r,i,s,o=0;const{bufferPadding:l,fragments:u}=this;return Object.keys(u).forEach(h=>{const m=u[h];m&&_d(m)&&(i=m.body.start-l,s=m.body.end+l,e>=i&&e<=s&&(r=Math.min(e-i,s-e),o<=r&&(t=m.body,o=r)))}),t}isEndListAppended(e){const t=this.endListFragments[e];return t!==void 0&&(t.buffered||_d(t))}getState(e){const t=du(e),r=this.fragments[t];return r?r.buffered?_d(r)?rr.PARTIAL:rr.OK:rr.APPENDING:rr.NOT_LOADED}isTimeBuffered(e,t,r){let i,s;for(let o=0;o<r.length;o++){if(i=r.start(o)-this.bufferPadding,s=r.end(o)+this.bufferPadding,e>=i&&t<=s)return!0;if(t<=i)return!1}return!1}onFragLoaded(e,t){const{frag:r,part:i}=t;if(r.sn==="initSegment"||r.bitrateTest)return;const s=i?null:t,o=du(r);this.fragments[o]={body:r,appendedPTS:null,loaded:s,buffered:!1,range:Object.create(null)}}onBufferAppended(e,t){const{frag:r,part:i,timeRanges:s}=t;if(r.sn==="initSegment")return;const o=r.type;if(i){let l=this.activePartLists[o];l||(this.activePartLists[o]=l=[]),l.push(i)}this.timeRanges=s,Object.keys(s).forEach(l=>{const u=s[l];this.detectEvictedFragments(l,u,o,i)})}onFragBuffered(e,t){this.detectPartialFragments(t)}hasFragment(e){const t=du(e);return!!this.fragments[t]}hasParts(e){var t;return!!((t=this.activePartLists[e])!=null&&t.length)}removeFragmentsInRange(e,t,r,i,s){i&&!this.hasGaps||Object.keys(this.fragments).forEach(o=>{const l=this.fragments[o];if(!l)return;const u=l.body;u.type!==r||i&&!u.gap||u.start<t&&u.end>e&&(l.buffered||s)&&this.removeFragment(u)})}removeFragment(e){const t=du(e);e.stats.loaded=0,e.clearElementaryStreamInfo();const r=this.activePartLists[e.type];if(r){const i=e.sn;this.activePartLists[e.type]=r.filter(s=>s.fragment.sn!==i)}delete this.fragments[t],e.endList&&delete this.endListFragments[e.type]}removeAllFragments(){this.fragments=Object.create(null),this.endListFragments=Object.create(null),this.activePartLists=Object.create(null),this.hasGaps=!1}}function _d(n){var e,t,r;return n.buffered&&(n.body.gap||((e=n.range.video)==null?void 0:e.partial)||((t=n.range.audio)==null?void 0:t.partial)||((r=n.range.audiovideo)==null?void 0:r.partial))}function du(n){return`${n.type}_${n.level}_${n.sn}`}const w5={length:0,start:()=>0,end:()=>0};class nn{static isBuffered(e,t){try{if(e){const r=nn.getBuffered(e);for(let i=0;i<r.length;i++)if(t>=r.start(i)&&t<=r.end(i))return!0}}catch{}return!1}static bufferInfo(e,t,r){try{if(e){const i=nn.getBuffered(e),s=[];let o;for(o=0;o<i.length;o++)s.push({start:i.start(o),end:i.end(o)});return this.bufferedInfo(s,t,r)}}catch{}return{len:0,start:t,end:t,nextStart:void 0}}static bufferedInfo(e,t,r){t=Math.max(0,t),e.sort(function(h,m){const y=h.start-m.start;return y||m.end-h.end});let i=[];if(r)for(let h=0;h<e.length;h++){const m=i.length;if(m){const y=i[m-1].end;e[h].start-y<r?e[h].end>y&&(i[m-1].end=e[h].end):i.push(e[h])}else i.push(e[h])}else i=e;let s=0,o,l=t,u=t;for(let h=0;h<i.length;h++){const m=i[h].start,y=i[h].end;if(t+r>=m&&t<y)l=m,u=y,s=u-t;else if(t+r<m){o=m;break}}return{len:s,start:l||0,end:u||0,nextStart:o}}static getBuffered(e){try{return e.buffered}catch(t){return he.log("failed to get media.buffered",t),w5}}}class nm{constructor(e,t,r,i=0,s=-1,o=!1){this.level=void 0,this.sn=void 0,this.part=void 0,this.id=void 0,this.size=void 0,this.partial=void 0,this.transmuxing=Ed(),this.buffering={audio:Ed(),video:Ed(),audiovideo:Ed()},this.level=e,this.sn=t,this.id=r,this.size=i,this.part=s,this.partial=o}}function Ed(){return{start:0,executeStart:0,executeEnd:0,end:0}}function ig(n,e){for(let r=0,i=n.length;r<i;r++){var t;if(((t=n[r])==null?void 0:t.cc)===e)return n[r]}return null}function k5(n,e,t){return!!(e&&(t.endCC>t.startCC||n&&n.cc<t.startCC))}function L5(n,e){const t=n.fragments,r=e.fragments;if(!r.length||!t.length){he.log("No fragments to align");return}const i=ig(t,r[0].cc);if(!i||i&&!i.startPTS){he.log("No frag in previous level to align on");return}return i}function FS(n,e){if(n){const t=n.start+e;n.start=n.startPTS=t,n.endPTS=t+n.duration}}function r3(n,e){const t=e.fragments;for(let r=0,i=t.length;r<i;r++)FS(t[r],n);e.fragmentHint&&FS(e.fragmentHint,n),e.alignedSliding=!0}function R5(n,e,t){e&&(C5(n,t,e),!t.alignedSliding&&e&&Yg(t,e),!t.alignedSliding&&e&&!t.skippedSegments&&qR(e,t))}function C5(n,e,t){if(k5(n,t,e)){const r=L5(t,e);r&&He(r.start)&&(he.log(`Adjusting PTS using last level due to CC increase within current level ${e.url}`),r3(r.start,e))}}function Yg(n,e){if(!n.hasProgramDateTime||!e.hasProgramDateTime)return;const t=n.fragments,r=e.fragments;if(!t.length||!r.length)return;let i,s;const o=Math.min(e.endCC,n.endCC);e.startCC<o&&n.startCC<o&&(i=ig(r,o),s=ig(t,o)),(!i||!s)&&(i=r[Math.floor(r.length/2)],s=ig(t,i.cc)||t[Math.floor(t.length/2)]);const l=i.programDateTime,u=s.programDateTime;if(!l||!u)return;const h=(u-l)/1e3-(s.start-i.start);r3(h,n)}const NS=Math.pow(2,17);class I5{constructor(e){this.config=void 0,this.loader=null,this.partLoadTimeout=-1,this.config=e}destroy(){this.loader&&(this.loader.destroy(),this.loader=null)}abort(){this.loader&&this.loader.abort()}load(e,t){const r=e.url;if(!r)return Promise.reject(new Xo({type:st.NETWORK_ERROR,details:_e.FRAG_LOAD_ERROR,fatal:!1,frag:e,error:new Error(`Fragment does not have a ${r?"part list":"url"}`),networkDetails:null}));this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((l,u)=>{if(this.loader&&this.loader.destroy(),e.gap)if(e.tagList.some(T=>T[0]==="GAP")){u(US(e));return}else e.gap=!1;const h=this.loader=e.loader=s?new s(i):new o(i),m=BS(e),y=PS(i.fragLoadPolicy.default),_={loadPolicy:y,timeout:y.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:e.sn==="initSegment"?1/0:NS};e.stats=h.stats,h.load(m,_,{onSuccess:(T,w,L,I)=>{this.resetLoader(e,h);let C=T.data;L.resetIV&&e.decryptdata&&(e.decryptdata.iv=new Uint8Array(C.slice(0,16)),C=C.slice(16)),l({frag:e,part:null,payload:C,networkDetails:I})},onError:(T,w,L,I)=>{this.resetLoader(e,h),u(new Xo({type:st.NETWORK_ERROR,details:_e.FRAG_LOAD_ERROR,fatal:!1,frag:e,response:lr({url:r,data:void 0},T),error:new Error(`HTTP Error ${T.code} ${T.text}`),networkDetails:L,stats:I}))},onAbort:(T,w,L)=>{this.resetLoader(e,h),u(new Xo({type:st.NETWORK_ERROR,details:_e.INTERNAL_ABORTED,fatal:!1,frag:e,error:new Error("Aborted"),networkDetails:L,stats:T}))},onTimeout:(T,w,L)=>{this.resetLoader(e,h),u(new Xo({type:st.NETWORK_ERROR,details:_e.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,error:new Error(`Timeout after ${_.timeout}ms`),networkDetails:L,stats:T}))},onProgress:(T,w,L,I)=>{t&&t({frag:e,part:null,payload:L,networkDetails:I})}})})}loadPart(e,t,r){this.abort();const i=this.config,s=i.fLoader,o=i.loader;return new Promise((l,u)=>{if(this.loader&&this.loader.destroy(),e.gap||t.gap){u(US(e,t));return}const h=this.loader=e.loader=s?new s(i):new o(i),m=BS(e,t),y=PS(i.fragLoadPolicy.default),_={loadPolicy:y,timeout:y.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0,highWaterMark:NS};t.stats=h.stats,h.load(m,_,{onSuccess:(T,w,L,I)=>{this.resetLoader(e,h),this.updateStatsFromPart(e,t);const C={frag:e,part:t,payload:T.data,networkDetails:I};r(C),l(C)},onError:(T,w,L,I)=>{this.resetLoader(e,h),u(new Xo({type:st.NETWORK_ERROR,details:_e.FRAG_LOAD_ERROR,fatal:!1,frag:e,part:t,response:lr({url:m.url,data:void 0},T),error:new Error(`HTTP Error ${T.code} ${T.text}`),networkDetails:L,stats:I}))},onAbort:(T,w,L)=>{e.stats.aborted=t.stats.aborted,this.resetLoader(e,h),u(new Xo({type:st.NETWORK_ERROR,details:_e.INTERNAL_ABORTED,fatal:!1,frag:e,part:t,error:new Error("Aborted"),networkDetails:L,stats:T}))},onTimeout:(T,w,L)=>{this.resetLoader(e,h),u(new Xo({type:st.NETWORK_ERROR,details:_e.FRAG_LOAD_TIMEOUT,fatal:!1,frag:e,part:t,error:new Error(`Timeout after ${_.timeout}ms`),networkDetails:L,stats:T}))}})})}updateStatsFromPart(e,t){const r=e.stats,i=t.stats,s=i.total;if(r.loaded+=i.loaded,s){const u=Math.round(e.duration/t.duration),h=Math.min(Math.round(r.loaded/s),u),y=(u-h)*Math.round(r.loaded/h);r.total=r.loaded+y}else r.total=Math.max(r.loaded,r.total);const o=r.loading,l=i.loading;o.start?o.first+=l.first-l.start:(o.start=l.start,o.first=l.first),o.end=l.end}resetLoader(e,t){e.loader=null,this.loader===t&&(self.clearTimeout(this.partLoadTimeout),this.loader=null),t.destroy()}}function BS(n,e=null){const t=e||n,r={frag:n,part:e,responseType:"arraybuffer",url:t.url,headers:{},rangeStart:0,rangeEnd:0},i=t.byteRangeStartOffset,s=t.byteRangeEndOffset;if(He(i)&&He(s)){var o;let l=i,u=s;if(n.sn==="initSegment"&&((o=n.decryptdata)==null?void 0:o.method)==="AES-128"){const h=s-i;h%16&&(u=s+(16-h%16)),i!==0&&(r.resetIV=!0,l=i-16)}r.rangeStart=l,r.rangeEnd=u}return r}function US(n,e){const t=new Error(`GAP ${n.gap?"tag":"attribute"} found`),r={type:st.MEDIA_ERROR,details:_e.FRAG_GAP,fatal:!1,frag:n,error:t,networkDetails:null};return e&&(r.part=e),(e||n).stats.aborted=!0,new Xo(r)}class Xo extends Error{constructor(e){super(e.error.message),this.data=void 0,this.data=e}}class D5{constructor(e,t){this.subtle=void 0,this.aesIV=void 0,this.subtle=e,this.aesIV=t}decrypt(e,t){return this.subtle.decrypt({name:"AES-CBC",iv:this.aesIV},t,e)}}class b5{constructor(e,t){this.subtle=void 0,this.key=void 0,this.subtle=e,this.key=t}expandKey(){return this.subtle.importKey("raw",this.key,{name:"AES-CBC"},!1,["encrypt","decrypt"])}}function P5(n){const e=n.byteLength,t=e&&new DataView(n.buffer).getUint8(e-1);return t?hA(n,0,e-t):n}class M5{constructor(){this.rcon=[0,1,2,4,8,16,32,64,128,27,54],this.subMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.invSubMix=[new Uint32Array(256),new Uint32Array(256),new Uint32Array(256),new Uint32Array(256)],this.sBox=new Uint32Array(256),this.invSBox=new Uint32Array(256),this.key=new Uint32Array(0),this.ksRows=0,this.keySize=0,this.keySchedule=void 0,this.invKeySchedule=void 0,this.initTable()}uint8ArrayToUint32Array_(e){const t=new DataView(e),r=new Uint32Array(4);for(let i=0;i<4;i++)r[i]=t.getUint32(i*4);return r}initTable(){const e=this.sBox,t=this.invSBox,r=this.subMix,i=r[0],s=r[1],o=r[2],l=r[3],u=this.invSubMix,h=u[0],m=u[1],y=u[2],_=u[3],T=new Uint32Array(256);let w=0,L=0,I=0;for(I=0;I<256;I++)I<128?T[I]=I<<1:T[I]=I<<1^283;for(I=0;I<256;I++){let C=L^L<<1^L<<2^L<<3^L<<4;C=C>>>8^C&255^99,e[w]=C,t[C]=w;const b=T[w],M=T[b],U=T[M];let B=T[C]*257^C*16843008;i[w]=B<<24|B>>>8,s[w]=B<<16|B>>>16,o[w]=B<<8|B>>>24,l[w]=B,B=U*16843009^M*65537^b*257^w*16843008,h[C]=B<<24|B>>>8,m[C]=B<<16|B>>>16,y[C]=B<<8|B>>>24,_[C]=B,w?(w=b^T[T[T[U^b]]],L^=T[T[L]]):w=L=1}}expandKey(e){const t=this.uint8ArrayToUint32Array_(e);let r=!0,i=0;for(;i<t.length&&r;)r=t[i]===this.key[i],i++;if(r)return;this.key=t;const s=this.keySize=t.length;if(s!==4&&s!==6&&s!==8)throw new Error("Invalid aes key size="+s);const o=this.ksRows=(s+6+1)*4;let l,u;const h=this.keySchedule=new Uint32Array(o),m=this.invKeySchedule=new Uint32Array(o),y=this.sBox,_=this.rcon,T=this.invSubMix,w=T[0],L=T[1],I=T[2],C=T[3];let b,M;for(l=0;l<o;l++){if(l<s){b=h[l]=t[l];continue}M=b,l%s===0?(M=M<<8|M>>>24,M=y[M>>>24]<<24|y[M>>>16&255]<<16|y[M>>>8&255]<<8|y[M&255],M^=_[l/s|0]<<24):s>6&&l%s===4&&(M=y[M>>>24]<<24|y[M>>>16&255]<<16|y[M>>>8&255]<<8|y[M&255]),h[l]=b=(h[l-s]^M)>>>0}for(u=0;u<o;u++)l=o-u,u&3?M=h[l]:M=h[l-4],u<4||l<=4?m[u]=M:m[u]=w[y[M>>>24]]^L[y[M>>>16&255]]^I[y[M>>>8&255]]^C[y[M&255]],m[u]=m[u]>>>0}networkToHostOrderSwap(e){return e<<24|(e&65280)<<8|(e&16711680)>>8|e>>>24}decrypt(e,t,r){const i=this.keySize+6,s=this.invKeySchedule,o=this.invSBox,l=this.invSubMix,u=l[0],h=l[1],m=l[2],y=l[3],_=this.uint8ArrayToUint32Array_(r);let T=_[0],w=_[1],L=_[2],I=_[3];const C=new Int32Array(e),b=new Int32Array(C.length);let M,U,B,$,H,j,Y,q,X,ge,ae,xe,ie,ce;const ke=this.networkToHostOrderSwap;for(;t<C.length;){for(X=ke(C[t]),ge=ke(C[t+1]),ae=ke(C[t+2]),xe=ke(C[t+3]),H=X^s[0],j=xe^s[1],Y=ae^s[2],q=ge^s[3],ie=4,ce=1;ce<i;ce++)M=u[H>>>24]^h[j>>16&255]^m[Y>>8&255]^y[q&255]^s[ie],U=u[j>>>24]^h[Y>>16&255]^m[q>>8&255]^y[H&255]^s[ie+1],B=u[Y>>>24]^h[q>>16&255]^m[H>>8&255]^y[j&255]^s[ie+2],$=u[q>>>24]^h[H>>16&255]^m[j>>8&255]^y[Y&255]^s[ie+3],H=M,j=U,Y=B,q=$,ie=ie+4;M=o[H>>>24]<<24^o[j>>16&255]<<16^o[Y>>8&255]<<8^o[q&255]^s[ie],U=o[j>>>24]<<24^o[Y>>16&255]<<16^o[q>>8&255]<<8^o[H&255]^s[ie+1],B=o[Y>>>24]<<24^o[q>>16&255]<<16^o[H>>8&255]<<8^o[j&255]^s[ie+2],$=o[q>>>24]<<24^o[H>>16&255]<<16^o[j>>8&255]<<8^o[Y&255]^s[ie+3],b[t]=ke(M^T),b[t+1]=ke($^w),b[t+2]=ke(B^L),b[t+3]=ke(U^I),T=X,w=ge,L=ae,I=xe,t=t+4}return b.buffer}}const O5=16;class Mx{constructor(e,{removePKCS7Padding:t=!0}={}){if(this.logEnabled=!0,this.removePKCS7Padding=void 0,this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null,this.useSoftware=void 0,this.useSoftware=e.enableSoftwareAES,this.removePKCS7Padding=t,t)try{const r=self.crypto;r&&(this.subtle=r.subtle||r.webkitSubtle)}catch{}this.useSoftware=!this.subtle}destroy(){this.subtle=null,this.softwareDecrypter=null,this.key=null,this.fastAesKey=null,this.remainderData=null,this.currentIV=null,this.currentResult=null}isSync(){return this.useSoftware}flush(){const{currentResult:e,remainderData:t}=this;if(!e||t)return this.reset(),null;const r=new Uint8Array(e);return this.reset(),this.removePKCS7Padding?P5(r):r}reset(){this.currentResult=null,this.currentIV=null,this.remainderData=null,this.softwareDecrypter&&(this.softwareDecrypter=null)}decrypt(e,t,r){return this.useSoftware?new Promise((i,s)=>{this.softwareDecrypt(new Uint8Array(e),t,r);const o=this.flush();o?i(o.buffer):s(new Error("[softwareDecrypt] Failed to decrypt data"))}):this.webCryptoDecrypt(new Uint8Array(e),t,r)}softwareDecrypt(e,t,r){const{currentIV:i,currentResult:s,remainderData:o}=this;this.logOnce("JS AES decrypt"),o&&(e=Rs(o,e),this.remainderData=null);const l=this.getValidChunk(e);if(!l.length)return null;i&&(r=i);let u=this.softwareDecrypter;u||(u=this.softwareDecrypter=new M5),u.expandKey(t);const h=s;return this.currentResult=u.decrypt(l.buffer,0,r),this.currentIV=hA(l,-16).buffer,h||null}webCryptoDecrypt(e,t,r){if(this.key!==t||!this.fastAesKey){if(!this.subtle)return Promise.resolve(this.onWebCryptoError(e,t,r));this.key=t,this.fastAesKey=new b5(this.subtle,t)}return this.fastAesKey.expandKey().then(i=>this.subtle?(this.logOnce("WebCrypto AES decrypt"),new D5(this.subtle,new Uint8Array(r)).decrypt(e.buffer,i)):Promise.reject(new Error("web crypto not initialized"))).catch(i=>(he.warn(`[decrypter]: WebCrypto Error, disable WebCrypto API, ${i.name}: ${i.message}`),this.onWebCryptoError(e,t,r)))}onWebCryptoError(e,t,r){this.useSoftware=!0,this.logEnabled=!0,this.softwareDecrypt(e,t,r);const i=this.flush();if(i)return i.buffer;throw new Error("WebCrypto and softwareDecrypt: failed to decrypt data")}getValidChunk(e){let t=e;const r=e.length-e.length%O5;return r!==e.length&&(t=hA(e,0,r),this.remainderData=hA(e,r)),t}logOnce(e){this.logEnabled&&(he.log(`[decrypter]: ${e}`),this.logEnabled=!1)}}const F5={toString:function(n){let e="";const t=n.length;for(let r=0;r<t;r++)e+=`[${n.start(r).toFixed(3)}-${n.end(r).toFixed(3)}]`;return e}},Le={STOPPED:"STOPPED",IDLE:"IDLE",KEY_LOADING:"KEY_LOADING",FRAG_LOADING:"FRAG_LOADING",FRAG_LOADING_WAITING_RETRY:"FRAG_LOADING_WAITING_RETRY",WAITING_TRACK:"WAITING_TRACK",PARSING:"PARSING",PARSED:"PARSED",ENDED:"ENDED",ERROR:"ERROR",WAITING_INIT_PTS:"WAITING_INIT_PTS",WAITING_LEVEL:"WAITING_LEVEL"};class rm extends S5{constructor(e,t,r,i,s){super(),this.hls=void 0,this.fragPrevious=null,this.fragCurrent=null,this.fragmentTracker=void 0,this.transmuxer=null,this._state=Le.STOPPED,this.playlistType=void 0,this.media=null,this.mediaBuffer=null,this.config=void 0,this.bitrateTest=!1,this.lastCurrentTime=0,this.nextLoadPosition=0,this.startPosition=0,this.startTimeOffset=null,this.loadedmetadata=!1,this.retryDate=0,this.levels=null,this.fragmentLoader=void 0,this.keyLoader=void 0,this.levelLastLoaded=null,this.startFragRequested=!1,this.decrypter=void 0,this.initPTS=[],this.onvseeking=null,this.onvended=null,this.logPrefix="",this.log=void 0,this.warn=void 0,this.playlistType=s,this.logPrefix=i,this.log=he.log.bind(he,`${i}:`),this.warn=he.warn.bind(he,`${i}:`),this.hls=e,this.fragmentLoader=new I5(e.config),this.keyLoader=r,this.fragmentTracker=t,this.config=e.config,this.decrypter=new Mx(e.config),e.on(z.MANIFEST_LOADED,this.onManifestLoaded,this)}doTick(){this.onTickEnd()}onTickEnd(){}startLoad(e){}stopLoad(){this.fragmentLoader.abort(),this.keyLoader.abort(this.playlistType);const e=this.fragCurrent;e!=null&&e.loader&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.resetTransmuxer(),this.fragCurrent=null,this.fragPrevious=null,this.clearInterval(),this.clearNextTick(),this.state=Le.STOPPED}_streamEnded(e,t){if(t.live||e.nextStart||!e.end||!this.media)return!1;const r=t.partList;if(r!=null&&r.length){const s=r[r.length-1];return nn.isBuffered(this.media,s.start+s.duration/2)}const i=t.fragments[t.fragments.length-1].type;return this.fragmentTracker.isEndListAppended(i)}getLevelDetails(){if(this.levels&&this.levelLastLoaded!==null){var e;return(e=this.levelLastLoaded)==null?void 0:e.details}}onMediaAttached(e,t){const r=this.media=this.mediaBuffer=t.media;this.onvseeking=this.onMediaSeeking.bind(this),this.onvended=this.onMediaEnded.bind(this),r.addEventListener("seeking",this.onvseeking),r.addEventListener("ended",this.onvended);const i=this.config;this.levels&&i.autoStartLoad&&this.state===Le.STOPPED&&this.startLoad(i.startPosition)}onMediaDetaching(){const e=this.media;e!=null&&e.ended&&(this.log("MSE detaching and video ended, reset startPosition"),this.startPosition=this.lastCurrentTime=0),e&&this.onvseeking&&this.onvended&&(e.removeEventListener("seeking",this.onvseeking),e.removeEventListener("ended",this.onvended),this.onvseeking=this.onvended=null),this.keyLoader&&this.keyLoader.detach(),this.media=this.mediaBuffer=null,this.loadedmetadata=!1,this.fragmentTracker.removeAllFragments(),this.stopLoad()}onMediaSeeking(){const{config:e,fragCurrent:t,media:r,mediaBuffer:i,state:s}=this,o=r?r.currentTime:0,l=nn.bufferInfo(i||r,o,e.maxBufferHole);if(this.log(`media seeking to ${He(o)?o.toFixed(3):o}, state: ${s}`),this.state===Le.ENDED)this.resetLoadingState();else if(t){const u=e.maxFragLookUpTolerance,h=t.start-u,m=t.start+t.duration+u;if(!l.len||m<l.start||h>l.end){const y=o>m;(o<h||y)&&(y&&t.loader&&(this.log("seeking outside of buffer while fragment load in progress, cancel fragment load"),t.abortRequests(),this.resetLoadingState()),this.fragPrevious=null)}}r&&(this.fragmentTracker.removeFragmentsInRange(o,1/0,this.playlistType,!0),this.lastCurrentTime=o),!this.loadedmetadata&&!l.len&&(this.nextLoadPosition=this.startPosition=o),this.tickImmediate()}onMediaEnded(){this.startPosition=this.lastCurrentTime=0}onManifestLoaded(e,t){this.startTimeOffset=t.startTimeOffset,this.initPTS=[]}onHandlerDestroying(){this.hls.off(z.MANIFEST_LOADED,this.onManifestLoaded,this),this.stopLoad(),super.onHandlerDestroying(),this.hls=null}onHandlerDestroyed(){this.state=Le.STOPPED,this.fragmentLoader&&this.fragmentLoader.destroy(),this.keyLoader&&this.keyLoader.destroy(),this.decrypter&&this.decrypter.destroy(),this.hls=this.log=this.warn=this.decrypter=this.keyLoader=this.fragmentLoader=this.fragmentTracker=null,super.onHandlerDestroyed()}loadFragment(e,t,r){this._loadFragForPlayback(e,t,r)}_loadFragForPlayback(e,t,r){const i=s=>{if(this.fragContextChanged(e)){this.warn(`Fragment ${e.sn}${s.part?" p: "+s.part.index:""} of level ${e.level} was dropped during download.`),this.fragmentTracker.removeFragment(e);return}e.stats.chunkCount++,this._handleFragmentLoadProgress(s)};this._doFragLoad(e,t,r,i).then(s=>{if(!s)return;const o=this.state;if(this.fragContextChanged(e)){(o===Le.FRAG_LOADING||!this.fragCurrent&&o===Le.PARSING)&&(this.fragmentTracker.removeFragment(e),this.state=Le.IDLE);return}"payload"in s&&(this.log(`Loaded fragment ${e.sn} of level ${e.level}`),this.hls.trigger(z.FRAG_LOADED,s)),this._handleFragmentLoadComplete(s)}).catch(s=>{this.state===Le.STOPPED||this.state===Le.ERROR||(this.warn(`Frag error: ${(s==null?void 0:s.message)||s}`),this.resetFragmentLoading(e))})}clearTrackerIfNeeded(e){var t;const{fragmentTracker:r}=this;if(r.getState(e)===rr.APPENDING){const s=e.type,o=this.getFwdBufferInfo(this.mediaBuffer,s),l=Math.max(e.duration,o?o.len:this.config.maxBufferLength),u=this.backtrackFragment;((u?e.sn-u.sn:0)===1||this.reduceMaxBufferLength(l,e.duration))&&r.removeFragment(e)}else((t=this.mediaBuffer)==null?void 0:t.buffered.length)===0?r.removeAllFragments():r.hasParts(e.type)&&(r.detectPartialFragments({frag:e,part:null,stats:e.stats,id:e.type}),r.getState(e)===rr.PARTIAL&&r.removeFragment(e))}checkLiveUpdate(e){if(e.updated&&!e.live){const t=e.fragments[e.fragments.length-1];this.fragmentTracker.detectPartialFragments({frag:t,part:null,stats:t.stats,id:t.type})}e.fragments[0]||(e.deltaUpdateFailed=!0)}flushMainBuffer(e,t,r=null){if(!(e-t))return;const i={startOffset:e,endOffset:t,type:r};this.hls.trigger(z.BUFFER_FLUSHING,i)}_loadInitSegment(e,t){this._doFragLoad(e,t).then(r=>{if(!r||this.fragContextChanged(e)||!this.levels)throw new Error("init load aborted");return r}).then(r=>{const{hls:i}=this,{payload:s}=r,o=e.decryptdata;if(s&&s.byteLength>0&&o!=null&&o.key&&o.iv&&o.method==="AES-128"){const l=self.performance.now();return this.decrypter.decrypt(new Uint8Array(s),o.key.buffer,o.iv.buffer).catch(u=>{throw i.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.FRAG_DECRYPT_ERROR,fatal:!1,error:u,reason:u.message,frag:e}),u}).then(u=>{const h=self.performance.now();return i.trigger(z.FRAG_DECRYPTED,{frag:e,payload:u,stats:{tstart:l,tdecrypt:h}}),r.payload=u,this.completeInitSegmentLoad(r)})}return this.completeInitSegmentLoad(r)}).catch(r=>{this.state===Le.STOPPED||this.state===Le.ERROR||(this.warn(r),this.resetFragmentLoading(e))})}completeInitSegmentLoad(e){const{levels:t}=this;if(!t)throw new Error("init load aborted, missing levels");const r=e.frag.stats;this.state=Le.IDLE,e.frag.data=new Uint8Array(e.payload),r.parsing.start=r.buffering.start=self.performance.now(),r.parsing.end=r.buffering.end=self.performance.now(),this.tick()}fragContextChanged(e){const{fragCurrent:t}=this;return!e||!t||e.sn!==t.sn||e.level!==t.level}fragBufferedComplete(e,t){var r,i,s,o;const l=this.mediaBuffer?this.mediaBuffer:this.media;if(this.log(`Buffered ${e.type} sn: ${e.sn}${t?" part: "+t.index:""} of ${this.playlistType===et.MAIN?"level":"track"} ${e.level} (frag:[${((r=e.startPTS)!=null?r:NaN).toFixed(3)}-${((i=e.endPTS)!=null?i:NaN).toFixed(3)}] > buffer:${l?F5.toString(nn.getBuffered(l)):"(detached)"})`),e.sn!=="initSegment"){var u;if(e.type!==et.SUBTITLE){const m=e.elementaryStreams;if(!Object.keys(m).some(y=>!!m[y])){this.state=Le.IDLE;return}}const h=(u=this.levels)==null?void 0:u[e.level];h!=null&&h.fragmentError&&(this.log(`Resetting level fragment error count of ${h.fragmentError} on frag buffered`),h.fragmentError=0)}this.state=Le.IDLE,l&&(!this.loadedmetadata&&e.type==et.MAIN&&l.buffered.length&&((s=this.fragCurrent)==null?void 0:s.sn)===((o=this.fragPrevious)==null?void 0:o.sn)&&(this.loadedmetadata=!0,this.seekToStartPos()),this.tick())}seekToStartPos(){}_handleFragmentLoadComplete(e){const{transmuxer:t}=this;if(!t)return;const{frag:r,part:i,partsLoaded:s}=e,o=!s||s.length===0||s.some(u=>!u),l=new nm(r.level,r.sn,r.stats.chunkCount+1,0,i?i.index:-1,!o);t.flush(l)}_handleFragmentLoadProgress(e){}_doFragLoad(e,t,r=null,i){var s;const o=t==null?void 0:t.details;if(!this.levels||!o)throw new Error(`frag load aborted, missing level${o?"":" detail"}s`);let l=null;if(e.encrypted&&!((s=e.decryptdata)!=null&&s.key)?(this.log(`Loading key for ${e.sn} of [${o.startSN}-${o.endSN}], ${this.logPrefix==="[stream-controller]"?"level":"track"} ${e.level}`),this.state=Le.KEY_LOADING,this.fragCurrent=e,l=this.keyLoader.load(e).then(m=>{if(!this.fragContextChanged(m.frag))return this.hls.trigger(z.KEY_LOADED,m),this.state===Le.KEY_LOADING&&(this.state=Le.IDLE),m}),this.hls.trigger(z.KEY_LOADING,{frag:e}),this.fragCurrent===null&&(l=Promise.reject(new Error("frag load aborted, context changed in KEY_LOADING")))):!e.encrypted&&o.encryptedFragments.length&&this.keyLoader.loadClear(e,o.encryptedFragments),r=Math.max(e.start,r||0),this.config.lowLatencyMode&&e.sn!=="initSegment"){const m=o.partList;if(m&&i){r>e.end&&o.fragmentHint&&(e=o.fragmentHint);const y=this.getNextPart(m,e,r);if(y>-1){const _=m[y];this.log(`Loading part sn: ${e.sn} p: ${_.index} cc: ${e.cc} of playlist [${o.startSN}-${o.endSN}] parts [0-${y}-${m.length-1}] ${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),this.nextLoadPosition=_.start+_.duration,this.state=Le.FRAG_LOADING;let T;return l?T=l.then(w=>!w||this.fragContextChanged(w.frag)?null:this.doFragPartsLoad(e,_,t,i)).catch(w=>this.handleFragLoadError(w)):T=this.doFragPartsLoad(e,_,t,i).catch(w=>this.handleFragLoadError(w)),this.hls.trigger(z.FRAG_LOADING,{frag:e,part:_,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING parts")):T}else if(!e.url||this.loadedEndOfParts(m,r))return Promise.resolve(null)}}this.log(`Loading fragment ${e.sn} cc: ${e.cc} ${o?"of ["+o.startSN+"-"+o.endSN+"] ":""}${this.logPrefix==="[stream-controller]"?"level":"track"}: ${e.level}, target: ${parseFloat(r.toFixed(3))}`),He(e.sn)&&!this.bitrateTest&&(this.nextLoadPosition=e.start+e.duration),this.state=Le.FRAG_LOADING;const u=this.config.progressive;let h;return u&&l?h=l.then(m=>!m||this.fragContextChanged(m==null?void 0:m.frag)?null:this.fragmentLoader.load(e,i)).catch(m=>this.handleFragLoadError(m)):h=Promise.all([this.fragmentLoader.load(e,u?i:void 0),l]).then(([m])=>(!u&&m&&i&&i(m),m)).catch(m=>this.handleFragLoadError(m)),this.hls.trigger(z.FRAG_LOADING,{frag:e,targetBufferTime:r}),this.fragCurrent===null?Promise.reject(new Error("frag load aborted, context changed in FRAG_LOADING")):h}doFragPartsLoad(e,t,r,i){return new Promise((s,o)=>{var l;const u=[],h=(l=r.details)==null?void 0:l.partList,m=y=>{this.fragmentLoader.loadPart(e,y,i).then(_=>{u[y.index]=_;const T=_.part;this.hls.trigger(z.FRAG_LOADED,_);const w=DS(r,e.sn,y.index+1)||XR(h,e.sn,y.index+1);if(w)m(w);else return s({frag:e,part:T,partsLoaded:u})}).catch(o)};m(t)})}handleFragLoadError(e){if("data"in e){const t=e.data;e.data&&t.details===_e.INTERNAL_ABORTED?this.handleFragLoadAborted(t.frag,t.part):this.hls.trigger(z.ERROR,t)}else this.hls.trigger(z.ERROR,{type:st.OTHER_ERROR,details:_e.INTERNAL_EXCEPTION,err:e,error:e,fatal:!0});return null}_handleTransmuxerFlush(e){const t=this.getCurrentContext(e);if(!t||this.state!==Le.PARSING){!this.fragCurrent&&this.state!==Le.STOPPED&&this.state!==Le.ERROR&&(this.state=Le.IDLE);return}const{frag:r,part:i,level:s}=t,o=self.performance.now();r.stats.parsing.end=o,i&&(i.stats.parsing.end=o),this.updateLevelTiming(r,i,s,e.partial)}getCurrentContext(e){const{levels:t,fragCurrent:r}=this,{level:i,sn:s,part:o}=e;if(!(t!=null&&t[i]))return this.warn(`Levels object was unset while buffering fragment ${s} of level ${i}. The current chunk will not be buffered.`),null;const l=t[i],u=o>-1?DS(l,s,o):null,h=u?u.fragment:o5(l,s,r);return h?(r&&r!==h&&(h.stats=r.stats),{frag:h,part:u,level:l}):null}bufferFragmentData(e,t,r,i,s){var o;if(!e||this.state!==Le.PARSING)return;const{data1:l,data2:u}=e;let h=l;if(l&&u&&(h=Rs(l,u)),!((o=h)!=null&&o.length))return;const m={type:e.type,frag:t,part:r,chunkMeta:i,parent:t.type,data:h};if(this.hls.trigger(z.BUFFER_APPENDING,m),e.dropped&&e.independent&&!r){if(s)return;this.flushBufferGap(t)}}flushBufferGap(e){const t=this.media;if(!t)return;if(!nn.isBuffered(t,t.currentTime)){this.flushMainBuffer(0,e.start);return}const r=t.currentTime,i=nn.bufferInfo(t,r,0),s=e.duration,o=Math.min(this.config.maxFragLookUpTolerance*2,s*.25),l=Math.max(Math.min(e.start-o,i.end-o),r+o);e.start-l>o&&this.flushMainBuffer(l,e.start)}getFwdBufferInfo(e,t){const r=this.getLoadPosition();return He(r)?this.getFwdBufferInfoAtPos(e,r,t):null}getFwdBufferInfoAtPos(e,t,r){const{config:{maxBufferHole:i}}=this,s=nn.bufferInfo(e,t,i);if(s.len===0&&s.nextStart!==void 0){const o=this.fragmentTracker.getBufferedFrag(t,r);if(o&&s.nextStart<o.end)return nn.bufferInfo(e,t,Math.max(s.nextStart,i))}return s}getMaxBufferLength(e){const{config:t}=this;let r;return e?r=Math.max(8*t.maxBufferSize/e,t.maxBufferLength):r=t.maxBufferLength,Math.min(r,t.maxMaxBufferLength)}reduceMaxBufferLength(e,t){const r=this.config,i=Math.max(Math.min(e-t,r.maxBufferLength),t),s=Math.max(e-t*3,r.maxMaxBufferLength/2,i);return s>=i?(r.maxMaxBufferLength=s,this.warn(`Reduce max buffer length to ${s}s`),!0):!1}getAppendedFrag(e,t=et.MAIN){const r=this.fragmentTracker.getAppendedFrag(e,et.MAIN);return r&&"fragment"in r?r.fragment:r}getNextFragment(e,t){const r=t.fragments,i=r.length;if(!i)return null;const{config:s}=this,o=r[0].start;let l;if(t.live){const u=s.initialLiveManifestSize;if(i<u)return this.warn(`Not enough fragments to start playback (have: ${i}, need: ${u})`),null;(!t.PTSKnown&&!this.startFragRequested&&this.startPosition===-1||e<o)&&(l=this.getInitialLiveFragment(t,r),this.startPosition=this.nextLoadPosition=l?this.hls.liveSyncPosition||l.start:e)}else e<=o&&(l=r[0]);if(!l){const u=s.lowLatencyMode?t.partEnd:t.fragmentEnd;l=this.getFragmentAtPosition(e,u,t)}return this.mapToInitFragWhenRequired(l)}isLoopLoading(e,t){const r=this.fragmentTracker.getState(e);return(r===rr.OK||r===rr.PARTIAL&&!!e.gap)&&this.nextLoadPosition>t}getNextFragmentLoopLoading(e,t,r,i,s){const o=e.gap,l=this.getNextFragment(this.nextLoadPosition,t);if(l===null)return l;if(e=l,o&&e&&!e.gap&&r.nextStart){const u=this.getFwdBufferInfoAtPos(this.mediaBuffer?this.mediaBuffer:this.media,r.nextStart,i);if(u!==null&&r.len+u.len>=s)return this.log(`buffer full after gaps in "${i}" playlist starting at sn: ${e.sn}`),null}return e}mapToInitFragWhenRequired(e){return e!=null&&e.initSegment&&!(e!=null&&e.initSegment.data)&&!this.bitrateTest?e.initSegment:e}getNextPart(e,t,r){let i=-1,s=!1,o=!0;for(let l=0,u=e.length;l<u;l++){const h=e[l];if(o=o&&!h.independent,i>-1&&r<h.start)break;const m=h.loaded;m?i=-1:(s||h.independent||o)&&h.fragment===t&&(i=l),s=m}return i}loadedEndOfParts(e,t){const r=e[e.length-1];return r&&t>r.start&&r.loaded}getInitialLiveFragment(e,t){const r=this.fragPrevious;let i=null;if(r){if(e.hasProgramDateTime&&(this.log(`Live playlist, switching playlist, load frag with same PDT: ${r.programDateTime}`),i=a5(t,r.endProgramDateTime,this.config.maxFragLookUpTolerance)),!i){const s=r.sn+1;if(s>=e.startSN&&s<=e.endSN){const o=t[s-e.startSN];r.cc===o.cc&&(i=o,this.log(`Live playlist, switching playlist, load frag with next SN: ${i.sn}`))}i||(i=f5(t,r.cc),i&&this.log(`Live playlist, switching playlist, load frag with same CC: ${i.sn}`))}}else{const s=this.hls.liveSyncPosition;s!==null&&(i=this.getFragmentAtPosition(s,this.bitrateTest?e.fragmentEnd:e.edge,e))}return i}getFragmentAtPosition(e,t,r){const{config:i}=this;let{fragPrevious:s}=this,{fragments:o,endSN:l}=r;const{fragmentHint:u}=r,{maxFragLookUpTolerance:h}=i,m=r.partList,y=!!(i.lowLatencyMode&&m!=null&&m.length&&u);y&&u&&!this.bitrateTest&&(o=o.concat(u),l=u.sn);let _;if(e<t){const T=e>t-h?0:h;_=Wg(s,o,e,T)}else _=o[o.length-1];if(_){const T=_.sn-r.startSN,w=this.fragmentTracker.getState(_);if((w===rr.OK||w===rr.PARTIAL&&_.gap)&&(s=_),s&&_.sn===s.sn&&(!y||m[0].fragment.sn>_.sn)&&s&&_.level===s.level){const I=o[T+1];_.sn<l&&this.fragmentTracker.getState(I)!==rr.OK?_=I:_=null}}return _}synchronizeToLiveEdge(e){const{config:t,media:r}=this;if(!r)return;const i=this.hls.liveSyncPosition,s=r.currentTime,o=e.fragments[0].start,l=e.edge,u=s>=o-t.maxFragLookUpTolerance&&s<=l;if(i!==null&&r.duration>i&&(s<i||!u)){const h=t.liveMaxLatencyDuration!==void 0?t.liveMaxLatencyDuration:t.liveMaxLatencyDurationCount*e.targetduration;(!u&&r.readyState<4||s<l-h)&&(this.loadedmetadata||(this.nextLoadPosition=i),r.readyState&&(this.warn(`Playback: ${s.toFixed(3)} is located too far from the end of live sliding playlist: ${l}, reset currentTime to : ${i.toFixed(3)}`),r.currentTime=i))}}alignPlaylists(e,t,r){const i=e.fragments.length;if(!i)return this.warn("No fragments in live playlist"),0;const s=e.fragments[0].start,o=!t,l=e.alignedSliding&&He(s);if(o||!l&&!s){const{fragPrevious:u}=this;R5(u,r,e);const h=e.fragments[0].start;return this.log(`Live playlist sliding: ${h.toFixed(2)} start-sn: ${t?t.startSN:"na"}->${e.startSN} prev-sn: ${u?u.sn:"na"} fragments: ${i}`),h}return s}waitForCdnTuneIn(e){return e.live&&e.canBlockReload&&e.partTarget&&e.tuneInGoal>Math.max(e.partHoldBack,e.partTarget*3)}setStartPosition(e,t){let r=this.startPosition;if(r<t&&(r=-1),r===-1||this.lastCurrentTime===-1){const i=this.startTimeOffset!==null,s=i?this.startTimeOffset:e.startTimeOffset;s!==null&&He(s)?(r=t+s,s<0&&(r+=e.totalduration),r=Math.min(Math.max(t,r),t+e.totalduration),this.log(`Start time offset ${s} found in ${i?"multivariant":"media"} playlist, adjust startPosition to ${r}`),this.startPosition=r):e.live?r=this.hls.liveSyncPosition||t:this.startPosition=r=0,this.lastCurrentTime=r}this.nextLoadPosition=r}getLoadPosition(){const{media:e}=this;let t=0;return this.loadedmetadata&&e?t=e.currentTime:this.nextLoadPosition&&(t=this.nextLoadPosition),t}handleFragLoadAborted(e,t){this.transmuxer&&e.sn!=="initSegment"&&e.stats.aborted&&(this.warn(`Fragment ${e.sn}${t?" part "+t.index:""} of level ${e.level} was aborted`),this.resetFragmentLoading(e))}resetFragmentLoading(e){(!this.fragCurrent||!this.fragContextChanged(e)&&this.state!==Le.FRAG_LOADING_WAITING_RETRY)&&(this.state=Le.IDLE)}onFragmentOrKeyLoadError(e,t){if(t.chunkMeta&&!t.frag){const m=this.getCurrentContext(t.chunkMeta);m&&(t.frag=m.frag)}const r=t.frag;if(!r||r.type!==e||!this.levels)return;if(this.fragContextChanged(r)){var i;this.warn(`Frag load error must match current frag to retry ${r.url} > ${(i=this.fragCurrent)==null?void 0:i.url}`);return}const s=t.details===_e.FRAG_GAP;s&&this.fragmentTracker.fragBuffered(r,!0);const o=t.errorAction,{action:l,retryCount:u=0,retryConfig:h}=o||{};if(o&&l===Qn.RetryRequest&&h){this.resetStartWhenNotLoaded(this.levelLastLoaded);const m=Px(h,u);this.warn(`Fragment ${r.sn} of ${e} ${r.level} errored with ${t.details}, retrying loading ${u+1}/${h.maxNumRetry} in ${m}ms`),o.resolved=!0,this.retryDate=self.performance.now()+m,this.state=Le.FRAG_LOADING_WAITING_RETRY}else if(h&&o)if(this.resetFragmentErrors(e),u<h.maxNumRetry)!s&&l!==Qn.RemoveAlternatePermanently&&(o.resolved=!0);else{he.warn(`${t.details} reached or exceeded max retry (${u})`);return}else(o==null?void 0:o.action)===Qn.SendAlternateToPenaltyBox?this.state=Le.WAITING_LEVEL:this.state=Le.ERROR;this.tickImmediate()}reduceLengthAndFlushBuffer(e){if(this.state===Le.PARSING||this.state===Le.PARSED){const t=e.frag,r=e.parent,i=this.getFwdBufferInfo(this.mediaBuffer,r),s=i&&i.len>.5;s&&this.reduceMaxBufferLength(i.len,(t==null?void 0:t.duration)||10);const o=!s;return o&&this.warn(`Buffer full error while media.currentTime is not buffered, flush ${r} buffer`),t&&(this.fragmentTracker.removeFragment(t),this.nextLoadPosition=t.start),this.resetLoadingState(),o}return!1}resetFragmentErrors(e){e===et.AUDIO&&(this.fragCurrent=null),this.loadedmetadata||(this.startFragRequested=!1),this.state!==Le.STOPPED&&(this.state=Le.IDLE)}afterBufferFlushed(e,t,r){if(!e)return;const i=nn.getBuffered(e);this.fragmentTracker.detectEvictedFragments(t,i,r),this.state===Le.ENDED&&this.resetLoadingState()}resetLoadingState(){this.log("Reset loading state"),this.fragCurrent=null,this.fragPrevious=null,this.state=Le.IDLE}resetStartWhenNotLoaded(e){if(!this.loadedmetadata){this.startFragRequested=!1;const t=e?e.details:null;t!=null&&t.live?(this.startPosition=-1,this.setStartPosition(t,0),this.resetLoadingState()):this.nextLoadPosition=this.startPosition}}resetWhenMissingContext(e){this.warn(`The loading context changed while buffering fragment ${e.sn} of level ${e.level}. This chunk will not be buffered.`),this.removeUnbufferedFrags(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState()}removeUnbufferedFrags(e=0){this.fragmentTracker.removeFragmentsInRange(e,1/0,this.playlistType,!1,!0)}updateLevelTiming(e,t,r,i){var s;const o=r.details;if(!o){this.warn("level.details undefined");return}if(!Object.keys(e.elementaryStreams).reduce((u,h)=>{const m=e.elementaryStreams[h];if(m){const y=m.endPTS-m.startPTS;if(y<=0)return this.warn(`Could not parse fragment ${e.sn} ${h} duration reliably (${y})`),u||!1;const _=i?0:YR(o,e,m.startPTS,m.endPTS,m.startDTS,m.endDTS);return this.hls.trigger(z.LEVEL_PTS_UPDATED,{details:o,level:r,drift:_,type:h,frag:e,start:m.startPTS,end:m.endPTS}),!0}return u},!1)&&((s=this.transmuxer)==null?void 0:s.error)===null){const u=new Error(`Found no media in fragment ${e.sn} of level ${e.level} resetting transmuxer to fallback to playlist timing`);if(r.fragmentError===0&&(r.fragmentError++,e.gap=!0,this.fragmentTracker.removeFragment(e),this.fragmentTracker.fragBuffered(e,!0)),this.warn(u.message),this.hls.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.FRAG_PARSING_ERROR,fatal:!1,error:u,frag:e,reason:`Found no media in msn ${e.sn} of level "${r.url}"`}),!this.hls)return;this.resetTransmuxer()}this.state=Le.PARSED,this.hls.trigger(z.FRAG_PARSED,{frag:e,part:t})}resetTransmuxer(){this.transmuxer&&(this.transmuxer.destroy(),this.transmuxer=null)}recoverWorkerError(e){e.event==="demuxerWorker"&&(this.fragmentTracker.removeAllFragments(),this.resetTransmuxer(),this.resetStartWhenNotLoaded(this.levelLastLoaded),this.resetLoadingState())}set state(e){const t=this._state;t!==e&&(this._state=e,this.log(`${t}->${e}`))}get state(){return this._state}}class i3{constructor(){this.chunks=[],this.dataLength=0}push(e){this.chunks.push(e),this.dataLength+=e.length}flush(){const{chunks:e,dataLength:t}=this;let r;if(e.length)e.length===1?r=e[0]:r=N5(e,t);else return new Uint8Array(0);return this.reset(),r}reset(){this.chunks.length=0,this.dataLength=0}}function N5(n,e){const t=new Uint8Array(e);let r=0;for(let i=0;i<n.length;i++){const s=n[i];t.set(s,r),r+=s.length}return t}function B5(){return typeof __HLS_WORKER_BUNDLE__=="function"}function U5(){const n=new self.Blob([`var exports={};var module={exports:exports};function define(f){f()};define.amd=true;(${__HLS_WORKER_BUNDLE__.toString()})(true);`],{type:"text/javascript"}),e=self.URL.createObjectURL(n);return{worker:new self.Worker(e),objectURL:e}}function G5(n){const e=new self.URL(n,self.location.href).href;return{worker:new self.Worker(e),scriptURL:e}}function ho(n="",e=9e4){return{type:n,id:-1,pid:-1,inputTimeScale:e,sequenceNumber:-1,samples:[],dropped:0}}class Ox{constructor(){this._audioTrack=void 0,this._id3Track=void 0,this.frameIndex=0,this.cachedData=null,this.basePTS=null,this.initPTS=null,this.lastPTS=null}resetInitSegment(e,t,r,i){this._id3Track={type:"id3",id:3,pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0}}resetTimeStamp(e){this.initPTS=e,this.resetContiguity()}resetContiguity(){this.basePTS=null,this.lastPTS=null,this.frameIndex=0}canParse(e,t){return!1}appendFrame(e,t,r){}demux(e,t){this.cachedData&&(e=Rs(this.cachedData,e),this.cachedData=null);let r=cc(e,0),i=r?r.length:0,s;const o=this._audioTrack,l=this._id3Track,u=r?bx(r):void 0,h=e.length;for((this.basePTS===null||this.frameIndex===0&&He(u))&&(this.basePTS=$5(u,t,this.initPTS),this.lastPTS=this.basePTS),this.lastPTS===null&&(this.lastPTS=this.basePTS),r&&r.length>0&&l.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:xs.audioId3,duration:Number.POSITIVE_INFINITY});i<h;){if(this.canParse(e,i)){const m=this.appendFrame(o,e,i);m?(this.frameIndex++,this.lastPTS=m.sample.pts,i+=m.length,s=i):i=h}else u8(e,i)?(r=cc(e,i),l.samples.push({pts:this.lastPTS,dts:this.lastPTS,data:r,type:xs.audioId3,duration:Number.POSITIVE_INFINITY}),i+=r.length,s=i):i++;if(i===h&&s!==h){const m=hA(e,s);this.cachedData?this.cachedData=Rs(this.cachedData,m):this.cachedData=m}}return{audioTrack:o,videoTrack:ho(),id3Track:l,textTrack:ho()}}demuxSampleAes(e,t,r){return Promise.reject(new Error(`[${this}] This demuxer does not support Sample-AES decryption`))}flush(e){const t=this.cachedData;return t&&(this.cachedData=null,this.demux(t,0)),{audioTrack:this._audioTrack,videoTrack:ho(),id3Track:this._id3Track,textTrack:ho()}}destroy(){}}const $5=(n,e,t)=>{if(He(n))return n*90;const r=t?t.baseTime*9e4/t.timescale:0;return e*9e4+r};function z5(n,e,t,r){let i,s,o,l;const u=navigator.userAgent.toLowerCase(),h=r,m=[96e3,88200,64e3,48e3,44100,32e3,24e3,22050,16e3,12e3,11025,8e3,7350];i=((e[t+2]&192)>>>6)+1;const y=(e[t+2]&60)>>>2;if(y>m.length-1){const _=new Error(`invalid ADTS sampling index:${y}`);n.emit(z.ERROR,z.ERROR,{type:st.MEDIA_ERROR,details:_e.FRAG_PARSING_ERROR,fatal:!0,error:_,reason:_.message});return}return o=(e[t+2]&1)<<2,o|=(e[t+3]&192)>>>6,he.log(`manifest codec:${r}, ADTS type:${i}, samplingIndex:${y}`),/firefox/i.test(u)?y>=6?(i=5,l=new Array(4),s=y-3):(i=2,l=new Array(2),s=y):u.indexOf("android")!==-1?(i=2,l=new Array(2),s=y):(i=5,l=new Array(4),r&&(r.indexOf("mp4a.40.29")!==-1||r.indexOf("mp4a.40.5")!==-1)||!r&&y>=6?s=y-3:((r&&r.indexOf("mp4a.40.2")!==-1&&(y>=6&&o===1||/vivaldi/i.test(u))||!r&&o===1)&&(i=2,l=new Array(2)),s=y)),l[0]=i<<3,l[0]|=(y&14)>>1,l[1]|=(y&1)<<7,l[1]|=o<<3,i===5&&(l[1]|=(s&14)>>1,l[2]=(s&1)<<7,l[2]|=8,l[3]=0),{config:l,samplerate:m[y],channelCount:o,codec:"mp4a.40."+i,manifestCodec:h}}function s3(n,e){return n[e]===255&&(n[e+1]&246)===240}function o3(n,e){return n[e+1]&1?7:9}function Fx(n,e){return(n[e+3]&3)<<11|n[e+4]<<3|(n[e+5]&224)>>>5}function H5(n,e){return e+5<n.length}function qg(n,e){return e+1<n.length&&s3(n,e)}function j5(n,e){return H5(n,e)&&s3(n,e)&&Fx(n,e)<=n.length-e}function V5(n,e){if(qg(n,e)){const t=o3(n,e);if(e+t>=n.length)return!1;const r=Fx(n,e);if(r<=t)return!1;const i=e+r;return i===n.length||qg(n,i)}return!1}function l3(n,e,t,r,i){if(!n.samplerate){const s=z5(e,t,r,i);if(!s)return;n.config=s.config,n.samplerate=s.samplerate,n.channelCount=s.channelCount,n.codec=s.codec,n.manifestCodec=s.manifestCodec,he.log(`parsed codec:${n.codec}, rate:${s.samplerate}, channels:${s.channelCount}`)}}function a3(n){return 1024*9e4/n}function Q5(n,e){const t=o3(n,e);if(e+t<=n.length){const r=Fx(n,e)-t;if(r>0)return{headerLength:t,frameLength:r}}}function A3(n,e,t,r,i){const s=a3(n.samplerate),o=r+i*s,l=Q5(e,t);let u;if(l){const{frameLength:y,headerLength:_}=l,T=_+y,w=Math.max(0,t+T-e.length);w?(u=new Uint8Array(T-_),u.set(e.subarray(t+_,e.length),0)):u=e.subarray(t+_,t+T);const L={unit:u,pts:o};return w||n.samples.push(L),{sample:L,length:T,missing:w}}const h=e.length-t;return u=new Uint8Array(h),u.set(e.subarray(t,e.length),0),{sample:{unit:u,pts:o},length:h,missing:-1}}let Sd=null;const K5=[32,64,96,128,160,192,224,256,288,320,352,384,416,448,32,48,56,64,80,96,112,128,160,192,224,256,320,384,32,40,48,56,64,80,96,112,128,160,192,224,256,320,32,48,56,64,80,96,112,128,144,160,176,192,224,256,8,16,24,32,40,48,56,64,80,96,112,128,144,160],W5=[44100,48e3,32e3,22050,24e3,16e3,11025,12e3,8e3],Y5=[[0,72,144,12],[0,0,0,0],[0,72,144,12],[0,144,144,12]],q5=[0,1,1,4];function u3(n,e,t,r,i){if(t+24>e.length)return;const s=f3(e,t);if(s&&t+s.frameLength<=e.length){const o=s.samplesPerFrame*9e4/s.sampleRate,l=r+i*o,u={unit:e.subarray(t,t+s.frameLength),pts:l,dts:l};return n.config=[],n.channelCount=s.channelCount,n.samplerate=s.sampleRate,n.samples.push(u),{sample:u,length:s.frameLength,missing:0}}}function f3(n,e){const t=n[e+1]>>3&3,r=n[e+1]>>1&3,i=n[e+2]>>4&15,s=n[e+2]>>2&3;if(t!==1&&i!==0&&i!==15&&s!==3){const o=n[e+2]>>1&1,l=n[e+3]>>6,u=t===3?3-r:r===3?3:4,h=K5[u*14+i-1]*1e3,y=W5[(t===3?0:t===2?1:2)*3+s],_=l===3?1:2,T=Y5[t][r],w=q5[r],L=T*8*w,I=Math.floor(T*h/y+o)*w;if(Sd===null){const M=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);Sd=M?parseInt(M[1]):0}return!!Sd&&Sd<=87&&r===2&&h>=224e3&&l===0&&(n[e+3]=n[e+3]|128),{sampleRate:y,channelCount:_,frameLength:I,samplesPerFrame:L}}}function Nx(n,e){return n[e]===255&&(n[e+1]&224)===224&&(n[e+1]&6)!==0}function c3(n,e){return e+1<n.length&&Nx(n,e)}function X5(n,e){return Nx(n,e)&&4<=n.length-e}function h3(n,e){if(e+1<n.length&&Nx(n,e)){const r=f3(n,e);let i=4;r!=null&&r.frameLength&&(i=r.frameLength);const s=e+i;return s===n.length||c3(n,s)}return!1}class Z5 extends Ox{constructor(e,t){super(),this.observer=void 0,this.config=void 0,this.observer=e,this.config=t}resetInitSegment(e,t,r,i){super.resetInitSegment(e,t,r,i),this._audioTrack={container:"audio/adts",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"aac",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=cc(e,0);let r=(t==null?void 0:t.length)||0;if(h3(e,r))return!1;for(let i=e.length;r<i;r++)if(V5(e,r))return he.log("ADTS sync word found !"),!0;return!1}canParse(e,t){return j5(e,t)}appendFrame(e,t,r){l3(e,this.observer,t,r,e.manifestCodec);const i=A3(e,t,r,this.basePTS,this.frameIndex);if(i&&i.missing===0)return i}}const J5=/\/emsg[-/]ID3/i;class eM{constructor(e,t){this.remainderData=null,this.timeOffset=0,this.config=void 0,this.videoTrack=void 0,this.audioTrack=void 0,this.id3Track=void 0,this.txtTrack=void 0,this.config=t}resetTimeStamp(){}resetInitSegment(e,t,r,i){const s=this.videoTrack=ho("video",1),o=this.audioTrack=ho("audio",1),l=this.txtTrack=ho("text",1);if(this.id3Track=ho("id3",1),this.timeOffset=0,!(e!=null&&e.byteLength))return;const u=$R(e);if(u.video){const{id:h,timescale:m,codec:y}=u.video;s.id=h,s.timescale=l.timescale=m,s.codec=y}if(u.audio){const{id:h,timescale:m,codec:y}=u.audio;o.id=h,o.timescale=m,o.codec=y}l.id=BR.text,s.sampleDuration=0,s.duration=o.duration=i}resetContiguity(){this.remainderData=null}static probe(e){return v8(e)}demux(e,t){this.timeOffset=t;let r=e;const i=this.videoTrack,s=this.txtTrack;if(this.config.progressive){this.remainderData&&(r=Rs(this.remainderData,e));const l=L8(r);this.remainderData=l.remainder,i.samples=l.valid||new Uint8Array}else i.samples=r;const o=this.extractID3Track(i,t);return s.samples=hS(t,i),{videoTrack:i,audioTrack:this.audioTrack,id3Track:o,textTrack:this.txtTrack}}flush(){const e=this.timeOffset,t=this.videoTrack,r=this.txtTrack;t.samples=this.remainderData||new Uint8Array,this.remainderData=null;const i=this.extractID3Track(t,this.timeOffset);return r.samples=hS(e,t),{videoTrack:t,audioTrack:ho(),id3Track:i,textTrack:ho()}}extractID3Track(e,t){const r=this.id3Track;if(e.samples.length){const i=Et(e.samples,["emsg"]);i&&i.forEach(s=>{const o=I8(s);if(J5.test(o.schemeIdUri)){const l=He(o.presentationTime)?o.presentationTime/o.timeScale:t+o.presentationTimeDelta/o.timeScale;let u=o.eventDuration===4294967295?Number.POSITIVE_INFINITY:o.eventDuration/o.timeScale;u<=.001&&(u=Number.POSITIVE_INFINITY);const h=o.payload;r.samples.push({data:h,len:h.byteLength,dts:l,pts:l,type:xs.emsg,duration:u})}})}return r}demuxSampleAes(e,t,r){return Promise.reject(new Error("The MP4 demuxer does not support SAMPLE-AES decryption"))}destroy(){}}const d3=(n,e)=>{let t=0,r=5;e+=r;const i=new Uint32Array(1),s=new Uint32Array(1),o=new Uint8Array(1);for(;r>0;){o[0]=n[e];const l=Math.min(r,8),u=8-l;s[0]=4278190080>>>24+u<<u,i[0]=(o[0]&s[0])>>u,t=t?t<<l|i[0]:i[0],e+=1,r-=l}return t};class tM extends Ox{constructor(e){super(),this.observer=void 0,this.observer=e}resetInitSegment(e,t,r,i){super.resetInitSegment(e,t,r,i),this._audioTrack={container:"audio/ac-3",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"ac3",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}canParse(e,t){return t+64<e.length}appendFrame(e,t,r){const i=g3(e,t,r,this.basePTS,this.frameIndex);if(i!==-1)return{sample:e.samples[e.samples.length-1],length:i,missing:0}}static probe(e){if(!e)return!1;const t=cc(e,0);if(!t)return!1;const r=t.length;return e[r]===11&&e[r+1]===119&&bx(t)!==void 0&&d3(e,r)<16}}function g3(n,e,t,r,i){if(t+8>e.length||e[t]!==11||e[t+1]!==119)return-1;const s=e[t+4]>>6;if(s>=3)return-1;const l=[48e3,44100,32e3][s],u=e[t+4]&63,m=[64,69,96,64,70,96,80,87,120,80,88,120,96,104,144,96,105,144,112,121,168,112,122,168,128,139,192,128,140,192,160,174,240,160,175,240,192,208,288,192,209,288,224,243,336,224,244,336,256,278,384,256,279,384,320,348,480,320,349,480,384,417,576,384,418,576,448,487,672,448,488,672,512,557,768,512,558,768,640,696,960,640,697,960,768,835,1152,768,836,1152,896,975,1344,896,976,1344,1024,1114,1536,1024,1115,1536,1152,1253,1728,1152,1254,1728,1280,1393,1920,1280,1394,1920][u*3+s]*2;if(t+m>e.length)return-1;const y=e[t+6]>>5;let _=0;y===2?_+=2:(y&1&&y!==1&&(_+=2),y&4&&(_+=2));const T=(e[t+6]<<8|e[t+7])>>12-_&1,L=[2,1,2,3,3,4,4,5][y]+T,I=e[t+5]>>3,C=e[t+5]&7,b=new Uint8Array([s<<6|I<<1|C>>2,(C&3)<<6|y<<3|T<<2|u>>4,u<<4&224]),M=1536/l*9e4,U=r+i*M,B=e.subarray(t,t+m);return n.config=b,n.channelCount=L,n.samplerate=l,n.samples.push({unit:B,pts:U}),m}class nM{constructor(){this.VideoSample=null}createVideoSample(e,t,r,i){return{key:e,frame:!1,pts:t,dts:r,units:[],debug:i,length:0}}getLastNalUnit(e){var t;let r=this.VideoSample,i;if((!r||r.units.length===0)&&(r=e[e.length-1]),(t=r)!=null&&t.units){const s=r.units;i=s[s.length-1]}return i}pushAccessUnit(e,t){if(e.units.length&&e.frame){if(e.pts===void 0){const r=t.samples,i=r.length;if(i){const s=r[i-1];e.pts=s.pts,e.dts=s.dts}else{t.dropped++;return}}t.samples.push(e)}e.debug.length&&he.log(e.pts+"/"+e.dts+":"+e.debug)}}class GS{constructor(e){this.data=void 0,this.bytesAvailable=void 0,this.word=void 0,this.bitsAvailable=void 0,this.data=e,this.bytesAvailable=e.byteLength,this.word=0,this.bitsAvailable=0}loadWord(){const e=this.data,t=this.bytesAvailable,r=e.byteLength-t,i=new Uint8Array(4),s=Math.min(4,t);if(s===0)throw new Error("no bytes available");i.set(e.subarray(r,r+s)),this.word=new DataView(i.buffer).getUint32(0),this.bitsAvailable=s*8,this.bytesAvailable-=s}skipBits(e){let t;e=Math.min(e,this.bytesAvailable*8+this.bitsAvailable),this.bitsAvailable>e?(this.word<<=e,this.bitsAvailable-=e):(e-=this.bitsAvailable,t=e>>3,e-=t<<3,this.bytesAvailable-=t,this.loadWord(),this.word<<=e,this.bitsAvailable-=e)}readBits(e){let t=Math.min(this.bitsAvailable,e);const r=this.word>>>32-t;if(e>32&&he.error("Cannot read more than 32 bits at a time"),this.bitsAvailable-=t,this.bitsAvailable>0)this.word<<=t;else if(this.bytesAvailable>0)this.loadWord();else throw new Error("no bits available");return t=e-t,t>0&&this.bitsAvailable?r<<t|this.readBits(t):r}skipLZ(){let e;for(e=0;e<this.bitsAvailable;++e)if(this.word&2147483648>>>e)return this.word<<=e,this.bitsAvailable-=e,e;return this.loadWord(),e+this.skipLZ()}skipUEG(){this.skipBits(1+this.skipLZ())}skipEG(){this.skipBits(1+this.skipLZ())}readUEG(){const e=this.skipLZ();return this.readBits(e+1)-1}readEG(){const e=this.readUEG();return 1&e?1+e>>>1:-1*(e>>>1)}readBoolean(){return this.readBits(1)===1}readUByte(){return this.readBits(8)}readUShort(){return this.readBits(16)}readUInt(){return this.readBits(32)}skipScalingList(e){let t=8,r=8,i;for(let s=0;s<e;s++)r!==0&&(i=this.readEG(),r=(t+i+256)%256),t=r===0?t:r}readSPS(){let e=0,t=0,r=0,i=0,s,o,l;const u=this.readUByte.bind(this),h=this.readBits.bind(this),m=this.readUEG.bind(this),y=this.readBoolean.bind(this),_=this.skipBits.bind(this),T=this.skipEG.bind(this),w=this.skipUEG.bind(this),L=this.skipScalingList.bind(this);u();const I=u();if(h(5),_(3),u(),w(),I===100||I===110||I===122||I===244||I===44||I===83||I===86||I===118||I===128){const $=m();if($===3&&_(1),w(),w(),_(1),y())for(o=$!==3?8:12,l=0;l<o;l++)y()&&(l<6?L(16):L(64))}w();const C=m();if(C===0)m();else if(C===1)for(_(1),T(),T(),s=m(),l=0;l<s;l++)T();w(),_(1);const b=m(),M=m(),U=h(1);U===0&&_(1),_(1),y()&&(e=m(),t=m(),r=m(),i=m());let B=[1,1];if(y()&&y())switch(u()){case 1:B=[1,1];break;case 2:B=[12,11];break;case 3:B=[10,11];break;case 4:B=[16,11];break;case 5:B=[40,33];break;case 6:B=[24,11];break;case 7:B=[20,11];break;case 8:B=[32,11];break;case 9:B=[80,33];break;case 10:B=[18,11];break;case 11:B=[15,11];break;case 12:B=[64,33];break;case 13:B=[160,99];break;case 14:B=[4,3];break;case 15:B=[3,2];break;case 16:B=[2,1];break;case 255:{B=[u()<<8|u(),u()<<8|u()];break}}return{width:Math.ceil((b+1)*16-e*2-t*2),height:(2-U)*(M+1)*16-(U?2:4)*(r+i),pixelRatio:B}}readSliceType(){return this.readUByte(),this.readUEG(),this.readUEG()}}class rM extends nM{parseAVCPES(e,t,r,i,s){const o=this.parseAVCNALu(e,r.data);let l=this.VideoSample,u,h=!1;r.data=null,l&&o.length&&!e.audFound&&(this.pushAccessUnit(l,e),l=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"")),o.forEach(m=>{var y;switch(m.type){case 1:{let L=!1;u=!0;const I=m.data;if(h&&I.length>4){const C=new GS(I).readSliceType();(C===2||C===4||C===7||C===9)&&(L=!0)}if(L){var _;(_=l)!=null&&_.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null)}l||(l=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),l.frame=!0,l.key=L;break}case 5:u=!0,(y=l)!=null&&y.frame&&!l.key&&(this.pushAccessUnit(l,e),l=this.VideoSample=null),l||(l=this.VideoSample=this.createVideoSample(!0,r.pts,r.dts,"")),l.key=!0,l.frame=!0;break;case 6:{u=!0,HR(m.data,1,r.pts,t.samples);break}case 7:{var T,w;u=!0,h=!0;const L=m.data,C=new GS(L).readSPS();if(!e.sps||e.width!==C.width||e.height!==C.height||((T=e.pixelRatio)==null?void 0:T[0])!==C.pixelRatio[0]||((w=e.pixelRatio)==null?void 0:w[1])!==C.pixelRatio[1]){e.width=C.width,e.height=C.height,e.pixelRatio=C.pixelRatio,e.sps=[L],e.duration=s;const b=L.subarray(1,4);let M="avc1.";for(let U=0;U<3;U++){let B=b[U].toString(16);B.length<2&&(B="0"+B),M+=B}e.codec=M}break}case 8:u=!0,e.pps=[m.data];break;case 9:u=!0,e.audFound=!0,l&&this.pushAccessUnit(l,e),l=this.VideoSample=this.createVideoSample(!1,r.pts,r.dts,"");break;case 12:u=!0;break;default:u=!1,l&&(l.debug+="unknown NAL "+m.type+" ");break}l&&u&&l.units.push(m)}),i&&l&&(this.pushAccessUnit(l,e),this.VideoSample=null)}parseAVCNALu(e,t){const r=t.byteLength;let i=e.naluState||0;const s=i,o=[];let l=0,u,h,m,y=-1,_=0;for(i===-1&&(y=0,_=t[0]&31,i=0,l=1);l<r;){if(u=t[l++],!i){i=u?0:1;continue}if(i===1){i=u?0:2;continue}if(!u)i=3;else if(u===1){if(h=l-i-1,y>=0){const T={data:t.subarray(y,h),type:_};o.push(T)}else{const T=this.getLastNalUnit(e.samples);T&&(s&&l<=4-s&&T.state&&(T.data=T.data.subarray(0,T.data.byteLength-s)),h>0&&(T.data=Rs(T.data,t.subarray(0,h)),T.state=0))}l<r?(m=t[l]&31,y=l,_=m,i=0):i=-1}else i=0}if(y>=0&&i>=0){const T={data:t.subarray(y,r),type:_,state:i};o.push(T)}if(o.length===0){const T=this.getLastNalUnit(e.samples);T&&(T.data=Rs(T.data,t))}return e.naluState=i,o}}class iM{constructor(e,t,r){this.keyData=void 0,this.decrypter=void 0,this.keyData=r,this.decrypter=new Mx(t,{removePKCS7Padding:!1})}decryptBuffer(e){return this.decrypter.decrypt(e,this.keyData.key.buffer,this.keyData.iv.buffer)}decryptAacSample(e,t,r){const i=e[t].unit;if(i.length<=16)return;const s=i.subarray(16,i.length-i.length%16),o=s.buffer.slice(s.byteOffset,s.byteOffset+s.length);this.decryptBuffer(o).then(l=>{const u=new Uint8Array(l);i.set(u,16),this.decrypter.isSync()||this.decryptAacSamples(e,t+1,r)})}decryptAacSamples(e,t,r){for(;;t++){if(t>=e.length){r();return}if(!(e[t].unit.length<32)&&(this.decryptAacSample(e,t,r),!this.decrypter.isSync()))return}}getAvcEncryptedData(e){const t=Math.floor((e.length-48)/160)*16+16,r=new Int8Array(t);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)r.set(e.subarray(s,s+16),i);return r}getAvcDecryptedUnit(e,t){const r=new Uint8Array(t);let i=0;for(let s=32;s<e.length-16;s+=160,i+=16)e.set(r.subarray(i,i+16),s);return e}decryptAvcSample(e,t,r,i,s){const o=jR(s.data),l=this.getAvcEncryptedData(o);this.decryptBuffer(l.buffer).then(u=>{s.data=this.getAvcDecryptedUnit(o,u),this.decrypter.isSync()||this.decryptAvcSamples(e,t,r+1,i)})}decryptAvcSamples(e,t,r,i){if(e instanceof Uint8Array)throw new Error("Cannot decrypt samples of type Uint8Array");for(;;t++,r=0){if(t>=e.length){i();return}const s=e[t].units;for(;!(r>=s.length);r++){const o=s[r];if(!(o.data.length<=48||o.type!==1&&o.type!==5)&&(this.decryptAvcSample(e,t,r,i,o),!this.decrypter.isSync()))return}}}}const tr=188;class Wl{constructor(e,t,r){this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.sampleAes=null,this.pmtParsed=!1,this.audioCodec=void 0,this.videoCodec=void 0,this._duration=0,this._pmtId=-1,this._videoTrack=void 0,this._audioTrack=void 0,this._id3Track=void 0,this._txtTrack=void 0,this.aacOverFlow=null,this.remainderData=null,this.videoParser=void 0,this.observer=e,this.config=t,this.typeSupported=r,this.videoParser=new rM}static probe(e){const t=Wl.syncOffset(e);return t>0&&he.warn(`MPEG2-TS detected but first sync word found @ offset ${t}`),t!==-1}static syncOffset(e){const t=e.length;let r=Math.min(tr*5,t-tr)+1,i=0;for(;i<r;){let s=!1,o=-1,l=0;for(let u=i;u<t;u+=tr)if(e[u]===71&&(t-u===tr||e[u+tr]===71)){if(l++,o===-1&&(o=u,o!==0&&(r=Math.min(o+tr*99,e.length-tr)+1)),s||(s=w2(e,u)===0),s&&l>1&&(o===0&&l>2||u+tr>r))return o}else{if(l)return-1;break}i++}return-1}static createTrack(e,t){return{container:e==="video"||e==="audio"?"video/mp2t":void 0,type:e,id:BR[e],pid:-1,inputTimeScale:9e4,sequenceNumber:0,samples:[],dropped:0,duration:e==="audio"?t:void 0}}resetInitSegment(e,t,r,i){this.pmtParsed=!1,this._pmtId=-1,this._videoTrack=Wl.createTrack("video"),this._audioTrack=Wl.createTrack("audio",i),this._id3Track=Wl.createTrack("id3"),this._txtTrack=Wl.createTrack("text"),this._audioTrack.segmentCodec="aac",this.aacOverFlow=null,this.remainderData=null,this.audioCodec=t,this.videoCodec=r,this._duration=i}resetTimeStamp(){}resetContiguity(){const{_audioTrack:e,_videoTrack:t,_id3Track:r}=this;e&&(e.pesData=null),t&&(t.pesData=null),r&&(r.pesData=null),this.aacOverFlow=null,this.remainderData=null}demux(e,t,r=!1,i=!1){r||(this.sampleAes=null);let s;const o=this._videoTrack,l=this._audioTrack,u=this._id3Track,h=this._txtTrack;let m=o.pid,y=o.pesData,_=l.pid,T=u.pid,w=l.pesData,L=u.pesData,I=null,C=this.pmtParsed,b=this._pmtId,M=e.length;if(this.remainderData&&(e=Rs(this.remainderData,e),M=e.length,this.remainderData=null),M<tr&&!i)return this.remainderData=e,{audioTrack:l,videoTrack:o,id3Track:u,textTrack:h};const U=Math.max(0,Wl.syncOffset(e));M-=(M-U)%tr,M<e.byteLength&&!i&&(this.remainderData=new Uint8Array(e.buffer,M,e.buffer.byteLength-M));let B=0;for(let H=U;H<M;H+=tr)if(e[H]===71){const j=!!(e[H+1]&64),Y=w2(e,H),q=(e[H+3]&48)>>4;let X;if(q>1){if(X=H+5+e[H+4],X===H+tr)continue}else X=H+4;switch(Y){case m:j&&(y&&(s=gu(y))&&this.videoParser.parseAVCPES(o,h,s,!1,this._duration),y={data:[],size:0}),y&&(y.data.push(e.subarray(X,H+tr)),y.size+=H+tr-X);break;case _:if(j){if(w&&(s=gu(w)))switch(l.segmentCodec){case"aac":this.parseAACPES(l,s);break;case"mp3":this.parseMPEGPES(l,s);break;case"ac3":this.parseAC3PES(l,s);break}w={data:[],size:0}}w&&(w.data.push(e.subarray(X,H+tr)),w.size+=H+tr-X);break;case T:j&&(L&&(s=gu(L))&&this.parseID3PES(u,s),L={data:[],size:0}),L&&(L.data.push(e.subarray(X,H+tr)),L.size+=H+tr-X);break;case 0:j&&(X+=e[X]+1),b=this._pmtId=sM(e,X);break;case b:{j&&(X+=e[X]+1);const ge=oM(e,X,this.typeSupported,r,this.observer);m=ge.videoPid,m>0&&(o.pid=m,o.segmentCodec=ge.segmentVideoCodec),_=ge.audioPid,_>0&&(l.pid=_,l.segmentCodec=ge.segmentAudioCodec),T=ge.id3Pid,T>0&&(u.pid=T),I!==null&&!C&&(he.warn(`MPEG-TS PMT found at ${H} after unknown PID '${I}'. Backtracking to sync byte @${U} to parse all TS packets.`),I=null,H=U-188),C=this.pmtParsed=!0;break}case 17:case 8191:break;default:I=Y;break}}else B++;B>0&&Xg(this.observer,new Error(`Found ${B} TS packet/s that do not start with 0x47`)),o.pesData=y,l.pesData=w,u.pesData=L;const $={audioTrack:l,videoTrack:o,id3Track:u,textTrack:h};return i&&this.extractRemainingSamples($),$}flush(){const{remainderData:e}=this;this.remainderData=null;let t;return e?t=this.demux(e,-1,!1,!0):t={videoTrack:this._videoTrack,audioTrack:this._audioTrack,id3Track:this._id3Track,textTrack:this._txtTrack},this.extractRemainingSamples(t),this.sampleAes?this.decrypt(t,this.sampleAes):t}extractRemainingSamples(e){const{audioTrack:t,videoTrack:r,id3Track:i,textTrack:s}=e,o=r.pesData,l=t.pesData,u=i.pesData;let h;if(o&&(h=gu(o))?(this.videoParser.parseAVCPES(r,s,h,!0,this._duration),r.pesData=null):r.pesData=o,l&&(h=gu(l))){switch(t.segmentCodec){case"aac":this.parseAACPES(t,h);break;case"mp3":this.parseMPEGPES(t,h);break;case"ac3":this.parseAC3PES(t,h);break}t.pesData=null}else l!=null&&l.size&&he.log("last AAC PES packet truncated,might overlap between fragments"),t.pesData=l;u&&(h=gu(u))?(this.parseID3PES(i,h),i.pesData=null):i.pesData=u}demuxSampleAes(e,t,r){const i=this.demux(e,r,!0,!this.config.progressive),s=this.sampleAes=new iM(this.observer,this.config,t);return this.decrypt(i,s)}decrypt(e,t){return new Promise(r=>{const{audioTrack:i,videoTrack:s}=e;i.samples&&i.segmentCodec==="aac"?t.decryptAacSamples(i.samples,0,()=>{s.samples?t.decryptAvcSamples(s.samples,0,0,()=>{r(e)}):r(e)}):s.samples&&t.decryptAvcSamples(s.samples,0,0,()=>{r(e)})})}destroy(){this._duration=0}parseAACPES(e,t){let r=0;const i=this.aacOverFlow;let s=t.data;if(i){this.aacOverFlow=null;const y=i.missing,_=i.sample.unit.byteLength;if(y===-1)s=Rs(i.sample.unit,s);else{const T=_-y;i.sample.unit.set(s.subarray(0,y),T),e.samples.push(i.sample),r=i.missing}}let o,l;for(o=r,l=s.length;o<l-1&&!qg(s,o);o++);if(o!==r){let y;const _=o<l-1;if(_?y=`AAC PES did not start with ADTS header,offset:${o}`:y="No ADTS header found in AAC PES",Xg(this.observer,new Error(y),_),!_)return}l3(e,this.observer,s,o,this.audioCodec);let u;if(t.pts!==void 0)u=t.pts;else if(i){const y=a3(e.samplerate);u=i.sample.pts+y}else{he.warn("[tsdemuxer]: AAC PES unknown PTS");return}let h=0,m;for(;o<l;)if(m=A3(e,s,o,u,h),o+=m.length,m.missing){this.aacOverFlow=m;break}else for(h++;o<l-1&&!qg(s,o);o++);}parseMPEGPES(e,t){const r=t.data,i=r.length;let s=0,o=0;const l=t.pts;if(l===void 0){he.warn("[tsdemuxer]: MPEG PES unknown PTS");return}for(;o<i;)if(c3(r,o)){const u=u3(e,r,o,l,s);if(u)o+=u.length,s++;else break}else o++}parseAC3PES(e,t){{const r=t.data,i=t.pts;if(i===void 0){he.warn("[tsdemuxer]: AC3 PES unknown PTS");return}const s=r.length;let o=0,l=0,u;for(;l<s&&(u=g3(e,r,l,i,o++))>0;)l+=u}}parseID3PES(e,t){if(t.pts===void 0){he.warn("[tsdemuxer]: ID3 PES unknown PTS");return}const r=Gn({},t,{type:this._videoTrack?xs.emsg:xs.audioId3,duration:Number.POSITIVE_INFINITY});e.samples.push(r)}}function w2(n,e){return((n[e+1]&31)<<8)+n[e+2]}function sM(n,e){return(n[e+10]&31)<<8|n[e+11]}function oM(n,e,t,r,i){const s={audioPid:-1,videoPid:-1,id3Pid:-1,segmentVideoCodec:"avc",segmentAudioCodec:"aac"},o=(n[e+1]&15)<<8|n[e+2],l=e+3+o-4,u=(n[e+10]&15)<<8|n[e+11];for(e+=12+u;e<l;){const h=w2(n,e),m=(n[e+3]&15)<<8|n[e+4];switch(n[e]){case 207:if(!r){V1("ADTS AAC");break}case 15:s.audioPid===-1&&(s.audioPid=h);break;case 21:s.id3Pid===-1&&(s.id3Pid=h);break;case 219:if(!r){V1("H.264");break}case 27:s.videoPid===-1&&(s.videoPid=h,s.segmentVideoCodec="avc");break;case 3:case 4:!t.mpeg&&!t.mp3?he.log("MPEG audio found, not supported in this browser"):s.audioPid===-1&&(s.audioPid=h,s.segmentAudioCodec="mp3");break;case 193:if(!r){V1("AC-3");break}case 129:t.ac3?s.audioPid===-1&&(s.audioPid=h,s.segmentAudioCodec="ac3"):he.log("AC-3 audio found, not supported in this browser");break;case 6:if(s.audioPid===-1&&m>0){let y=e+5,_=m;for(;_>2;){switch(n[y]){case 106:t.ac3!==!0?he.log("AC-3 audio found, not supported in this browser for now"):(s.audioPid=h,s.segmentAudioCodec="ac3");break}const w=n[y+1]+2;y+=w,_-=w}}break;case 194:case 135:return Xg(i,new Error("Unsupported EC-3 in M2TS found")),s;case 36:return Xg(i,new Error("Unsupported HEVC in M2TS found")),s}e+=m+5}return s}function Xg(n,e,t){he.warn(`parsing error: ${e.message}`),n.emit(z.ERROR,z.ERROR,{type:st.MEDIA_ERROR,details:_e.FRAG_PARSING_ERROR,fatal:!1,levelRetry:t,error:e,reason:e.message})}function V1(n){he.log(`${n} with AES-128-CBC encryption found in unencrypted stream`)}function gu(n){let e=0,t,r,i,s,o;const l=n.data;if(!n||n.size===0)return null;for(;l[0].length<19&&l.length>1;)l[0]=Rs(l[0],l[1]),l.splice(1,1);if(t=l[0],(t[0]<<16)+(t[1]<<8)+t[2]===1){if(r=(t[4]<<8)+t[5],r&&r>n.size-6)return null;const h=t[7];h&192&&(s=(t[9]&14)*536870912+(t[10]&255)*4194304+(t[11]&254)*16384+(t[12]&255)*128+(t[13]&254)/2,h&64?(o=(t[14]&14)*536870912+(t[15]&255)*4194304+(t[16]&254)*16384+(t[17]&255)*128+(t[18]&254)/2,s-o>60*9e4&&(he.warn(`${Math.round((s-o)/9e4)}s delta between PTS and DTS, align them`),s=o)):o=s),i=t[8];let m=i+9;if(n.size<=m)return null;n.size-=m;const y=new Uint8Array(n.size);for(let _=0,T=l.length;_<T;_++){t=l[_];let w=t.byteLength;if(m)if(m>w){m-=w;continue}else t=t.subarray(m),w-=m,m=0;y.set(t,e),e+=w}return r&&(r-=i+3),{data:y,pts:s,dts:o,len:r}}return null}class lM extends Ox{resetInitSegment(e,t,r,i){super.resetInitSegment(e,t,r,i),this._audioTrack={container:"audio/mpeg",type:"audio",id:2,pid:-1,sequenceNumber:0,segmentCodec:"mp3",samples:[],manifestCodec:t,duration:i,inputTimeScale:9e4,dropped:0}}static probe(e){if(!e)return!1;const t=cc(e,0);let r=(t==null?void 0:t.length)||0;if(t&&e[r]===11&&e[r+1]===119&&bx(t)!==void 0&&d3(e,r)<=16)return!1;for(let i=e.length;r<i;r++)if(h3(e,r))return he.log("MPEG Audio sync word found !"),!0;return!1}canParse(e,t){return X5(e,t)}appendFrame(e,t,r){if(this.basePTS!==null)return u3(e,t,r,this.basePTS,this.frameIndex)}}class $S{static getSilentFrame(e,t){switch(e){case"mp4a.40.2":if(t===1)return new Uint8Array([0,200,0,128,35,128]);if(t===2)return new Uint8Array([33,0,73,144,2,25,0,35,128]);if(t===3)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,142]);if(t===4)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,128,44,128,8,2,56]);if(t===5)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,56]);if(t===6)return new Uint8Array([0,200,0,128,32,132,1,38,64,8,100,0,130,48,4,153,0,33,144,2,0,178,0,32,8,224]);break;default:if(t===1)return new Uint8Array([1,64,34,128,163,78,230,128,186,8,0,0,0,28,6,241,193,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===2)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);if(t===3)return new Uint8Array([1,64,34,128,163,94,230,128,186,8,0,0,0,0,149,0,6,241,161,10,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,90,94]);break}}}const jl=Math.pow(2,32)-1;class ye{static init(){ye.types={avc1:[],avcC:[],btrt:[],dinf:[],dref:[],esds:[],ftyp:[],hdlr:[],mdat:[],mdhd:[],mdia:[],mfhd:[],minf:[],moof:[],moov:[],mp4a:[],".mp3":[],dac3:[],"ac-3":[],mvex:[],mvhd:[],pasp:[],sdtp:[],stbl:[],stco:[],stsc:[],stsd:[],stsz:[],stts:[],tfdt:[],tfhd:[],traf:[],trak:[],trun:[],trex:[],tkhd:[],vmhd:[],smhd:[]};let e;for(e in ye.types)ye.types.hasOwnProperty(e)&&(ye.types[e]=[e.charCodeAt(0),e.charCodeAt(1),e.charCodeAt(2),e.charCodeAt(3)]);const t=new Uint8Array([0,0,0,0,0,0,0,0,118,105,100,101,0,0,0,0,0,0,0,0,0,0,0,0,86,105,100,101,111,72,97,110,100,108,101,114,0]),r=new Uint8Array([0,0,0,0,0,0,0,0,115,111,117,110,0,0,0,0,0,0,0,0,0,0,0,0,83,111,117,110,100,72,97,110,100,108,101,114,0]);ye.HDLR_TYPES={video:t,audio:r};const i=new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,12,117,114,108,32,0,0,0,1]),s=new Uint8Array([0,0,0,0,0,0,0,0]);ye.STTS=ye.STSC=ye.STCO=s,ye.STSZ=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0]),ye.VMHD=new Uint8Array([0,0,0,1,0,0,0,0,0,0,0,0]),ye.SMHD=new Uint8Array([0,0,0,0,0,0,0,0]),ye.STSD=new Uint8Array([0,0,0,0,0,0,0,1]);const o=new Uint8Array([105,115,111,109]),l=new Uint8Array([97,118,99,49]),u=new Uint8Array([0,0,0,1]);ye.FTYP=ye.box(ye.types.ftyp,o,u,o,l),ye.DINF=ye.box(ye.types.dinf,ye.box(ye.types.dref,i))}static box(e,...t){let r=8,i=t.length;const s=i;for(;i--;)r+=t[i].byteLength;const o=new Uint8Array(r);for(o[0]=r>>24&255,o[1]=r>>16&255,o[2]=r>>8&255,o[3]=r&255,o.set(e,4),i=0,r=8;i<s;i++)o.set(t[i],r),r+=t[i].byteLength;return o}static hdlr(e){return ye.box(ye.types.hdlr,ye.HDLR_TYPES[e])}static mdat(e){return ye.box(ye.types.mdat,e)}static mdhd(e,t){t*=e;const r=Math.floor(t/(jl+1)),i=Math.floor(t%(jl+1));return ye.box(ye.types.mdhd,new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,85,196,0,0]))}static mdia(e){return ye.box(ye.types.mdia,ye.mdhd(e.timescale,e.duration),ye.hdlr(e.type),ye.minf(e))}static mfhd(e){return ye.box(ye.types.mfhd,new Uint8Array([0,0,0,0,e>>24,e>>16&255,e>>8&255,e&255]))}static minf(e){return e.type==="audio"?ye.box(ye.types.minf,ye.box(ye.types.smhd,ye.SMHD),ye.DINF,ye.stbl(e)):ye.box(ye.types.minf,ye.box(ye.types.vmhd,ye.VMHD),ye.DINF,ye.stbl(e))}static moof(e,t,r){return ye.box(ye.types.moof,ye.mfhd(e),ye.traf(r,t))}static moov(e){let t=e.length;const r=[];for(;t--;)r[t]=ye.trak(e[t]);return ye.box.apply(null,[ye.types.moov,ye.mvhd(e[0].timescale,e[0].duration)].concat(r).concat(ye.mvex(e)))}static mvex(e){let t=e.length;const r=[];for(;t--;)r[t]=ye.trex(e[t]);return ye.box.apply(null,[ye.types.mvex,...r])}static mvhd(e,t){t*=e;const r=Math.floor(t/(jl+1)),i=Math.floor(t%(jl+1)),s=new Uint8Array([1,0,0,0,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,e>>24&255,e>>16&255,e>>8&255,e&255,r>>24,r>>16&255,r>>8&255,r&255,i>>24,i>>16&255,i>>8&255,i&255,0,1,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,255,255,255,255]);return ye.box(ye.types.mvhd,s)}static sdtp(e){const t=e.samples||[],r=new Uint8Array(4+t.length);let i,s;for(i=0;i<t.length;i++)s=t[i].flags,r[i+4]=s.dependsOn<<4|s.isDependedOn<<2|s.hasRedundancy;return ye.box(ye.types.sdtp,r)}static stbl(e){return ye.box(ye.types.stbl,ye.stsd(e),ye.box(ye.types.stts,ye.STTS),ye.box(ye.types.stsc,ye.STSC),ye.box(ye.types.stsz,ye.STSZ),ye.box(ye.types.stco,ye.STCO))}static avc1(e){let t=[],r=[],i,s,o;for(i=0;i<e.sps.length;i++)s=e.sps[i],o=s.byteLength,t.push(o>>>8&255),t.push(o&255),t=t.concat(Array.prototype.slice.call(s));for(i=0;i<e.pps.length;i++)s=e.pps[i],o=s.byteLength,r.push(o>>>8&255),r.push(o&255),r=r.concat(Array.prototype.slice.call(s));const l=ye.box(ye.types.avcC,new Uint8Array([1,t[3],t[4],t[5],255,224|e.sps.length].concat(t).concat([e.pps.length]).concat(r))),u=e.width,h=e.height,m=e.pixelRatio[0],y=e.pixelRatio[1];return ye.box(ye.types.avc1,new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,u>>8&255,u&255,h>>8&255,h&255,0,72,0,0,0,72,0,0,0,0,0,0,0,1,18,100,97,105,108,121,109,111,116,105,111,110,47,104,108,115,46,106,115,0,0,0,0,0,0,0,0,0,0,0,0,0,0,24,17,17]),l,ye.box(ye.types.btrt,new Uint8Array([0,28,156,128,0,45,198,192,0,45,198,192])),ye.box(ye.types.pasp,new Uint8Array([m>>24,m>>16&255,m>>8&255,m&255,y>>24,y>>16&255,y>>8&255,y&255])))}static esds(e){const t=e.config.length;return new Uint8Array([0,0,0,0,3,23+t,0,1,0,4,15+t,64,21,0,0,0,0,0,0,0,0,0,0,0,5].concat([t]).concat(e.config).concat([6,1,2]))}static audioStsd(e){const t=e.samplerate;return new Uint8Array([0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,e.channelCount,0,16,0,0,0,0,t>>8&255,t&255,0,0])}static mp4a(e){return ye.box(ye.types.mp4a,ye.audioStsd(e),ye.box(ye.types.esds,ye.esds(e)))}static mp3(e){return ye.box(ye.types[".mp3"],ye.audioStsd(e))}static ac3(e){return ye.box(ye.types["ac-3"],ye.audioStsd(e),ye.box(ye.types.dac3,e.config))}static stsd(e){return e.type==="audio"?e.segmentCodec==="mp3"&&e.codec==="mp3"?ye.box(ye.types.stsd,ye.STSD,ye.mp3(e)):e.segmentCodec==="ac3"?ye.box(ye.types.stsd,ye.STSD,ye.ac3(e)):ye.box(ye.types.stsd,ye.STSD,ye.mp4a(e)):ye.box(ye.types.stsd,ye.STSD,ye.avc1(e))}static tkhd(e){const t=e.id,r=e.duration*e.timescale,i=e.width,s=e.height,o=Math.floor(r/(jl+1)),l=Math.floor(r%(jl+1));return ye.box(ye.types.tkhd,new Uint8Array([1,0,0,7,0,0,0,0,0,0,0,2,0,0,0,0,0,0,0,3,t>>24&255,t>>16&255,t>>8&255,t&255,0,0,0,0,o>>24,o>>16&255,o>>8&255,o&255,l>>24,l>>16&255,l>>8&255,l&255,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,0,0,0,0,0,0,0,0,0,0,0,0,0,0,64,0,0,0,i>>8&255,i&255,0,0,s>>8&255,s&255,0,0]))}static traf(e,t){const r=ye.sdtp(e),i=e.id,s=Math.floor(t/(jl+1)),o=Math.floor(t%(jl+1));return ye.box(ye.types.traf,ye.box(ye.types.tfhd,new Uint8Array([0,0,0,0,i>>24,i>>16&255,i>>8&255,i&255])),ye.box(ye.types.tfdt,new Uint8Array([1,0,0,0,s>>24,s>>16&255,s>>8&255,s&255,o>>24,o>>16&255,o>>8&255,o&255])),ye.trun(e,r.length+16+20+8+16+8+8),r)}static trak(e){return e.duration=e.duration||4294967295,ye.box(ye.types.trak,ye.tkhd(e),ye.mdia(e))}static trex(e){const t=e.id;return ye.box(ye.types.trex,new Uint8Array([0,0,0,0,t>>24,t>>16&255,t>>8&255,t&255,0,0,0,1,0,0,0,0,0,0,0,0,0,1,0,1]))}static trun(e,t){const r=e.samples||[],i=r.length,s=12+16*i,o=new Uint8Array(s);let l,u,h,m,y,_;for(t+=8+s,o.set([e.type==="video"?1:0,0,15,1,i>>>24&255,i>>>16&255,i>>>8&255,i&255,t>>>24&255,t>>>16&255,t>>>8&255,t&255],0),l=0;l<i;l++)u=r[l],h=u.duration,m=u.size,y=u.flags,_=u.cts,o.set([h>>>24&255,h>>>16&255,h>>>8&255,h&255,m>>>24&255,m>>>16&255,m>>>8&255,m&255,y.isLeading<<2|y.dependsOn,y.isDependedOn<<6|y.hasRedundancy<<4|y.paddingValue<<1|y.isNonSync,y.degradPrio&61440,y.degradPrio&15,_>>>24&255,_>>>16&255,_>>>8&255,_&255],12+16*l);return ye.box(ye.types.trun,o)}static initSegment(e){ye.types||ye.init();const t=ye.moov(e);return Rs(ye.FTYP,t)}}ye.types=void 0;ye.HDLR_TYPES=void 0;ye.STTS=void 0;ye.STSC=void 0;ye.STCO=void 0;ye.STSZ=void 0;ye.VMHD=void 0;ye.SMHD=void 0;ye.STSD=void 0;ye.FTYP=void 0;ye.DINF=void 0;const p3=9e4;function Bx(n,e,t=1,r=!1){const i=n*e*t;return r?Math.round(i):i}function aM(n,e,t=1,r=!1){return Bx(n,e,1/t,r)}function uf(n,e=!1){return Bx(n,1e3,1/p3,e)}function AM(n,e=1){return Bx(n,p3,1/e)}const uM=10*1e3,zS=1024,fM=1152,cM=1536;let pu=null,Q1=null;class sg{constructor(e,t,r,i=""){if(this.observer=void 0,this.config=void 0,this.typeSupported=void 0,this.ISGenerated=!1,this._initPTS=null,this._initDTS=null,this.nextAvcDts=null,this.nextAudioPts=null,this.videoSampleDuration=null,this.isAudioContiguous=!1,this.isVideoContiguous=!1,this.videoTrackConfig=void 0,this.observer=e,this.config=t,this.typeSupported=r,this.ISGenerated=!1,pu===null){const o=(navigator.userAgent||"").match(/Chrome\/(\d+)/i);pu=o?parseInt(o[1]):0}if(Q1===null){const s=navigator.userAgent.match(/Safari\/(\d+)/i);Q1=s?parseInt(s[1]):0}}destroy(){this.config=this.videoTrackConfig=this._initPTS=this._initDTS=null}resetTimeStamp(e){he.log("[mp4-remuxer]: initPTS & initDTS reset"),this._initPTS=this._initDTS=e}resetNextTimestamp(){he.log("[mp4-remuxer]: reset next timestamp"),this.isVideoContiguous=!1,this.isAudioContiguous=!1}resetInitSegment(){he.log("[mp4-remuxer]: ISGenerated flag reset"),this.ISGenerated=!1,this.videoTrackConfig=void 0}getVideoStartPts(e){let t=!1;const r=e.reduce((i,s)=>{const o=s.pts-i;return o<-4294967296?(t=!0,ms(i,s.pts)):o>0?i:s.pts},e[0].pts);return t&&he.debug("PTS rollover detected"),r}remux(e,t,r,i,s,o,l,u){let h,m,y,_,T,w,L=s,I=s;const C=e.pid>-1,b=t.pid>-1,M=t.samples.length,U=e.samples.length>0,B=l&&M>0||M>1;if((!C||U)&&(!b||B)||this.ISGenerated||l){if(this.ISGenerated){var H,j,Y,q;const xe=this.videoTrackConfig;xe&&(t.width!==xe.width||t.height!==xe.height||((H=t.pixelRatio)==null?void 0:H[0])!==((j=xe.pixelRatio)==null?void 0:j[0])||((Y=t.pixelRatio)==null?void 0:Y[1])!==((q=xe.pixelRatio)==null?void 0:q[1]))&&this.resetInitSegment()}else y=this.generateIS(e,t,s,o);const X=this.isVideoContiguous;let ge=-1,ae;if(B&&(ge=hM(t.samples),!X&&this.config.forceKeyFrameOnDiscontinuity))if(w=!0,ge>0){he.warn(`[mp4-remuxer]: Dropped ${ge} out of ${M} video samples due to a missing keyframe`);const xe=this.getVideoStartPts(t.samples);t.samples=t.samples.slice(ge),t.dropped+=ge,I+=(t.samples[0].pts-xe)/t.inputTimeScale,ae=I}else ge===-1&&(he.warn(`[mp4-remuxer]: No keyframe found out of ${M} video samples`),w=!1);if(this.ISGenerated){if(U&&B){const xe=this.getVideoStartPts(t.samples),ce=(ms(e.samples[0].pts,xe)-xe)/t.inputTimeScale;L+=Math.max(0,ce),I+=Math.max(0,-ce)}if(U){if(e.samplerate||(he.warn("[mp4-remuxer]: regenerate InitSegment as audio detected"),y=this.generateIS(e,t,s,o)),m=this.remuxAudio(e,L,this.isAudioContiguous,o,b||B||u===et.AUDIO?I:void 0),B){const xe=m?m.endPTS-m.startPTS:0;t.inputTimeScale||(he.warn("[mp4-remuxer]: regenerate InitSegment as video detected"),y=this.generateIS(e,t,s,o)),h=this.remuxVideo(t,I,X,xe)}}else B&&(h=this.remuxVideo(t,I,X,0));h&&(h.firstKeyFrame=ge,h.independent=ge!==-1,h.firstKeyFramePTS=ae)}}return this.ISGenerated&&this._initPTS&&this._initDTS&&(r.samples.length&&(T=m3(r,s,this._initPTS,this._initDTS)),i.samples.length&&(_=y3(i,s,this._initPTS))),{audio:m,video:h,initSegment:y,independent:w,text:_,id3:T}}generateIS(e,t,r,i){const s=e.samples,o=t.samples,l=this.typeSupported,u={},h=this._initPTS;let m=!h||i,y="audio/mp4",_,T,w;if(m&&(_=T=1/0),e.config&&s.length){switch(e.timescale=e.samplerate,e.segmentCodec){case"mp3":l.mpeg?(y="audio/mpeg",e.codec=""):l.mp3&&(e.codec="mp3");break;case"ac3":e.codec="ac-3";break}u.audio={id:"audio",container:y,codec:e.codec,initSegment:e.segmentCodec==="mp3"&&l.mpeg?new Uint8Array(0):ye.initSegment([e]),metadata:{channelCount:e.channelCount}},m&&(w=e.inputTimeScale,!h||w!==h.timescale?_=T=s[0].pts-Math.round(w*r):m=!1)}if(t.sps&&t.pps&&o.length){if(t.timescale=t.inputTimeScale,u.video={id:"main",container:"video/mp4",codec:t.codec,initSegment:ye.initSegment([t]),metadata:{width:t.width,height:t.height}},m)if(w=t.inputTimeScale,!h||w!==h.timescale){const L=this.getVideoStartPts(o),I=Math.round(w*r);T=Math.min(T,ms(o[0].dts,L)-I),_=Math.min(_,L-I)}else m=!1;this.videoTrackConfig={width:t.width,height:t.height,pixelRatio:t.pixelRatio}}if(Object.keys(u).length)return this.ISGenerated=!0,m?(this._initPTS={baseTime:_,timescale:w},this._initDTS={baseTime:T,timescale:w}):_=w=void 0,{tracks:u,initPTS:_,timescale:w}}remuxVideo(e,t,r,i){const s=e.inputTimeScale,o=e.samples,l=[],u=o.length,h=this._initPTS;let m=this.nextAvcDts,y=8,_=this.videoSampleDuration,T,w,L=Number.POSITIVE_INFINITY,I=Number.NEGATIVE_INFINITY,C=!1;if(!r||m===null){const se=t*s,fe=o[0].pts-ms(o[0].dts,o[0].pts);pu&&m!==null&&Math.abs(se-fe-m)<15e3?r=!0:m=se-fe}const b=h.baseTime*s/h.timescale;for(let se=0;se<u;se++){const fe=o[se];fe.pts=ms(fe.pts-b,m),fe.dts=ms(fe.dts-b,m),fe.dts<o[se>0?se-1:se].dts&&(C=!0)}C&&o.sort(function(se,fe){const Ie=se.dts-fe.dts,Ce=se.pts-fe.pts;return Ie||Ce}),T=o[0].dts,w=o[o.length-1].dts;const M=w-T,U=M?Math.round(M/(u-1)):_||e.inputTimeScale/30;if(r){const se=T-m,fe=se>U,Ie=se<-1;if((fe||Ie)&&(fe?he.warn(`AVC: ${uf(se,!0)} ms (${se}dts) hole between fragments detected at ${t.toFixed(3)}`):he.warn(`AVC: ${uf(-se,!0)} ms (${se}dts) overlapping between fragments detected at ${t.toFixed(3)}`),!Ie||m>=o[0].pts||pu)){T=m;const Ce=o[0].pts-se;if(fe)o[0].dts=T,o[0].pts=Ce;else for(let We=0;We<o.length&&!(o[We].dts>Ce);We++)o[We].dts-=se,o[We].pts-=se;he.log(`Video: Initial PTS/DTS adjusted: ${uf(Ce,!0)}/${uf(T,!0)}, delta: ${uf(se,!0)} ms`)}}T=Math.max(0,T);let B=0,$=0,H=T;for(let se=0;se<u;se++){const fe=o[se],Ie=fe.units,Ce=Ie.length;let We=0;for(let Xe=0;Xe<Ce;Xe++)We+=Ie[Xe].data.length;$+=We,B+=Ce,fe.length=We,fe.dts<H?(fe.dts=H,H+=U/4|0||1):H=fe.dts,L=Math.min(fe.pts,L),I=Math.max(fe.pts,I)}w=o[u-1].dts;const j=$+4*B+8;let Y;try{Y=new Uint8Array(j)}catch(se){this.observer.emit(z.ERROR,z.ERROR,{type:st.MUX_ERROR,details:_e.REMUX_ALLOC_ERROR,fatal:!1,error:se,bytes:j,reason:`fail allocating video mdat ${j}`});return}const q=new DataView(Y.buffer);q.setUint32(0,j),Y.set(ye.types.mdat,4);let X=!1,ge=Number.POSITIVE_INFINITY,ae=Number.POSITIVE_INFINITY,xe=Number.NEGATIVE_INFINITY,ie=Number.NEGATIVE_INFINITY;for(let se=0;se<u;se++){const fe=o[se],Ie=fe.units;let Ce=0;for(let At=0,Tt=Ie.length;At<Tt;At++){const qt=Ie[At],Io=qt.data,Do=qt.data.byteLength;q.setUint32(y,Do),y+=4,Y.set(Io,y),y+=Do,Ce+=4+Do}let We;if(se<u-1)_=o[se+1].dts-fe.dts,We=o[se+1].pts-fe.pts;else{const At=this.config,Tt=se>0?fe.dts-o[se-1].dts:U;if(We=se>0?fe.pts-o[se-1].pts:U,At.stretchShortVideoTrack&&this.nextAudioPts!==null){const qt=Math.floor(At.maxBufferHole*s),Io=(i?L+i*s:this.nextAudioPts)-fe.pts;Io>qt?(_=Io-Tt,_<0?_=Tt:X=!0,he.log(`[mp4-remuxer]: It is approximately ${Io/90} ms to the next segment; using duration ${_/90} ms for the last video frame.`)):_=Tt}else _=Tt}const Xe=Math.round(fe.pts-fe.dts);ge=Math.min(ge,_),xe=Math.max(xe,_),ae=Math.min(ae,We),ie=Math.max(ie,We),l.push(new HS(fe.key,_,Ce,Xe))}if(l.length){if(pu){if(pu<70){const se=l[0].flags;se.dependsOn=2,se.isNonSync=0}}else if(Q1&&ie-ae<xe-ge&&U/xe<.025&&l[0].cts===0){he.warn("Found irregular gaps in sample duration. Using PTS instead of DTS to determine MP4 sample duration.");let se=T;for(let fe=0,Ie=l.length;fe<Ie;fe++){const Ce=se+l[fe].duration,We=se+l[fe].cts;if(fe<Ie-1){const Xe=Ce+l[fe+1].cts;l[fe].duration=Xe-We}else l[fe].duration=fe?l[fe-1].duration:U;l[fe].cts=0,se=Ce}}}_=X||!_?U:_,this.nextAvcDts=m=w+_,this.videoSampleDuration=_,this.isVideoContiguous=!0;const re={data1:ye.moof(e.sequenceNumber++,T,Gn({},e,{samples:l})),data2:Y,startPTS:L/s,endPTS:(I+_)/s,startDTS:T/s,endDTS:m/s,type:"video",hasAudio:!1,hasVideo:!0,nb:l.length,dropped:e.dropped};return e.samples=[],e.dropped=0,re}getSamplesPerFrame(e){switch(e.segmentCodec){case"mp3":return fM;case"ac3":return cM;default:return zS}}remuxAudio(e,t,r,i,s){const o=e.inputTimeScale,l=e.samplerate?e.samplerate:o,u=o/l,h=this.getSamplesPerFrame(e),m=h*u,y=this._initPTS,_=e.segmentCodec==="mp3"&&this.typeSupported.mpeg,T=[],w=s!==void 0;let L=e.samples,I=_?0:8,C=this.nextAudioPts||-1;const b=t*o,M=y.baseTime*o/y.timescale;if(this.isAudioContiguous=r=r||L.length&&C>0&&(i&&Math.abs(b-C)<9e3||Math.abs(ms(L[0].pts-M,b)-C)<20*m),L.forEach(function(ce){ce.pts=ms(ce.pts-M,b)}),!r||C<0){if(L=L.filter(ce=>ce.pts>=0),!L.length)return;s===0?C=0:i&&!w?C=Math.max(0,b):C=L[0].pts}if(e.segmentCodec==="aac"){const ce=this.config.maxAudioFramesDrift;for(let ke=0,re=C;ke<L.length;ke++){const se=L[ke],fe=se.pts,Ie=fe-re,Ce=Math.abs(1e3*Ie/o);if(Ie<=-ce*m&&w)ke===0&&(he.warn(`Audio frame @ ${(fe/o).toFixed(3)}s overlaps nextAudioPts by ${Math.round(1e3*Ie/o)} ms.`),this.nextAudioPts=C=re=fe);else if(Ie>=ce*m&&Ce<uM&&w){let We=Math.round(Ie/m);re=fe-We*m,re<0&&(We--,re+=m),ke===0&&(this.nextAudioPts=C=re),he.warn(`[mp4-remuxer]: Injecting ${We} audio frame @ ${(re/o).toFixed(3)}s due to ${Math.round(1e3*Ie/o)} ms gap.`);for(let Xe=0;Xe<We;Xe++){const At=Math.max(re,0);let Tt=$S.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);Tt||(he.log("[mp4-remuxer]: Unable to get silent frame for given audio codec; duplicating last frame instead."),Tt=se.unit.subarray()),L.splice(ke,0,{unit:Tt,pts:At}),re+=m,ke++}}se.pts=re,re+=m}}let U=null,B=null,$,H=0,j=L.length;for(;j--;)H+=L[j].unit.byteLength;for(let ce=0,ke=L.length;ce<ke;ce++){const re=L[ce],se=re.unit;let fe=re.pts;if(B!==null){const Ce=T[ce-1];Ce.duration=Math.round((fe-B)/u)}else if(r&&e.segmentCodec==="aac"&&(fe=C),U=fe,H>0){H+=I;try{$=new Uint8Array(H)}catch(Ce){this.observer.emit(z.ERROR,z.ERROR,{type:st.MUX_ERROR,details:_e.REMUX_ALLOC_ERROR,fatal:!1,error:Ce,bytes:H,reason:`fail allocating audio mdat ${H}`});return}_||(new DataView($.buffer).setUint32(0,H),$.set(ye.types.mdat,4))}else return;$.set(se,I);const Ie=se.byteLength;I+=Ie,T.push(new HS(!0,h,Ie,0)),B=fe}const Y=T.length;if(!Y)return;const q=T[T.length-1];this.nextAudioPts=C=B+u*q.duration;const X=_?new Uint8Array(0):ye.moof(e.sequenceNumber++,U/u,Gn({},e,{samples:T}));e.samples=[];const ge=U/o,ae=C/o,ie={data1:X,data2:$,startPTS:ge,endPTS:ae,startDTS:ge,endDTS:ae,type:"audio",hasAudio:!0,hasVideo:!1,nb:Y};return this.isAudioContiguous=!0,ie}remuxEmptyAudio(e,t,r,i){const s=e.inputTimeScale,o=e.samplerate?e.samplerate:s,l=s/o,u=this.nextAudioPts,h=this._initDTS,m=h.baseTime*9e4/h.timescale,y=(u!==null?u:i.startDTS*s)+m,_=i.endDTS*s+m,T=l*zS,w=Math.ceil((_-y)/T),L=$S.getSilentFrame(e.manifestCodec||e.codec,e.channelCount);if(he.warn("[mp4-remuxer]: remux empty Audio"),!L){he.trace("[mp4-remuxer]: Unable to remuxEmptyAudio since we were unable to get a silent frame for given audio codec");return}const I=[];for(let C=0;C<w;C++){const b=y+C*T;I.push({unit:L,pts:b,dts:b})}return e.samples=I,this.remuxAudio(e,t,r,!1)}}function ms(n,e){let t;if(e===null)return n;for(e<n?t=-8589934592:t=8589934592;Math.abs(n-e)>4294967296;)n+=t;return n}function hM(n){for(let e=0;e<n.length;e++)if(n[e].key)return e;return-1}function m3(n,e,t,r){const i=n.samples.length;if(!i)return;const s=n.inputTimeScale;for(let l=0;l<i;l++){const u=n.samples[l];u.pts=ms(u.pts-t.baseTime*s/t.timescale,e*s)/s,u.dts=ms(u.dts-r.baseTime*s/r.timescale,e*s)/s}const o=n.samples;return n.samples=[],{samples:o}}function y3(n,e,t){const r=n.samples.length;if(!r)return;const i=n.inputTimeScale;for(let o=0;o<r;o++){const l=n.samples[o];l.pts=ms(l.pts-t.baseTime*i/t.timescale,e*i)/i}n.samples.sort((o,l)=>o.pts-l.pts);const s=n.samples;return n.samples=[],{samples:s}}class HS{constructor(e,t,r,i){this.size=void 0,this.duration=void 0,this.cts=void 0,this.flags=void 0,this.duration=t,this.size=r,this.cts=i,this.flags={isLeading:0,isDependedOn:0,hasRedundancy:0,degradPrio:0,dependsOn:e?2:1,isNonSync:e?0:1}}}class dM{constructor(){this.emitInitSegment=!1,this.audioCodec=void 0,this.videoCodec=void 0,this.initData=void 0,this.initPTS=null,this.initTracks=void 0,this.lastEndTime=null}destroy(){}resetTimeStamp(e){this.initPTS=e,this.lastEndTime=null}resetNextTimestamp(){this.lastEndTime=null}resetInitSegment(e,t,r,i){this.audioCodec=t,this.videoCodec=r,this.generateInitSegment(E8(e,i)),this.emitInitSegment=!0}generateInitSegment(e){let{audioCodec:t,videoCodec:r}=this;if(!(e!=null&&e.byteLength)){this.initTracks=void 0,this.initData=void 0;return}const i=this.initData=$R(e);i.audio&&(t=jS(i.audio,Kt.AUDIO)),i.video&&(r=jS(i.video,Kt.VIDEO));const s={};i.audio&&i.video?s.audiovideo={container:"video/mp4",codec:t+","+r,initSegment:e,id:"main"}:i.audio?s.audio={container:"audio/mp4",codec:t,initSegment:e,id:"audio"}:i.video?s.video={container:"video/mp4",codec:r,initSegment:e,id:"main"}:he.warn("[passthrough-remuxer.ts]: initSegment does not contain moov or trak boxes."),this.initTracks=s}remux(e,t,r,i,s,o){var l,u;let{initPTS:h,lastEndTime:m}=this;const y={audio:void 0,video:void 0,text:i,id3:r,initSegment:void 0};He(m)||(m=this.lastEndTime=s||0);const _=t.samples;if(!(_!=null&&_.length))return y;const T={initPTS:void 0,timescale:1};let w=this.initData;if((l=w)!=null&&l.length||(this.generateInitSegment(_),w=this.initData),!((u=w)!=null&&u.length))return he.warn("[passthrough-remuxer.ts]: Failed to generate initSegment."),y;this.emitInitSegment&&(T.tracks=this.initTracks,this.emitInitSegment=!1);const L=T8(_,w),I=S8(w,_),C=I===null?s:I;(gM(h,C,s,L)||T.timescale!==h.timescale&&o)&&(T.initPTS=C-s,h&&h.timescale===1&&he.warn(`Adjusting initPTS by ${T.initPTS-h.baseTime}`),this.initPTS=h={baseTime:T.initPTS,timescale:1});const b=e?C-h.baseTime/h.timescale:m,M=b+L;k8(w,_,h.baseTime/h.timescale),L>0?this.lastEndTime=M:(he.warn("Duration parsed from mp4 should be greater than zero"),this.resetNextTimestamp());const U=!!w.audio,B=!!w.video;let $="";U&&($+="audio"),B&&($+="video");const H={data1:_,startPTS:b,startDTS:b,endPTS:M,endDTS:M,type:$,hasAudio:U,hasVideo:B,nb:1,dropped:0};return y.audio=H.type==="audio"?H:void 0,y.video=H.type!=="audio"?H:void 0,y.initSegment=T,y.id3=m3(r,s,h,h),i.samples.length&&(y.text=y3(i,s,h)),y}}function gM(n,e,t,r){if(n===null)return!0;const i=Math.max(r,1),s=e-n.baseTime/n.timescale;return Math.abs(s-t)>i}function jS(n,e){const t=n==null?void 0:n.codec;if(t&&t.length>4)return t;if(e===Kt.AUDIO){if(t==="ec-3"||t==="ac-3"||t==="alac")return t;if(t==="fLaC"||t==="Opus")return jg(t,!1);const r="mp4a.40.5";return he.info(`Parsed audio codec "${t}" or audio object type not handled. Using "${r}"`),r}return he.warn(`Unhandled video codec "${t}"`),t==="hvc1"||t==="hev1"?"hvc1.1.6.L120.90":t==="av01"?"av01.0.04M.08":"avc1.42e01e"}let Zo;try{Zo=self.performance.now.bind(self.performance)}catch{he.debug("Unable to use Performance API on this environment"),Zo=A0==null?void 0:A0.Date.now}const og=[{demux:eM,remux:dM},{demux:Wl,remux:sg},{demux:Z5,remux:sg},{demux:lM,remux:sg}];og.splice(2,0,{demux:tM,remux:sg});class VS{constructor(e,t,r,i,s){this.async=!1,this.observer=void 0,this.typeSupported=void 0,this.config=void 0,this.vendor=void 0,this.id=void 0,this.demuxer=void 0,this.remuxer=void 0,this.decrypter=void 0,this.probe=void 0,this.decryptionPromise=null,this.transmuxConfig=void 0,this.currentTransmuxState=void 0,this.observer=e,this.typeSupported=t,this.config=r,this.vendor=i,this.id=s}configure(e){this.transmuxConfig=e,this.decrypter&&this.decrypter.reset()}push(e,t,r,i){const s=r.transmuxing;s.executeStart=Zo();let o=new Uint8Array(e);const{currentTransmuxState:l,transmuxConfig:u}=this;i&&(this.currentTransmuxState=i);const{contiguous:h,discontinuity:m,trackSwitch:y,accurateTimeOffset:_,timeOffset:T,initSegmentChange:w}=i||l,{audioCodec:L,videoCodec:I,defaultInitPts:C,duration:b,initSegmentData:M}=u,U=pM(o,t);if(U&&U.method==="AES-128"){const j=this.getDecrypter();if(j.isSync()){let Y=j.softwareDecrypt(o,U.key.buffer,U.iv.buffer);if(r.part>-1&&(Y=j.flush()),!Y)return s.executeEnd=Zo(),K1(r);o=new Uint8Array(Y)}else return this.decryptionPromise=j.webCryptoDecrypt(o,U.key.buffer,U.iv.buffer).then(Y=>{const q=this.push(Y,null,r);return this.decryptionPromise=null,q}),this.decryptionPromise}const B=this.needsProbing(m,y);if(B){const j=this.configureTransmuxer(o);if(j)return he.warn(`[transmuxer] ${j.message}`),this.observer.emit(z.ERROR,z.ERROR,{type:st.MEDIA_ERROR,details:_e.FRAG_PARSING_ERROR,fatal:!1,error:j,reason:j.message}),s.executeEnd=Zo(),K1(r)}(m||y||w||B)&&this.resetInitSegment(M,L,I,b,t),(m||w||B)&&this.resetInitialTimestamp(C),h||this.resetContiguity();const $=this.transmux(o,U,T,_,r),H=this.currentTransmuxState;return H.contiguous=!0,H.discontinuity=!1,H.trackSwitch=!1,s.executeEnd=Zo(),$}flush(e){const t=e.transmuxing;t.executeStart=Zo();const{decrypter:r,currentTransmuxState:i,decryptionPromise:s}=this;if(s)return s.then(()=>this.flush(e));const o=[],{timeOffset:l}=i;if(r){const y=r.flush();y&&o.push(this.push(y,null,e))}const{demuxer:u,remuxer:h}=this;if(!u||!h)return t.executeEnd=Zo(),[K1(e)];const m=u.flush(l);return lg(m)?m.then(y=>(this.flushRemux(o,y,e),o)):(this.flushRemux(o,m,e),o)}flushRemux(e,t,r){const{audioTrack:i,videoTrack:s,id3Track:o,textTrack:l}=t,{accurateTimeOffset:u,timeOffset:h}=this.currentTransmuxState;he.log(`[transmuxer.ts]: Flushed fragment ${r.sn}${r.part>-1?" p: "+r.part:""} of level ${r.level}`);const m=this.remuxer.remux(i,s,o,l,h,u,!0,this.id);e.push({remuxResult:m,chunkMeta:r}),r.transmuxing.executeEnd=Zo()}resetInitialTimestamp(e){const{demuxer:t,remuxer:r}=this;!t||!r||(t.resetTimeStamp(e),r.resetTimeStamp(e))}resetContiguity(){const{demuxer:e,remuxer:t}=this;!e||!t||(e.resetContiguity(),t.resetNextTimestamp())}resetInitSegment(e,t,r,i,s){const{demuxer:o,remuxer:l}=this;!o||!l||(o.resetInitSegment(e,t,r,i),l.resetInitSegment(e,t,r,s))}destroy(){this.demuxer&&(this.demuxer.destroy(),this.demuxer=void 0),this.remuxer&&(this.remuxer.destroy(),this.remuxer=void 0)}transmux(e,t,r,i,s){let o;return t&&t.method==="SAMPLE-AES"?o=this.transmuxSampleAes(e,t,r,i,s):o=this.transmuxUnencrypted(e,r,i,s),o}transmuxUnencrypted(e,t,r,i){const{audioTrack:s,videoTrack:o,id3Track:l,textTrack:u}=this.demuxer.demux(e,t,!1,!this.config.progressive);return{remuxResult:this.remuxer.remux(s,o,l,u,t,r,!1,this.id),chunkMeta:i}}transmuxSampleAes(e,t,r,i,s){return this.demuxer.demuxSampleAes(e,t,r).then(o=>({remuxResult:this.remuxer.remux(o.audioTrack,o.videoTrack,o.id3Track,o.textTrack,r,i,!1,this.id),chunkMeta:s}))}configureTransmuxer(e){const{config:t,observer:r,typeSupported:i,vendor:s}=this;let o;for(let _=0,T=og.length;_<T;_++){var l;if((l=og[_].demux)!=null&&l.probe(e)){o=og[_];break}}if(!o)return new Error("Failed to find demuxer by probing fragment data");const u=this.demuxer,h=this.remuxer,m=o.remux,y=o.demux;(!h||!(h instanceof m))&&(this.remuxer=new m(r,t,i,s)),(!u||!(u instanceof y))&&(this.demuxer=new y(r,t,i),this.probe=y.probe)}needsProbing(e,t){return!this.demuxer||!this.remuxer||e||t}getDecrypter(){let e=this.decrypter;return e||(e=this.decrypter=new Mx(this.config)),e}}function pM(n,e){let t=null;return n.byteLength>0&&(e==null?void 0:e.key)!=null&&e.iv!==null&&e.method!=null&&(t=e),t}const K1=n=>({remuxResult:{},chunkMeta:n});function lg(n){return"then"in n&&n.then instanceof Function}class mM{constructor(e,t,r,i,s){this.audioCodec=void 0,this.videoCodec=void 0,this.initSegmentData=void 0,this.duration=void 0,this.defaultInitPts=void 0,this.audioCodec=e,this.videoCodec=t,this.initSegmentData=r,this.duration=i,this.defaultInitPts=s||null}}class yM{constructor(e,t,r,i,s,o){this.discontinuity=void 0,this.contiguous=void 0,this.accurateTimeOffset=void 0,this.trackSwitch=void 0,this.timeOffset=void 0,this.initSegmentChange=void 0,this.discontinuity=e,this.contiguous=t,this.accurateTimeOffset=r,this.trackSwitch=i,this.timeOffset=s,this.initSegmentChange=o}}var v3={exports:{}};(function(n){var e=Object.prototype.hasOwnProperty,t="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(t=!1));function i(u,h,m){this.fn=u,this.context=h,this.once=m||!1}function s(u,h,m,y,_){if(typeof m!="function")throw new TypeError("The listener must be a function");var T=new i(m,y||u,_),w=t?t+h:h;return u._events[w]?u._events[w].fn?u._events[w]=[u._events[w],T]:u._events[w].push(T):(u._events[w]=T,u._eventsCount++),u}function o(u,h){--u._eventsCount===0?u._events=new r:delete u._events[h]}function l(){this._events=new r,this._eventsCount=0}l.prototype.eventNames=function(){var h=[],m,y;if(this._eventsCount===0)return h;for(y in m=this._events)e.call(m,y)&&h.push(t?y.slice(1):y);return Object.getOwnPropertySymbols?h.concat(Object.getOwnPropertySymbols(m)):h},l.prototype.listeners=function(h){var m=t?t+h:h,y=this._events[m];if(!y)return[];if(y.fn)return[y.fn];for(var _=0,T=y.length,w=new Array(T);_<T;_++)w[_]=y[_].fn;return w},l.prototype.listenerCount=function(h){var m=t?t+h:h,y=this._events[m];return y?y.fn?1:y.length:0},l.prototype.emit=function(h,m,y,_,T,w){var L=t?t+h:h;if(!this._events[L])return!1;var I=this._events[L],C=arguments.length,b,M;if(I.fn){switch(I.once&&this.removeListener(h,I.fn,void 0,!0),C){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,m),!0;case 3:return I.fn.call(I.context,m,y),!0;case 4:return I.fn.call(I.context,m,y,_),!0;case 5:return I.fn.call(I.context,m,y,_,T),!0;case 6:return I.fn.call(I.context,m,y,_,T,w),!0}for(M=1,b=new Array(C-1);M<C;M++)b[M-1]=arguments[M];I.fn.apply(I.context,b)}else{var U=I.length,B;for(M=0;M<U;M++)switch(I[M].once&&this.removeListener(h,I[M].fn,void 0,!0),C){case 1:I[M].fn.call(I[M].context);break;case 2:I[M].fn.call(I[M].context,m);break;case 3:I[M].fn.call(I[M].context,m,y);break;case 4:I[M].fn.call(I[M].context,m,y,_);break;default:if(!b)for(B=1,b=new Array(C-1);B<C;B++)b[B-1]=arguments[B];I[M].fn.apply(I[M].context,b)}}return!0},l.prototype.on=function(h,m,y){return s(this,h,m,y,!1)},l.prototype.once=function(h,m,y){return s(this,h,m,y,!0)},l.prototype.removeListener=function(h,m,y,_){var T=t?t+h:h;if(!this._events[T])return this;if(!m)return o(this,T),this;var w=this._events[T];if(w.fn)w.fn===m&&(!_||w.once)&&(!y||w.context===y)&&o(this,T);else{for(var L=0,I=[],C=w.length;L<C;L++)(w[L].fn!==m||_&&!w[L].once||y&&w[L].context!==y)&&I.push(w[L]);I.length?this._events[T]=I.length===1?I[0]:I:o(this,T)}return this},l.prototype.removeAllListeners=function(h){var m;return h?(m=t?t+h:h,this._events[m]&&o(this,m)):(this._events=new r,this._eventsCount=0),this},l.prototype.off=l.prototype.removeListener,l.prototype.addListener=l.prototype.on,l.prefixed=t,l.EventEmitter=l,n.exports=l})(v3);var vM=v3.exports,Ux=QP(vM);class x3{constructor(e,t,r,i){this.error=null,this.hls=void 0,this.id=void 0,this.observer=void 0,this.frag=null,this.part=null,this.useWorker=void 0,this.workerContext=null,this.onwmsg=void 0,this.transmuxer=null,this.onTransmuxComplete=void 0,this.onFlush=void 0;const s=e.config;this.hls=e,this.id=t,this.useWorker=!!s.enableWorker,this.onTransmuxComplete=r,this.onFlush=i;const o=(h,m)=>{m=m||{},m.frag=this.frag,m.id=this.id,h===z.ERROR&&(this.error=m.error),this.hls.trigger(h,m)};this.observer=new Ux,this.observer.on(z.FRAG_DECRYPTED,o),this.observer.on(z.ERROR,o);const l=pa(s.preferManagedMediaSource)||{isTypeSupported:()=>!1},u={mpeg:l.isTypeSupported("audio/mpeg"),mp3:l.isTypeSupported('audio/mp4; codecs="mp3"'),ac3:l.isTypeSupported('audio/mp4; codecs="ac-3"')};if(this.useWorker&&typeof Worker<"u"&&(s.workerPath||B5())){try{s.workerPath?(he.log(`loading Web Worker ${s.workerPath} for "${t}"`),this.workerContext=G5(s.workerPath)):(he.log(`injecting Web Worker for "${t}"`),this.workerContext=U5()),this.onwmsg=y=>this.onWorkerMessage(y);const{worker:m}=this.workerContext;m.addEventListener("message",this.onwmsg),m.onerror=y=>{const _=new Error(`${y.message}  (${y.filename}:${y.lineno})`);s.enableWorker=!1,he.warn(`Error in "${t}" Web Worker, fallback to inline`),this.hls.trigger(z.ERROR,{type:st.OTHER_ERROR,details:_e.INTERNAL_EXCEPTION,fatal:!1,event:"demuxerWorker",error:_})},m.postMessage({cmd:"init",typeSupported:u,vendor:"",id:t,config:JSON.stringify(s)})}catch(m){he.warn(`Error setting up "${t}" Web Worker, fallback to inline`,m),this.resetWorker(),this.error=null,this.transmuxer=new VS(this.observer,u,s,"",t)}return}this.transmuxer=new VS(this.observer,u,s,"",t)}resetWorker(){if(this.workerContext){const{worker:e,objectURL:t}=this.workerContext;t&&self.URL.revokeObjectURL(t),e.removeEventListener("message",this.onwmsg),e.onerror=null,e.terminate(),this.workerContext=null}}destroy(){if(this.workerContext)this.resetWorker(),this.onwmsg=void 0;else{const t=this.transmuxer;t&&(t.destroy(),this.transmuxer=null)}const e=this.observer;e&&e.removeAllListeners(),this.frag=null,this.observer=null,this.hls=null}push(e,t,r,i,s,o,l,u,h,m){var y,_;h.transmuxing.start=self.performance.now();const{transmuxer:T}=this,w=o?o.start:s.start,L=s.decryptdata,I=this.frag,C=!(I&&s.cc===I.cc),b=!(I&&h.level===I.level),M=I?h.sn-I.sn:-1,U=this.part?h.part-this.part.index:-1,B=M===0&&h.id>1&&h.id===(I==null?void 0:I.stats.chunkCount),$=!b&&(M===1||M===0&&(U===1||B&&U<=0)),H=self.performance.now();(b||M||s.stats.parsing.start===0)&&(s.stats.parsing.start=H),o&&(U||!$)&&(o.stats.parsing.start=H);const j=!(I&&((y=s.initSegment)==null?void 0:y.url)===((_=I.initSegment)==null?void 0:_.url)),Y=new yM(C,$,u,b,w,j);if(!$||C||j){he.log(`[transmuxer-interface, ${s.type}]: Starting new transmux session for sn: ${h.sn} p: ${h.part} level: ${h.level} id: ${h.id}
        discontinuity: ${C}
        trackSwitch: ${b}
        contiguous: ${$}
        accurateTimeOffset: ${u}
        timeOffset: ${w}
        initSegmentChange: ${j}`);const q=new mM(r,i,t,l,m);this.configureTransmuxer(q)}if(this.frag=s,this.part=o,this.workerContext)this.workerContext.worker.postMessage({cmd:"demux",data:e,decryptdata:L,chunkMeta:h,state:Y},e instanceof ArrayBuffer?[e]:[]);else if(T){const q=T.push(e,L,h,Y);lg(q)?(T.async=!0,q.then(X=>{this.handleTransmuxComplete(X)}).catch(X=>{this.transmuxerError(X,h,"transmuxer-interface push error")})):(T.async=!1,this.handleTransmuxComplete(q))}}flush(e){e.transmuxing.start=self.performance.now();const{transmuxer:t}=this;if(this.workerContext)this.workerContext.worker.postMessage({cmd:"flush",chunkMeta:e});else if(t){let r=t.flush(e);lg(r)||t.async?(lg(r)||(r=Promise.resolve(r)),r.then(s=>{this.handleFlushResult(s,e)}).catch(s=>{this.transmuxerError(s,e,"transmuxer-interface flush error")})):this.handleFlushResult(r,e)}}transmuxerError(e,t,r){this.hls&&(this.error=e,this.hls.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.FRAG_PARSING_ERROR,chunkMeta:t,frag:this.frag||void 0,fatal:!1,error:e,err:e,reason:r}))}handleFlushResult(e,t){e.forEach(r=>{this.handleTransmuxComplete(r)}),this.onFlush(t)}onWorkerMessage(e){const t=e.data;if(!(t!=null&&t.event)){he.warn(`worker message received with no ${t?"event name":"data"}`);return}const r=this.hls;if(this.hls)switch(t.event){case"init":{var i;const s=(i=this.workerContext)==null?void 0:i.objectURL;s&&self.URL.revokeObjectURL(s);break}case"transmuxComplete":{this.handleTransmuxComplete(t.data);break}case"flush":{this.onFlush(t.data);break}case"workerLog":he[t.data.logType]&&he[t.data.logType](t.data.message);break;default:{t.data=t.data||{},t.data.frag=this.frag,t.data.id=this.id,r.trigger(t.event,t.data);break}}}configureTransmuxer(e){const{transmuxer:t}=this;this.workerContext?this.workerContext.worker.postMessage({cmd:"configure",config:e}):t&&t.configure(e)}handleTransmuxComplete(e){e.chunkMeta.transmuxing.end=self.performance.now(),this.onTransmuxComplete(e)}}function _3(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;t++)if(!f0(n[t].attrs,e[t].attrs))return!1;return!0}function f0(n,e,t){const r=n["STABLE-RENDITION-ID"];return r&&!t?r===e["STABLE-RENDITION-ID"]:!(t||["LANGUAGE","NAME","CHARACTERISTICS","AUTOSELECT","DEFAULT","FORCED","ASSOC-LANGUAGE"]).some(i=>n[i]!==e[i])}function k2(n,e){return e.label.toLowerCase()===n.name.toLowerCase()&&(!e.language||e.language.toLowerCase()===(n.lang||"").toLowerCase())}const QS=100;class E3 extends rm{constructor(e,t,r){super(e,t,r,"[audio-stream-controller]",et.AUDIO),this.videoBuffer=null,this.videoTrackCC=-1,this.waitingVideoCC=-1,this.bufferedTrack=null,this.switchingTrack=null,this.trackId=-1,this.waitingData=null,this.mainDetails=null,this.flushing=!1,this.bufferFlushed=!1,this.cachedTrackLoadedData=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null,this.bufferedTrack=null,this.switchingTrack=null}_registerListeners(){const{hls:e}=this;e.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.LEVEL_LOADED,this.onLevelLoaded,this),e.on(z.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.on(z.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(z.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(z.ERROR,this.onError,this),e.on(z.BUFFER_RESET,this.onBufferReset,this),e.on(z.BUFFER_CREATED,this.onBufferCreated,this),e.on(z.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(z.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(z.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(z.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.LEVEL_LOADED,this.onLevelLoaded,this),e.off(z.AUDIO_TRACKS_UPDATED,this.onAudioTracksUpdated,this),e.off(z.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(z.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(z.ERROR,this.onError,this),e.off(z.BUFFER_RESET,this.onBufferReset,this),e.off(z.BUFFER_CREATED,this.onBufferCreated,this),e.off(z.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(z.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(z.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(z.FRAG_BUFFERED,this.onFragBuffered,this)}onInitPtsFound(e,{frag:t,id:r,initPTS:i,timescale:s}){if(r==="main"){const o=t.cc;this.initPTS[t.cc]={baseTime:i,timescale:s},this.log(`InitPTS for cc: ${o} found from main: ${i}`),this.videoTrackCC=o,this.state===Le.WAITING_INIT_PTS&&this.tick()}}startLoad(e){if(!this.levels){this.startPosition=e,this.state=Le.STOPPED;return}const t=this.lastCurrentTime;this.stopLoad(),this.setInterval(QS),t>0&&e===-1?(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),e=t,this.state=Le.IDLE):(this.loadedmetadata=!1,this.state=Le.WAITING_TRACK),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}doTick(){switch(this.state){case Le.IDLE:this.doTickIdle();break;case Le.WAITING_TRACK:{var e;const{levels:r,trackId:i}=this,s=r==null||(e=r[i])==null?void 0:e.details;if(s){if(this.waitForCdnTuneIn(s))break;this.state=Le.WAITING_INIT_PTS}break}case Le.FRAG_LOADING_WAITING_RETRY:{var t;const r=performance.now(),i=this.retryDate;if(!i||r>=i||(t=this.media)!=null&&t.seeking){const{levels:s,trackId:o}=this;this.log("RetryDate reached, switch back to IDLE state"),this.resetStartWhenNotLoaded((s==null?void 0:s[o])||null),this.state=Le.IDLE}break}case Le.WAITING_INIT_PTS:{const r=this.waitingData;if(r){const{frag:i,part:s,cache:o,complete:l}=r;if(this.initPTS[i.cc]!==void 0){this.waitingData=null,this.waitingVideoCC=-1,this.state=Le.FRAG_LOADING;const u=o.flush(),h={frag:i,part:s,payload:u,networkDetails:null};this._handleFragmentLoadProgress(h),l&&super._handleFragmentLoadComplete(h)}else if(this.videoTrackCC!==this.waitingVideoCC)this.log(`Waiting fragment cc (${i.cc}) cancelled because video is at cc ${this.videoTrackCC}`),this.clearWaitingFragment();else{const u=this.getLoadPosition(),h=nn.bufferInfo(this.mediaBuffer,u,this.config.maxBufferHole);T2(h.end,this.config.maxFragLookUpTolerance,i)<0&&(this.log(`Waiting fragment cc (${i.cc}) @ ${i.start} cancelled because another fragment at ${h.end} is needed`),this.clearWaitingFragment())}}else this.state=Le.IDLE}}this.onTickEnd()}clearWaitingFragment(){const e=this.waitingData;e&&(this.fragmentTracker.removeFragment(e.frag),this.waitingData=null,this.waitingVideoCC=-1,this.state=Le.IDLE)}resetLoadingState(){this.clearWaitingFragment(),super.resetLoadingState()}onTickEnd(){const{media:e}=this;e!=null&&e.readyState&&(this.lastCurrentTime=e.currentTime)}doTickIdle(){const{hls:e,levels:t,media:r,trackId:i}=this,s=e.config;if(!r&&(this.startFragRequested||!s.startFragPrefetch)||!(t!=null&&t[i]))return;const o=t[i],l=o.details;if(!l||l.live&&this.levelLastLoaded!==o||this.waitForCdnTuneIn(l)){this.state=Le.WAITING_TRACK;return}const u=this.mediaBuffer?this.mediaBuffer:this.media;this.bufferFlushed&&u&&(this.bufferFlushed=!1,this.afterBufferFlushed(u,Kt.AUDIO,et.AUDIO));const h=this.getFwdBufferInfo(u,et.AUDIO);if(h===null)return;const{bufferedTrack:m,switchingTrack:y}=this;if(!y&&this._streamEnded(h,l)){e.trigger(z.BUFFER_EOS,{type:"audio"}),this.state=Le.ENDED;return}const _=this.getFwdBufferInfo(this.videoBuffer?this.videoBuffer:this.media,et.MAIN),T=h.len,w=this.getMaxBufferLength(_==null?void 0:_.len),L=l.fragments,I=L[0].start;let C=this.flushing?this.getLoadPosition():h.end;if(y&&r){const B=this.getLoadPosition();m&&!f0(y.attrs,m.attrs)&&(C=B),l.PTSKnown&&B<I&&(h.end>I||h.nextStart)&&(this.log("Alt audio track ahead of main track, seek to start of alt audio track"),r.currentTime=I+.05)}if(T>=w&&!y&&C<L[L.length-1].start)return;let b=this.getNextFragment(C,l),M=!1;if(b&&this.isLoopLoading(b,C)&&(M=!!b.gap,b=this.getNextFragmentLoopLoading(b,l,h,et.MAIN,w)),!b){this.bufferFlushed=!0;return}const U=_&&b.start>_.end+l.targetduration;if(U||!(_!=null&&_.len)&&h.len){const B=this.getAppendedFrag(b.start,et.MAIN);if(B===null||(M||(M=!!B.gap||!!U&&_.len===0),U&&!M||M&&h.nextStart&&h.nextStart<B.end))return}this.loadFragment(b,o,C)}getMaxBufferLength(e){const t=super.getMaxBufferLength();return e?Math.min(Math.max(t,e),this.config.maxMaxBufferLength):t}onMediaDetaching(){this.videoBuffer=null,this.bufferFlushed=this.flushing=!1,super.onMediaDetaching()}onAudioTracksUpdated(e,{audioTracks:t}){this.resetTransmuxer(),this.levels=t.map(r=>new wA(r))}onAudioTrackSwitching(e,t){const r=!!t.url;this.trackId=t.id;const{fragCurrent:i}=this;i&&(i.abortRequests(),this.removeUnbufferedFrags(i.start)),this.resetLoadingState(),r?this.setInterval(QS):this.resetTransmuxer(),r?(this.switchingTrack=t,this.state=Le.IDLE,this.flushAudioIfNeeded(t)):(this.switchingTrack=null,this.bufferedTrack=t,this.state=Le.STOPPED),this.tick()}onManifestLoading(){this.fragmentTracker.removeAllFragments(),this.startPosition=this.lastCurrentTime=0,this.bufferFlushed=this.flushing=!1,this.levels=this.mainDetails=this.waitingData=this.bufferedTrack=this.cachedTrackLoadedData=this.switchingTrack=null,this.startFragRequested=!1,this.trackId=this.videoTrackCC=this.waitingVideoCC=-1}onLevelLoaded(e,t){this.mainDetails=t.details,this.cachedTrackLoadedData!==null&&(this.hls.trigger(z.AUDIO_TRACK_LOADED,this.cachedTrackLoadedData),this.cachedTrackLoadedData=null)}onAudioTrackLoaded(e,t){var r;if(this.mainDetails==null){this.cachedTrackLoadedData=t;return}const{levels:i}=this,{details:s,id:o}=t;if(!i){this.warn(`Audio tracks were reset while loading level ${o}`);return}this.log(`Audio track ${o} loaded [${s.startSN},${s.endSN}]${s.lastPartSn?`[part-${s.lastPartSn}-${s.lastPartIndex}]`:""},duration:${s.totalduration}`);const l=i[o];let u=0;if(s.live||(r=l.details)!=null&&r.live){this.checkLiveUpdate(s);const m=this.mainDetails;if(s.deltaUpdateFailed||!m)return;if(!l.details&&s.hasProgramDateTime&&m.hasProgramDateTime)Yg(s,m),u=s.fragments[0].start;else{var h;u=this.alignPlaylists(s,l.details,(h=this.levelLastLoaded)==null?void 0:h.details)}}l.details=s,this.levelLastLoaded=l,!this.startFragRequested&&(this.mainDetails||!s.live)&&this.setStartPosition(this.mainDetails||s,u),this.state===Le.WAITING_TRACK&&!this.waitForCdnTuneIn(s)&&(this.state=Le.IDLE),this.tick()}_handleFragmentLoadProgress(e){var t;const{frag:r,part:i,payload:s}=e,{config:o,trackId:l,levels:u}=this;if(!u){this.warn(`Audio tracks were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const h=u[l];if(!h){this.warn("Audio track is undefined on fragment load progress");return}const m=h.details;if(!m){this.warn("Audio track details undefined on fragment load progress"),this.removeUnbufferedFrags(r.start);return}const y=o.defaultAudioCodec||h.audioCodec||"mp4a.40.2";let _=this.transmuxer;_||(_=this.transmuxer=new x3(this.hls,et.AUDIO,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)));const T=this.initPTS[r.cc],w=(t=r.initSegment)==null?void 0:t.data;if(T!==void 0){const I=i?i.index:-1,C=I!==-1,b=new nm(r.level,r.sn,r.stats.chunkCount,s.byteLength,I,C);_.push(s,w,y,"",r,i,m.totalduration,!1,b,T)}else{this.log(`Unknown video PTS for cc ${r.cc}, waiting for video PTS before demuxing audio frag ${r.sn} of [${m.startSN} ,${m.endSN}],track ${l}`);const{cache:L}=this.waitingData=this.waitingData||{frag:r,part:i,cache:new i3,complete:!1};L.push(new Uint8Array(s)),this.waitingVideoCC=this.videoTrackCC,this.state=Le.WAITING_INIT_PTS}}_handleFragmentLoadComplete(e){if(this.waitingData){this.waitingData.complete=!0;return}super._handleFragmentLoadComplete(e)}onBufferReset(){this.mediaBuffer=this.videoBuffer=null,this.loadedmetadata=!1}onBufferCreated(e,t){const r=t.tracks.audio;r&&(this.mediaBuffer=r.buffer||null),t.tracks.video&&(this.videoBuffer=t.tracks.video.buffer||null)}onFragBuffered(e,t){const{frag:r,part:i}=t;if(r.type!==et.AUDIO){if(!this.loadedmetadata&&r.type===et.MAIN){const s=this.videoBuffer||this.media;s&&nn.getBuffered(s).length&&(this.loadedmetadata=!0)}return}if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}, audioSwitch: ${this.switchingTrack?this.switchingTrack.name:"false"}`);return}if(r.sn!=="initSegment"){this.fragPrevious=r;const s=this.switchingTrack;s&&(this.bufferedTrack=s,this.switchingTrack=null,this.hls.trigger(z.AUDIO_TRACK_SWITCHED,lr({},s)))}this.fragBufferedComplete(r,i)}onError(e,t){var r;if(t.fatal){this.state=Le.ERROR;return}switch(t.details){case _e.FRAG_GAP:case _e.FRAG_PARSING_ERROR:case _e.FRAG_DECRYPT_ERROR:case _e.FRAG_LOAD_ERROR:case _e.FRAG_LOAD_TIMEOUT:case _e.KEY_LOAD_ERROR:case _e.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(et.AUDIO,t);break;case _e.AUDIO_TRACK_LOAD_ERROR:case _e.AUDIO_TRACK_LOAD_TIMEOUT:case _e.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===Le.WAITING_TRACK&&((r=t.context)==null?void 0:r.type)===Ft.AUDIO_TRACK&&(this.state=Le.IDLE);break;case _e.BUFFER_APPEND_ERROR:case _e.BUFFER_FULL_ERROR:if(!t.parent||t.parent!=="audio")return;if(t.details===_e.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(t)&&(this.bufferedTrack=null,super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"));break;case _e.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}onBufferFlushing(e,{type:t}){t!==Kt.VIDEO&&(this.flushing=!0)}onBufferFlushed(e,{type:t}){if(t!==Kt.VIDEO){this.flushing=!1,this.bufferFlushed=!0,this.state===Le.ENDED&&(this.state=Le.IDLE);const r=this.mediaBuffer||this.media;r&&(this.afterBufferFlushed(r,t,et.AUDIO),this.tick())}}_handleTransmuxComplete(e){var t;const r="audio",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,l=this.getCurrentContext(o);if(!l){this.resetWhenMissingContext(o);return}const{frag:u,part:h,level:m}=l,{details:y}=m,{audio:_,text:T,id3:w,initSegment:L}=s;if(this.fragContextChanged(u)||!y){this.fragmentTracker.removeFragment(u);return}if(this.state=Le.PARSING,this.switchingTrack&&_&&this.completeAudioSwitch(this.switchingTrack),L!=null&&L.tracks){const I=u.initSegment||u;this._bufferInitSegment(m,L.tracks,I,o),i.trigger(z.FRAG_PARSING_INIT_SEGMENT,{frag:I,id:r,tracks:L.tracks})}if(_){const{startPTS:I,endPTS:C,startDTS:b,endDTS:M}=_;h&&(h.elementaryStreams[Kt.AUDIO]={startPTS:I,endPTS:C,startDTS:b,endDTS:M}),u.setElementaryStreamInfo(Kt.AUDIO,I,C,b,M),this.bufferFragmentData(_,u,h,o)}if(w!=null&&(t=w.samples)!=null&&t.length){const I=Gn({id:r,frag:u,details:y},w);i.trigger(z.FRAG_PARSING_METADATA,I)}if(T){const I=Gn({id:r,frag:u,details:y},T);i.trigger(z.FRAG_PARSING_USERDATA,I)}}_bufferInitSegment(e,t,r,i){if(this.state!==Le.PARSING)return;t.video&&delete t.video;const s=t.audio;if(!s)return;s.id="audio";const o=e.audioCodec;this.log(`Init audio buffer, container:${s.container}, codecs[level/parsed]=[${o}/${s.codec}]`),o&&o.split(",").length===1&&(s.levelCodec=o),this.hls.trigger(z.BUFFER_CODECS,t);const l=s.initSegment;if(l!=null&&l.byteLength){const u={type:"audio",frag:r,part:null,chunkMeta:i,parent:r.type,data:l};this.hls.trigger(z.BUFFER_APPENDING,u)}this.tickImmediate()}loadFragment(e,t,r){const i=this.fragmentTracker.getState(e);if(this.fragCurrent=e,this.switchingTrack||i===rr.NOT_LOADED||i===rr.PARTIAL){var s;if(e.sn==="initSegment")this._loadInitSegment(e,t);else if((s=t.details)!=null&&s.live&&!this.initPTS[e.cc]){this.log(`Waiting for video PTS in continuity counter ${e.cc} of live stream before loading audio fragment ${e.sn} of level ${this.trackId}`),this.state=Le.WAITING_INIT_PTS;const o=this.mainDetails;o&&o.fragments[0].start!==t.details.fragments[0].start&&Yg(t.details,o)}else this.startFragRequested=!0,super.loadFragment(e,t,r)}else this.clearTrackerIfNeeded(e)}flushAudioIfNeeded(e){const{media:t,bufferedTrack:r}=this,i=r==null?void 0:r.attrs,s=e.attrs;t&&i&&(i.CHANNELS!==s.CHANNELS||r.name!==e.name||r.lang!==e.lang)&&(this.log("Switching audio track : flushing all audio"),super.flushMainBuffer(0,Number.POSITIVE_INFINITY,"audio"),this.bufferedTrack=null)}completeAudioSwitch(e){const{hls:t}=this;this.flushAudioIfNeeded(e),this.bufferedTrack=e,this.switchingTrack=null,t.trigger(z.AUDIO_TRACK_SWITCHED,lr({},e))}}class S3 extends tm{constructor(e){super(e,"[audio-track-controller]"),this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.registerListeners()}registerListeners(){const{hls:e}=this;e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.MANIFEST_PARSED,this.onManifestParsed,this),e.on(z.LEVEL_LOADING,this.onLevelLoading,this),e.on(z.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(z.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.on(z.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.MANIFEST_PARSED,this.onManifestParsed,this),e.off(z.LEVEL_LOADING,this.onLevelLoading,this),e.off(z.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(z.AUDIO_TRACK_LOADED,this.onAudioTrackLoaded,this),e.off(z.ERROR,this.onError,this)}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,super.destroy()}onManifestLoading(){this.tracks=[],this.tracksInGroup=[],this.groupIds=null,this.currentTrack=null,this.trackId=-1,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.audioTracks||[]}onAudioTrackLoaded(e,t){const{id:r,groupId:i,details:s}=t,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Audio track with id:${r} and group:${i} not found in active group ${o==null?void 0:o.groupId}`);return}const l=o.details;o.details=t.details,this.log(`Audio track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,t,l)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const r=t.audioGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(l=>(i==null?void 0:i.indexOf(l))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const l=this.tracks.filter(_=>!r||r.indexOf(_.groupId)!==-1);if(l.length)this.selectDefaultTrack&&!l.some(_=>_.default)&&(this.selectDefaultTrack=!1),l.forEach((_,T)=>{_.id=T});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=l;const u=this.hls.config.audioPreference;if(!s&&u){const _=yo(u,l,hu);if(_>-1)s=l[_];else{const T=yo(u,this.tracks);s=this.tracks[T]}}let h=this.findTrackId(s);h===-1&&s&&(h=this.findTrackId(null));const m={audioTracks:l};this.log(`Updating audio tracks, ${l.length} track(s) found in group(s): ${r==null?void 0:r.join(",")}`),this.hls.trigger(z.AUDIO_TRACKS_UPDATED,m);const y=this.trackId;if(h!==-1&&y===-1)this.setAudioTrack(h);else if(l.length&&y===-1){var o;const _=new Error(`No audio track selected for current audio group-ID(s): ${(o=this.groupIds)==null?void 0:o.join(",")} track count: ${l.length}`);this.warn(_.message),this.hls.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.AUDIO_TRACK_LOAD_ERROR,fatal:!0,error:_})}}else this.shouldReloadPlaylist(s)&&this.setAudioTrack(this.trackId)}onError(e,t){t.fatal||!t.context||t.context.type===Ft.AUDIO_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&(this.requestScheduled=-1,this.checkRetry(t))}get allAudioTracks(){return this.tracks}get audioTracks(){return this.tracksInGroup}get audioTrack(){return this.trackId}set audioTrack(e){this.selectDefaultTrack=!1,this.setAudioTrack(e)}setAudioOption(e){const t=this.hls;if(t.config.audioPreference=e,e){const r=this.allAudioTracks;if(this.selectDefaultTrack=!1,r.length){const i=this.currentTrack;if(i&&Wu(e,i,hu))return i;const s=yo(e,this.tracksInGroup,hu);if(s>-1){const o=this.tracksInGroup[s];return this.setAudioTrack(s),o}else if(i){let o=t.loadLevel;o===-1&&(o=t.firstAutoLevel);const l=E5(e,t.levels,r,o,hu);if(l===-1)return null;t.nextLoadLevel=l}if(e.channels||e.audioCodec){const o=yo(e,r);if(o>-1)return r[o]}}}return null}setAudioTrack(e){const t=this.tracksInGroup;if(e<0||e>=t.length){this.warn(`Invalid audio track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,i=t[e],s=i.details&&!i.details.live;if(e===this.trackId&&i===r&&s||(this.log(`Switching to audio-track ${e} "${i.name}" lang:${i.lang} group:${i.groupId} channels:${i.channels}`),this.trackId=e,this.currentTrack=i,this.hls.trigger(z.AUDIO_TRACK_SWITCHING,lr({},i)),s))return;const o=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(o)}findTrackId(e){const t=this.tracksInGroup;for(let r=0;r<t.length;r++){const i=t[r];if(!(this.selectDefaultTrack&&!i.default)&&(!e||Wu(e,i,hu)))return r}if(e){const{name:r,lang:i,assocLang:s,characteristics:o,audioCodec:l,channels:u}=e;for(let h=0;h<t.length;h++){const m=t[h];if(Wu({name:r,lang:i,assocLang:s,characteristics:o,audioCodec:l,channels:u},m,hu))return h}for(let h=0;h<t.length;h++){const m=t[h];if(f0(e.attrs,m.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return h}for(let h=0;h<t.length;h++){const m=t[h];if(f0(e.attrs,m.attrs,["LANGUAGE"]))return h}}return-1}loadPlaylist(e){const t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){super.loadPlaylist();const r=t.id,i=t.groupId;let s=t.url;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`loading audio-track playlist ${r} "${t.name}" lang:${t.lang} group:${i}`),this.clearTimer(),this.hls.trigger(z.AUDIO_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}}const KS=500;class T3 extends rm{constructor(e,t,r){super(e,t,r,"[subtitle-stream-controller]",et.SUBTITLE),this.currentTrackId=-1,this.tracksBuffered=[],this.mainDetails=null,this._registerListeners()}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying(),this.mainDetails=null}_registerListeners(){const{hls:e}=this;e.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.LEVEL_LOADED,this.onLevelLoaded,this),e.on(z.ERROR,this.onError,this),e.on(z.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(z.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.on(z.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(z.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.on(z.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(z.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.LEVEL_LOADED,this.onLevelLoaded,this),e.off(z.ERROR,this.onError,this),e.off(z.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(z.SUBTITLE_TRACK_SWITCH,this.onSubtitleTrackSwitch,this),e.off(z.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(z.SUBTITLE_FRAG_PROCESSED,this.onSubtitleFragProcessed,this),e.off(z.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(z.FRAG_BUFFERED,this.onFragBuffered,this)}startLoad(e){this.stopLoad(),this.state=Le.IDLE,this.setInterval(KS),this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}onManifestLoading(){this.mainDetails=null,this.fragmentTracker.removeAllFragments()}onMediaDetaching(){this.tracksBuffered=[],super.onMediaDetaching()}onLevelLoaded(e,t){this.mainDetails=t.details}onSubtitleFragProcessed(e,t){const{frag:r,success:i}=t;if(this.fragPrevious=r,this.state=Le.IDLE,!i)return;const s=this.tracksBuffered[this.currentTrackId];if(!s)return;let o;const l=r.start;for(let h=0;h<s.length;h++)if(l>=s[h].start&&l<=s[h].end){o=s[h];break}const u=r.start+r.duration;o?o.end=u:(o={start:l,end:u},s.push(o)),this.fragmentTracker.fragBuffered(r),this.fragBufferedComplete(r,null)}onBufferFlushing(e,t){const{startOffset:r,endOffset:i}=t;if(r===0&&i!==Number.POSITIVE_INFINITY){const s=i-1;if(s<=0)return;t.endOffsetSubtitles=Math.max(0,s),this.tracksBuffered.forEach(o=>{for(let l=0;l<o.length;){if(o[l].end<=s){o.shift();continue}else if(o[l].start<s)o[l].start=s;else break;l++}}),this.fragmentTracker.removeFragmentsInRange(r,s,et.SUBTITLE)}}onFragBuffered(e,t){if(!this.loadedmetadata&&t.frag.type===et.MAIN){var r;(r=this.media)!=null&&r.buffered.length&&(this.loadedmetadata=!0)}}onError(e,t){const r=t.frag;(r==null?void 0:r.type)===et.SUBTITLE&&(t.details===_e.FRAG_GAP&&this.fragmentTracker.fragBuffered(r,!0),this.fragCurrent&&this.fragCurrent.abortRequests(),this.state!==Le.STOPPED&&(this.state=Le.IDLE))}onSubtitleTracksUpdated(e,{subtitleTracks:t}){if(this.levels&&_3(this.levels,t)){this.levels=t.map(r=>new wA(r));return}this.tracksBuffered=[],this.levels=t.map(r=>{const i=new wA(r);return this.tracksBuffered[i.id]=[],i}),this.fragmentTracker.removeFragmentsInRange(0,Number.POSITIVE_INFINITY,et.SUBTITLE),this.fragPrevious=null,this.mediaBuffer=null}onSubtitleTrackSwitch(e,t){var r;if(this.currentTrackId=t.id,!((r=this.levels)!=null&&r.length)||this.currentTrackId===-1){this.clearInterval();return}const i=this.levels[this.currentTrackId];i!=null&&i.details?this.mediaBuffer=this.mediaBufferTimeRanges:this.mediaBuffer=null,i&&this.setInterval(KS)}onSubtitleTrackLoaded(e,t){var r;const{currentTrackId:i,levels:s}=this,{details:o,id:l}=t;if(!s){this.warn(`Subtitle tracks were reset while loading level ${l}`);return}const u=s[l];if(l>=s.length||!u)return;this.log(`Subtitle track ${l} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""},duration:${o.totalduration}`),this.mediaBuffer=this.mediaBufferTimeRanges;let h=0;if(o.live||(r=u.details)!=null&&r.live){const y=this.mainDetails;if(o.deltaUpdateFailed||!y)return;const _=y.fragments[0];if(!u.details)o.hasProgramDateTime&&y.hasProgramDateTime?(Yg(o,y),h=o.fragments[0].start):_&&(h=_.start,S2(o,h));else{var m;h=this.alignPlaylists(o,u.details,(m=this.levelLastLoaded)==null?void 0:m.details),h===0&&_&&(h=_.start,S2(o,h))}}u.details=o,this.levelLastLoaded=u,l===i&&(!this.startFragRequested&&(this.mainDetails||!o.live)&&this.setStartPosition(this.mainDetails||o,h),this.tick(),o.live&&!this.fragCurrent&&this.media&&this.state===Le.IDLE&&(Wg(null,o.fragments,this.media.currentTime,0)||(this.warn("Subtitle playlist not aligned with playback"),u.details=void 0)))}_handleFragmentLoadComplete(e){const{frag:t,payload:r}=e,i=t.decryptdata,s=this.hls;if(!this.fragContextChanged(t)&&r&&r.byteLength>0&&i!=null&&i.key&&i.iv&&i.method==="AES-128"){const o=performance.now();this.decrypter.decrypt(new Uint8Array(r),i.key.buffer,i.iv.buffer).catch(l=>{throw s.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.FRAG_DECRYPT_ERROR,fatal:!1,error:l,reason:l.message,frag:t}),l}).then(l=>{const u=performance.now();s.trigger(z.FRAG_DECRYPTED,{frag:t,payload:l,stats:{tstart:o,tdecrypt:u}})}).catch(l=>{this.warn(`${l.name}: ${l.message}`),this.state=Le.IDLE})}}doTick(){if(!this.media){this.state=Le.IDLE;return}if(this.state===Le.IDLE){const{currentTrackId:e,levels:t}=this,r=t==null?void 0:t[e];if(!r||!t.length||!r.details)return;const{config:i}=this,s=this.getLoadPosition(),o=nn.bufferedInfo(this.tracksBuffered[this.currentTrackId]||[],s,i.maxBufferHole),{end:l,len:u}=o,h=this.getFwdBufferInfo(this.media,et.MAIN),m=r.details,y=this.getMaxBufferLength(h==null?void 0:h.len)+m.levelTargetDuration;if(u>y)return;const _=m.fragments,T=_.length,w=m.edge;let L=null;const I=this.fragPrevious;if(l<w){const C=i.maxFragLookUpTolerance,b=l>w-C?0:C;L=Wg(I,_,Math.max(_[0].start,l),b),!L&&I&&I.start<_[0].start&&(L=_[0])}else L=_[T-1];if(!L)return;if(L=this.mapToInitFragWhenRequired(L),L.sn!=="initSegment"){const C=L.sn-m.startSN,b=_[C-1];b&&b.cc===L.cc&&this.fragmentTracker.getState(b)===rr.NOT_LOADED&&(L=b)}this.fragmentTracker.getState(L)===rr.NOT_LOADED&&this.loadFragment(L,r,l)}}getMaxBufferLength(e){const t=super.getMaxBufferLength();return e?Math.max(t,e):t}loadFragment(e,t,r){this.fragCurrent=e,e.sn==="initSegment"?this._loadInitSegment(e,t):(this.startFragRequested=!0,super.loadFragment(e,t,r))}get mediaBufferTimeRanges(){return new xM(this.tracksBuffered[this.currentTrackId]||[])}}class xM{constructor(e){this.buffered=void 0;const t=(r,i,s)=>{if(i=i>>>0,i>s-1)throw new DOMException(`Failed to execute '${r}' on 'TimeRanges': The index provided (${i}) is greater than the maximum bound (${s})`);return e[i][r]};this.buffered={get length(){return e.length},end(r){return t("end",r,e.length)},start(r){return t("start",r,e.length)}}}}class w3 extends tm{constructor(e){super(e,"[subtitle-track-controller]"),this.media=null,this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0,this.queuedDefaultTrack=-1,this.asyncPollTrackChange=()=>this.pollTrackChange(0),this.useTextTrackPolling=!1,this.subtitlePollingInterval=-1,this._subtitleDisplay=!0,this.onTextTracksChanged=()=>{if(this.useTextTrackPolling||self.clearInterval(this.subtitlePollingInterval),!this.media||!this.hls.config.renderTextTracksNatively)return;let t=null;const r=rg(this.media.textTracks);for(let s=0;s<r.length;s++)if(r[s].mode==="hidden")t=r[s];else if(r[s].mode==="showing"){t=r[s];break}const i=this.findTrackForTextTrack(t);this.subtitleTrack!==i&&this.setSubtitleTrack(i)},this.registerListeners()}destroy(){this.unregisterListeners(),this.tracks.length=0,this.tracksInGroup.length=0,this.currentTrack=null,this.onTextTracksChanged=this.asyncPollTrackChange=null,super.destroy()}get subtitleDisplay(){return this._subtitleDisplay}set subtitleDisplay(e){this._subtitleDisplay=e,this.trackId>-1&&this.toggleTrackModes()}registerListeners(){const{hls:e}=this;e.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.MANIFEST_PARSED,this.onManifestParsed,this),e.on(z.LEVEL_LOADING,this.onLevelLoading,this),e.on(z.LEVEL_SWITCHING,this.onLevelSwitching,this),e.on(z.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.on(z.ERROR,this.onError,this)}unregisterListeners(){const{hls:e}=this;e.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.MANIFEST_PARSED,this.onManifestParsed,this),e.off(z.LEVEL_LOADING,this.onLevelLoading,this),e.off(z.LEVEL_SWITCHING,this.onLevelSwitching,this),e.off(z.SUBTITLE_TRACK_LOADED,this.onSubtitleTrackLoaded,this),e.off(z.ERROR,this.onError,this)}onMediaAttached(e,t){this.media=t.media,this.media&&(this.queuedDefaultTrack>-1&&(this.subtitleTrack=this.queuedDefaultTrack,this.queuedDefaultTrack=-1),this.useTextTrackPolling=!(this.media.textTracks&&"onchange"in this.media.textTracks),this.useTextTrackPolling?this.pollTrackChange(500):this.media.textTracks.addEventListener("change",this.asyncPollTrackChange))}pollTrackChange(e){self.clearInterval(this.subtitlePollingInterval),this.subtitlePollingInterval=self.setInterval(this.onTextTracksChanged,e)}onMediaDetaching(){if(!this.media)return;self.clearInterval(this.subtitlePollingInterval),this.useTextTrackPolling||this.media.textTracks.removeEventListener("change",this.asyncPollTrackChange),this.trackId>-1&&(this.queuedDefaultTrack=this.trackId),rg(this.media.textTracks).forEach(t=>{Pu(t)}),this.subtitleTrack=-1,this.media=null}onManifestLoading(){this.tracks=[],this.groupIds=null,this.tracksInGroup=[],this.trackId=-1,this.currentTrack=null,this.selectDefaultTrack=!0}onManifestParsed(e,t){this.tracks=t.subtitleTracks}onSubtitleTrackLoaded(e,t){const{id:r,groupId:i,details:s}=t,o=this.tracksInGroup[r];if(!o||o.groupId!==i){this.warn(`Subtitle track with id:${r} and group:${i} not found in active group ${o==null?void 0:o.groupId}`);return}const l=o.details;o.details=t.details,this.log(`Subtitle track ${r} "${o.name}" lang:${o.lang} group:${i} loaded [${s.startSN}-${s.endSN}]`),r===this.trackId&&this.playlistLoaded(r,t,l)}onLevelLoading(e,t){this.switchLevel(t.level)}onLevelSwitching(e,t){this.switchLevel(t.level)}switchLevel(e){const t=this.hls.levels[e];if(!t)return;const r=t.subtitleGroups||null,i=this.groupIds;let s=this.currentTrack;if(!r||(i==null?void 0:i.length)!==(r==null?void 0:r.length)||r!=null&&r.some(o=>(i==null?void 0:i.indexOf(o))===-1)){this.groupIds=r,this.trackId=-1,this.currentTrack=null;const o=this.tracks.filter(m=>!r||r.indexOf(m.groupId)!==-1);if(o.length)this.selectDefaultTrack&&!o.some(m=>m.default)&&(this.selectDefaultTrack=!1),o.forEach((m,y)=>{m.id=y});else if(!s&&!this.tracksInGroup.length)return;this.tracksInGroup=o;const l=this.hls.config.subtitlePreference;if(!s&&l){this.selectDefaultTrack=!1;const m=yo(l,o);if(m>-1)s=o[m];else{const y=yo(l,this.tracks);s=this.tracks[y]}}let u=this.findTrackId(s);u===-1&&s&&(u=this.findTrackId(null));const h={subtitleTracks:o};this.log(`Updating subtitle tracks, ${o.length} track(s) found in "${r==null?void 0:r.join(",")}" group-id`),this.hls.trigger(z.SUBTITLE_TRACKS_UPDATED,h),u!==-1&&this.trackId===-1&&this.setSubtitleTrack(u)}else this.shouldReloadPlaylist(s)&&this.setSubtitleTrack(this.trackId)}findTrackId(e){const t=this.tracksInGroup,r=this.selectDefaultTrack;for(let i=0;i<t.length;i++){const s=t[i];if(!(r&&!s.default||!r&&!e)&&(!e||Wu(s,e)))return i}if(e){for(let i=0;i<t.length;i++){const s=t[i];if(f0(e.attrs,s.attrs,["LANGUAGE","ASSOC-LANGUAGE","CHARACTERISTICS"]))return i}for(let i=0;i<t.length;i++){const s=t[i];if(f0(e.attrs,s.attrs,["LANGUAGE"]))return i}}return-1}findTrackForTextTrack(e){if(e){const t=this.tracksInGroup;for(let r=0;r<t.length;r++){const i=t[r];if(k2(i,e))return r}}return-1}onError(e,t){t.fatal||!t.context||t.context.type===Ft.SUBTITLE_TRACK&&t.context.id===this.trackId&&(!this.groupIds||this.groupIds.indexOf(t.context.groupId)!==-1)&&this.checkRetry(t)}get allSubtitleTracks(){return this.tracks}get subtitleTracks(){return this.tracksInGroup}get subtitleTrack(){return this.trackId}set subtitleTrack(e){this.selectDefaultTrack=!1,this.setSubtitleTrack(e)}setSubtitleOption(e){if(this.hls.config.subtitlePreference=e,e){const t=this.allSubtitleTracks;if(this.selectDefaultTrack=!1,t.length){const r=this.currentTrack;if(r&&Wu(e,r))return r;const i=yo(e,this.tracksInGroup);if(i>-1){const s=this.tracksInGroup[i];return this.setSubtitleTrack(i),s}else{if(r)return null;{const s=yo(e,t);if(s>-1)return t[s]}}}}return null}loadPlaylist(e){super.loadPlaylist();const t=this.currentTrack;if(this.shouldLoadPlaylist(t)&&t){const r=t.id,i=t.groupId;let s=t.url;if(e)try{s=e.addDirectives(s)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}this.log(`Loading subtitle playlist for id ${r}`),this.hls.trigger(z.SUBTITLE_TRACK_LOADING,{url:s,id:r,groupId:i,deliveryDirectives:e||null})}}toggleTrackModes(){const{media:e}=this;if(!e)return;const t=rg(e.textTracks),r=this.currentTrack;let i;if(r&&(i=t.filter(s=>k2(r,s))[0],i||this.warn(`Unable to find subtitle TextTrack with name "${r.name}" and language "${r.lang}"`)),[].slice.call(t).forEach(s=>{s.mode!=="disabled"&&s!==i&&(s.mode="disabled")}),i){const s=this.subtitleDisplay?"showing":"hidden";i.mode!==s&&(i.mode=s)}}setSubtitleTrack(e){const t=this.tracksInGroup;if(!this.media){this.queuedDefaultTrack=e;return}if(e<-1||e>=t.length||!He(e)){this.warn(`Invalid subtitle track id: ${e}`);return}this.clearTimer(),this.selectDefaultTrack=!1;const r=this.currentTrack,i=t[e]||null;if(this.trackId=e,this.currentTrack=i,this.toggleTrackModes(),!i){this.hls.trigger(z.SUBTITLE_TRACK_SWITCH,{id:e});return}const s=!!i.details&&!i.details.live;if(e===this.trackId&&i===r&&s)return;this.log(`Switching to subtitle-track ${e}`+(i?` "${i.name}" lang:${i.lang} group:${i.groupId}`:""));const{id:o,groupId:l="",name:u,type:h,url:m}=i;this.hls.trigger(z.SUBTITLE_TRACK_SWITCH,{id:o,groupId:l,name:u,type:h,url:m});const y=this.switchParams(i.url,r==null?void 0:r.details,i.details);this.loadPlaylist(y)}}class _M{constructor(e){this.buffers=void 0,this.queues={video:[],audio:[],audiovideo:[]},this.buffers=e}append(e,t,r){const i=this.queues[t];i.push(e),i.length===1&&!r&&this.executeNext(t)}insertAbort(e,t){this.queues[t].unshift(e),this.executeNext(t)}appendBlocker(e){let t;const r=new Promise(s=>{t=s}),i={execute:t,onStart:()=>{},onComplete:()=>{},onError:()=>{}};return this.append(i,e),r}executeNext(e){const t=this.queues[e];if(t.length){const r=t[0];try{r.execute()}catch(i){he.warn(`[buffer-operation-queue]: Exception executing "${e}" SourceBuffer operation: ${i}`),r.onError(i);const s=this.buffers[e];s!=null&&s.updating||this.shiftAndExecuteNext(e)}}}shiftAndExecuteNext(e){this.queues[e].shift(),this.executeNext(e)}current(e){return this.queues[e][0]}}const WS=/(avc[1234]|hvc1|hev1|dvh[1e]|vp09|av01)(?:\.[^.,]+)+/;class k3{constructor(e){this.details=null,this._objectUrl=null,this.operationQueue=void 0,this.listeners=void 0,this.hls=void 0,this.bufferCodecEventsExpected=0,this._bufferCodecEventsTotal=0,this.media=null,this.mediaSource=null,this.lastMpegAudioChunk=null,this.appendSource=void 0,this.appendErrors={audio:0,video:0,audiovideo:0},this.tracks={},this.pendingTracks={},this.sourceBuffer=void 0,this.log=void 0,this.warn=void 0,this.error=void 0,this._onEndStreaming=r=>{this.hls&&this.hls.pauseBuffering()},this._onStartStreaming=r=>{this.hls&&this.hls.resumeBuffering()},this._onMediaSourceOpen=()=>{const{media:r,mediaSource:i}=this;this.log("Media source opened"),r&&(r.removeEventListener("emptied",this._onMediaEmptied),this.updateMediaElementDuration(),this.hls.trigger(z.MEDIA_ATTACHED,{media:r,mediaSource:i})),i&&i.removeEventListener("sourceopen",this._onMediaSourceOpen),this.checkPendingTracks()},this._onMediaSourceClose=()=>{this.log("Media source closed")},this._onMediaSourceEnded=()=>{this.log("Media source ended")},this._onMediaEmptied=()=>{const{mediaSrc:r,_objectUrl:i}=this;r!==i&&he.error(`Media element src was set while attaching MediaSource (${i} > ${r})`)},this.hls=e;const t="[buffer-controller]";this.appendSource=N8(pa(e.config.preferManagedMediaSource)),this.log=he.log.bind(he,t),this.warn=he.warn.bind(he,t),this.error=he.error.bind(he,t),this._initSourceBuffer(),this.registerListeners()}hasSourceTypes(){return this.getSourceBufferTypes().length>0||Object.keys(this.pendingTracks).length>0}destroy(){this.unregisterListeners(),this.details=null,this.lastMpegAudioChunk=null,this.hls=null}registerListeners(){const{hls:e}=this;e.on(z.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.MANIFEST_PARSED,this.onManifestParsed,this),e.on(z.BUFFER_RESET,this.onBufferReset,this),e.on(z.BUFFER_APPENDING,this.onBufferAppending,this),e.on(z.BUFFER_CODECS,this.onBufferCodecs,this),e.on(z.BUFFER_EOS,this.onBufferEos,this),e.on(z.BUFFER_FLUSHING,this.onBufferFlushing,this),e.on(z.LEVEL_UPDATED,this.onLevelUpdated,this),e.on(z.FRAG_PARSED,this.onFragParsed,this),e.on(z.FRAG_CHANGED,this.onFragChanged,this)}unregisterListeners(){const{hls:e}=this;e.off(z.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.MANIFEST_PARSED,this.onManifestParsed,this),e.off(z.BUFFER_RESET,this.onBufferReset,this),e.off(z.BUFFER_APPENDING,this.onBufferAppending,this),e.off(z.BUFFER_CODECS,this.onBufferCodecs,this),e.off(z.BUFFER_EOS,this.onBufferEos,this),e.off(z.BUFFER_FLUSHING,this.onBufferFlushing,this),e.off(z.LEVEL_UPDATED,this.onLevelUpdated,this),e.off(z.FRAG_PARSED,this.onFragParsed,this),e.off(z.FRAG_CHANGED,this.onFragChanged,this)}_initSourceBuffer(){this.sourceBuffer={},this.operationQueue=new _M(this.sourceBuffer),this.listeners={audio:[],video:[],audiovideo:[]},this.appendErrors={audio:0,video:0,audiovideo:0},this.lastMpegAudioChunk=null}onManifestLoading(){this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=0,this.details=null}onManifestParsed(e,t){let r=2;(t.audio&&!t.video||!t.altAudio)&&(r=1),this.bufferCodecEventsExpected=this._bufferCodecEventsTotal=r,this.log(`${this.bufferCodecEventsExpected} bufferCodec event(s) expected`)}onMediaAttaching(e,t){const r=this.media=t.media,i=pa(this.appendSource);if(r&&i){var s;const o=this.mediaSource=new i;this.log(`created media source: ${(s=o.constructor)==null?void 0:s.name}`),o.addEventListener("sourceopen",this._onMediaSourceOpen),o.addEventListener("sourceended",this._onMediaSourceEnded),o.addEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(o.addEventListener("startstreaming",this._onStartStreaming),o.addEventListener("endstreaming",this._onEndStreaming));const l=this._objectUrl=self.URL.createObjectURL(o);if(this.appendSource)try{r.removeAttribute("src");const u=self.ManagedMediaSource;r.disableRemotePlayback=r.disableRemotePlayback||u&&o instanceof u,YS(r),EM(r,l),r.load()}catch{r.src=l}else r.src=l;r.addEventListener("emptied",this._onMediaEmptied)}}onMediaDetaching(){const{media:e,mediaSource:t,_objectUrl:r}=this;if(t){if(this.log("media source detaching"),t.readyState==="open")try{t.endOfStream()}catch(i){this.warn(`onMediaDetaching: ${i.message} while calling endOfStream`)}this.onBufferReset(),t.removeEventListener("sourceopen",this._onMediaSourceOpen),t.removeEventListener("sourceended",this._onMediaSourceEnded),t.removeEventListener("sourceclose",this._onMediaSourceClose),this.appendSource&&(t.removeEventListener("startstreaming",this._onStartStreaming),t.removeEventListener("endstreaming",this._onEndStreaming)),e&&(e.removeEventListener("emptied",this._onMediaEmptied),r&&self.URL.revokeObjectURL(r),this.mediaSrc===r?(e.removeAttribute("src"),this.appendSource&&YS(e),e.load()):this.warn("media|source.src was changed by a third party - skip cleanup")),this.mediaSource=null,this.media=null,this._objectUrl=null,this.bufferCodecEventsExpected=this._bufferCodecEventsTotal,this.pendingTracks={},this.tracks={}}this.hls.trigger(z.MEDIA_DETACHED,void 0)}onBufferReset(){this.getSourceBufferTypes().forEach(e=>{this.resetBuffer(e)}),this._initSourceBuffer()}resetBuffer(e){const t=this.sourceBuffer[e];try{if(t){var r;this.removeBufferListeners(e),this.sourceBuffer[e]=void 0,(r=this.mediaSource)!=null&&r.sourceBuffers.length&&this.mediaSource.removeSourceBuffer(t)}}catch(i){this.warn(`onBufferReset ${e}`,i)}}onBufferCodecs(e,t){const r=this.getSourceBufferTypes().length,i=Object.keys(t);if(i.forEach(o=>{if(r){const u=this.tracks[o];if(u&&typeof u.buffer.changeType=="function"){var l;const{id:h,codec:m,levelCodec:y,container:_,metadata:T}=t[o],w=mS(u.codec,u.levelCodec),L=w==null?void 0:w.replace(WS,"$1");let I=mS(m,y);const C=(l=I)==null?void 0:l.replace(WS,"$1");if(I&&L!==C){o.slice(0,5)==="audio"&&(I=jg(I,this.appendSource));const b=`${_};codecs=${I}`;this.appendChangeType(o,b),this.log(`switching codec ${w} to ${I}`),this.tracks[o]={buffer:u.buffer,codec:m,container:_,levelCodec:y,metadata:T,id:h}}}}else this.pendingTracks[o]=t[o]}),r)return;const s=Math.max(this.bufferCodecEventsExpected-1,0);this.bufferCodecEventsExpected!==s&&(this.log(`${s} bufferCodec event(s) expected ${i.join(",")}`),this.bufferCodecEventsExpected=s),this.mediaSource&&this.mediaSource.readyState==="open"&&this.checkPendingTracks()}appendChangeType(e,t){const{operationQueue:r}=this,i={execute:()=>{const s=this.sourceBuffer[e];s&&(this.log(`changing ${e} sourceBuffer type to ${t}`),s.changeType(t)),r.shiftAndExecuteNext(e)},onStart:()=>{},onComplete:()=>{},onError:s=>{this.warn(`Failed to change ${e} SourceBuffer type`,s)}};r.append(i,e,!!this.pendingTracks[e])}onBufferAppending(e,t){const{hls:r,operationQueue:i,tracks:s}=this,{data:o,type:l,frag:u,part:h,chunkMeta:m}=t,y=m.buffering[l],_=self.performance.now();y.start=_;const T=u.stats.buffering,w=h?h.stats.buffering:null;T.start===0&&(T.start=_),w&&w.start===0&&(w.start=_);const L=s.audio;let I=!1;l==="audio"&&(L==null?void 0:L.container)==="audio/mpeg"&&(I=!this.lastMpegAudioChunk||m.id===1||this.lastMpegAudioChunk.sn!==m.sn,this.lastMpegAudioChunk=m);const C=u.start,b={execute:()=>{if(y.executeStart=self.performance.now(),I){const M=this.sourceBuffer[l];if(M){const U=C-M.timestampOffset;Math.abs(U)>=.1&&(this.log(`Updating audio SourceBuffer timestampOffset to ${C} (delta: ${U}) sn: ${u.sn})`),M.timestampOffset=C)}}this.appendExecutor(o,l)},onStart:()=>{},onComplete:()=>{const M=self.performance.now();y.executeEnd=y.end=M,T.first===0&&(T.first=M),w&&w.first===0&&(w.first=M);const{sourceBuffer:U}=this,B={};for(const $ in U)B[$]=nn.getBuffered(U[$]);this.appendErrors[l]=0,l==="audio"||l==="video"?this.appendErrors.audiovideo=0:(this.appendErrors.audio=0,this.appendErrors.video=0),this.hls.trigger(z.BUFFER_APPENDED,{type:l,frag:u,part:h,chunkMeta:m,parent:u.type,timeRanges:B})},onError:M=>{const U={type:st.MEDIA_ERROR,parent:u.type,details:_e.BUFFER_APPEND_ERROR,sourceBufferName:l,frag:u,part:h,chunkMeta:m,error:M,err:M,fatal:!1};if(M.code===DOMException.QUOTA_EXCEEDED_ERR)U.details=_e.BUFFER_FULL_ERROR;else{const B=++this.appendErrors[l];U.details=_e.BUFFER_APPEND_ERROR,this.warn(`Failed ${B}/${r.config.appendErrorMaxRetry} times to append segment in "${l}" sourceBuffer`),B>=r.config.appendErrorMaxRetry&&(U.fatal=!0)}r.trigger(z.ERROR,U)}};i.append(b,l,!!this.pendingTracks[l])}onBufferFlushing(e,t){const{operationQueue:r}=this,i=s=>({execute:this.removeExecutor.bind(this,s,t.startOffset,t.endOffset),onStart:()=>{},onComplete:()=>{this.hls.trigger(z.BUFFER_FLUSHED,{type:s})},onError:o=>{this.warn(`Failed to remove from ${s} SourceBuffer`,o)}});t.type?r.append(i(t.type),t.type):this.getSourceBufferTypes().forEach(s=>{r.append(i(s),s)})}onFragParsed(e,t){const{frag:r,part:i}=t,s=[],o=i?i.elementaryStreams:r.elementaryStreams;o[Kt.AUDIOVIDEO]?s.push("audiovideo"):(o[Kt.AUDIO]&&s.push("audio"),o[Kt.VIDEO]&&s.push("video"));const l=()=>{const u=self.performance.now();r.stats.buffering.end=u,i&&(i.stats.buffering.end=u);const h=i?i.stats:r.stats;this.hls.trigger(z.FRAG_BUFFERED,{frag:r,part:i,stats:h,id:r.type})};s.length===0&&this.warn(`Fragments must have at least one ElementaryStreamType set. type: ${r.type} level: ${r.level} sn: ${r.sn}`),this.blockBuffers(l,s)}onFragChanged(e,t){this.trimBuffers()}onBufferEos(e,t){this.getSourceBufferTypes().reduce((i,s)=>{const o=this.sourceBuffer[s];return o&&(!t.type||t.type===s)&&(o.ending=!0,o.ended||(o.ended=!0,this.log(`${s} sourceBuffer now EOS`))),i&&!!(!o||o.ended)},!0)&&(this.log("Queueing mediaSource.endOfStream()"),this.blockBuffers(()=>{this.getSourceBufferTypes().forEach(s=>{const o=this.sourceBuffer[s];o&&(o.ending=!1)});const{mediaSource:i}=this;if(!i||i.readyState!=="open"){i&&this.log(`Could not call mediaSource.endOfStream(). mediaSource.readyState: ${i.readyState}`);return}this.log("Calling mediaSource.endOfStream()"),i.endOfStream()}))}onLevelUpdated(e,{details:t}){t.fragments.length&&(this.details=t,this.getSourceBufferTypes().length?this.blockBuffers(this.updateMediaElementDuration.bind(this)):this.updateMediaElementDuration())}trimBuffers(){const{hls:e,details:t,media:r}=this;if(!r||t===null||!this.getSourceBufferTypes().length)return;const s=e.config,o=r.currentTime,l=t.levelTargetDuration,u=t.live&&s.liveBackBufferLength!==null?s.liveBackBufferLength:s.backBufferLength;if(He(u)&&u>0){const h=Math.max(u,l),m=Math.floor(o/l)*l-h;this.flushBackBuffer(o,l,m)}if(He(s.frontBufferFlushThreshold)&&s.frontBufferFlushThreshold>0){const h=Math.max(s.maxBufferLength,s.frontBufferFlushThreshold),m=Math.max(h,l),y=Math.floor(o/l)*l+m;this.flushFrontBuffer(o,l,y)}}flushBackBuffer(e,t,r){const{details:i,sourceBuffer:s}=this;this.getSourceBufferTypes().forEach(l=>{const u=s[l];if(u){const h=nn.getBuffered(u);if(h.length>0&&r>h.start(0)){if(this.hls.trigger(z.BACK_BUFFER_REACHED,{bufferEnd:r}),i!=null&&i.live)this.hls.trigger(z.LIVE_BACK_BUFFER_REACHED,{bufferEnd:r});else if(u.ended&&h.end(h.length-1)-e<t*2){this.log(`Cannot flush ${l} back buffer while SourceBuffer is in ended state`);return}this.hls.trigger(z.BUFFER_FLUSHING,{startOffset:0,endOffset:r,type:l})}}})}flushFrontBuffer(e,t,r){const{sourceBuffer:i}=this;this.getSourceBufferTypes().forEach(o=>{const l=i[o];if(l){const u=nn.getBuffered(l),h=u.length;if(h<2)return;const m=u.start(h-1),y=u.end(h-1);if(r>m||e>=m&&e<=y)return;if(l.ended&&e-y<2*t){this.log(`Cannot flush ${o} front buffer while SourceBuffer is in ended state`);return}this.hls.trigger(z.BUFFER_FLUSHING,{startOffset:m,endOffset:1/0,type:o})}})}updateMediaElementDuration(){if(!this.details||!this.media||!this.mediaSource||this.mediaSource.readyState!=="open")return;const{details:e,hls:t,media:r,mediaSource:i}=this,s=e.fragments[0].start+e.totalduration,o=r.duration,l=He(i.duration)?i.duration:0;e.live&&t.config.liveDurationInfinity?(i.duration=1/0,this.updateSeekableRange(e)):(s>l&&s>o||!He(o))&&(this.log(`Updating Media Source duration to ${s.toFixed(3)}`),i.duration=s)}updateSeekableRange(e){const t=this.mediaSource,r=e.fragments;if(r.length&&e.live&&t!=null&&t.setLiveSeekableRange){const s=Math.max(0,r[0].start),o=Math.max(s,s+e.totalduration);this.log(`Media Source duration is set to ${t.duration}. Setting seekable range to ${s}-${o}.`),t.setLiveSeekableRange(s,o)}}checkPendingTracks(){const{bufferCodecEventsExpected:e,operationQueue:t,pendingTracks:r}=this,i=Object.keys(r).length;if(i&&(!e||i===2||"audiovideo"in r)){this.createSourceBuffers(r),this.pendingTracks={};const s=this.getSourceBufferTypes();if(s.length)this.hls.trigger(z.BUFFER_CREATED,{tracks:this.tracks}),s.forEach(o=>{t.executeNext(o)});else{const o=new Error("could not create source buffer for media codec(s)");this.hls.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.BUFFER_INCOMPATIBLE_CODECS_ERROR,fatal:!0,error:o,reason:o.message})}}}createSourceBuffers(e){const{sourceBuffer:t,mediaSource:r}=this;if(!r)throw Error("createSourceBuffers called when mediaSource was null");for(const s in e)if(!t[s]){var i;const o=e[s];if(!o)throw Error(`source buffer exists for track ${s}, however track does not`);let l=((i=o.levelCodec)==null?void 0:i.indexOf(","))===-1?o.levelCodec:o.codec;l&&s.slice(0,5)==="audio"&&(l=jg(l,this.appendSource));const u=`${o.container};codecs=${l}`;this.log(`creating sourceBuffer(${u})`);try{const h=t[s]=r.addSourceBuffer(u),m=s;this.addBufferListener(m,"updatestart",this._onSBUpdateStart),this.addBufferListener(m,"updateend",this._onSBUpdateEnd),this.addBufferListener(m,"error",this._onSBUpdateError),this.appendSource&&this.addBufferListener(m,"bufferedchange",(y,_)=>{const T=_.removedRanges;T!=null&&T.length&&this.hls.trigger(z.BUFFER_FLUSHED,{type:s})}),this.tracks[s]={buffer:h,codec:l,container:o.container,levelCodec:o.levelCodec,metadata:o.metadata,id:o.id}}catch(h){this.error(`error while trying to add sourceBuffer: ${h.message}`),this.hls.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.BUFFER_ADD_CODEC_ERROR,fatal:!1,error:h,sourceBufferName:s,mimeType:u})}}}get mediaSrc(){var e,t;const r=((e=this.media)==null||(t=e.querySelector)==null?void 0:t.call(e,"source"))||this.media;return r==null?void 0:r.src}_onSBUpdateStart(e){const{operationQueue:t}=this;t.current(e).onStart()}_onSBUpdateEnd(e){var t;if(((t=this.mediaSource)==null?void 0:t.readyState)==="closed"){this.resetBuffer(e);return}const{operationQueue:r}=this;r.current(e).onComplete(),r.shiftAndExecuteNext(e)}_onSBUpdateError(e,t){var r;const i=new Error(`${e} SourceBuffer error. MediaSource readyState: ${(r=this.mediaSource)==null?void 0:r.readyState}`);this.error(`${i}`,t),this.hls.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.BUFFER_APPENDING_ERROR,sourceBufferName:e,error:i,fatal:!1});const s=this.operationQueue.current(e);s&&s.onError(i)}removeExecutor(e,t,r){const{media:i,mediaSource:s,operationQueue:o,sourceBuffer:l}=this,u=l[e];if(!i||!s||!u){this.warn(`Attempting to remove from the ${e} SourceBuffer, but it does not exist`),o.shiftAndExecuteNext(e);return}const h=He(i.duration)?i.duration:1/0,m=He(s.duration)?s.duration:1/0,y=Math.max(0,t),_=Math.min(r,h,m);_>y&&(!u.ending||u.ended)?(u.ended=!1,this.log(`Removing [${y},${_}] from the ${e} SourceBuffer`),u.remove(y,_)):o.shiftAndExecuteNext(e)}appendExecutor(e,t){const r=this.sourceBuffer[t];if(!r){if(!this.pendingTracks[t])throw new Error(`Attempting to append to the ${t} SourceBuffer, but it does not exist`);return}r.ended=!1,r.appendBuffer(e)}blockBuffers(e,t=this.getSourceBufferTypes()){if(!t.length){this.log("Blocking operation requested, but no SourceBuffers exist"),Promise.resolve().then(e);return}const{operationQueue:r}=this,i=t.map(s=>r.appendBlocker(s));Promise.all(i).then(()=>{e(),t.forEach(s=>{const o=this.sourceBuffer[s];o!=null&&o.updating||r.shiftAndExecuteNext(s)})})}getSourceBufferTypes(){return Object.keys(this.sourceBuffer)}addBufferListener(e,t,r){const i=this.sourceBuffer[e];if(!i)return;const s=r.bind(this,e);this.listeners[e].push({event:t,listener:s}),i.addEventListener(t,s)}removeBufferListeners(e){const t=this.sourceBuffer[e];t&&this.listeners[e].forEach(r=>{t.removeEventListener(r.event,r.listener)})}}function YS(n){const e=n.querySelectorAll("source");[].slice.call(e).forEach(t=>{n.removeChild(t)})}function EM(n,e){const t=self.document.createElement("source");t.type="video/mp4",t.src=e,n.appendChild(t)}const SM={42:225,92:233,94:237,95:243,96:250,123:231,124:247,125:209,126:241,127:9608,128:174,129:176,130:189,131:191,132:8482,133:162,134:163,135:9834,136:224,137:32,138:232,139:226,140:234,141:238,142:244,143:251,144:193,145:201,146:211,147:218,148:220,149:252,150:8216,151:161,152:42,153:8217,154:9473,155:169,156:8480,157:8226,158:8220,159:8221,160:192,161:194,162:199,163:200,164:202,165:203,166:235,167:206,168:207,169:239,170:212,171:217,172:249,173:219,174:171,175:187,176:195,177:227,178:205,179:204,180:236,181:210,182:242,183:213,184:245,185:123,186:125,187:92,188:94,189:95,190:124,191:8764,192:196,193:228,194:214,195:246,196:223,197:165,198:164,199:9475,200:197,201:229,202:216,203:248,204:9487,205:9491,206:9495,207:9499},L3=n=>String.fromCharCode(SM[n]||n),Hs=15,Ko=100,TM={17:1,18:3,21:5,22:7,23:9,16:11,19:12,20:14},wM={17:2,18:4,21:6,22:8,23:10,19:13,20:15},kM={25:1,26:3,29:5,30:7,31:9,24:11,27:12,28:14},LM={25:2,26:4,29:6,30:8,31:10,27:13,28:15},RM=["white","green","blue","cyan","red","yellow","magenta","black","transparent"];class CM{constructor(){this.time=null,this.verboseLevel=0}log(e,t){if(this.verboseLevel>=e){const r=typeof t=="function"?t():t;he.log(`${this.time} [${e}] ${r}`)}}}const Ka=function(e){const t=[];for(let r=0;r<e.length;r++)t.push(e[r].toString(16));return t};class R3{constructor(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}reset(){this.foreground="white",this.underline=!1,this.italics=!1,this.background="black",this.flash=!1}setStyles(e){const t=["foreground","underline","italics","background","flash"];for(let r=0;r<t.length;r++){const i=t[r];e.hasOwnProperty(i)&&(this[i]=e[i])}}isDefault(){return this.foreground==="white"&&!this.underline&&!this.italics&&this.background==="black"&&!this.flash}equals(e){return this.foreground===e.foreground&&this.underline===e.underline&&this.italics===e.italics&&this.background===e.background&&this.flash===e.flash}copy(e){this.foreground=e.foreground,this.underline=e.underline,this.italics=e.italics,this.background=e.background,this.flash=e.flash}toString(){return"color="+this.foreground+", underline="+this.underline+", italics="+this.italics+", background="+this.background+", flash="+this.flash}}class IM{constructor(){this.uchar=" ",this.penState=new R3}reset(){this.uchar=" ",this.penState.reset()}setChar(e,t){this.uchar=e,this.penState.copy(t)}setPenState(e){this.penState.copy(e)}equals(e){return this.uchar===e.uchar&&this.penState.equals(e.penState)}copy(e){this.uchar=e.uchar,this.penState.copy(e.penState)}isEmpty(){return this.uchar===" "&&this.penState.isDefault()}}class DM{constructor(e){this.chars=[],this.pos=0,this.currPenState=new R3,this.cueStartTime=null,this.logger=void 0;for(let t=0;t<Ko;t++)this.chars.push(new IM);this.logger=e}equals(e){for(let t=0;t<Ko;t++)if(!this.chars[t].equals(e.chars[t]))return!1;return!0}copy(e){for(let t=0;t<Ko;t++)this.chars[t].copy(e.chars[t])}isEmpty(){let e=!0;for(let t=0;t<Ko;t++)if(!this.chars[t].isEmpty()){e=!1;break}return e}setCursor(e){this.pos!==e&&(this.pos=e),this.pos<0?(this.logger.log(3,"Negative cursor position "+this.pos),this.pos=0):this.pos>Ko&&(this.logger.log(3,"Too large cursor position "+this.pos),this.pos=Ko)}moveCursor(e){const t=this.pos+e;if(e>1)for(let r=this.pos+1;r<t+1;r++)this.chars[r].setPenState(this.currPenState);this.setCursor(t)}backSpace(){this.moveCursor(-1),this.chars[this.pos].setChar(" ",this.currPenState)}insertChar(e){e>=144&&this.backSpace();const t=L3(e);if(this.pos>=Ko){this.logger.log(0,()=>"Cannot insert "+e.toString(16)+" ("+t+") at position "+this.pos+". Skipping it!");return}this.chars[this.pos].setChar(t,this.currPenState),this.moveCursor(1)}clearFromPos(e){let t;for(t=e;t<Ko;t++)this.chars[t].reset()}clear(){this.clearFromPos(0),this.pos=0,this.currPenState.reset()}clearToEndOfRow(){this.clearFromPos(this.pos)}getTextString(){const e=[];let t=!0;for(let r=0;r<Ko;r++){const i=this.chars[r].uchar;i!==" "&&(t=!1),e.push(i)}return t?"":e.join("")}setPenStyles(e){this.currPenState.setStyles(e),this.chars[this.pos].setPenState(this.currPenState)}}class W1{constructor(e){this.rows=[],this.currRow=Hs-1,this.nrRollUpRows=null,this.lastOutputScreen=null,this.logger=void 0;for(let t=0;t<Hs;t++)this.rows.push(new DM(e));this.logger=e}reset(){for(let e=0;e<Hs;e++)this.rows[e].clear();this.currRow=Hs-1}equals(e){let t=!0;for(let r=0;r<Hs;r++)if(!this.rows[r].equals(e.rows[r])){t=!1;break}return t}copy(e){for(let t=0;t<Hs;t++)this.rows[t].copy(e.rows[t])}isEmpty(){let e=!0;for(let t=0;t<Hs;t++)if(!this.rows[t].isEmpty()){e=!1;break}return e}backSpace(){this.rows[this.currRow].backSpace()}clearToEndOfRow(){this.rows[this.currRow].clearToEndOfRow()}insertChar(e){this.rows[this.currRow].insertChar(e)}setPen(e){this.rows[this.currRow].setPenStyles(e)}moveCursor(e){this.rows[this.currRow].moveCursor(e)}setCursor(e){this.logger.log(2,"setCursor: "+e),this.rows[this.currRow].setCursor(e)}setPAC(e){this.logger.log(2,()=>"pacData = "+JSON.stringify(e));let t=e.row-1;if(this.nrRollUpRows&&t<this.nrRollUpRows-1&&(t=this.nrRollUpRows-1),this.nrRollUpRows&&this.currRow!==t){for(let l=0;l<Hs;l++)this.rows[l].clear();const s=this.currRow+1-this.nrRollUpRows,o=this.lastOutputScreen;if(o){const l=o.rows[s].cueStartTime,u=this.logger.time;if(l!==null&&u!==null&&l<u)for(let h=0;h<this.nrRollUpRows;h++)this.rows[t-this.nrRollUpRows+h+1].copy(o.rows[s+h])}}this.currRow=t;const r=this.rows[this.currRow];if(e.indent!==null){const s=e.indent,o=Math.max(s-1,0);r.setCursor(e.indent),e.color=r.chars[o].penState.foreground}const i={foreground:e.color,underline:e.underline,italics:e.italics,background:"black",flash:!1};this.setPen(i)}setBkgData(e){this.logger.log(2,()=>"bkgData = "+JSON.stringify(e)),this.backSpace(),this.setPen(e),this.insertChar(32)}setRollUpRows(e){this.nrRollUpRows=e}rollUp(){if(this.nrRollUpRows===null){this.logger.log(3,"roll_up but nrRollUpRows not set yet");return}this.logger.log(1,()=>this.getDisplayText());const e=this.currRow+1-this.nrRollUpRows,t=this.rows.splice(e,1)[0];t.clear(),this.rows.splice(this.currRow,0,t),this.logger.log(2,"Rolling up")}getDisplayText(e){e=e||!1;const t=[];let r="",i=-1;for(let s=0;s<Hs;s++){const o=this.rows[s].getTextString();o&&(i=s+1,e?t.push("Row "+i+": '"+o+"'"):t.push(o.trim()))}return t.length>0&&(e?r="["+t.join(" | ")+"]":r=t.join(`
`)),r}getTextAndFormat(){return this.rows}}class qS{constructor(e,t,r){this.chNr=void 0,this.outputFilter=void 0,this.mode=void 0,this.verbose=void 0,this.displayedMemory=void 0,this.nonDisplayedMemory=void 0,this.lastOutputScreen=void 0,this.currRollUpRow=void 0,this.writeScreen=void 0,this.cueStartTime=void 0,this.logger=void 0,this.chNr=e,this.outputFilter=t,this.mode=null,this.verbose=0,this.displayedMemory=new W1(r),this.nonDisplayedMemory=new W1(r),this.lastOutputScreen=new W1(r),this.currRollUpRow=this.displayedMemory.rows[Hs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null,this.logger=r}reset(){this.mode=null,this.displayedMemory.reset(),this.nonDisplayedMemory.reset(),this.lastOutputScreen.reset(),this.outputFilter.reset(),this.currRollUpRow=this.displayedMemory.rows[Hs-1],this.writeScreen=this.displayedMemory,this.mode=null,this.cueStartTime=null}getHandler(){return this.outputFilter}setHandler(e){this.outputFilter=e}setPAC(e){this.writeScreen.setPAC(e)}setBkgData(e){this.writeScreen.setBkgData(e)}setMode(e){e!==this.mode&&(this.mode=e,this.logger.log(2,()=>"MODE="+e),this.mode==="MODE_POP-ON"?this.writeScreen=this.nonDisplayedMemory:(this.writeScreen=this.displayedMemory,this.writeScreen.reset()),this.mode!=="MODE_ROLL-UP"&&(this.displayedMemory.nrRollUpRows=null,this.nonDisplayedMemory.nrRollUpRows=null),this.mode=e)}insertChars(e){for(let r=0;r<e.length;r++)this.writeScreen.insertChar(e[r]);const t=this.writeScreen===this.displayedMemory?"DISP":"NON_DISP";this.logger.log(2,()=>t+": "+this.writeScreen.getDisplayText(!0)),(this.mode==="MODE_PAINT-ON"||this.mode==="MODE_ROLL-UP")&&(this.logger.log(1,()=>"DISPLAYED: "+this.displayedMemory.getDisplayText(!0)),this.outputDataUpdate())}ccRCL(){this.logger.log(2,"RCL - Resume Caption Loading"),this.setMode("MODE_POP-ON")}ccBS(){this.logger.log(2,"BS - BackSpace"),this.mode!=="MODE_TEXT"&&(this.writeScreen.backSpace(),this.writeScreen===this.displayedMemory&&this.outputDataUpdate())}ccAOF(){}ccAON(){}ccDER(){this.logger.log(2,"DER- Delete to End of Row"),this.writeScreen.clearToEndOfRow(),this.outputDataUpdate()}ccRU(e){this.logger.log(2,"RU("+e+") - Roll Up"),this.writeScreen=this.displayedMemory,this.setMode("MODE_ROLL-UP"),this.writeScreen.setRollUpRows(e)}ccFON(){this.logger.log(2,"FON - Flash On"),this.writeScreen.setPen({flash:!0})}ccRDC(){this.logger.log(2,"RDC - Resume Direct Captioning"),this.setMode("MODE_PAINT-ON")}ccTR(){this.logger.log(2,"TR"),this.setMode("MODE_TEXT")}ccRTD(){this.logger.log(2,"RTD"),this.setMode("MODE_TEXT")}ccEDM(){this.logger.log(2,"EDM - Erase Displayed Memory"),this.displayedMemory.reset(),this.outputDataUpdate(!0)}ccCR(){this.logger.log(2,"CR - Carriage Return"),this.writeScreen.rollUp(),this.outputDataUpdate(!0)}ccENM(){this.logger.log(2,"ENM - Erase Non-displayed Memory"),this.nonDisplayedMemory.reset()}ccEOC(){if(this.logger.log(2,"EOC - End Of Caption"),this.mode==="MODE_POP-ON"){const e=this.displayedMemory;this.displayedMemory=this.nonDisplayedMemory,this.nonDisplayedMemory=e,this.writeScreen=this.nonDisplayedMemory,this.logger.log(1,()=>"DISP: "+this.displayedMemory.getDisplayText())}this.outputDataUpdate(!0)}ccTO(e){this.logger.log(2,"TO("+e+") - Tab Offset"),this.writeScreen.moveCursor(e)}ccMIDROW(e){const t={flash:!1};if(t.underline=e%2===1,t.italics=e>=46,t.italics)t.foreground="white";else{const r=Math.floor(e/2)-16,i=["white","green","blue","cyan","red","yellow","magenta"];t.foreground=i[r]}this.logger.log(2,"MIDROW: "+JSON.stringify(t)),this.writeScreen.setPen(t)}outputDataUpdate(e=!1){const t=this.logger.time;t!==null&&this.outputFilter&&(this.cueStartTime===null&&!this.displayedMemory.isEmpty()?this.cueStartTime=t:this.displayedMemory.equals(this.lastOutputScreen)||(this.outputFilter.newCue(this.cueStartTime,t,this.lastOutputScreen),e&&this.outputFilter.dispatchCue&&this.outputFilter.dispatchCue(),this.cueStartTime=this.displayedMemory.isEmpty()?null:t),this.lastOutputScreen.copy(this.displayedMemory))}cueSplitAtTime(e){this.outputFilter&&(this.displayedMemory.isEmpty()||(this.outputFilter.newCue&&this.outputFilter.newCue(this.cueStartTime,e,this.displayedMemory),this.cueStartTime=e))}}class XS{constructor(e,t,r){this.channels=void 0,this.currentChannel=0,this.cmdHistory=PM(),this.logger=void 0;const i=this.logger=new CM;this.channels=[null,new qS(e,t,i),new qS(e+1,r,i)]}getHandler(e){return this.channels[e].getHandler()}setHandler(e,t){this.channels[e].setHandler(t)}addData(e,t){this.logger.time=e;for(let r=0;r<t.length;r+=2){const i=t[r]&127,s=t[r+1]&127;let o=!1,l=null;if(i===0&&s===0)continue;this.logger.log(3,()=>"["+Ka([t[r],t[r+1]])+"] -> ("+Ka([i,s])+")");const u=this.cmdHistory;if(i>=16&&i<=31){if(bM(i,s,u)){Td(null,null,u),this.logger.log(3,()=>"Repeated command ("+Ka([i,s])+") is dropped");continue}Td(i,s,this.cmdHistory),o=this.parseCmd(i,s),o||(o=this.parseMidrow(i,s)),o||(o=this.parsePAC(i,s)),o||(o=this.parseBackgroundAttributes(i,s))}else Td(null,null,u);if(!o&&(l=this.parseChars(i,s),l)){const m=this.currentChannel;m&&m>0?this.channels[m].insertChars(l):this.logger.log(2,"No channel found yet. TEXT-MODE?")}!o&&!l&&this.logger.log(2,()=>"Couldn't parse cleaned data "+Ka([i,s])+" orig: "+Ka([t[r],t[r+1]]))}}parseCmd(e,t){const r=(e===20||e===28||e===21||e===29)&&t>=32&&t<=47,i=(e===23||e===31)&&t>=33&&t<=35;if(!(r||i))return!1;const s=e===20||e===21||e===23?1:2,o=this.channels[s];return e===20||e===21||e===28||e===29?t===32?o.ccRCL():t===33?o.ccBS():t===34?o.ccAOF():t===35?o.ccAON():t===36?o.ccDER():t===37?o.ccRU(2):t===38?o.ccRU(3):t===39?o.ccRU(4):t===40?o.ccFON():t===41?o.ccRDC():t===42?o.ccTR():t===43?o.ccRTD():t===44?o.ccEDM():t===45?o.ccCR():t===46?o.ccENM():t===47&&o.ccEOC():o.ccTO(t-32),this.currentChannel=s,!0}parseMidrow(e,t){let r=0;if((e===17||e===25)&&t>=32&&t<=47){if(e===17?r=1:r=2,r!==this.currentChannel)return this.logger.log(0,"Mismatch channel in midrow parsing"),!1;const i=this.channels[r];return i?(i.ccMIDROW(t),this.logger.log(3,()=>"MIDROW ("+Ka([e,t])+")"),!0):!1}return!1}parsePAC(e,t){let r;const i=(e>=17&&e<=23||e>=25&&e<=31)&&t>=64&&t<=127,s=(e===16||e===24)&&t>=64&&t<=95;if(!(i||s))return!1;const o=e<=23?1:2;t>=64&&t<=95?r=o===1?TM[e]:kM[e]:r=o===1?wM[e]:LM[e];const l=this.channels[o];return l?(l.setPAC(this.interpretPAC(r,t)),this.currentChannel=o,!0):!1}interpretPAC(e,t){let r;const i={color:null,italics:!1,indent:null,underline:!1,row:e};return t>95?r=t-96:r=t-64,i.underline=(r&1)===1,r<=13?i.color=["white","green","blue","cyan","red","yellow","magenta","white"][Math.floor(r/2)]:r<=15?(i.italics=!0,i.color="white"):i.indent=Math.floor((r-16)/2)*4,i}parseChars(e,t){let r,i=null,s=null;if(e>=25?(r=2,s=e-8):(r=1,s=e),s>=17&&s<=19){let o;s===17?o=t+80:s===18?o=t+112:o=t+144,this.logger.log(2,()=>"Special char '"+L3(o)+"' in channel "+r),i=[o]}else e>=32&&e<=127&&(i=t===0?[e]:[e,t]);return i&&this.logger.log(3,()=>"Char codes =  "+Ka(i).join(",")),i}parseBackgroundAttributes(e,t){const r=(e===16||e===24)&&t>=32&&t<=47,i=(e===23||e===31)&&t>=45&&t<=47;if(!(r||i))return!1;let s;const o={};e===16||e===24?(s=Math.floor((t-32)/2),o.background=RM[s],t%2===1&&(o.background=o.background+"_semi")):t===45?o.background="transparent":(o.foreground="black",t===47&&(o.underline=!0));const l=e<=23?1:2;return this.channels[l].setBkgData(o),!0}reset(){for(let e=0;e<Object.keys(this.channels).length;e++){const t=this.channels[e];t&&t.reset()}Td(null,null,this.cmdHistory)}cueSplitAtTime(e){for(let t=0;t<this.channels.length;t++){const r=this.channels[t];r&&r.cueSplitAtTime(e)}}}function Td(n,e,t){t.a=n,t.b=e}function bM(n,e,t){return t.a===n&&t.b===e}function PM(){return{a:null,b:null}}class wd{constructor(e,t){this.timelineController=void 0,this.cueRanges=[],this.trackName=void 0,this.startTime=null,this.endTime=null,this.screen=null,this.timelineController=e,this.trackName=t}dispatchCue(){this.startTime!==null&&(this.timelineController.addCues(this.trackName,this.startTime,this.endTime,this.screen,this.cueRanges),this.startTime=null)}newCue(e,t,r){(this.startTime===null||this.startTime>e)&&(this.startTime=e),this.endTime=t,this.screen=r,this.timelineController.createCaptionsTrack(this.trackName)}reset(){this.cueRanges=[],this.startTime=null}}var Gx=function(){if(A0!=null&&A0.VTTCue)return self.VTTCue;const n=["","lr","rl"],e=["start","middle","end","left","right"];function t(l,u){if(typeof u!="string"||!Array.isArray(l))return!1;const h=u.toLowerCase();return~l.indexOf(h)?h:!1}function r(l){return t(n,l)}function i(l){return t(e,l)}function s(l,...u){let h=1;for(;h<arguments.length;h++){const m=arguments[h];for(const y in m)l[y]=m[y]}return l}function o(l,u,h){const m=this,y={enumerable:!0};m.hasBeenReset=!1;let _="",T=!1,w=l,L=u,I=h,C=null,b="",M=!0,U="auto",B="start",$=50,H="middle",j=50,Y="middle";Object.defineProperty(m,"id",s({},y,{get:function(){return _},set:function(q){_=""+q}})),Object.defineProperty(m,"pauseOnExit",s({},y,{get:function(){return T},set:function(q){T=!!q}})),Object.defineProperty(m,"startTime",s({},y,{get:function(){return w},set:function(q){if(typeof q!="number")throw new TypeError("Start time must be set to a number.");w=q,this.hasBeenReset=!0}})),Object.defineProperty(m,"endTime",s({},y,{get:function(){return L},set:function(q){if(typeof q!="number")throw new TypeError("End time must be set to a number.");L=q,this.hasBeenReset=!0}})),Object.defineProperty(m,"text",s({},y,{get:function(){return I},set:function(q){I=""+q,this.hasBeenReset=!0}})),Object.defineProperty(m,"region",s({},y,{get:function(){return C},set:function(q){C=q,this.hasBeenReset=!0}})),Object.defineProperty(m,"vertical",s({},y,{get:function(){return b},set:function(q){const X=r(q);if(X===!1)throw new SyntaxError("An invalid or illegal string was specified.");b=X,this.hasBeenReset=!0}})),Object.defineProperty(m,"snapToLines",s({},y,{get:function(){return M},set:function(q){M=!!q,this.hasBeenReset=!0}})),Object.defineProperty(m,"line",s({},y,{get:function(){return U},set:function(q){if(typeof q!="number"&&q!=="auto")throw new SyntaxError("An invalid number or illegal string was specified.");U=q,this.hasBeenReset=!0}})),Object.defineProperty(m,"lineAlign",s({},y,{get:function(){return B},set:function(q){const X=i(q);if(!X)throw new SyntaxError("An invalid or illegal string was specified.");B=X,this.hasBeenReset=!0}})),Object.defineProperty(m,"position",s({},y,{get:function(){return $},set:function(q){if(q<0||q>100)throw new Error("Position must be between 0 and 100.");$=q,this.hasBeenReset=!0}})),Object.defineProperty(m,"positionAlign",s({},y,{get:function(){return H},set:function(q){const X=i(q);if(!X)throw new SyntaxError("An invalid or illegal string was specified.");H=X,this.hasBeenReset=!0}})),Object.defineProperty(m,"size",s({},y,{get:function(){return j},set:function(q){if(q<0||q>100)throw new Error("Size must be between 0 and 100.");j=q,this.hasBeenReset=!0}})),Object.defineProperty(m,"align",s({},y,{get:function(){return Y},set:function(q){const X=i(q);if(!X)throw new SyntaxError("An invalid or illegal string was specified.");Y=X,this.hasBeenReset=!0}})),m.displayState=void 0}return o.prototype.getCueAsHTML=function(){return self.WebVTT.convertCueToDOMTree(self,this.text)},o}();class MM{decode(e,t){if(!e)return"";if(typeof e!="string")throw new Error("Error - expected string data.");return decodeURIComponent(encodeURIComponent(e))}}function C3(n){function e(r,i,s,o){return(r|0)*3600+(i|0)*60+(s|0)+parseFloat(o||0)}const t=n.match(/^(?:(\d+):)?(\d{2}):(\d{2})(\.\d+)?/);return t?parseFloat(t[2])>59?e(t[2],t[3],0,t[4]):e(t[1],t[2],t[3],t[4]):null}class OM{constructor(){this.values=Object.create(null)}set(e,t){!this.get(e)&&t!==""&&(this.values[e]=t)}get(e,t,r){return r?this.has(e)?this.values[e]:t[r]:this.has(e)?this.values[e]:t}has(e){return e in this.values}alt(e,t,r){for(let i=0;i<r.length;++i)if(t===r[i]){this.set(e,t);break}}integer(e,t){/^-?\d+$/.test(t)&&this.set(e,parseInt(t,10))}percent(e,t){if(/^([\d]{1,3})(\.[\d]*)?%$/.test(t)){const r=parseFloat(t);if(r>=0&&r<=100)return this.set(e,r),!0}return!1}}function I3(n,e,t,r){const i=r?n.split(r):[n];for(const s in i){if(typeof i[s]!="string")continue;const o=i[s].split(t);if(o.length!==2)continue;const l=o[0],u=o[1];e(l,u)}}const L2=new Gx(0,0,""),kd=L2.align==="middle"?"middle":"center";function FM(n,e,t){const r=n;function i(){const l=C3(n);if(l===null)throw new Error("Malformed timestamp: "+r);return n=n.replace(/^[^\sa-zA-Z-]+/,""),l}function s(l,u){const h=new OM;I3(l,function(_,T){let w;switch(_){case"region":for(let L=t.length-1;L>=0;L--)if(t[L].id===T){h.set(_,t[L].region);break}break;case"vertical":h.alt(_,T,["rl","lr"]);break;case"line":w=T.split(","),h.integer(_,w[0]),h.percent(_,w[0])&&h.set("snapToLines",!1),h.alt(_,w[0],["auto"]),w.length===2&&h.alt("lineAlign",w[1],["start",kd,"end"]);break;case"position":w=T.split(","),h.percent(_,w[0]),w.length===2&&h.alt("positionAlign",w[1],["start",kd,"end","line-left","line-right","auto"]);break;case"size":h.percent(_,T);break;case"align":h.alt(_,T,["start",kd,"end","left","right"]);break}},/:/,/\s/),u.region=h.get("region",null),u.vertical=h.get("vertical","");let m=h.get("line","auto");m==="auto"&&L2.line===-1&&(m=-1),u.line=m,u.lineAlign=h.get("lineAlign","start"),u.snapToLines=h.get("snapToLines",!0),u.size=h.get("size",100),u.align=h.get("align",kd);let y=h.get("position","auto");y==="auto"&&L2.position===50&&(y=u.align==="start"||u.align==="left"?0:u.align==="end"||u.align==="right"?100:50),u.position=y}function o(){n=n.replace(/^\s+/,"")}if(o(),e.startTime=i(),o(),n.slice(0,3)!=="-->")throw new Error("Malformed time stamp (time stamps must be separated by '-->'): "+r);n=n.slice(3),o(),e.endTime=i(),o(),s(n,e)}function D3(n){return n.replace(/<br(?: \/)?>/gi,`
`)}class NM{constructor(){this.state="INITIAL",this.buffer="",this.decoder=new MM,this.regionList=[],this.cue=null,this.oncue=void 0,this.onparsingerror=void 0,this.onflush=void 0}parse(e){const t=this;e&&(t.buffer+=t.decoder.decode(e,{stream:!0}));function r(){let s=t.buffer,o=0;for(s=D3(s);o<s.length&&s[o]!=="\r"&&s[o]!==`
`;)++o;const l=s.slice(0,o);return s[o]==="\r"&&++o,s[o]===`
`&&++o,t.buffer=s.slice(o),l}function i(s){I3(s,function(o,l){},/:/)}try{let s="";if(t.state==="INITIAL"){if(!/\r\n|\n/.test(t.buffer))return this;s=r();const l=s.match(/^()?WEBVTT([ \t].*)?$/);if(!(l!=null&&l[0]))throw new Error("Malformed WebVTT signature.");t.state="HEADER"}let o=!1;for(;t.buffer;){if(!/\r\n|\n/.test(t.buffer))return this;switch(o?o=!1:s=r(),t.state){case"HEADER":/:/.test(s)?i(s):s||(t.state="ID");continue;case"NOTE":s||(t.state="ID");continue;case"ID":if(/^NOTE($|[ \t])/.test(s)){t.state="NOTE";break}if(!s)continue;if(t.cue=new Gx(0,0,""),t.state="CUE",s.indexOf("-->")===-1){t.cue.id=s;continue}case"CUE":if(!t.cue){t.state="BADCUE";continue}try{FM(s,t.cue,t.regionList)}catch{t.cue=null,t.state="BADCUE";continue}t.state="CUETEXT";continue;case"CUETEXT":{const l=s.indexOf("-->")!==-1;if(!s||l&&(o=!0)){t.oncue&&t.cue&&t.oncue(t.cue),t.cue=null,t.state="ID";continue}if(t.cue===null)continue;t.cue.text&&(t.cue.text+=`
`),t.cue.text+=s}continue;case"BADCUE":s||(t.state="ID")}}}catch{t.state==="CUETEXT"&&t.cue&&t.oncue&&t.oncue(t.cue),t.cue=null,t.state=t.state==="INITIAL"?"BADWEBVTT":"BADCUE"}return this}flush(){const e=this;try{if((e.cue||e.state==="HEADER")&&(e.buffer+=`

`,e.parse()),e.state==="INITIAL"||e.state==="BADWEBVTT")throw new Error("Malformed WebVTT signature.")}catch(t){e.onparsingerror&&e.onparsingerror(t)}return e.onflush&&e.onflush(),this}}const BM=/\r\n|\n\r|\n|\r/g,Y1=function(e,t,r=0){return e.slice(r,r+t.length)===t},UM=function(e){let t=parseInt(e.slice(-3));const r=parseInt(e.slice(-6,-4)),i=parseInt(e.slice(-9,-7)),s=e.length>9?parseInt(e.substring(0,e.indexOf(":"))):0;if(!He(t)||!He(r)||!He(i)||!He(s))throw Error(`Malformed X-TIMESTAMP-MAP: Local:${e}`);return t+=1e3*r,t+=60*1e3*i,t+=60*60*1e3*s,t},q1=function(e){let t=5381,r=e.length;for(;r;)t=t*33^e.charCodeAt(--r);return(t>>>0).toString()};function $x(n,e,t){return q1(n.toString())+q1(e.toString())+q1(t)}const GM=function(e,t,r){let i=e[t],s=e[i.prevCC];if(!s||!s.new&&i.new){e.ccOffset=e.presentationOffset=i.start,i.new=!1;return}for(;(o=s)!=null&&o.new;){var o;e.ccOffset+=i.start-s.start,i.new=!1,i=s,s=e[i.prevCC]}e.presentationOffset=r};function $M(n,e,t,r,i,s,o){const l=new NM,u=So(new Uint8Array(n)).trim().replace(BM,`
`).split(`
`),h=[],m=e?AM(e.baseTime,e.timescale):0;let y="00:00.000",_=0,T=0,w,L=!0;l.oncue=function(I){const C=t[r];let b=t.ccOffset;const M=(_-m)/9e4;if(C!=null&&C.new&&(T!==void 0?b=t.ccOffset=C.start:GM(t,r,M)),M){if(!e){w=new Error("Missing initPTS for VTT MPEGTS");return}b=M-t.presentationOffset}const U=I.endTime-I.startTime,B=ms((I.startTime+b-T)*9e4,i*9e4)/9e4;I.startTime=Math.max(B,0),I.endTime=Math.max(B+U,0);const $=I.text.trim();I.text=decodeURIComponent(encodeURIComponent($)),I.id||(I.id=$x(I.startTime,I.endTime,$)),I.endTime>0&&h.push(I)},l.onparsingerror=function(I){w=I},l.onflush=function(){if(w){o(w);return}s(h)},u.forEach(I=>{if(L)if(Y1(I,"X-TIMESTAMP-MAP=")){L=!1,I.slice(16).split(",").forEach(C=>{Y1(C,"LOCAL:")?y=C.slice(6):Y1(C,"MPEGTS:")&&(_=parseInt(C.slice(7)))});try{T=UM(y)/1e3}catch(C){w=C}return}else I===""&&(L=!1);l.parse(I+`
`)}),l.flush()}const X1="stpp.ttml.im1t",b3=/^(\d{2,}):(\d{2}):(\d{2}):(\d{2})\.?(\d+)?$/,P3=/^(\d*(?:\.\d*)?)(h|m|s|ms|f|t)$/,zM={left:"start",center:"center",right:"end",start:"start",end:"end"};function ZS(n,e,t,r){const i=Et(new Uint8Array(n),["mdat"]);if(i.length===0){r(new Error("Could not parse IMSC1 mdat"));return}const s=i.map(l=>So(l)),o=aM(e.baseTime,1,e.timescale);try{s.forEach(l=>t(HM(l,o)))}catch(l){r(l)}}function HM(n,e){const i=new DOMParser().parseFromString(n,"text/xml").getElementsByTagName("tt")[0];if(!i)throw new Error("Invalid ttml");const s={frameRate:30,subFrameRate:1,frameRateMultiplier:0,tickRate:0},o=Object.keys(s).reduce((y,_)=>(y[_]=i.getAttribute(`ttp:${_}`)||s[_],y),{}),l=i.getAttribute("xml:space")!=="preserve",u=JS(Z1(i,"styling","style")),h=JS(Z1(i,"layout","region")),m=Z1(i,"body","[begin]");return[].map.call(m,y=>{const _=M3(y,l);if(!_||!y.hasAttribute("begin"))return null;const T=ey(y.getAttribute("begin"),o),w=ey(y.getAttribute("dur"),o);let L=ey(y.getAttribute("end"),o);if(T===null)throw eT(y);if(L===null){if(w===null)throw eT(y);L=T+w}const I=new Gx(T-e,L-e,_);I.id=$x(I.startTime,I.endTime,I.text);const C=h[y.getAttribute("region")],b=u[y.getAttribute("style")],M=jM(C,b,u),{textAlign:U}=M;if(U){const B=zM[U];B&&(I.lineAlign=B),I.align=U}return Gn(I,M),I}).filter(y=>y!==null)}function Z1(n,e,t){const r=n.getElementsByTagName(e)[0];return r?[].slice.call(r.querySelectorAll(t)):[]}function JS(n){return n.reduce((e,t)=>{const r=t.getAttribute("xml:id");return r&&(e[r]=t),e},{})}function M3(n,e){return[].slice.call(n.childNodes).reduce((t,r,i)=>{var s;return r.nodeName==="br"&&i?t+`
`:(s=r.childNodes)!=null&&s.length?M3(r,e):e?t+r.textContent.trim().replace(/\s+/g," "):t+r.textContent},"")}function jM(n,e,t){const r="http://www.w3.org/ns/ttml#styling";let i=null;const s=["displayAlign","textAlign","color","backgroundColor","fontSize","fontFamily"],o=n!=null&&n.hasAttribute("style")?n.getAttribute("style"):null;return o&&t.hasOwnProperty(o)&&(i=t[o]),s.reduce((l,u)=>{const h=J1(e,r,u)||J1(n,r,u)||J1(i,r,u);return h&&(l[u]=h),l},{})}function J1(n,e,t){return n&&n.hasAttributeNS(e,t)?n.getAttributeNS(e,t):null}function eT(n){return new Error(`Could not parse ttml timestamp ${n}`)}function ey(n,e){if(!n)return null;let t=C3(n);return t===null&&(b3.test(n)?t=VM(n,e):P3.test(n)&&(t=QM(n,e))),t}function VM(n,e){const t=b3.exec(n),r=(t[4]|0)+(t[5]|0)/e.subFrameRate;return(t[1]|0)*3600+(t[2]|0)*60+(t[3]|0)+r/e.frameRate}function QM(n,e){const t=P3.exec(n),r=Number(t[1]);switch(t[2]){case"h":return r*3600;case"m":return r*60;case"ms":return r*1e3;case"f":return r/e.frameRate;case"t":return r/e.tickRate}return r}class O3{constructor(e){this.hls=void 0,this.media=null,this.config=void 0,this.enabled=!0,this.Cues=void 0,this.textTracks=[],this.tracks=[],this.initPTS=[],this.unparsedVttFrags=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.cea608Parser1=void 0,this.cea608Parser2=void 0,this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=nT(),this.captionsProperties=void 0,this.hls=e,this.config=e.config,this.Cues=e.config.cueHandler,this.captionsProperties={textTrack1:{label:this.config.captionsTextTrack1Label,languageCode:this.config.captionsTextTrack1LanguageCode},textTrack2:{label:this.config.captionsTextTrack2Label,languageCode:this.config.captionsTextTrack2LanguageCode},textTrack3:{label:this.config.captionsTextTrack3Label,languageCode:this.config.captionsTextTrack3LanguageCode},textTrack4:{label:this.config.captionsTextTrack4Label,languageCode:this.config.captionsTextTrack4LanguageCode}},e.on(z.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(z.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.on(z.FRAG_LOADING,this.onFragLoading,this),e.on(z.FRAG_LOADED,this.onFragLoaded,this),e.on(z.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.on(z.FRAG_DECRYPTED,this.onFragDecrypted,this),e.on(z.INIT_PTS_FOUND,this.onInitPtsFound,this),e.on(z.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.on(z.BUFFER_FLUSHING,this.onBufferFlushing,this)}destroy(){const{hls:e}=this;e.off(z.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(z.SUBTITLE_TRACKS_UPDATED,this.onSubtitleTracksUpdated,this),e.off(z.FRAG_LOADING,this.onFragLoading,this),e.off(z.FRAG_LOADED,this.onFragLoaded,this),e.off(z.FRAG_PARSING_USERDATA,this.onFragParsingUserdata,this),e.off(z.FRAG_DECRYPTED,this.onFragDecrypted,this),e.off(z.INIT_PTS_FOUND,this.onInitPtsFound,this),e.off(z.SUBTITLE_TRACKS_CLEARED,this.onSubtitleTracksCleared,this),e.off(z.BUFFER_FLUSHING,this.onBufferFlushing,this),this.hls=this.config=null,this.cea608Parser1=this.cea608Parser2=void 0}initCea608Parsers(){if(this.config.enableCEA708Captions&&(!this.cea608Parser1||!this.cea608Parser2)){const e=new wd(this,"textTrack1"),t=new wd(this,"textTrack2"),r=new wd(this,"textTrack3"),i=new wd(this,"textTrack4");this.cea608Parser1=new XS(1,e,t),this.cea608Parser2=new XS(3,r,i)}}addCues(e,t,r,i,s){let o=!1;for(let l=s.length;l--;){const u=s[l],h=KM(u[0],u[1],t,r);if(h>=0&&(u[0]=Math.min(u[0],t),u[1]=Math.max(u[1],r),o=!0,h/(r-t)>.5))return}if(o||s.push([t,r]),this.config.renderTextTracksNatively){const l=this.captionsTracks[e];this.Cues.newCue(l,t,r,i)}else{const l=this.Cues.newCue(null,t,r,i);this.hls.trigger(z.CUES_PARSED,{type:"captions",cues:l,track:e})}}onInitPtsFound(e,{frag:t,id:r,initPTS:i,timescale:s}){const{unparsedVttFrags:o}=this;r==="main"&&(this.initPTS[t.cc]={baseTime:i,timescale:s}),o.length&&(this.unparsedVttFrags=[],o.forEach(l=>{this.onFragLoaded(z.FRAG_LOADED,l)}))}getExistingTrack(e,t){const{media:r}=this;if(r)for(let i=0;i<r.textTracks.length;i++){const s=r.textTracks[i];if(tT(s,{name:e,lang:t,attrs:{}}))return s}return null}createCaptionsTrack(e){this.config.renderTextTracksNatively?this.createNativeTrack(e):this.createNonNativeTrack(e)}createNativeTrack(e){if(this.captionsTracks[e])return;const{captionsProperties:t,captionsTracks:r,media:i}=this,{label:s,languageCode:o}=t[e],l=this.getExistingTrack(s,o);if(l)r[e]=l,Pu(r[e]),KR(r[e],i);else{const u=this.createTextTrack("captions",s,o);u&&(u[e]=!0,r[e]=u)}}createNonNativeTrack(e){if(this.nonNativeCaptionsTracks[e])return;const t=this.captionsProperties[e];if(!t)return;const r=t.label,i={_id:e,label:r,kind:"captions",default:t.media?!!t.media.default:!1,closedCaptions:t.media};this.nonNativeCaptionsTracks[e]=i,this.hls.trigger(z.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:[i]})}createTextTrack(e,t,r){const i=this.media;if(i)return i.addTextTrack(e,t,r)}onMediaAttaching(e,t){this.media=t.media,this._cleanTracks()}onMediaDetaching(){const{captionsTracks:e}=this;Object.keys(e).forEach(t=>{Pu(e[t]),delete e[t]}),this.nonNativeCaptionsTracks={}}onManifestLoading(){this.lastCc=-1,this.lastSn=-1,this.lastPartIndex=-1,this.prevCC=-1,this.vttCCs=nT(),this._cleanTracks(),this.tracks=[],this.captionsTracks={},this.nonNativeCaptionsTracks={},this.textTracks=[],this.unparsedVttFrags=[],this.initPTS=[],this.cea608Parser1&&this.cea608Parser2&&(this.cea608Parser1.reset(),this.cea608Parser2.reset())}_cleanTracks(){const{media:e}=this;if(!e)return;const t=e.textTracks;if(t)for(let r=0;r<t.length;r++)Pu(t[r])}onSubtitleTracksUpdated(e,t){const r=t.subtitleTracks||[],i=r.some(s=>s.textCodec===X1);if(this.config.enableWebVTT||i&&this.config.enableIMSC1){if(_3(this.tracks,r)){this.tracks=r;return}if(this.textTracks=[],this.tracks=r,this.config.renderTextTracksNatively){const o=this.media,l=o?rg(o.textTracks):null;if(this.tracks.forEach((u,h)=>{let m;if(l){let y=null;for(let _=0;_<l.length;_++)if(l[_]&&tT(l[_],u)){y=l[_],l[_]=null;break}y&&(m=y)}if(m)Pu(m);else{const y=F3(u);m=this.createTextTrack(y,u.name,u.lang),m&&(m.mode="disabled")}m&&this.textTracks.push(m)}),l!=null&&l.length){const u=l.filter(h=>h!==null).map(h=>h.label);u.length&&he.warn(`Media element contains unused subtitle tracks: ${u.join(", ")}. Replace media element for each source to clear TextTracks and captions menu.`)}}else if(this.tracks.length){const o=this.tracks.map(l=>({label:l.name,kind:l.type.toLowerCase(),default:l.default,subtitleTrack:l}));this.hls.trigger(z.NON_NATIVE_TEXT_TRACKS_FOUND,{tracks:o})}}}onManifestLoaded(e,t){this.config.enableCEA708Captions&&t.captions&&t.captions.forEach(r=>{const i=/(?:CC|SERVICE)([1-4])/.exec(r.instreamId);if(!i)return;const s=`textTrack${i[1]}`,o=this.captionsProperties[s];o&&(o.label=r.name,r.lang&&(o.languageCode=r.lang),o.media=r)})}closedCaptionsForLevel(e){const t=this.hls.levels[e.level];return t==null?void 0:t.attrs["CLOSED-CAPTIONS"]}onFragLoading(e,t){if(this.enabled&&t.frag.type===et.MAIN){var r,i;const{cea608Parser1:s,cea608Parser2:o,lastSn:l}=this,{cc:u,sn:h}=t.frag,m=(r=(i=t.part)==null?void 0:i.index)!=null?r:-1;s&&o&&(h!==l+1||h===l&&m!==this.lastPartIndex+1||u!==this.lastCc)&&(s.reset(),o.reset()),this.lastCc=u,this.lastSn=h,this.lastPartIndex=m}}onFragLoaded(e,t){const{frag:r,payload:i}=t;if(r.type===et.SUBTITLE)if(i.byteLength){const s=r.decryptdata,o="stats"in t;if(s==null||!s.encrypted||o){const l=this.tracks[r.level],u=this.vttCCs;u[r.cc]||(u[r.cc]={start:r.start,prevCC:this.prevCC,new:!0},this.prevCC=r.cc),l&&l.textCodec===X1?this._parseIMSC1(r,i):this._parseVTTs(t)}}else this.hls.trigger(z.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:new Error("Empty subtitle payload")})}_parseIMSC1(e,t){const r=this.hls;ZS(t,this.initPTS[e.cc],i=>{this._appendCues(i,e.level),r.trigger(z.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:e})},i=>{he.log(`Failed to parse IMSC1: ${i}`),r.trigger(z.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:e,error:i})})}_parseVTTs(e){var t;const{frag:r,payload:i}=e,{initPTS:s,unparsedVttFrags:o}=this,l=s.length-1;if(!s[r.cc]&&l===-1){o.push(e);return}const u=this.hls,h=(t=r.initSegment)!=null&&t.data?Rs(r.initSegment.data,new Uint8Array(i)):i;$M(h,this.initPTS[r.cc],this.vttCCs,r.cc,r.start,m=>{this._appendCues(m,r.level),u.trigger(z.SUBTITLE_FRAG_PROCESSED,{success:!0,frag:r})},m=>{const y=m.message==="Missing initPTS for VTT MPEGTS";y?o.push(e):this._fallbackToIMSC1(r,i),he.log(`Failed to parse VTT cue: ${m}`),!(y&&l>r.cc)&&u.trigger(z.SUBTITLE_FRAG_PROCESSED,{success:!1,frag:r,error:m})})}_fallbackToIMSC1(e,t){const r=this.tracks[e.level];r.textCodec||ZS(t,this.initPTS[e.cc],()=>{r.textCodec=X1,this._parseIMSC1(e,t)},()=>{r.textCodec="wvtt"})}_appendCues(e,t){const r=this.hls;if(this.config.renderTextTracksNatively){const i=this.textTracks[t];if(!i||i.mode==="disabled")return;e.forEach(s=>WR(i,s))}else{const i=this.tracks[t];if(!i)return;const s=i.default?"default":"subtitles"+t;r.trigger(z.CUES_PARSED,{type:"subtitles",cues:e,track:s})}}onFragDecrypted(e,t){const{frag:r}=t;r.type===et.SUBTITLE&&this.onFragLoaded(z.FRAG_LOADED,t)}onSubtitleTracksCleared(){this.tracks=[],this.captionsTracks={}}onFragParsingUserdata(e,t){this.initCea608Parsers();const{cea608Parser1:r,cea608Parser2:i}=this;if(!this.enabled||!r||!i)return;const{frag:s,samples:o}=t;if(!(s.type===et.MAIN&&this.closedCaptionsForLevel(s)==="NONE"))for(let l=0;l<o.length;l++){const u=o[l].bytes;if(u){const h=this.extractCea608Data(u);r.addData(o[l].pts,h[0]),i.addData(o[l].pts,h[1])}}}onBufferFlushing(e,{startOffset:t,endOffset:r,endOffsetSubtitles:i,type:s}){const{media:o}=this;if(!(!o||o.currentTime<r)){if(!s||s==="video"){const{captionsTracks:l}=this;Object.keys(l).forEach(u=>v2(l[u],t,r))}if(this.config.renderTextTracksNatively&&t===0&&i!==void 0){const{textTracks:l}=this;Object.keys(l).forEach(u=>v2(l[u],t,i))}}}extractCea608Data(e){const t=[[],[]],r=e[0]&31;let i=2;for(let s=0;s<r;s++){const o=e[i++],l=127&e[i++],u=127&e[i++];if(l===0&&u===0)continue;if((4&o)!==0){const m=3&o;(m===0||m===1)&&(t[m].push(l),t[m].push(u))}}return t}}function F3(n){return n.characteristics&&/transcribes-spoken-dialog/gi.test(n.characteristics)&&/describes-music-and-sound/gi.test(n.characteristics)?"captions":"subtitles"}function tT(n,e){return!!n&&n.kind===F3(e)&&k2(e,n)}function KM(n,e,t,r){return Math.min(e,r)-Math.max(n,t)}function nT(){return{ccOffset:0,presentationOffset:0,0:{start:0,prevCC:-1,new:!0}}}class im{constructor(e){this.hls=void 0,this.autoLevelCapping=void 0,this.firstLevel=void 0,this.media=void 0,this.restrictedLevels=void 0,this.timer=void 0,this.clientRect=void 0,this.streamController=void 0,this.hls=e,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.firstLevel=-1,this.media=null,this.restrictedLevels=[],this.timer=void 0,this.clientRect=null,this.registerListeners()}setStreamController(e){this.streamController=e}destroy(){this.hls&&this.unregisterListener(),this.timer&&this.stopCapping(),this.media=null,this.clientRect=null,this.hls=this.streamController=null}registerListeners(){const{hls:e}=this;e.on(z.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.on(z.MEDIA_ATTACHING,this.onMediaAttaching,this),e.on(z.MANIFEST_PARSED,this.onManifestParsed,this),e.on(z.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(z.BUFFER_CODECS,this.onBufferCodecs,this),e.on(z.MEDIA_DETACHING,this.onMediaDetaching,this)}unregisterListener(){const{hls:e}=this;e.off(z.FPS_DROP_LEVEL_CAPPING,this.onFpsDropLevelCapping,this),e.off(z.MEDIA_ATTACHING,this.onMediaAttaching,this),e.off(z.MANIFEST_PARSED,this.onManifestParsed,this),e.off(z.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(z.BUFFER_CODECS,this.onBufferCodecs,this),e.off(z.MEDIA_DETACHING,this.onMediaDetaching,this)}onFpsDropLevelCapping(e,t){const r=this.hls.levels[t.droppedLevel];this.isLevelAllowed(r)&&this.restrictedLevels.push({bitrate:r.bitrate,height:r.height,width:r.width})}onMediaAttaching(e,t){this.media=t.media instanceof HTMLVideoElement?t.media:null,this.clientRect=null,this.timer&&this.hls.levels.length&&this.detectPlayerSize()}onManifestParsed(e,t){const r=this.hls;this.restrictedLevels=[],this.firstLevel=t.firstLevel,r.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onLevelsUpdated(e,t){this.timer&&He(this.autoLevelCapping)&&this.detectPlayerSize()}onBufferCodecs(e,t){this.hls.config.capLevelToPlayerSize&&t.video&&this.startCapping()}onMediaDetaching(){this.stopCapping()}detectPlayerSize(){if(this.media){if(this.mediaHeight<=0||this.mediaWidth<=0){this.clientRect=null;return}const e=this.hls.levels;if(e.length){const t=this.hls,r=this.getMaxLevel(e.length-1);r!==this.autoLevelCapping&&he.log(`Setting autoLevelCapping to ${r}: ${e[r].height}p@${e[r].bitrate} for media ${this.mediaWidth}x${this.mediaHeight}`),t.autoLevelCapping=r,t.autoLevelCapping>this.autoLevelCapping&&this.streamController&&this.streamController.nextLevelSwitch(),this.autoLevelCapping=t.autoLevelCapping}}}getMaxLevel(e){const t=this.hls.levels;if(!t.length)return-1;const r=t.filter((i,s)=>this.isLevelAllowed(i)&&s<=e);return this.clientRect=null,im.getMaxLevelByMediaSize(r,this.mediaWidth,this.mediaHeight)}startCapping(){this.timer||(this.autoLevelCapping=Number.POSITIVE_INFINITY,self.clearInterval(this.timer),this.timer=self.setInterval(this.detectPlayerSize.bind(this),1e3),this.detectPlayerSize())}stopCapping(){this.restrictedLevels=[],this.firstLevel=-1,this.autoLevelCapping=Number.POSITIVE_INFINITY,this.timer&&(self.clearInterval(this.timer),this.timer=void 0)}getDimensions(){if(this.clientRect)return this.clientRect;const e=this.media,t={width:0,height:0};if(e){const r=e.getBoundingClientRect();t.width=r.width,t.height=r.height,!t.width&&!t.height&&(t.width=r.right-r.left||e.width||0,t.height=r.bottom-r.top||e.height||0)}return this.clientRect=t,t}get mediaWidth(){return this.getDimensions().width*this.contentScaleFactor}get mediaHeight(){return this.getDimensions().height*this.contentScaleFactor}get contentScaleFactor(){let e=1;if(!this.hls.config.ignoreDevicePixelRatio)try{e=self.devicePixelRatio}catch{}return e}isLevelAllowed(e){return!this.restrictedLevels.some(r=>e.bitrate===r.bitrate&&e.width===r.width&&e.height===r.height)}static getMaxLevelByMediaSize(e,t,r){if(!(e!=null&&e.length))return-1;const i=(l,u)=>u?l.width!==u.width||l.height!==u.height:!0;let s=e.length-1;const o=Math.max(t,r);for(let l=0;l<e.length;l+=1){const u=e[l];if((u.width>=o||u.height>=o)&&i(u,e[l+1])){s=l;break}}return s}}class N3{constructor(e){this.hls=void 0,this.isVideoPlaybackQualityAvailable=!1,this.timer=void 0,this.media=null,this.lastTime=void 0,this.lastDroppedFrames=0,this.lastDecodedFrames=0,this.streamController=void 0,this.hls=e,this.registerListeners()}setStreamController(e){this.streamController=e}registerListeners(){this.hls.on(z.MEDIA_ATTACHING,this.onMediaAttaching,this)}unregisterListeners(){this.hls.off(z.MEDIA_ATTACHING,this.onMediaAttaching,this)}destroy(){this.timer&&clearInterval(this.timer),this.unregisterListeners(),this.isVideoPlaybackQualityAvailable=!1,this.media=null}onMediaAttaching(e,t){const r=this.hls.config;if(r.capLevelOnFPSDrop){const i=t.media instanceof self.HTMLVideoElement?t.media:null;this.media=i,i&&typeof i.getVideoPlaybackQuality=="function"&&(this.isVideoPlaybackQualityAvailable=!0),self.clearInterval(this.timer),this.timer=self.setInterval(this.checkFPSInterval.bind(this),r.fpsDroppedMonitoringPeriod)}}checkFPS(e,t,r){const i=performance.now();if(t){if(this.lastTime){const s=i-this.lastTime,o=r-this.lastDroppedFrames,l=t-this.lastDecodedFrames,u=1e3*o/s,h=this.hls;if(h.trigger(z.FPS_DROP,{currentDropped:o,currentDecoded:l,totalDroppedFrames:r}),u>0&&o>h.config.fpsDroppedMonitoringThreshold*l){let m=h.currentLevel;he.warn("drop FPS ratio greater than max allowed value for currentLevel: "+m),m>0&&(h.autoLevelCapping===-1||h.autoLevelCapping>=m)&&(m=m-1,h.trigger(z.FPS_DROP_LEVEL_CAPPING,{level:m,droppedLevel:h.currentLevel}),h.autoLevelCapping=m,this.streamController.nextLevelSwitch())}}this.lastTime=i,this.lastDroppedFrames=r,this.lastDecodedFrames=t}}checkFPSInterval(){const e=this.media;if(e)if(this.isVideoPlaybackQualityAvailable){const t=e.getVideoPlaybackQuality();this.checkFPS(e,t.totalVideoFrames,t.droppedVideoFrames)}else this.checkFPS(e,e.webkitDecodedFrameCount,e.webkitDroppedFrameCount)}}const Ld="[eme]";class dA{constructor(e){this.hls=void 0,this.config=void 0,this.media=null,this.keyFormatPromise=null,this.keySystemAccessPromises={},this._requestLicenseFailureCount=0,this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},this.setMediaKeysQueue=dA.CDMCleanupPromise?[dA.CDMCleanupPromise]:[],this.onMediaEncrypted=this._onMediaEncrypted.bind(this),this.onWaitingForKey=this._onWaitingForKey.bind(this),this.debug=he.debug.bind(he,Ld),this.log=he.log.bind(he,Ld),this.warn=he.warn.bind(he,Ld),this.error=he.error.bind(he,Ld),this.hls=e,this.config=e.config,this.registerListeners()}destroy(){this.unregisterListeners(),this.onMediaDetached();const e=this.config;e.requestMediaKeySystemAccessFunc=null,e.licenseXhrSetup=e.licenseResponseCallback=void 0,e.drmSystems=e.drmSystemOptions={},this.hls=this.onMediaEncrypted=this.onWaitingForKey=this.keyIdToKeySessionPromise=null,this.config=null}registerListeners(){this.hls.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.on(z.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.on(z.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.on(z.MANIFEST_LOADED,this.onManifestLoaded,this)}unregisterListeners(){this.hls.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),this.hls.off(z.MEDIA_DETACHED,this.onMediaDetached,this),this.hls.off(z.MANIFEST_LOADING,this.onManifestLoading,this),this.hls.off(z.MANIFEST_LOADED,this.onManifestLoaded,this)}getLicenseServerUrl(e){const{drmSystems:t,widevineLicenseUrl:r}=this.config,i=t[e];if(i)return i.licenseUrl;if(e===Jt.WIDEVINE&&r)return r;throw new Error(`no license server URL configured for key-system "${e}"`)}getServerCertificateUrl(e){const{drmSystems:t}=this.config,r=t[e];if(r)return r.serverCertificateUrl;this.log(`No Server Certificate in config.drmSystems["${e}"]`)}attemptKeySystemAccess(e){const t=this.hls.levels,r=(o,l,u)=>!!o&&u.indexOf(o)===l,i=t.map(o=>o.audioCodec).filter(r),s=t.map(o=>o.videoCodec).filter(r);return i.length+s.length===0&&s.push("avc1.42e01e"),new Promise((o,l)=>{const u=h=>{const m=h.shift();this.getMediaKeysPromise(m,i,s).then(y=>o({keySystem:m,mediaKeys:y})).catch(y=>{h.length?u(h):y instanceof cs?l(y):l(new cs({type:st.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_NO_ACCESS,error:y,fatal:!0},y.message))})};u(e)})}requestMediaKeySystemAccess(e,t){const{requestMediaKeySystemAccessFunc:r}=this.config;if(typeof r!="function"){let i=`Configured requestMediaKeySystemAccess is not a function ${r}`;return MR===null&&self.location.protocol==="http:"&&(i=`navigator.requestMediaKeySystemAccess is not available over insecure protocol ${location.protocol}`),Promise.reject(new Error(i))}return r(e,t)}getMediaKeysPromise(e,t,r){const i=a8(e,t,r,this.config.drmSystemOptions),s=this.keySystemAccessPromises[e];let o=s==null?void 0:s.keySystemAccess;if(!o){this.log(`Requesting encrypted media "${e}" key-system access with config: ${JSON.stringify(i)}`),o=this.requestMediaKeySystemAccess(e,i);const l=this.keySystemAccessPromises[e]={keySystemAccess:o};return o.catch(u=>{this.log(`Failed to obtain access to key-system "${e}": ${u}`)}),o.then(u=>{this.log(`Access for key-system "${u.keySystem}" obtained`);const h=this.fetchServerCertificate(e);return this.log(`Create media-keys for "${e}"`),l.mediaKeys=u.createMediaKeys().then(m=>(this.log(`Media-keys created for "${e}"`),h.then(y=>y?this.setMediaKeysServerCertificate(m,e,y):m))),l.mediaKeys.catch(m=>{this.error(`Failed to create media-keys for "${e}"}: ${m}`)}),l.mediaKeys})}return o.then(()=>s.mediaKeys)}createMediaKeySessionContext({decryptdata:e,keySystem:t,mediaKeys:r}){this.log(`Creating key-system session "${t}" keyId: ${fo.hexDump(e.keyId||[])}`);const i=r.createSession(),s={decryptdata:e,keySystem:t,mediaKeys:r,mediaKeysSession:i,keyStatus:"status-pending"};return this.mediaKeySessions.push(s),s}renewKeySession(e){const t=e.decryptdata;if(t.pssh){const r=this.createMediaKeySessionContext(e),i=this.getKeyIdString(t),s="cenc";this.keyIdToKeySessionPromise[i]=this.generateRequestWithPreferredKeySession(r,s,t.pssh,"expired")}else this.warn("Could not renew expired session. Missing pssh initData.");this.removeSession(e)}getKeyIdString(e){if(!e)throw new Error("Could not read keyId of undefined decryptdata");if(e.keyId===null)throw new Error("keyId is null");return fo.hexDump(e.keyId)}updateKeySession(e,t){var r;const i=e.mediaKeysSession;return this.log(`Updating key-session "${i.sessionId}" for keyID ${fo.hexDump(((r=e.decryptdata)==null?void 0:r.keyId)||[])}
      } (data length: ${t&&t.byteLength})`),i.update(t)}selectKeySystemFormat(e){const t=Object.keys(e.levelkeys||{});return this.keyFormatPromise||(this.log(`Selecting key-system from fragment (sn: ${e.sn} ${e.type}: ${e.level}) key formats ${t.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(t)),this.keyFormatPromise}getKeyFormatPromise(e){return new Promise((t,r)=>{const i=F1(this.config),s=e.map(AS).filter(o=>!!o&&i.indexOf(o)!==-1);return this.getKeySystemSelectionPromise(s).then(({keySystem:o})=>{const l=fS(o);l?t(l):r(new Error(`Unable to find format for key-system "${o}"`))}).catch(r)})}loadKey(e){const t=e.keyInfo.decryptdata,r=this.getKeyIdString(t),i=`(keyId: ${r} format: "${t.keyFormat}" method: ${t.method} uri: ${t.uri})`;this.log(`Starting session for key ${i}`);let s=this.keyIdToKeySessionPromise[r];return s||(s=this.keyIdToKeySessionPromise[r]=this.getKeySystemForKeyPromise(t).then(({keySystem:o,mediaKeys:l})=>(this.throwIfDestroyed(),this.log(`Handle encrypted media sn: ${e.frag.sn} ${e.frag.type}: ${e.frag.level} using key ${i}`),this.attemptSetMediaKeys(o,l).then(()=>{this.throwIfDestroyed();const u=this.createMediaKeySessionContext({keySystem:o,mediaKeys:l,decryptdata:t});return this.generateRequestWithPreferredKeySession(u,"cenc",t.pssh,"playlist-key")}))),s.catch(o=>this.handleError(o))),s}throwIfDestroyed(e="Invalid state"){if(!this.hls)throw new Error("invalid state")}handleError(e){this.hls&&(this.error(e.message),e instanceof cs?this.hls.trigger(z.ERROR,e.data):this.hls.trigger(z.ERROR,{type:st.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_NO_KEYS,error:e,fatal:!0}))}getKeySystemForKeyPromise(e){const t=this.getKeyIdString(e),r=this.keyIdToKeySessionPromise[t];if(!r){const i=AS(e.keyFormat),s=i?[i]:F1(this.config);return this.attemptKeySystemAccess(s)}return r}getKeySystemSelectionPromise(e){if(e.length||(e=F1(this.config)),e.length===0)throw new cs({type:st.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_NO_CONFIGURED_LICENSE,fatal:!0},`Missing key-system license configuration options ${JSON.stringify({drmSystems:this.config.drmSystems})}`);return this.attemptKeySystemAccess(e)}_onMediaEncrypted(e){const{initDataType:t,initData:r}=e,i=`"${e.type}" event: init data type: "${t}"`;if(this.debug(i),r===null)return;let s,o;if(t==="sinf"&&this.config.drmSystems[Jt.FAIRPLAY]){const y=Vn(new Uint8Array(r));try{const _=Ix(JSON.parse(y).sinf),T=zR(new Uint8Array(_));if(!T)throw new Error("'schm' box missing or not cbcs/cenc with schi > tenc");s=T.subarray(8,24),o=Jt.FAIRPLAY}catch(_){this.warn(`${i} Failed to parse sinf: ${_}`);return}}else{const y=P8(r),_=y.filter(T=>T.systemId===Tf.WIDEVINE)[0];if(!_){y.length===0||y.some(T=>!T.systemId)?this.warn(`${i} contains incomplete or invalid pssh data`):this.log(`ignoring ${i} for ${y.map(T=>uS(T.systemId)).join(",")} pssh data in favor of playlist keys`);return}if(o=uS(_.systemId),_.version===0&&_.data){const T=_.data.length-22;s=_.data.subarray(T,T+16)}}if(!o||!s)return;const l=fo.hexDump(s),{keyIdToKeySessionPromise:u,mediaKeySessions:h}=this;let m=u[l];for(let y=0;y<h.length;y++){const _=h[y],T=_.decryptdata;if(!T.keyId)continue;const w=fo.hexDump(T.keyId);if(l===w||T.uri.replace(/-/g,"").indexOf(l)!==-1){if(m=u[w],T.pssh)break;delete u[w],T.pssh=new Uint8Array(r),T.keyId=s,m=u[l]=m.then(()=>this.generateRequestWithPreferredKeySession(_,t,r,"encrypted-event-key-match"));break}}m||(m=u[l]=this.getKeySystemSelectionPromise([o]).then(({keySystem:y,mediaKeys:_})=>{var T;this.throwIfDestroyed();const w=new u0("ISO-23001-7",l,(T=fS(y))!=null?T:"");return w.pssh=new Uint8Array(r),w.keyId=s,this.attemptSetMediaKeys(y,_).then(()=>{this.throwIfDestroyed();const L=this.createMediaKeySessionContext({decryptdata:w,keySystem:y,mediaKeys:_});return this.generateRequestWithPreferredKeySession(L,t,r,"encrypted-event-no-match")})})),m.catch(y=>this.handleError(y))}_onWaitingForKey(e){this.log(`"${e.type}" event`)}attemptSetMediaKeys(e,t){const r=this.setMediaKeysQueue.slice();this.log(`Setting media-keys for "${e}"`);const i=Promise.all(r).then(()=>{if(!this.media)throw new Error("Attempted to set mediaKeys without media element attached");return this.media.setMediaKeys(t)});return this.setMediaKeysQueue.push(i),i.then(()=>{this.log(`Media-keys set for "${e}"`),r.push(i),this.setMediaKeysQueue=this.setMediaKeysQueue.filter(s=>r.indexOf(s)===-1)})}generateRequestWithPreferredKeySession(e,t,r,i){var s,o;const l=(s=this.config.drmSystems)==null||(o=s[e.keySystem])==null?void 0:o.generateRequest;if(l)try{const w=l.call(this.hls,t,r,e);if(!w)throw new Error("Invalid response from configured generateRequest filter");t=w.initDataType,r=e.decryptdata.pssh=w.initData?new Uint8Array(w.initData):null}catch(w){var u;if(this.warn(w.message),(u=this.hls)!=null&&u.config.debug)throw w}if(r===null)return this.log(`Skipping key-session request for "${i}" (no initData)`),Promise.resolve(e);const h=this.getKeyIdString(e.decryptdata);this.log(`Generating key-session request for "${i}": ${h} (init data type: ${t} length: ${r?r.byteLength:null})`);const m=new Ux,y=e._onmessage=w=>{const L=e.mediaKeysSession;if(!L){m.emit("error",new Error("invalid state"));return}const{messageType:I,message:C}=w;this.log(`"${I}" message event for session "${L.sessionId}" message size: ${C.byteLength}`),I==="license-request"||I==="license-renewal"?this.renewLicense(e,C).catch(b=>{this.handleError(b),m.emit("error",b)}):I==="license-release"?e.keySystem===Jt.FAIRPLAY&&(this.updateKeySession(e,m2("acknowledged")),this.removeSession(e)):this.warn(`unhandled media key message type "${I}"`)},_=e._onkeystatuseschange=w=>{if(!e.mediaKeysSession){m.emit("error",new Error("invalid state"));return}this.onKeyStatusChange(e);const I=e.keyStatus;m.emit("keyStatus",I),I==="expired"&&(this.warn(`${e.keySystem} expired for key ${h}`),this.renewKeySession(e))};e.mediaKeysSession.addEventListener("message",y),e.mediaKeysSession.addEventListener("keystatuseschange",_);const T=new Promise((w,L)=>{m.on("error",L),m.on("keyStatus",I=>{I.startsWith("usable")?w():I==="output-restricted"?L(new cs({type:st.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_STATUS_OUTPUT_RESTRICTED,fatal:!1},"HDCP level output restricted")):I==="internal-error"?L(new cs({type:st.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_STATUS_INTERNAL_ERROR,fatal:!0},`key status changed to "${I}"`)):I==="expired"?L(new Error("key expired while generating request")):this.warn(`unhandled key status change "${I}"`)})});return e.mediaKeysSession.generateRequest(t,r).then(()=>{var w;this.log(`Request generated for key-session "${(w=e.mediaKeysSession)==null?void 0:w.sessionId}" keyId: ${h}`)}).catch(w=>{throw new cs({type:st.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_NO_SESSION,error:w,fatal:!1},`Error generating key-session request: ${w}`)}).then(()=>T).catch(w=>{throw m.removeAllListeners(),this.removeSession(e),w}).then(()=>(m.removeAllListeners(),e))}onKeyStatusChange(e){e.mediaKeysSession.keyStatuses.forEach((t,r)=>{this.log(`key status change "${t}" for keyStatuses keyId: ${fo.hexDump("buffer"in r?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r))} session keyId: ${fo.hexDump(new Uint8Array(e.decryptdata.keyId||[]))} uri: ${e.decryptdata.uri}`),e.keyStatus=t})}fetchServerCertificate(e){const t=this.config,r=t.loader,i=new r(t),s=this.getServerCertificateUrl(e);return s?(this.log(`Fetching server certificate for "${e}"`),new Promise((o,l)=>{const u={responseType:"arraybuffer",url:s},h=t.certLoadPolicy.default,m={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},y={onSuccess:(_,T,w,L)=>{o(_.data)},onError:(_,T,w,L)=>{l(new cs({type:st.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:w,response:lr({url:u.url,data:void 0},_)},`"${e}" certificate request failed (${s}). Status: ${_.code} (${_.text})`))},onTimeout:(_,T,w)=>{l(new cs({type:st.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_SERVER_CERTIFICATE_REQUEST_FAILED,fatal:!0,networkDetails:w,response:{url:u.url,data:void 0}},`"${e}" certificate request timed out (${s})`))},onAbort:(_,T,w)=>{l(new Error("aborted"))}};i.load(u,m,y)})):Promise.resolve()}setMediaKeysServerCertificate(e,t,r){return new Promise((i,s)=>{e.setServerCertificate(r).then(o=>{this.log(`setServerCertificate ${o?"success":"not supported by CDM"} (${r==null?void 0:r.byteLength}) on "${t}"`),i(e)}).catch(o=>{s(new cs({type:st.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_SERVER_CERTIFICATE_UPDATE_FAILED,error:o,fatal:!0},o.message))})})}renewLicense(e,t){return this.requestLicense(e,new Uint8Array(t)).then(r=>this.updateKeySession(e,new Uint8Array(r)).catch(i=>{throw new cs({type:st.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_SESSION_UPDATE_FAILED,error:i,fatal:!0},i.message)}))}unpackPlayReadyKeyMessage(e,t){const r=String.fromCharCode.apply(null,new Uint16Array(t.buffer));if(!r.includes("PlayReadyKeyMessage"))return e.setRequestHeader("Content-Type","text/xml; charset=utf-8"),t;const i=new DOMParser().parseFromString(r,"application/xml"),s=i.querySelectorAll("HttpHeader");if(s.length>0){let m;for(let y=0,_=s.length;y<_;y++){var o,l;m=s[y];const T=(o=m.querySelector("name"))==null?void 0:o.textContent,w=(l=m.querySelector("value"))==null?void 0:l.textContent;T&&w&&e.setRequestHeader(T,w)}}const u=i.querySelector("Challenge"),h=u==null?void 0:u.textContent;if(!h)throw new Error("Cannot find <Challenge> in key message");return m2(atob(h))}setupLicenseXHR(e,t,r,i){const s=this.config.licenseXhrSetup;return s?Promise.resolve().then(()=>{if(!r.decryptdata)throw new Error("Key removed");return s.call(this.hls,e,t,r,i)}).catch(o=>{if(!r.decryptdata)throw o;return e.open("POST",t,!0),s.call(this.hls,e,t,r,i)}).then(o=>(e.readyState||e.open("POST",t,!0),{xhr:e,licenseChallenge:o||i})):(e.open("POST",t,!0),Promise.resolve({xhr:e,licenseChallenge:i}))}requestLicense(e,t){const r=this.config.keyLoadPolicy.default;return new Promise((i,s)=>{const o=this.getLicenseServerUrl(e.keySystem);this.log(`Sending license request to URL: ${o}`);const l=new XMLHttpRequest;l.responseType="arraybuffer",l.onreadystatechange=()=>{if(!this.hls||!e.mediaKeysSession)return s(new Error("invalid state"));if(l.readyState===4)if(l.status===200){this._requestLicenseFailureCount=0;let u=l.response;this.log(`License received ${u instanceof ArrayBuffer?u.byteLength:u}`);const h=this.config.licenseResponseCallback;if(h)try{u=h.call(this.hls,l,o,e)}catch(m){this.error(m)}i(u)}else{const u=r.errorRetry,h=u?u.maxNumRetry:0;if(this._requestLicenseFailureCount++,this._requestLicenseFailureCount>h||l.status>=400&&l.status<500)s(new cs({type:st.KEY_SYSTEM_ERROR,details:_e.KEY_SYSTEM_LICENSE_REQUEST_FAILED,fatal:!0,networkDetails:l,response:{url:o,data:void 0,code:l.status,text:l.statusText}},`License Request XHR failed (${o}). Status: ${l.status} (${l.statusText})`));else{const m=h-this._requestLicenseFailureCount+1;this.warn(`Retrying license request, ${m} attempts left`),this.requestLicense(e,t).then(i,s)}}},e.licenseXhr&&e.licenseXhr.readyState!==XMLHttpRequest.DONE&&e.licenseXhr.abort(),e.licenseXhr=l,this.setupLicenseXHR(l,o,e,t).then(({xhr:u,licenseChallenge:h})=>{e.keySystem==Jt.PLAYREADY&&(h=this.unpackPlayReadyKeyMessage(u,h)),u.send(h)})})}onMediaAttached(e,t){if(!this.config.emeEnabled)return;const r=t.media;this.media=r,r.addEventListener("encrypted",this.onMediaEncrypted),r.addEventListener("waitingforkey",this.onWaitingForKey)}onMediaDetached(){const e=this.media,t=this.mediaKeySessions;e&&(e.removeEventListener("encrypted",this.onMediaEncrypted),e.removeEventListener("waitingforkey",this.onWaitingForKey),this.media=null),this._requestLicenseFailureCount=0,this.setMediaKeysQueue=[],this.mediaKeySessions=[],this.keyIdToKeySessionPromise={},u0.clearKeyUriToKeyIdMap();const r=t.length;dA.CDMCleanupPromise=Promise.all(t.map(i=>this.removeSession(i)).concat(e==null?void 0:e.setMediaKeys(null).catch(i=>{this.log(`Could not clear media keys: ${i}`)}))).then(()=>{r&&(this.log("finished closing key sessions and clearing media keys"),t.length=0)}).catch(i=>{this.log(`Could not close sessions and clear media keys: ${i}`)})}onManifestLoading(){this.keyFormatPromise=null}onManifestLoaded(e,{sessionKeys:t}){if(!(!t||!this.config.emeEnabled)&&!this.keyFormatPromise){const r=t.reduce((i,s)=>(i.indexOf(s.keyFormat)===-1&&i.push(s.keyFormat),i),[]);this.log(`Selecting key-system from session-keys ${r.join(", ")}`),this.keyFormatPromise=this.getKeyFormatPromise(r)}}removeSession(e){const{mediaKeysSession:t,licenseXhr:r}=e;if(t){this.log(`Remove licenses and keys and close session ${t.sessionId}`),e._onmessage&&(t.removeEventListener("message",e._onmessage),e._onmessage=void 0),e._onkeystatuseschange&&(t.removeEventListener("keystatuseschange",e._onkeystatuseschange),e._onkeystatuseschange=void 0),r&&r.readyState!==XMLHttpRequest.DONE&&r.abort(),e.mediaKeysSession=e.decryptdata=e.licenseXhr=void 0;const i=this.mediaKeySessions.indexOf(e);return i>-1&&this.mediaKeySessions.splice(i,1),t.remove().catch(s=>{this.log(`Could not remove session: ${s}`)}).then(()=>t.close()).catch(s=>{this.log(`Could not close session: ${s}`)})}}}dA.CDMCleanupPromise=void 0;class cs extends Error{constructor(e,t){super(t),this.data=void 0,e.error||(e.error=new Error(t)),this.data=e,e.err=e.error}}var Cr;(function(n){n.MANIFEST="m",n.AUDIO="a",n.VIDEO="v",n.MUXED="av",n.INIT="i",n.CAPTION="c",n.TIMED_TEXT="tt",n.KEY="k",n.OTHER="o"})(Cr||(Cr={}));var R2;(function(n){n.DASH="d",n.HLS="h",n.SMOOTH="s",n.OTHER="o"})(R2||(R2={}));var lA;(function(n){n.OBJECT="CMCD-Object",n.REQUEST="CMCD-Request",n.SESSION="CMCD-Session",n.STATUS="CMCD-Status"})(lA||(lA={}));const WM={[lA.OBJECT]:["br","d","ot","tb"],[lA.REQUEST]:["bl","dl","mtp","nor","nrr","su"],[lA.SESSION]:["cid","pr","sf","sid","st","v"],[lA.STATUS]:["bs","rtp"]};class c0{constructor(e,t){this.value=void 0,this.params=void 0,Array.isArray(e)&&(e=e.map(r=>r instanceof c0?r:new c0(r))),this.value=e,this.params=t}}class B3{constructor(e){this.description=void 0,this.description=e}}const YM="Dict";function qM(n){return Array.isArray(n)?JSON.stringify(n):n instanceof Map?"Map{}":n instanceof Set?"Set{}":typeof n=="object"?JSON.stringify(n):String(n)}function XM(n,e,t,r){return new Error(`failed to ${n} "${qM(e)}" as ${t}`,{cause:r})}const rT="Bare Item",ZM="Boolean",JM="Byte Sequence",eO="Decimal",tO="Integer";function nO(n){return n<-999999999999999||999999999999999<n}const rO=/[\x00-\x1f\x7f]+/,iO="Token",sO="Key";function Lo(n,e,t){return XM("serialize",n,e,t)}function oO(n){if(typeof n!="boolean")throw Lo(n,ZM);return n?"?1":"?0"}function lO(n){return btoa(String.fromCharCode(...n))}function aO(n){if(ArrayBuffer.isView(n)===!1)throw Lo(n,JM);return`:${lO(n)}:`}function U3(n){if(nO(n))throw Lo(n,tO);return n.toString()}function AO(n){return`@${U3(n.getTime()/1e3)}`}function G3(n,e){if(n<0)return-G3(-n,e);const t=Math.pow(10,e);if(Math.abs(n*t%1-.5)<Number.EPSILON){const i=Math.floor(n*t);return(i%2===0?i:i+1)/t}else return Math.round(n*t)/t}function uO(n){const e=G3(n,3);if(Math.floor(Math.abs(e)).toString().length>12)throw Lo(n,eO);const t=e.toString();return t.includes(".")?t:`${t}.0`}const fO="String";function cO(n){if(rO.test(n))throw Lo(n,fO);return`"${n.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`}function hO(n){return n.description||n.toString().slice(7,-1)}function iT(n){const e=hO(n);if(/^([a-zA-Z*])([!#$%&'*+\-.^_`|~\w:/]*)$/.test(e)===!1)throw Lo(e,iO);return e}function C2(n){switch(typeof n){case"number":if(!He(n))throw Lo(n,rT);return Number.isInteger(n)?U3(n):uO(n);case"string":return cO(n);case"symbol":return iT(n);case"boolean":return oO(n);case"object":if(n instanceof Date)return AO(n);if(n instanceof Uint8Array)return aO(n);if(n instanceof B3)return iT(n);default:throw Lo(n,rT)}}function I2(n){if(/^[a-z*][a-z0-9\-_.*]*$/.test(n)===!1)throw Lo(n,sO);return n}function zx(n){return n==null?"":Object.entries(n).map(([e,t])=>t===!0?`;${I2(e)}`:`;${I2(e)}=${C2(t)}`).join("")}function $3(n){return n instanceof c0?`${C2(n.value)}${zx(n.params)}`:C2(n)}function dO(n){return`(${n.value.map($3).join(" ")})${zx(n.params)}`}function gO(n,e={whitespace:!0}){if(typeof n!="object")throw Lo(n,YM);const t=n instanceof Map?n.entries():Object.entries(n),r=e!=null&&e.whitespace?" ":"";return Array.from(t).map(([i,s])=>{s instanceof c0||(s=new c0(s));let o=I2(i);return s.value===!0?o+=zx(s.params):(o+="=",Array.isArray(s.value)?o+=dO(s):o+=$3(s)),o}).join(`,${r}`)}function pO(n,e){return gO(n,e)}const mO=n=>n==="ot"||n==="sf"||n==="st",yO=n=>typeof n=="number"?He(n):n!=null&&n!==""&&n!==!1;function vO(n,e){const t=new URL(n),r=new URL(e);if(t.origin!==r.origin)return n;const i=t.pathname.split("/").slice(1),s=r.pathname.split("/").slice(1,-1);for(;i[0]===s[0];)i.shift(),s.shift();for(;s.length;)s.shift(),i.unshift("..");return i.join("/")}function xO(){try{return crypto.randomUUID()}catch{try{const e=URL.createObjectURL(new Blob),t=e.toString();return URL.revokeObjectURL(e),t.slice(t.lastIndexOf("/")+1)}catch{let t=new Date().getTime();return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,i=>{const s=(t+Math.random()*16)%16|0;return t=Math.floor(t/16),(i=="x"?s:s&3|8).toString(16)})}}}const ag=n=>Math.round(n),_O=(n,e)=>(e!=null&&e.baseUrl&&(n=vO(n,e.baseUrl)),encodeURIComponent(n)),Rd=n=>ag(n/100)*100,EO={br:ag,d:ag,bl:Rd,dl:Rd,mtp:Rd,nor:_O,rtp:Rd,tb:ag};function SO(n,e){const t={};if(n==null||typeof n!="object")return t;const r=Object.keys(n).sort(),i=Gn({},EO,e==null?void 0:e.formatters),s=e==null?void 0:e.filter;return r.forEach(o=>{if(s!=null&&s(o))return;let l=n[o];const u=i[o];u&&(l=u(l,e)),!(o==="v"&&l===1)&&(o=="pr"&&l===1||yO(l)&&(mO(o)&&typeof l=="string"&&(l=new B3(l)),t[o]=l))}),t}function z3(n,e={}){return n?pO(SO(n,e),Gn({whitespace:!1},e)):""}function TO(n,e={}){if(!n)return{};const t=Object.entries(n),r=Object.entries(WM).concat(Object.entries((e==null?void 0:e.customHeaderMap)||{})),i=t.reduce((s,o)=>{var l,u;const[h,m]=o,y=((l=r.find(_=>_[1].includes(h)))==null?void 0:l[0])||lA.REQUEST;return(u=s[y])!=null||(s[y]={}),s[y][h]=m,s},{});return Object.entries(i).reduce((s,[o,l])=>(s[o]=z3(l,e),s),{})}function wO(n,e,t){return Gn(n,TO(e,t))}const kO="CMCD";function LO(n,e={}){if(!n)return"";const t=z3(n,e);return`${kO}=${encodeURIComponent(t)}`}const sT=/CMCD=[^&#]+/;function RO(n,e,t){const r=LO(e,t);if(!r)return n;if(sT.test(n))return n.replace(sT,r);const i=n.includes("?")?"&":"?";return`${n}${i}${r}`}class H3{constructor(e){this.hls=void 0,this.config=void 0,this.media=void 0,this.sid=void 0,this.cid=void 0,this.useHeaders=!1,this.includeKeys=void 0,this.initialized=!1,this.starved=!1,this.buffering=!0,this.audioBuffer=void 0,this.videoBuffer=void 0,this.onWaiting=()=>{this.initialized&&(this.starved=!0),this.buffering=!0},this.onPlaying=()=>{this.initialized||(this.initialized=!0),this.buffering=!1},this.applyPlaylistData=i=>{try{this.apply(i,{ot:Cr.MANIFEST,su:!this.initialized})}catch(s){he.warn("Could not generate manifest CMCD data.",s)}},this.applyFragmentData=i=>{try{const s=i.frag,o=this.hls.levels[s.level],l=this.getObjectType(s),u={d:s.duration*1e3,ot:l};(l===Cr.VIDEO||l===Cr.AUDIO||l==Cr.MUXED)&&(u.br=o.bitrate/1e3,u.tb=this.getTopBandwidth(l)/1e3,u.bl=this.getBufferLength(l)),this.apply(i,u)}catch(s){he.warn("Could not generate segment CMCD data.",s)}},this.hls=e;const t=this.config=e.config,{cmcd:r}=t;r!=null&&(t.pLoader=this.createPlaylistLoader(),t.fLoader=this.createFragmentLoader(),this.sid=r.sessionId||xO(),this.cid=r.contentId,this.useHeaders=r.useHeaders===!0,this.includeKeys=r.includeKeys,this.registerListeners())}registerListeners(){const e=this.hls;e.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(z.MEDIA_DETACHED,this.onMediaDetached,this),e.on(z.BUFFER_CREATED,this.onBufferCreated,this)}unregisterListeners(){const e=this.hls;e.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(z.MEDIA_DETACHED,this.onMediaDetached,this),e.off(z.BUFFER_CREATED,this.onBufferCreated,this)}destroy(){this.unregisterListeners(),this.onMediaDetached(),this.hls=this.config=this.audioBuffer=this.videoBuffer=null,this.onWaiting=this.onPlaying=null}onMediaAttached(e,t){this.media=t.media,this.media.addEventListener("waiting",this.onWaiting),this.media.addEventListener("playing",this.onPlaying)}onMediaDetached(){this.media&&(this.media.removeEventListener("waiting",this.onWaiting),this.media.removeEventListener("playing",this.onPlaying),this.media=null)}onBufferCreated(e,t){var r,i;this.audioBuffer=(r=t.tracks.audio)==null?void 0:r.buffer,this.videoBuffer=(i=t.tracks.video)==null?void 0:i.buffer}createData(){var e;return{v:1,sf:R2.HLS,sid:this.sid,cid:this.cid,pr:(e=this.media)==null?void 0:e.playbackRate,mtp:this.hls.bandwidthEstimate/1e3}}apply(e,t={}){Gn(t,this.createData());const r=t.ot===Cr.INIT||t.ot===Cr.VIDEO||t.ot===Cr.MUXED;this.starved&&r&&(t.bs=!0,t.su=!0,this.starved=!1),t.su==null&&(t.su=this.buffering);const{includeKeys:i}=this;i&&(t=Object.keys(t).reduce((s,o)=>(i.includes(o)&&(s[o]=t[o]),s),{})),this.useHeaders?(e.headers||(e.headers={}),wO(e.headers,t)):e.url=RO(e.url,t)}getObjectType(e){const{type:t}=e;if(t==="subtitle")return Cr.TIMED_TEXT;if(e.sn==="initSegment")return Cr.INIT;if(t==="audio")return Cr.AUDIO;if(t==="main")return this.hls.audioTracks.length?Cr.VIDEO:Cr.MUXED}getTopBandwidth(e){let t=0,r;const i=this.hls;if(e===Cr.AUDIO)r=i.audioTracks;else{const s=i.maxAutoLevel,o=s>-1?s+1:i.levels.length;r=i.levels.slice(0,o)}for(const s of r)s.bitrate>t&&(t=s.bitrate);return t>0?t:NaN}getBufferLength(e){const t=this.hls.media,r=e===Cr.AUDIO?this.audioBuffer:this.videoBuffer;return!r||!t?NaN:nn.bufferInfo(r,t.currentTime,this.config.maxBufferHole).len*1e3}createPlaylistLoader(){const{pLoader:e}=this.config,t=this.applyPlaylistData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,l){t(s),this.loader.load(s,o,l)}}}createFragmentLoader(){const{fLoader:e}=this.config,t=this.applyFragmentData,r=e||this.config.loader;return class{constructor(s){this.loader=void 0,this.loader=new r(s)}get stats(){return this.loader.stats}get context(){return this.loader.context}destroy(){this.loader.destroy()}abort(){this.loader.abort()}load(s,o,l){t(s),this.loader.load(s,o,l)}}}}const CO=3e5;class j3{constructor(e){this.hls=void 0,this.log=void 0,this.loader=null,this.uri=null,this.pathwayId=".",this.pathwayPriority=null,this.timeToLoad=300,this.reloadTimer=-1,this.updated=0,this.started=!1,this.enabled=!0,this.levels=null,this.audioTracks=null,this.subtitleTracks=null,this.penalizedPathways={},this.hls=e,this.log=he.log.bind(he,"[content-steering]:"),this.registerListeners()}registerListeners(){const e=this.hls;e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(z.MANIFEST_PARSED,this.onManifestParsed,this),e.on(z.ERROR,this.onError,this)}unregisterListeners(){const e=this.hls;e&&(e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(z.MANIFEST_PARSED,this.onManifestParsed,this),e.off(z.ERROR,this.onError,this))}startLoad(){if(this.started=!0,this.clearTimeout(),this.enabled&&this.uri){if(this.updated){const e=this.timeToLoad*1e3-(performance.now()-this.updated);if(e>0){this.scheduleRefresh(this.uri,e);return}}this.loadSteeringManifest(this.uri)}}stopLoad(){this.started=!1,this.loader&&(this.loader.destroy(),this.loader=null),this.clearTimeout()}clearTimeout(){this.reloadTimer!==-1&&(self.clearTimeout(this.reloadTimer),this.reloadTimer=-1)}destroy(){this.unregisterListeners(),this.stopLoad(),this.hls=null,this.levels=this.audioTracks=this.subtitleTracks=null}removeLevel(e){const t=this.levels;t&&(this.levels=t.filter(r=>r!==e))}onManifestLoading(){this.stopLoad(),this.enabled=!0,this.timeToLoad=300,this.updated=0,this.uri=null,this.pathwayId=".",this.levels=this.audioTracks=this.subtitleTracks=null}onManifestLoaded(e,t){const{contentSteering:r}=t;r!==null&&(this.pathwayId=r.pathwayId,this.uri=r.uri,this.started&&this.startLoad())}onManifestParsed(e,t){this.audioTracks=t.audioTracks,this.subtitleTracks=t.subtitleTracks}onError(e,t){const{errorAction:r}=t;if((r==null?void 0:r.action)===Qn.SendAlternateToPenaltyBox&&r.flags===ds.MoveAllAlternatesMatchingHost){const i=this.levels;let s=this.pathwayPriority,o=this.pathwayId;if(t.context){const{groupId:l,pathwayId:u,type:h}=t.context;l&&i?o=this.getPathwayForGroupId(l,h,o):u&&(o=u)}o in this.penalizedPathways||(this.penalizedPathways[o]=performance.now()),!s&&i&&(s=i.reduce((l,u)=>(l.indexOf(u.pathwayId)===-1&&l.push(u.pathwayId),l),[])),s&&s.length>1&&(this.updatePathwayPriority(s),r.resolved=this.pathwayId!==o),r.resolved||he.warn(`Could not resolve ${t.details} ("${t.error.message}") with content-steering for Pathway: ${o} levels: ${i&&i.length} priorities: ${JSON.stringify(s)} penalized: ${JSON.stringify(this.penalizedPathways)}`)}}filterParsedLevels(e){this.levels=e;let t=this.getLevelsForPathway(this.pathwayId);if(t.length===0){const r=e[0].pathwayId;this.log(`No levels found in Pathway ${this.pathwayId}. Setting initial Pathway to "${r}"`),t=this.getLevelsForPathway(r),this.pathwayId=r}return t.length!==e.length&&this.log(`Found ${t.length}/${e.length} levels in Pathway "${this.pathwayId}"`),t}getLevelsForPathway(e){return this.levels===null?[]:this.levels.filter(t=>e===t.pathwayId)}updatePathwayPriority(e){this.pathwayPriority=e;let t;const r=this.penalizedPathways,i=performance.now();Object.keys(r).forEach(s=>{i-r[s]>CO&&delete r[s]});for(let s=0;s<e.length;s++){const o=e[s];if(o in r)continue;if(o===this.pathwayId)return;const l=this.hls.nextLoadLevel,u=this.hls.levels[l];if(t=this.getLevelsForPathway(o),t.length>0){this.log(`Setting Pathway to "${o}"`),this.pathwayId=o,ZR(t),this.hls.trigger(z.LEVELS_UPDATED,{levels:t});const h=this.hls.levels[l];u&&h&&this.levels&&(h.attrs["STABLE-VARIANT-ID"]!==u.attrs["STABLE-VARIANT-ID"]&&h.bitrate!==u.bitrate&&this.log(`Unstable Pathways change from bitrate ${u.bitrate} to ${h.bitrate}`),this.hls.nextLoadLevel=l);break}}}getPathwayForGroupId(e,t,r){const i=this.getLevelsForPathway(r).concat(this.levels||[]);for(let s=0;s<i.length;s++)if(t===Ft.AUDIO_TRACK&&i[s].hasAudioGroup(e)||t===Ft.SUBTITLE_TRACK&&i[s].hasSubtitleGroup(e))return i[s].pathwayId;return r}clonePathways(e){const t=this.levels;if(!t)return;const r={},i={};e.forEach(s=>{const{ID:o,"BASE-ID":l,"URI-REPLACEMENT":u}=s;if(t.some(m=>m.pathwayId===o))return;const h=this.getLevelsForPathway(l).map(m=>{const y=new fn(m.attrs);y["PATHWAY-ID"]=o;const _=y.AUDIO&&`${y.AUDIO}_clone_${o}`,T=y.SUBTITLES&&`${y.SUBTITLES}_clone_${o}`;_&&(r[y.AUDIO]=_,y.AUDIO=_),T&&(i[y.SUBTITLES]=T,y.SUBTITLES=T);const w=V3(m.uri,y["STABLE-VARIANT-ID"],"PER-VARIANT-URIS",u),L=new wA({attrs:y,audioCodec:m.audioCodec,bitrate:m.bitrate,height:m.height,name:m.name,url:w,videoCodec:m.videoCodec,width:m.width});if(m.audioGroups)for(let I=1;I<m.audioGroups.length;I++)L.addGroupId("audio",`${m.audioGroups[I]}_clone_${o}`);if(m.subtitleGroups)for(let I=1;I<m.subtitleGroups.length;I++)L.addGroupId("text",`${m.subtitleGroups[I]}_clone_${o}`);return L});t.push(...h),oT(this.audioTracks,r,u,o),oT(this.subtitleTracks,i,u,o)})}loadSteeringManifest(e){const t=this.hls.config,r=t.loader;this.loader&&this.loader.destroy(),this.loader=new r(t);let i;try{i=new self.URL(e)}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest URI: ${e}`);return}if(i.protocol!=="data:"){const m=(this.hls.bandwidthEstimate||t.abrEwmaDefaultEstimate)|0;i.searchParams.set("_HLS_pathway",this.pathwayId),i.searchParams.set("_HLS_throughput",""+m)}const s={responseType:"json",url:i.href},o=t.steeringManifestLoadPolicy.default,l=o.errorRetry||o.timeoutRetry||{},u={loadPolicy:o,timeout:o.maxLoadTimeMs,maxRetry:l.maxNumRetry||0,retryDelay:l.retryDelayMs||0,maxRetryDelay:l.maxRetryDelayMs||0},h={onSuccess:(m,y,_,T)=>{this.log(`Loaded steering manifest: "${i}"`);const w=m.data;if(w.VERSION!==1){this.log(`Steering VERSION ${w.VERSION} not supported!`);return}this.updated=performance.now(),this.timeToLoad=w.TTL;const{"RELOAD-URI":L,"PATHWAY-CLONES":I,"PATHWAY-PRIORITY":C}=w;if(L)try{this.uri=new self.URL(L,i).href}catch{this.enabled=!1,this.log(`Failed to parse Steering Manifest RELOAD-URI: ${L}`);return}this.scheduleRefresh(this.uri||_.url),I&&this.clonePathways(I);const b={steeringManifest:w,url:i.toString()};this.hls.trigger(z.STEERING_MANIFEST_LOADED,b),C&&this.updatePathwayPriority(C)},onError:(m,y,_,T)=>{if(this.log(`Error loading steering manifest: ${m.code} ${m.text} (${y.url})`),this.stopLoad(),m.code===410){this.enabled=!1,this.log(`Steering manifest ${y.url} no longer available`);return}let w=this.timeToLoad*1e3;if(m.code===429){const L=this.loader;if(typeof(L==null?void 0:L.getResponseHeader)=="function"){const I=L.getResponseHeader("Retry-After");I&&(w=parseFloat(I)*1e3)}this.log(`Steering manifest ${y.url} rate limited`);return}this.scheduleRefresh(this.uri||y.url,w)},onTimeout:(m,y,_)=>{this.log(`Timeout loading steering manifest (${y.url})`),this.scheduleRefresh(this.uri||y.url)}};this.log(`Requesting steering manifest: ${i}`),this.loader.load(s,u,h)}scheduleRefresh(e,t=this.timeToLoad*1e3){this.clearTimeout(),this.reloadTimer=self.setTimeout(()=>{var r;const i=(r=this.hls)==null?void 0:r.media;if(i&&!i.ended){this.loadSteeringManifest(e);return}this.scheduleRefresh(e,this.timeToLoad*1e3)},t)}}function oT(n,e,t,r){n&&Object.keys(e).forEach(i=>{const s=n.filter(o=>o.groupId===i).map(o=>{const l=Gn({},o);return l.details=void 0,l.attrs=new fn(l.attrs),l.url=l.attrs.URI=V3(o.url,o.attrs["STABLE-RENDITION-ID"],"PER-RENDITION-URIS",t),l.groupId=l.attrs["GROUP-ID"]=e[i],l.attrs["PATHWAY-ID"]=r,l});n.push(...s)})}function V3(n,e,t,r){const{HOST:i,PARAMS:s,[t]:o}=r;let l;e&&(l=o==null?void 0:o[e],l&&(n=l));const u=new self.URL(n);return i&&!l&&(u.host=i),s&&Object.keys(s).sort().forEach(h=>{h&&u.searchParams.set(h,s[h])}),u.href}const IO=/^age:\s*[\d.]+\s*$/im;class Q3{constructor(e){this.xhrSetup=void 0,this.requestTimeout=void 0,this.retryTimeout=void 0,this.retryDelay=void 0,this.config=null,this.callbacks=null,this.context=null,this.loader=null,this.stats=void 0,this.xhrSetup=e&&e.xhrSetup||null,this.stats=new Bc,this.retryDelay=0}destroy(){this.callbacks=null,this.abortInternal(),this.loader=null,this.config=null,this.context=null,this.xhrSetup=null}abortInternal(){const e=this.loader;self.clearTimeout(this.requestTimeout),self.clearTimeout(this.retryTimeout),e&&(e.onreadystatechange=null,e.onprogress=null,e.readyState!==4&&(this.stats.aborted=!0,e.abort()))}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.loader)}load(e,t,r){if(this.stats.loading.start)throw new Error("Loader can only be used once.");this.stats.loading.start=self.performance.now(),this.context=e,this.config=t,this.callbacks=r,this.loadInternal()}loadInternal(){const{config:e,context:t}=this;if(!e||!t)return;const r=this.loader=new self.XMLHttpRequest,i=this.stats;i.loading.first=0,i.loaded=0,i.aborted=!1;const s=this.xhrSetup;s?Promise.resolve().then(()=>{if(!(this.loader!==r||this.stats.aborted))return s(r,t.url)}).catch(o=>{if(!(this.loader!==r||this.stats.aborted))return r.open("GET",t.url,!0),s(r,t.url)}).then(()=>{this.loader!==r||this.stats.aborted||this.openAndSendXhr(r,t,e)}).catch(o=>{this.callbacks.onError({code:r.status,text:o.message},t,r,i)}):this.openAndSendXhr(r,t,e)}openAndSendXhr(e,t,r){e.readyState||e.open("GET",t.url,!0);const i=t.headers,{maxTimeToFirstByteMs:s,maxLoadTimeMs:o}=r.loadPolicy;if(i)for(const l in i)e.setRequestHeader(l,i[l]);t.rangeEnd&&e.setRequestHeader("Range","bytes="+t.rangeStart+"-"+(t.rangeEnd-1)),e.onreadystatechange=this.readystatechange.bind(this),e.onprogress=this.loadprogress.bind(this),e.responseType=t.responseType,self.clearTimeout(this.requestTimeout),r.timeout=s&&He(s)?s:o,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),r.timeout),e.send()}readystatechange(){const{context:e,loader:t,stats:r}=this;if(!e||!t)return;const i=t.readyState,s=this.config;if(!r.aborted&&i>=2&&(r.loading.first===0&&(r.loading.first=Math.max(self.performance.now(),r.loading.start),s.timeout!==s.loadPolicy.maxLoadTimeMs&&(self.clearTimeout(this.requestTimeout),s.timeout=s.loadPolicy.maxLoadTimeMs,this.requestTimeout=self.setTimeout(this.loadtimeout.bind(this),s.loadPolicy.maxLoadTimeMs-(r.loading.first-r.loading.start)))),i===4)){self.clearTimeout(this.requestTimeout),t.onreadystatechange=null,t.onprogress=null;const o=t.status,l=t.responseType!=="text";if(o>=200&&o<300&&(l&&t.response||t.responseText!==null)){r.loading.end=Math.max(self.performance.now(),r.loading.first);const u=l?t.response:t.responseText,h=t.responseType==="arraybuffer"?u.byteLength:u.length;if(r.loaded=r.total=h,r.bwEstimate=r.total*8e3/(r.loading.end-r.loading.first),!this.callbacks)return;const m=this.callbacks.onProgress;if(m&&m(r,e,u,t),!this.callbacks)return;const y={url:t.responseURL,data:u,code:o};this.callbacks.onSuccess(y,r,e,t)}else{const u=s.loadPolicy.errorRetry,h=r.retry,m={url:e.url,data:void 0,code:o};Kg(u,h,!1,m)?this.retry(u):(he.error(`${o} while loading ${e.url}`),this.callbacks.onError({code:o,text:t.statusText},e,t,r))}}}loadtimeout(){if(!this.config)return;const e=this.config.loadPolicy.timeoutRetry,t=this.stats.retry;if(Kg(e,t,!0))this.retry(e);else{var r;he.warn(`timeout while loading ${(r=this.context)==null?void 0:r.url}`);const i=this.callbacks;i&&(this.abortInternal(),i.onTimeout(this.stats,this.context,this.loader))}}retry(e){const{context:t,stats:r}=this;this.retryDelay=Px(e,r.retry),r.retry++,he.warn(`${status?"HTTP Status "+status:"Timeout"} while loading ${t==null?void 0:t.url}, retrying ${r.retry}/${e.maxNumRetry} in ${this.retryDelay}ms`),this.abortInternal(),this.loader=null,self.clearTimeout(this.retryTimeout),this.retryTimeout=self.setTimeout(this.loadInternal.bind(this),this.retryDelay)}loadprogress(e){const t=this.stats;t.loaded=e.loaded,e.lengthComputable&&(t.total=e.total)}getCacheAge(){let e=null;if(this.loader&&IO.test(this.loader.getAllResponseHeaders())){const t=this.loader.getResponseHeader("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.loader&&new RegExp(`^${e}:\\s*[\\d.]+\\s*$`,"im").test(this.loader.getAllResponseHeaders())?this.loader.getResponseHeader(e):null}}function DO(){if(self.fetch&&self.AbortController&&self.ReadableStream&&self.Request)try{return new self.ReadableStream({}),!0}catch{}return!1}const bO=/(\d+)-(\d+)\/(\d+)/;class lT{constructor(e){this.fetchSetup=void 0,this.requestTimeout=void 0,this.request=null,this.response=null,this.controller=void 0,this.context=null,this.config=null,this.callbacks=null,this.stats=void 0,this.loader=null,this.fetchSetup=e.fetchSetup||FO,this.controller=new self.AbortController,this.stats=new Bc}destroy(){this.loader=this.callbacks=this.context=this.config=this.request=null,this.abortInternal(),this.response=null,this.fetchSetup=this.controller=this.stats=null}abortInternal(){this.controller&&!this.stats.loading.end&&(this.stats.aborted=!0,this.controller.abort())}abort(){var e;this.abortInternal(),(e=this.callbacks)!=null&&e.onAbort&&this.callbacks.onAbort(this.stats,this.context,this.response)}load(e,t,r){const i=this.stats;if(i.loading.start)throw new Error("Loader can only be used once.");i.loading.start=self.performance.now();const s=PO(e,this.controller.signal),o=r.onProgress,l=e.responseType==="arraybuffer",u=l?"byteLength":"length",{maxTimeToFirstByteMs:h,maxLoadTimeMs:m}=t.loadPolicy;this.context=e,this.config=t,this.callbacks=r,this.request=this.fetchSetup(e,s),self.clearTimeout(this.requestTimeout),t.timeout=h&&He(h)?h:m,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},t.timeout),self.fetch(this.request).then(y=>{this.response=this.loader=y;const _=Math.max(self.performance.now(),i.loading.start);if(self.clearTimeout(this.requestTimeout),t.timeout=m,this.requestTimeout=self.setTimeout(()=>{this.abortInternal(),r.onTimeout(i,e,this.response)},m-(_-i.loading.start)),!y.ok){const{status:T,statusText:w}=y;throw new NO(w||"fetch, bad network response",T,y)}return i.loading.first=_,i.total=OO(y.headers)||i.total,o&&He(t.highWaterMark)?this.loadProgressively(y,i,e,t.highWaterMark,o):l?y.arrayBuffer():e.responseType==="json"?y.json():y.text()}).then(y=>{const _=this.response;if(!_)throw new Error("loader destroyed");self.clearTimeout(this.requestTimeout),i.loading.end=Math.max(self.performance.now(),i.loading.first);const T=y[u];T&&(i.loaded=i.total=T);const w={url:_.url,data:y,code:_.status};o&&!He(t.highWaterMark)&&o(i,e,y,_),r.onSuccess(w,i,e,_)}).catch(y=>{if(self.clearTimeout(this.requestTimeout),i.aborted)return;const _=y&&y.code||0,T=y?y.message:null;r.onError({code:_,text:T},e,y?y.details:null,i)})}getCacheAge(){let e=null;if(this.response){const t=this.response.headers.get("age");e=t?parseFloat(t):null}return e}getResponseHeader(e){return this.response?this.response.headers.get(e):null}loadProgressively(e,t,r,i=0,s){const o=new i3,l=e.body.getReader(),u=()=>l.read().then(h=>{if(h.done)return o.dataLength&&s(t,r,o.flush(),e),Promise.resolve(new ArrayBuffer(0));const m=h.value,y=m.length;return t.loaded+=y,y<i||o.dataLength?(o.push(m),o.dataLength>=i&&s(t,r,o.flush(),e)):s(t,r,m,e),u()}).catch(()=>Promise.reject());return u()}}function PO(n,e){const t={method:"GET",mode:"cors",credentials:"same-origin",signal:e,headers:new self.Headers(Gn({},n.headers))};return n.rangeEnd&&t.headers.set("Range","bytes="+n.rangeStart+"-"+String(n.rangeEnd-1)),t}function MO(n){const e=bO.exec(n);if(e)return parseInt(e[2])-parseInt(e[1])+1}function OO(n){const e=n.get("Content-Range");if(e){const r=MO(e);if(He(r))return r}const t=n.get("Content-Length");if(t)return parseInt(t)}function FO(n,e){return new self.Request(n.url,e)}class NO extends Error{constructor(e,t,r){super(e),this.code=void 0,this.details=void 0,this.code=t,this.details=r}}const BO=/\s/,UO={newCue(n,e,t,r){const i=[];let s,o,l,u,h;const m=self.VTTCue||self.TextTrackCue;for(let _=0;_<r.rows.length;_++)if(s=r.rows[_],l=!0,u=0,h="",!s.isEmpty()){var y;for(let L=0;L<s.chars.length;L++)BO.test(s.chars[L].uchar)&&l?u++:(h+=s.chars[L].uchar,l=!1);s.cueStartTime=e,e===t&&(t+=1e-4),u>=16?u--:u++;const T=D3(h.trim()),w=$x(e,t,T);n!=null&&(y=n.cues)!=null&&y.getCueById(w)||(o=new m(e,t,T),o.id=w,o.line=_+1,o.align="left",o.position=10+Math.min(80,Math.floor(u*8/32)*10),i.push(o))}return n&&i.length&&(i.sort((_,T)=>_.line==="auto"||T.line==="auto"?0:_.line>8&&T.line>8?T.line-_.line:_.line-T.line),i.forEach(_=>WR(n,_))),i}},GO={maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:null,errorRetry:null},K3=lr(lr({autoStartLoad:!0,startPosition:-1,defaultAudioCodec:void 0,debug:!1,capLevelOnFPSDrop:!1,capLevelToPlayerSize:!1,ignoreDevicePixelRatio:!1,preferManagedMediaSource:!0,initialLiveManifestSize:1,maxBufferLength:30,backBufferLength:1/0,frontBufferFlushThreshold:1/0,maxBufferSize:60*1e3*1e3,maxBufferHole:.1,highBufferWatchdogPeriod:2,nudgeOffset:.1,nudgeMaxRetry:3,maxFragLookUpTolerance:.25,liveSyncDurationCount:3,liveMaxLatencyDurationCount:1/0,liveSyncDuration:void 0,liveMaxLatencyDuration:void 0,maxLiveSyncPlaybackRate:1,liveDurationInfinity:!1,liveBackBufferLength:null,maxMaxBufferLength:600,enableWorker:!0,workerPath:null,enableSoftwareAES:!0,startLevel:void 0,startFragPrefetch:!1,fpsDroppedMonitoringPeriod:5e3,fpsDroppedMonitoringThreshold:.2,appendErrorMaxRetry:3,loader:Q3,fLoader:void 0,pLoader:void 0,xhrSetup:void 0,licenseXhrSetup:void 0,licenseResponseCallback:void 0,abrController:n3,bufferController:k3,capLevelController:im,errorController:e3,fpsController:N3,stretchShortVideoTrack:!1,maxAudioFramesDrift:1,forceKeyFrameOnDiscontinuity:!0,abrEwmaFastLive:3,abrEwmaSlowLive:9,abrEwmaFastVoD:3,abrEwmaSlowVoD:9,abrEwmaDefaultEstimate:5e5,abrEwmaDefaultEstimateMax:5e6,abrBandWidthFactor:.95,abrBandWidthUpFactor:.7,abrMaxWithRealBitrate:!1,maxStarvationDelay:4,maxLoadingDelay:4,minAutoBitrate:0,emeEnabled:!1,widevineLicenseUrl:void 0,drmSystems:{},drmSystemOptions:{},requestMediaKeySystemAccessFunc:MR,testBandwidth:!0,progressive:!1,lowLatencyMode:!0,cmcd:void 0,enableDateRangeMetadataCues:!0,enableEmsgMetadataCues:!0,enableID3MetadataCues:!0,useMediaCapabilities:!0,certLoadPolicy:{default:GO},keyLoadPolicy:{default:{maxTimeToFirstByteMs:8e3,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"},errorRetry:{maxNumRetry:8,retryDelayMs:1e3,maxRetryDelayMs:2e4,backoff:"linear"}}},manifestLoadPolicy:{default:{maxTimeToFirstByteMs:1/0,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},playlistLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:2,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},fragLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:12e4,timeoutRetry:{maxNumRetry:4,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:6,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},steeringManifestLoadPolicy:{default:{maxTimeToFirstByteMs:1e4,maxLoadTimeMs:2e4,timeoutRetry:{maxNumRetry:2,retryDelayMs:0,maxRetryDelayMs:0},errorRetry:{maxNumRetry:1,retryDelayMs:1e3,maxRetryDelayMs:8e3}}},manifestLoadingTimeOut:1e4,manifestLoadingMaxRetry:1,manifestLoadingRetryDelay:1e3,manifestLoadingMaxRetryTimeout:64e3,levelLoadingTimeOut:1e4,levelLoadingMaxRetry:4,levelLoadingRetryDelay:1e3,levelLoadingMaxRetryTimeout:64e3,fragLoadingTimeOut:2e4,fragLoadingMaxRetry:6,fragLoadingRetryDelay:1e3,fragLoadingMaxRetryTimeout:64e3},$O()),{},{subtitleStreamController:T3,subtitleTrackController:w3,timelineController:O3,audioStreamController:E3,audioTrackController:S3,emeController:dA,cmcdController:H3,contentSteeringController:j3});function $O(){return{cueHandler:UO,enableWebVTT:!0,enableIMSC1:!0,enableCEA708Captions:!0,captionsTextTrack1Label:"English",captionsTextTrack1LanguageCode:"en",captionsTextTrack2Label:"Spanish",captionsTextTrack2LanguageCode:"es",captionsTextTrack3Label:"Unknown CC",captionsTextTrack3LanguageCode:"",captionsTextTrack4Label:"Unknown CC",captionsTextTrack4LanguageCode:"",renderTextTracksNatively:!0}}function zO(n,e){if((e.liveSyncDurationCount||e.liveMaxLatencyDurationCount)&&(e.liveSyncDuration||e.liveMaxLatencyDuration))throw new Error("Illegal hls.js config: don't mix up liveSyncDurationCount/liveMaxLatencyDurationCount and liveSyncDuration/liveMaxLatencyDuration");if(e.liveMaxLatencyDurationCount!==void 0&&(e.liveSyncDurationCount===void 0||e.liveMaxLatencyDurationCount<=e.liveSyncDurationCount))throw new Error('Illegal hls.js config: "liveMaxLatencyDurationCount" must be greater than "liveSyncDurationCount"');if(e.liveMaxLatencyDuration!==void 0&&(e.liveSyncDuration===void 0||e.liveMaxLatencyDuration<=e.liveSyncDuration))throw new Error('Illegal hls.js config: "liveMaxLatencyDuration" must be greater than "liveSyncDuration"');const t=D2(n),r=["manifest","level","frag"],i=["TimeOut","MaxRetry","RetryDelay","MaxRetryTimeout"];return r.forEach(s=>{const o=`${s==="level"?"playlist":s}LoadPolicy`,l=e[o]===void 0,u=[];i.forEach(h=>{const m=`${s}Loading${h}`,y=e[m];if(y!==void 0&&l){u.push(m);const _=t[o].default;switch(e[o]={default:_},h){case"TimeOut":_.maxLoadTimeMs=y,_.maxTimeToFirstByteMs=y;break;case"MaxRetry":_.errorRetry.maxNumRetry=y,_.timeoutRetry.maxNumRetry=y;break;case"RetryDelay":_.errorRetry.retryDelayMs=y,_.timeoutRetry.retryDelayMs=y;break;case"MaxRetryTimeout":_.errorRetry.maxRetryDelayMs=y,_.timeoutRetry.maxRetryDelayMs=y;break}}}),u.length&&he.warn(`hls.js config: "${u.join('", "')}" setting(s) are deprecated, use "${o}": ${JSON.stringify(e[o])}`)}),lr(lr({},t),e)}function D2(n){return n&&typeof n=="object"?Array.isArray(n)?n.map(D2):Object.keys(n).reduce((e,t)=>(e[t]=D2(n[t]),e),{}):n}function HO(n){const e=n.loader;e!==lT&&e!==Q3?(he.log("[config]: Custom loader detected, cannot enable progressive streaming"),n.progressive=!1):DO()&&(n.loader=lT,n.progressive=!0,n.enableSoftwareAES=!0,he.log("[config]: Progressive streaming enabled, using FetchLoader"))}let ty;class jO extends tm{constructor(e,t){super(e,"[level-controller]"),this._levels=[],this._firstLevel=-1,this._maxAutoLevel=-1,this._startLevel=void 0,this.currentLevel=null,this.currentLevelIndex=-1,this.manualLevelIndex=-1,this.steering=void 0,this.onParsedComplete=void 0,this.steering=t,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.MANIFEST_LOADED,this.onManifestLoaded,this),e.on(z.LEVEL_LOADED,this.onLevelLoaded,this),e.on(z.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(z.FRAG_BUFFERED,this.onFragBuffered,this),e.on(z.ERROR,this.onError,this)}_unregisterListeners(){const{hls:e}=this;e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.MANIFEST_LOADED,this.onManifestLoaded,this),e.off(z.LEVEL_LOADED,this.onLevelLoaded,this),e.off(z.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(z.FRAG_BUFFERED,this.onFragBuffered,this),e.off(z.ERROR,this.onError,this)}destroy(){this._unregisterListeners(),this.steering=null,this.resetLevels(),super.destroy()}stopLoad(){this._levels.forEach(t=>{t.loadError=0,t.fragmentError=0}),super.stopLoad()}resetLevels(){this._startLevel=void 0,this.manualLevelIndex=-1,this.currentLevelIndex=-1,this.currentLevel=null,this._levels=[],this._maxAutoLevel=-1}onManifestLoading(e,t){this.resetLevels()}onManifestLoaded(e,t){const r=this.hls.config.preferManagedMediaSource,i=[],s={},o={};let l=!1,u=!1,h=!1;t.levels.forEach(m=>{var y,_;const T=m.attrs;let{audioCodec:w,videoCodec:L}=m;((y=w)==null?void 0:y.indexOf("mp4a.40.34"))!==-1&&(ty||(ty=/chrome|firefox/i.test(navigator.userAgent)),ty&&(m.audioCodec=w=void 0)),w&&(m.audioCodec=w=jg(w,r)),((_=L)==null?void 0:_.indexOf("avc1"))===0&&(L=m.videoCodec=$8(L));const{width:I,height:C,unknownCodecs:b}=m;if(l||(l=!!(I&&C)),u||(u=!!L),h||(h=!!w),b!=null&&b.length||w&&!G1(w,"audio",r)||L&&!G1(L,"video",r))return;const{CODECS:M,"FRAME-RATE":U,"HDCP-LEVEL":B,"PATHWAY-ID":$,RESOLUTION:H,"VIDEO-RANGE":j}=T,q=`${`${$||"."}-`}${m.bitrate}-${H}-${U}-${M}-${j}-${B}`;if(s[q])if(s[q].uri!==m.url&&!m.attrs["PATHWAY-ID"]){const X=o[q]+=1;m.attrs["PATHWAY-ID"]=new Array(X+1).join(".");const ge=new wA(m);s[q]=ge,i.push(ge)}else s[q].addGroupId("audio",T.AUDIO),s[q].addGroupId("text",T.SUBTITLES);else{const X=new wA(m);s[q]=X,o[q]=1,i.push(X)}}),this.filterAndSortMediaOptions(i,t,l,u,h)}filterAndSortMediaOptions(e,t,r,i,s){let o=[],l=[],u=e;if((r||i)&&s&&(u=u.filter(({videoCodec:w,videoRange:L,width:I,height:C})=>(!!w||!!(I&&C))&&e5(L))),u.length===0){Promise.resolve().then(()=>{if(this.hls){t.levels.length&&this.warn(`One or more CODECS in variant not supported: ${JSON.stringify(t.levels[0].attrs)}`);const w=new Error("no level with compatible codecs found in manifest");this.hls.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.MANIFEST_INCOMPATIBLE_CODECS_ERROR,fatal:!0,url:t.url,error:w,reason:w.message})}});return}if(t.audioTracks){const{preferManagedMediaSource:w}=this.hls.config;o=t.audioTracks.filter(L=>!L.audioCodec||G1(L.audioCodec,"audio",w)),aT(o)}t.subtitles&&(l=t.subtitles,aT(l));const h=u.slice(0);u.sort((w,L)=>{if(w.attrs["HDCP-LEVEL"]!==L.attrs["HDCP-LEVEL"])return(w.attrs["HDCP-LEVEL"]||"")>(L.attrs["HDCP-LEVEL"]||"")?1:-1;if(r&&w.height!==L.height)return w.height-L.height;if(w.frameRate!==L.frameRate)return w.frameRate-L.frameRate;if(w.videoRange!==L.videoRange)return Vg.indexOf(w.videoRange)-Vg.indexOf(L.videoRange);if(w.videoCodec!==L.videoCodec){const I=pS(w.videoCodec),C=pS(L.videoCodec);if(I!==C)return C-I}if(w.uri===L.uri&&w.codecSet!==L.codecSet){const I=Hg(w.codecSet),C=Hg(L.codecSet);if(I!==C)return C-I}return w.averageBitrate!==L.averageBitrate?w.averageBitrate-L.averageBitrate:0});let m=h[0];if(this.steering&&(u=this.steering.filterParsedLevels(u),u.length!==h.length)){for(let w=0;w<h.length;w++)if(h[w].pathwayId===u[0].pathwayId){m=h[w];break}}this._levels=u;for(let w=0;w<u.length;w++)if(u[w]===m){var y;this._firstLevel=w;const L=m.bitrate,I=this.hls.bandwidthEstimate;if(this.log(`manifest loaded, ${u.length} level(s) found, first bitrate: ${L}`),((y=this.hls.userConfig)==null?void 0:y.abrEwmaDefaultEstimate)===void 0){const C=Math.min(L,this.hls.config.abrEwmaDefaultEstimateMax);C>I&&I===K3.abrEwmaDefaultEstimate&&(this.hls.bandwidthEstimate=C)}break}const _=s&&!i,T={levels:u,audioTracks:o,subtitleTracks:l,sessionData:t.sessionData,sessionKeys:t.sessionKeys,firstLevel:this._firstLevel,stats:t.stats,audio:s,video:i,altAudio:!_&&o.some(w=>!!w.url)};this.hls.trigger(z.MANIFEST_PARSED,T),(this.hls.config.autoStartLoad||this.hls.forceStartLoad)&&this.hls.startLoad(this.hls.config.startPosition)}get levels(){return this._levels.length===0?null:this._levels}get level(){return this.currentLevelIndex}set level(e){const t=this._levels;if(t.length===0)return;if(e<0||e>=t.length){const m=new Error("invalid level idx"),y=e<0;if(this.hls.trigger(z.ERROR,{type:st.OTHER_ERROR,details:_e.LEVEL_SWITCH_ERROR,level:e,fatal:y,error:m,reason:m.message}),y)return;e=Math.min(e,t.length-1)}const r=this.currentLevelIndex,i=this.currentLevel,s=i?i.attrs["PATHWAY-ID"]:void 0,o=t[e],l=o.attrs["PATHWAY-ID"];if(this.currentLevelIndex=e,this.currentLevel=o,r===e&&o.details&&i&&s===l)return;this.log(`Switching to level ${e} (${o.height?o.height+"p ":""}${o.videoRange?o.videoRange+" ":""}${o.codecSet?o.codecSet+" ":""}@${o.bitrate})${l?" with Pathway "+l:""} from level ${r}${s?" with Pathway "+s:""}`);const u={level:e,attrs:o.attrs,details:o.details,bitrate:o.bitrate,averageBitrate:o.averageBitrate,maxBitrate:o.maxBitrate,realBitrate:o.realBitrate,width:o.width,height:o.height,codecSet:o.codecSet,audioCodec:o.audioCodec,videoCodec:o.videoCodec,audioGroups:o.audioGroups,subtitleGroups:o.subtitleGroups,loaded:o.loaded,loadError:o.loadError,fragmentError:o.fragmentError,name:o.name,id:o.id,uri:o.uri,url:o.url,urlId:0,audioGroupIds:o.audioGroupIds,textGroupIds:o.textGroupIds};this.hls.trigger(z.LEVEL_SWITCHING,u);const h=o.details;if(!h||h.live){const m=this.switchParams(o.uri,i==null?void 0:i.details,h);this.loadPlaylist(m)}}get manualLevel(){return this.manualLevelIndex}set manualLevel(e){this.manualLevelIndex=e,this._startLevel===void 0&&(this._startLevel=e),e!==-1&&(this.level=e)}get firstLevel(){return this._firstLevel}set firstLevel(e){this._firstLevel=e}get startLevel(){if(this._startLevel===void 0){const e=this.hls.config.startLevel;return e!==void 0?e:this.hls.firstAutoLevel}return this._startLevel}set startLevel(e){this._startLevel=e}onError(e,t){t.fatal||!t.context||t.context.type===Ft.LEVEL&&t.context.level===this.level&&this.checkRetry(t)}onFragBuffered(e,{frag:t}){if(t!==void 0&&t.type===et.MAIN){const r=t.elementaryStreams;if(!Object.keys(r).some(s=>!!r[s]))return;const i=this._levels[t.level];i!=null&&i.loadError&&(this.log(`Resetting level error count of ${i.loadError} on frag buffered`),i.loadError=0)}}onLevelLoaded(e,t){var r;const{level:i,details:s}=t,o=this._levels[i];if(!o){var l;this.warn(`Invalid level index ${i}`),(l=t.deliveryDirectives)!=null&&l.skip&&(s.deltaUpdateFailed=!0);return}i===this.currentLevelIndex?(o.fragmentError===0&&(o.loadError=0),this.playlistLoaded(i,t,o.details)):(r=t.deliveryDirectives)!=null&&r.skip&&(s.deltaUpdateFailed=!0)}loadPlaylist(e){super.loadPlaylist();const t=this.currentLevelIndex,r=this.currentLevel;if(r&&this.shouldLoadPlaylist(r)){let i=r.uri;if(e)try{i=e.addDirectives(i)}catch(o){this.warn(`Could not construct new URL with HLS Delivery Directives: ${o}`)}const s=r.attrs["PATHWAY-ID"];this.log(`Loading level index ${t}${(e==null?void 0:e.msn)!==void 0?" at sn "+e.msn+" part "+e.part:""} with${s?" Pathway "+s:""} ${i}`),this.clearTimer(),this.hls.trigger(z.LEVEL_LOADING,{url:i,level:t,pathwayId:r.attrs["PATHWAY-ID"],id:0,deliveryDirectives:e||null})}}get nextLoadLevel(){return this.manualLevelIndex!==-1?this.manualLevelIndex:this.hls.nextAutoLevel}set nextLoadLevel(e){this.level=e,this.manualLevelIndex===-1&&(this.hls.nextAutoLevel=e)}removeLevel(e){var t;const r=this._levels.filter((i,s)=>s!==e?!0:(this.steering&&this.steering.removeLevel(i),i===this.currentLevel&&(this.currentLevel=null,this.currentLevelIndex=-1,i.details&&i.details.fragments.forEach(o=>o.level=-1)),!1));ZR(r),this._levels=r,this.currentLevelIndex>-1&&(t=this.currentLevel)!=null&&t.details&&(this.currentLevelIndex=this.currentLevel.details.fragments[0].level),this.hls.trigger(z.LEVELS_UPDATED,{levels:r})}onLevelsUpdated(e,{levels:t}){this._levels=t}checkMaxAutoUpdated(){const{autoLevelCapping:e,maxAutoLevel:t,maxHdcpLevel:r}=this.hls;this._maxAutoLevel!==t&&(this._maxAutoLevel=t,this.hls.trigger(z.MAX_AUTO_LEVEL_UPDATED,{autoLevelCapping:e,levels:this.levels,maxAutoLevel:t,minAutoLevel:this.hls.minAutoLevel,maxHdcpLevel:r}))}}function aT(n){const e={};n.forEach(t=>{const r=t.groupId||"";t.id=e[r]=e[r]||0,e[r]++})}class VO{constructor(e){this.config=void 0,this.keyUriToKeyInfo={},this.emeController=null,this.config=e}abort(e){for(const r in this.keyUriToKeyInfo){const i=this.keyUriToKeyInfo[r].loader;if(i){var t;if(e&&e!==((t=i.context)==null?void 0:t.frag.type))return;i.abort()}}}detach(){for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e];(t.mediaKeySessionContext||t.decryptdata.isCommonEncryption)&&delete this.keyUriToKeyInfo[e]}}destroy(){this.detach();for(const e in this.keyUriToKeyInfo){const t=this.keyUriToKeyInfo[e].loader;t&&t.destroy()}this.keyUriToKeyInfo={}}createKeyLoadError(e,t=_e.KEY_LOAD_ERROR,r,i,s){return new Xo({type:st.NETWORK_ERROR,details:t,fatal:!1,frag:e,response:s,error:r,networkDetails:i})}loadClear(e,t){if(this.emeController&&this.config.emeEnabled){const{sn:r,cc:i}=e;for(let s=0;s<t.length;s++){const o=t[s];if(i<=o.cc&&(r==="initSegment"||o.sn==="initSegment"||r<o.sn)){this.emeController.selectKeySystemFormat(o).then(l=>{o.setKeyFormat(l)});break}}}}load(e){return!e.decryptdata&&e.encrypted&&this.emeController?this.emeController.selectKeySystemFormat(e).then(t=>this.loadInternal(e,t)):this.loadInternal(e)}loadInternal(e,t){var r,i;t&&e.setKeyFormat(t);const s=e.decryptdata;if(!s){const h=new Error(t?`Expected frag.decryptdata to be defined after setting format ${t}`:"Missing decryption data on fragment in onKeyLoading");return Promise.reject(this.createKeyLoadError(e,_e.KEY_LOAD_ERROR,h))}const o=s.uri;if(!o)return Promise.reject(this.createKeyLoadError(e,_e.KEY_LOAD_ERROR,new Error(`Invalid key URI: "${o}"`)));let l=this.keyUriToKeyInfo[o];if((r=l)!=null&&r.decryptdata.key)return s.key=l.decryptdata.key,Promise.resolve({frag:e,keyInfo:l});if((i=l)!=null&&i.keyLoadPromise){var u;switch((u=l.mediaKeySessionContext)==null?void 0:u.keyStatus){case void 0:case"status-pending":case"usable":case"usable-in-future":return l.keyLoadPromise.then(h=>(s.key=h.keyInfo.decryptdata.key,{frag:e,keyInfo:l}))}}switch(l=this.keyUriToKeyInfo[o]={decryptdata:s,keyLoadPromise:null,loader:null,mediaKeySessionContext:null},s.method){case"ISO-23001-7":case"SAMPLE-AES":case"SAMPLE-AES-CENC":case"SAMPLE-AES-CTR":return s.keyFormat==="identity"?this.loadKeyHTTP(l,e):this.loadKeyEME(l,e);case"AES-128":return this.loadKeyHTTP(l,e);default:return Promise.reject(this.createKeyLoadError(e,_e.KEY_LOAD_ERROR,new Error(`Key supplied with unsupported METHOD: "${s.method}"`)))}}loadKeyEME(e,t){const r={frag:t,keyInfo:e};if(this.emeController&&this.config.emeEnabled){const i=this.emeController.loadKey(r);if(i)return(e.keyLoadPromise=i.then(s=>(e.mediaKeySessionContext=s,r))).catch(s=>{throw e.keyLoadPromise=null,s})}return Promise.resolve(r)}loadKeyHTTP(e,t){const r=this.config,i=r.loader,s=new i(r);return t.keyLoader=e.loader=s,e.keyLoadPromise=new Promise((o,l)=>{const u={keyInfo:e,frag:t,responseType:"arraybuffer",url:e.decryptdata.uri},h=r.keyLoadPolicy.default,m={loadPolicy:h,timeout:h.maxLoadTimeMs,maxRetry:0,retryDelay:0,maxRetryDelay:0},y={onSuccess:(_,T,w,L)=>{const{frag:I,keyInfo:C,url:b}=w;if(!I.decryptdata||C!==this.keyUriToKeyInfo[b])return l(this.createKeyLoadError(I,_e.KEY_LOAD_ERROR,new Error("after key load, decryptdata unset or changed"),L));C.decryptdata.key=I.decryptdata.key=new Uint8Array(_.data),I.keyLoader=null,C.loader=null,o({frag:I,keyInfo:C})},onError:(_,T,w,L)=>{this.resetLoader(T),l(this.createKeyLoadError(t,_e.KEY_LOAD_ERROR,new Error(`HTTP Error ${_.code} loading key ${_.text}`),w,lr({url:u.url,data:void 0},_)))},onTimeout:(_,T,w)=>{this.resetLoader(T),l(this.createKeyLoadError(t,_e.KEY_LOAD_TIMEOUT,new Error("key loading timed out"),w))},onAbort:(_,T,w)=>{this.resetLoader(T),l(this.createKeyLoadError(t,_e.INTERNAL_ABORTED,new Error("key loading aborted"),w))}};s.load(u,m,y)})}resetLoader(e){const{frag:t,keyInfo:r,url:i}=e,s=r.loader;t.keyLoader===s&&(t.keyLoader=null,r.loader=null),delete this.keyUriToKeyInfo[i],s&&s.destroy()}}function W3(){return self.SourceBuffer||self.WebKitSourceBuffer}function Hx(){if(!pa())return!1;const e=W3();return!e||e.prototype&&typeof e.prototype.appendBuffer=="function"&&typeof e.prototype.remove=="function"}function Y3(){if(!Hx())return!1;const n=pa();return typeof(n==null?void 0:n.isTypeSupported)=="function"&&(["avc1.42E01E,mp4a.40.2","av01.0.01M.08","vp09.00.50.08"].some(e=>n.isTypeSupported(hc(e,"video")))||["mp4a.40.2","fLaC"].some(e=>n.isTypeSupported(hc(e,"audio"))))}function QO(){var n;const e=W3();return typeof(e==null||(n=e.prototype)==null?void 0:n.changeType)=="function"}const KO=250,Ag=2,WO=.1,YO=.05;class qO{constructor(e,t,r,i){this.config=void 0,this.media=null,this.fragmentTracker=void 0,this.hls=void 0,this.nudgeRetry=0,this.stallReported=!1,this.stalled=null,this.moved=!1,this.seeking=!1,this.config=e,this.media=t,this.fragmentTracker=r,this.hls=i}destroy(){this.media=null,this.hls=this.fragmentTracker=null}poll(e,t){const{config:r,media:i,stalled:s}=this;if(i===null)return;const{currentTime:o,seeking:l}=i,u=this.seeking&&!l,h=!this.seeking&&l;if(this.seeking=l,o!==e){if(this.moved=!0,l||(this.nudgeRetry=0),s!==null){if(this.stallReported){const I=self.performance.now()-s;he.warn(`playback not stuck anymore @${o}, after ${Math.round(I)}ms`),this.stallReported=!1}this.stalled=null}return}if(h||u){this.stalled=null;return}if(i.paused&&!l||i.ended||i.playbackRate===0||!nn.getBuffered(i).length){this.nudgeRetry=0;return}const m=nn.bufferInfo(i,o,0),y=m.nextStart||0;if(l){const I=m.len>Ag,C=!y||t&&t.start<=o||y-o>Ag&&!this.fragmentTracker.getPartialFragment(o);if(I||C)return;this.moved=!1}if(!this.moved&&this.stalled!==null){var _;if(!(m.len>0)&&!y)return;const C=Math.max(y,m.start||0)-o,b=this.hls.levels?this.hls.levels[this.hls.currentLevel]:null,U=(b==null||(_=b.details)==null?void 0:_.live)?b.details.targetduration*2:Ag,B=this.fragmentTracker.getPartialFragment(o);if(C>0&&(C<=U||B)){i.paused||this._trySkipBufferHole(B);return}}const T=self.performance.now();if(s===null){this.stalled=T;return}const w=T-s;if(!l&&w>=KO&&(this._reportStall(m),!this.media))return;const L=nn.bufferInfo(i,o,r.maxBufferHole);this._tryFixBufferStall(L,w)}_tryFixBufferStall(e,t){const{config:r,fragmentTracker:i,media:s}=this;if(s===null)return;const o=s.currentTime,l=i.getPartialFragment(o);l&&(this._trySkipBufferHole(l)||!this.media)||(e.len>r.maxBufferHole||e.nextStart&&e.nextStart-o<r.maxBufferHole)&&t>r.highBufferWatchdogPeriod*1e3&&(he.warn("Trying to nudge playhead over buffer-hole"),this.stalled=null,this._tryNudgeBuffer())}_reportStall(e){const{hls:t,media:r,stallReported:i}=this;if(!i&&r){this.stallReported=!0;const s=new Error(`Playback stalling at @${r.currentTime} due to low buffer (${JSON.stringify(e)})`);he.warn(s.message),t.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.BUFFER_STALLED_ERROR,fatal:!1,error:s,buffer:e.len})}}_trySkipBufferHole(e){const{config:t,hls:r,media:i}=this;if(i===null)return 0;const s=i.currentTime,o=nn.bufferInfo(i,s,0),l=s<o.start?o.start:o.nextStart;if(l){const u=o.len<=t.maxBufferHole,h=o.len>0&&o.len<1&&i.readyState<3,m=l-s;if(m>0&&(u||h)){if(m>t.maxBufferHole){const{fragmentTracker:_}=this;let T=!1;if(s===0){const w=_.getAppendedFrag(0,et.MAIN);w&&l<w.end&&(T=!0)}if(!T){const w=e||_.getAppendedFrag(s,et.MAIN);if(w){let L=!1,I=w.end;for(;I<l;){const C=_.getPartialFragment(I);if(C)I+=C.duration;else{L=!0;break}}if(L)return 0}}}const y=Math.max(l+YO,s+WO);if(he.warn(`skipping hole, adjusting currentTime from ${s} to ${y}`),this.moved=!0,this.stalled=null,i.currentTime=y,e&&!e.gap){const _=new Error(`fragment loaded with buffer holes, seeking from ${s} to ${y}`);r.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.BUFFER_SEEK_OVER_HOLE,fatal:!1,error:_,reason:_.message,frag:e})}return y}}return 0}_tryNudgeBuffer(){const{config:e,hls:t,media:r,nudgeRetry:i}=this;if(r===null)return;const s=r.currentTime;if(this.nudgeRetry++,i<e.nudgeMaxRetry){const o=s+(i+1)*e.nudgeOffset,l=new Error(`Nudging 'currentTime' from ${s} to ${o}`);he.warn(l.message),r.currentTime=o,t.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.BUFFER_NUDGE_ON_STALL,error:l,fatal:!1})}else{const o=new Error(`Playhead still not moving while enough data buffered @${s} after ${e.nudgeMaxRetry} nudges`);he.error(o.message),t.trigger(z.ERROR,{type:st.MEDIA_ERROR,details:_e.BUFFER_STALLED_ERROR,error:o,fatal:!0})}}}const XO=100;class ZO extends rm{constructor(e,t,r){super(e,t,r,"[stream-controller]",et.MAIN),this.audioCodecSwap=!1,this.gapController=null,this.level=-1,this._forceStartLoad=!1,this.altAudio=!1,this.audioOnly=!1,this.fragPlaying=null,this.onvplaying=null,this.onvseeked=null,this.fragLastKbps=0,this.couldBacktrack=!1,this.backtrackFragment=null,this.audioCodecSwitch=!1,this.videoBuffer=null,this._registerListeners()}_registerListeners(){const{hls:e}=this;e.on(z.MEDIA_ATTACHED,this.onMediaAttached,this),e.on(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.on(z.MANIFEST_LOADING,this.onManifestLoading,this),e.on(z.MANIFEST_PARSED,this.onManifestParsed,this),e.on(z.LEVEL_LOADING,this.onLevelLoading,this),e.on(z.LEVEL_LOADED,this.onLevelLoaded,this),e.on(z.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.on(z.ERROR,this.onError,this),e.on(z.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.on(z.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.on(z.BUFFER_CREATED,this.onBufferCreated,this),e.on(z.BUFFER_FLUSHED,this.onBufferFlushed,this),e.on(z.LEVELS_UPDATED,this.onLevelsUpdated,this),e.on(z.FRAG_BUFFERED,this.onFragBuffered,this)}_unregisterListeners(){const{hls:e}=this;e.off(z.MEDIA_ATTACHED,this.onMediaAttached,this),e.off(z.MEDIA_DETACHING,this.onMediaDetaching,this),e.off(z.MANIFEST_LOADING,this.onManifestLoading,this),e.off(z.MANIFEST_PARSED,this.onManifestParsed,this),e.off(z.LEVEL_LOADED,this.onLevelLoaded,this),e.off(z.FRAG_LOAD_EMERGENCY_ABORTED,this.onFragLoadEmergencyAborted,this),e.off(z.ERROR,this.onError,this),e.off(z.AUDIO_TRACK_SWITCHING,this.onAudioTrackSwitching,this),e.off(z.AUDIO_TRACK_SWITCHED,this.onAudioTrackSwitched,this),e.off(z.BUFFER_CREATED,this.onBufferCreated,this),e.off(z.BUFFER_FLUSHED,this.onBufferFlushed,this),e.off(z.LEVELS_UPDATED,this.onLevelsUpdated,this),e.off(z.FRAG_BUFFERED,this.onFragBuffered,this)}onHandlerDestroying(){this._unregisterListeners(),super.onHandlerDestroying()}startLoad(e){if(this.levels){const{lastCurrentTime:t,hls:r}=this;if(this.stopLoad(),this.setInterval(XO),this.level=-1,!this.startFragRequested){let i=r.startLevel;i===-1&&(r.config.testBandwidth&&this.levels.length>1?(i=0,this.bitrateTest=!0):i=r.firstAutoLevel),r.nextLoadLevel=i,this.level=r.loadLevel,this.loadedmetadata=!1}t>0&&e===-1&&(this.log(`Override startPosition with lastCurrentTime @${t.toFixed(3)}`),e=t),this.state=Le.IDLE,this.nextLoadPosition=this.startPosition=this.lastCurrentTime=e,this.tick()}else this._forceStartLoad=!0,this.state=Le.STOPPED}stopLoad(){this._forceStartLoad=!1,super.stopLoad()}doTick(){switch(this.state){case Le.WAITING_LEVEL:{const{levels:t,level:r}=this,i=t==null?void 0:t[r],s=i==null?void 0:i.details;if(s&&(!s.live||this.levelLastLoaded===i)){if(this.waitForCdnTuneIn(s))break;this.state=Le.IDLE;break}else if(this.hls.nextLoadLevel!==this.level){this.state=Le.IDLE;break}break}case Le.FRAG_LOADING_WAITING_RETRY:{var e;const t=self.performance.now(),r=this.retryDate;if(!r||t>=r||(e=this.media)!=null&&e.seeking){const{levels:i,level:s}=this,o=i==null?void 0:i[s];this.resetStartWhenNotLoaded(o||null),this.state=Le.IDLE}}break}this.state===Le.IDLE&&this.doTickIdle(),this.onTickEnd()}onTickEnd(){super.onTickEnd(),this.checkBuffer(),this.checkFragmentChanged()}doTickIdle(){const{hls:e,levelLastLoaded:t,levels:r,media:i}=this;if(t===null||!i&&(this.startFragRequested||!e.config.startFragPrefetch)||this.altAudio&&this.audioOnly)return;const s=e.nextLoadLevel;if(!(r!=null&&r[s]))return;const o=r[s],l=this.getMainFwdBufferInfo();if(l===null)return;const u=this.getLevelDetails();if(u&&this._streamEnded(l,u)){const L={};this.altAudio&&(L.type="video"),this.hls.trigger(z.BUFFER_EOS,L),this.state=Le.ENDED;return}e.loadLevel!==s&&e.manualLevel===-1&&this.log(`Adapting to level ${s} from level ${this.level}`),this.level=e.nextLoadLevel=s;const h=o.details;if(!h||this.state===Le.WAITING_LEVEL||h.live&&this.levelLastLoaded!==o){this.level=s,this.state=Le.WAITING_LEVEL;return}const m=l.len,y=this.getMaxBufferLength(o.maxBitrate);if(m>=y)return;this.backtrackFragment&&this.backtrackFragment.start>l.end&&(this.backtrackFragment=null);const _=this.backtrackFragment?this.backtrackFragment.start:l.end;let T=this.getNextFragment(_,h);if(this.couldBacktrack&&!this.fragPrevious&&T&&T.sn!=="initSegment"&&this.fragmentTracker.getState(T)!==rr.OK){var w;const I=((w=this.backtrackFragment)!=null?w:T).sn-h.startSN,C=h.fragments[I-1];C&&T.cc===C.cc&&(T=C,this.fragmentTracker.removeFragment(C))}else this.backtrackFragment&&l.len&&(this.backtrackFragment=null);if(T&&this.isLoopLoading(T,_)){if(!T.gap){const I=this.audioOnly&&!this.altAudio?Kt.AUDIO:Kt.VIDEO,C=(I===Kt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;C&&this.afterBufferFlushed(C,I,et.MAIN)}T=this.getNextFragmentLoopLoading(T,h,l,et.MAIN,y)}T&&(T.initSegment&&!T.initSegment.data&&!this.bitrateTest&&(T=T.initSegment),this.loadFragment(T,o,_))}loadFragment(e,t,r){const i=this.fragmentTracker.getState(e);this.fragCurrent=e,i===rr.NOT_LOADED||i===rr.PARTIAL?e.sn==="initSegment"?this._loadInitSegment(e,t):this.bitrateTest?(this.log(`Fragment ${e.sn} of level ${e.level} is being downloaded to test bitrate and will not be buffered`),this._loadBitrateTestFrag(e,t)):(this.startFragRequested=!0,super.loadFragment(e,t,r)):this.clearTrackerIfNeeded(e)}getBufferedFrag(e){return this.fragmentTracker.getBufferedFrag(e,et.MAIN)}followingBufferedFrag(e){return e?this.getBufferedFrag(e.end+.5):null}immediateLevelSwitch(){this.abortCurrentFrag(),this.flushMainBuffer(0,Number.POSITIVE_INFINITY)}nextLevelSwitch(){const{levels:e,media:t}=this;if(t!=null&&t.readyState){let r;const i=this.getAppendedFrag(t.currentTime);i&&i.start>1&&this.flushMainBuffer(0,i.start-1);const s=this.getLevelDetails();if(s!=null&&s.live){const l=this.getMainFwdBufferInfo();if(!l||l.len<s.targetduration*2)return}if(!t.paused&&e){const l=this.hls.nextLoadLevel,u=e[l],h=this.fragLastKbps;h&&this.fragCurrent?r=this.fragCurrent.duration*u.maxBitrate/(1e3*h)+1:r=0}else r=0;const o=this.getBufferedFrag(t.currentTime+r);if(o){const l=this.followingBufferedFrag(o);if(l){this.abortCurrentFrag();const u=l.maxStartPTS?l.maxStartPTS:l.start,h=l.duration,m=Math.max(o.end,u+Math.min(Math.max(h-this.config.maxFragLookUpTolerance,h*(this.couldBacktrack?.5:.125)),h*(this.couldBacktrack?.75:.25)));this.flushMainBuffer(m,Number.POSITIVE_INFINITY)}}}}abortCurrentFrag(){const e=this.fragCurrent;switch(this.fragCurrent=null,this.backtrackFragment=null,e&&(e.abortRequests(),this.fragmentTracker.removeFragment(e)),this.state){case Le.KEY_LOADING:case Le.FRAG_LOADING:case Le.FRAG_LOADING_WAITING_RETRY:case Le.PARSING:case Le.PARSED:this.state=Le.IDLE;break}this.nextLoadPosition=this.getLoadPosition()}flushMainBuffer(e,t){super.flushMainBuffer(e,t,this.altAudio?"video":null)}onMediaAttached(e,t){super.onMediaAttached(e,t);const r=t.media;this.onvplaying=this.onMediaPlaying.bind(this),this.onvseeked=this.onMediaSeeked.bind(this),r.addEventListener("playing",this.onvplaying),r.addEventListener("seeked",this.onvseeked),this.gapController=new qO(this.config,r,this.fragmentTracker,this.hls)}onMediaDetaching(){const{media:e}=this;e&&this.onvplaying&&this.onvseeked&&(e.removeEventListener("playing",this.onvplaying),e.removeEventListener("seeked",this.onvseeked),this.onvplaying=this.onvseeked=null,this.videoBuffer=null),this.fragPlaying=null,this.gapController&&(this.gapController.destroy(),this.gapController=null),super.onMediaDetaching()}onMediaPlaying(){this.tick()}onMediaSeeked(){const e=this.media,t=e?e.currentTime:null;He(t)&&this.log(`Media seeked to ${t.toFixed(3)}`);const r=this.getMainFwdBufferInfo();if(r===null||r.len===0){this.warn(`Main forward buffer length on "seeked" event ${r?r.len:"empty"})`);return}this.tick()}onManifestLoading(){this.log("Trigger BUFFER_RESET"),this.hls.trigger(z.BUFFER_RESET,void 0),this.fragmentTracker.removeAllFragments(),this.couldBacktrack=!1,this.startPosition=this.lastCurrentTime=this.fragLastKbps=0,this.levels=this.fragPlaying=this.backtrackFragment=this.levelLastLoaded=null,this.altAudio=this.audioOnly=this.startFragRequested=!1}onManifestParsed(e,t){let r=!1,i=!1;t.levels.forEach(s=>{const o=s.audioCodec;o&&(r=r||o.indexOf("mp4a.40.2")!==-1,i=i||o.indexOf("mp4a.40.5")!==-1)}),this.audioCodecSwitch=r&&i&&!QO(),this.audioCodecSwitch&&this.log("Both AAC/HE-AAC audio found in levels; declaring level codec as HE-AAC"),this.levels=t.levels,this.startFragRequested=!1}onLevelLoading(e,t){const{levels:r}=this;if(!r||this.state!==Le.IDLE)return;const i=r[t.level];(!i.details||i.details.live&&this.levelLastLoaded!==i||this.waitForCdnTuneIn(i.details))&&(this.state=Le.WAITING_LEVEL)}onLevelLoaded(e,t){var r;const{levels:i}=this,s=t.level,o=t.details,l=o.totalduration;if(!i){this.warn(`Levels were reset while loading level ${s}`);return}this.log(`Level ${s} loaded [${o.startSN},${o.endSN}]${o.lastPartSn?`[part-${o.lastPartSn}-${o.lastPartIndex}]`:""}, cc [${o.startCC}, ${o.endCC}] duration:${l}`);const u=i[s],h=this.fragCurrent;h&&(this.state===Le.FRAG_LOADING||this.state===Le.FRAG_LOADING_WAITING_RETRY)&&h.level!==t.level&&h.loader&&this.abortCurrentFrag();let m=0;if(o.live||(r=u.details)!=null&&r.live){var y;if(this.checkLiveUpdate(o),o.deltaUpdateFailed)return;m=this.alignPlaylists(o,u.details,(y=this.levelLastLoaded)==null?void 0:y.details)}if(u.details=o,this.levelLastLoaded=u,this.hls.trigger(z.LEVEL_UPDATED,{details:o,level:s}),this.state===Le.WAITING_LEVEL){if(this.waitForCdnTuneIn(o))return;this.state=Le.IDLE}this.startFragRequested?o.live&&this.synchronizeToLiveEdge(o):this.setStartPosition(o,m),this.tick()}_handleFragmentLoadProgress(e){var t;const{frag:r,part:i,payload:s}=e,{levels:o}=this;if(!o){this.warn(`Levels were reset while fragment load was in progress. Fragment ${r.sn} of level ${r.level} will not be buffered`);return}const l=o[r.level],u=l.details;if(!u){this.warn(`Dropping fragment ${r.sn} of level ${r.level} after level details were reset`),this.fragmentTracker.removeFragment(r);return}const h=l.videoCodec,m=u.PTSKnown||!u.live,y=(t=r.initSegment)==null?void 0:t.data,_=this._getAudioCodec(l),T=this.transmuxer=this.transmuxer||new x3(this.hls,et.MAIN,this._handleTransmuxComplete.bind(this),this._handleTransmuxerFlush.bind(this)),w=i?i.index:-1,L=w!==-1,I=new nm(r.level,r.sn,r.stats.chunkCount,s.byteLength,w,L),C=this.initPTS[r.cc];T.push(s,y,_,h,r,i,u.totalduration,m,I,C)}onAudioTrackSwitching(e,t){const r=this.altAudio;if(!!!t.url){if(this.mediaBuffer!==this.media){this.log("Switching on main audio, use media.buffered to schedule main fragment loading"),this.mediaBuffer=this.media;const o=this.fragCurrent;o&&(this.log("Switching to main audio track, cancel main fragment load"),o.abortRequests(),this.fragmentTracker.removeFragment(o)),this.resetTransmuxer(),this.resetLoadingState()}else this.audioOnly&&this.resetTransmuxer();const s=this.hls;r&&(s.trigger(z.BUFFER_FLUSHING,{startOffset:0,endOffset:Number.POSITIVE_INFINITY,type:null}),this.fragmentTracker.removeAllFragments()),s.trigger(z.AUDIO_TRACK_SWITCHED,t)}}onAudioTrackSwitched(e,t){const r=t.id,i=!!this.hls.audioTracks[r].url;if(i){const s=this.videoBuffer;s&&this.mediaBuffer!==s&&(this.log("Switching on alternate audio, use video.buffered to schedule main fragment loading"),this.mediaBuffer=s)}this.altAudio=i,this.tick()}onBufferCreated(e,t){const r=t.tracks;let i,s,o=!1;for(const l in r){const u=r[l];if(u.id==="main"){if(s=l,i=u,l==="video"){const h=r[l];h&&(this.videoBuffer=h.buffer)}}else o=!0}o&&i?(this.log(`Alternate track found, use ${s}.buffered to schedule main fragment loading`),this.mediaBuffer=i.buffer):this.mediaBuffer=this.media}onFragBuffered(e,t){const{frag:r,part:i}=t;if(r&&r.type!==et.MAIN)return;if(this.fragContextChanged(r)){this.warn(`Fragment ${r.sn}${i?" p: "+i.index:""} of level ${r.level} finished buffering, but was aborted. state: ${this.state}`),this.state===Le.PARSED&&(this.state=Le.IDLE);return}const s=i?i.stats:r.stats;this.fragLastKbps=Math.round(8*s.total/(s.buffering.end-s.loading.first)),r.sn!=="initSegment"&&(this.fragPrevious=r),this.fragBufferedComplete(r,i)}onError(e,t){var r;if(t.fatal){this.state=Le.ERROR;return}switch(t.details){case _e.FRAG_GAP:case _e.FRAG_PARSING_ERROR:case _e.FRAG_DECRYPT_ERROR:case _e.FRAG_LOAD_ERROR:case _e.FRAG_LOAD_TIMEOUT:case _e.KEY_LOAD_ERROR:case _e.KEY_LOAD_TIMEOUT:this.onFragmentOrKeyLoadError(et.MAIN,t);break;case _e.LEVEL_LOAD_ERROR:case _e.LEVEL_LOAD_TIMEOUT:case _e.LEVEL_PARSING_ERROR:!t.levelRetry&&this.state===Le.WAITING_LEVEL&&((r=t.context)==null?void 0:r.type)===Ft.LEVEL&&(this.state=Le.IDLE);break;case _e.BUFFER_APPEND_ERROR:case _e.BUFFER_FULL_ERROR:if(!t.parent||t.parent!=="main")return;if(t.details===_e.BUFFER_APPEND_ERROR){this.resetLoadingState();return}this.reduceLengthAndFlushBuffer(t)&&this.flushMainBuffer(0,Number.POSITIVE_INFINITY);break;case _e.INTERNAL_EXCEPTION:this.recoverWorkerError(t);break}}checkBuffer(){const{media:e,gapController:t}=this;if(!(!e||!t||!e.readyState)){if(this.loadedmetadata||!nn.getBuffered(e).length){const r=this.state!==Le.IDLE?this.fragCurrent:null;t.poll(this.lastCurrentTime,r)}this.lastCurrentTime=e.currentTime}}onFragLoadEmergencyAborted(){this.state=Le.IDLE,this.loadedmetadata||(this.startFragRequested=!1,this.nextLoadPosition=this.startPosition),this.tickImmediate()}onBufferFlushed(e,{type:t}){if(t!==Kt.AUDIO||this.audioOnly&&!this.altAudio){const r=(t===Kt.VIDEO?this.videoBuffer:this.mediaBuffer)||this.media;this.afterBufferFlushed(r,t,et.MAIN),this.tick()}}onLevelsUpdated(e,t){this.level>-1&&this.fragCurrent&&(this.level=this.fragCurrent.level),this.levels=t.levels}swapAudioCodec(){this.audioCodecSwap=!this.audioCodecSwap}seekToStartPos(){const{media:e}=this;if(!e)return;const t=e.currentTime;let r=this.startPosition;if(r>=0&&t<r){if(e.seeking){this.log(`could not seek to ${r}, already seeking at ${t}`);return}const i=nn.getBuffered(e),o=(i.length?i.start(0):0)-r;o>0&&(o<this.config.maxBufferHole||o<this.config.maxFragLookUpTolerance)&&(this.log(`adjusting start position by ${o} to match buffer start`),r+=o,this.startPosition=r),this.log(`seek to target start position ${r} from current time ${t}`),e.currentTime=r}}_getAudioCodec(e){let t=this.config.defaultAudioCodec||e.audioCodec;return this.audioCodecSwap&&t&&(this.log("Swapping audio codec"),t.indexOf("mp4a.40.5")!==-1?t="mp4a.40.2":t="mp4a.40.5"),t}_loadBitrateTestFrag(e,t){e.bitrateTest=!0,this._doFragLoad(e,t).then(r=>{const{hls:i}=this;if(!r||this.fragContextChanged(e))return;t.fragmentError=0,this.state=Le.IDLE,this.startFragRequested=!1,this.bitrateTest=!1;const s=e.stats;s.parsing.start=s.parsing.end=s.buffering.start=s.buffering.end=self.performance.now(),i.trigger(z.FRAG_LOADED,r),e.bitrateTest=!1})}_handleTransmuxComplete(e){var t;const r="main",{hls:i}=this,{remuxResult:s,chunkMeta:o}=e,l=this.getCurrentContext(o);if(!l){this.resetWhenMissingContext(o);return}const{frag:u,part:h,level:m}=l,{video:y,text:_,id3:T,initSegment:w}=s,{details:L}=m,I=this.altAudio?void 0:s.audio;if(this.fragContextChanged(u)){this.fragmentTracker.removeFragment(u);return}if(this.state=Le.PARSING,w){if(w!=null&&w.tracks){const M=u.initSegment||u;this._bufferInitSegment(m,w.tracks,M,o),i.trigger(z.FRAG_PARSING_INIT_SEGMENT,{frag:M,id:r,tracks:w.tracks})}const C=w.initPTS,b=w.timescale;He(C)&&(this.initPTS[u.cc]={baseTime:C,timescale:b},i.trigger(z.INIT_PTS_FOUND,{frag:u,id:r,initPTS:C,timescale:b}))}if(y&&L&&u.sn!=="initSegment"){const C=L.fragments[u.sn-1-L.startSN],b=u.sn===L.startSN,M=!C||u.cc>C.cc;if(s.independent!==!1){const{startPTS:U,endPTS:B,startDTS:$,endDTS:H}=y;if(h)h.elementaryStreams[y.type]={startPTS:U,endPTS:B,startDTS:$,endDTS:H};else if(y.firstKeyFrame&&y.independent&&o.id===1&&!M&&(this.couldBacktrack=!0),y.dropped&&y.independent){const j=this.getMainFwdBufferInfo(),Y=(j?j.end:this.getLoadPosition())+this.config.maxBufferHole,q=y.firstKeyFramePTS?y.firstKeyFramePTS:U;if(!b&&Y<q-this.config.maxBufferHole&&!M){this.backtrack(u);return}else M&&(u.gap=!0);u.setElementaryStreamInfo(y.type,u.start,B,u.start,H,!0)}else b&&U>Ag&&(u.gap=!0);u.setElementaryStreamInfo(y.type,U,B,$,H),this.backtrackFragment&&(this.backtrackFragment=u),this.bufferFragmentData(y,u,h,o,b||M)}else if(b||M)u.gap=!0;else{this.backtrack(u);return}}if(I){const{startPTS:C,endPTS:b,startDTS:M,endDTS:U}=I;h&&(h.elementaryStreams[Kt.AUDIO]={startPTS:C,endPTS:b,startDTS:M,endDTS:U}),u.setElementaryStreamInfo(Kt.AUDIO,C,b,M,U),this.bufferFragmentData(I,u,h,o)}if(L&&T!=null&&(t=T.samples)!=null&&t.length){const C={id:r,frag:u,details:L,samples:T.samples};i.trigger(z.FRAG_PARSING_METADATA,C)}if(L&&_){const C={id:r,frag:u,details:L,samples:_.samples};i.trigger(z.FRAG_PARSING_USERDATA,C)}}_bufferInitSegment(e,t,r,i){if(this.state!==Le.PARSING)return;this.audioOnly=!!t.audio&&!t.video,this.altAudio&&!this.audioOnly&&delete t.audio;const{audio:s,video:o,audiovideo:l}=t;if(s){let u=e.audioCodec;const h=navigator.userAgent.toLowerCase();if(this.audioCodecSwitch){u&&(u.indexOf("mp4a.40.5")!==-1?u="mp4a.40.2":u="mp4a.40.5");const m=s.metadata;m&&"channelCount"in m&&(m.channelCount||1)!==1&&h.indexOf("firefox")===-1&&(u="mp4a.40.5")}u&&u.indexOf("mp4a.40.5")!==-1&&h.indexOf("android")!==-1&&s.container!=="audio/mpeg"&&(u="mp4a.40.2",this.log(`Android: force audio codec to ${u}`)),e.audioCodec&&e.audioCodec!==u&&this.log(`Swapping manifest audio codec "${e.audioCodec}" for "${u}"`),s.levelCodec=u,s.id="main",this.log(`Init audio buffer, container:${s.container}, codecs[selected/level/parsed]=[${u||""}/${e.audioCodec||""}/${s.codec}]`)}o&&(o.levelCodec=e.videoCodec,o.id="main",this.log(`Init video buffer, container:${o.container}, codecs[level/parsed]=[${e.videoCodec||""}/${o.codec}]`)),l&&this.log(`Init audiovideo buffer, container:${l.container}, codecs[level/parsed]=[${e.codecs}/${l.codec}]`),this.hls.trigger(z.BUFFER_CODECS,t),Object.keys(t).forEach(u=>{const m=t[u].initSegment;m!=null&&m.byteLength&&this.hls.trigger(z.BUFFER_APPENDING,{type:u,data:m,frag:r,part:null,chunkMeta:i,parent:r.type})}),this.tickImmediate()}getMainFwdBufferInfo(){return this.getFwdBufferInfo(this.mediaBuffer?this.mediaBuffer:this.media,et.MAIN)}backtrack(e){this.couldBacktrack=!0,this.backtrackFragment=e,this.resetTransmuxer(),this.flushBufferGap(e),this.fragmentTracker.removeFragment(e),this.fragPrevious=null,this.nextLoadPosition=e.start,this.state=Le.IDLE}checkFragmentChanged(){const e=this.media;let t=null;if(e&&e.readyState>1&&e.seeking===!1){const r=e.currentTime;if(nn.isBuffered(e,r)?t=this.getAppendedFrag(r):nn.isBuffered(e,r+.1)&&(t=this.getAppendedFrag(r+.1)),t){this.backtrackFragment=null;const i=this.fragPlaying,s=t.level;(!i||t.sn!==i.sn||i.level!==s)&&(this.fragPlaying=t,this.hls.trigger(z.FRAG_CHANGED,{frag:t}),(!i||i.level!==s)&&this.hls.trigger(z.LEVEL_SWITCHED,{level:s}))}}}get nextLevel(){const e=this.nextBufferedFrag;return e?e.level:-1}get currentFrag(){const e=this.media;return e?this.fragPlaying||this.getAppendedFrag(e.currentTime):null}get currentProgramDateTime(){const e=this.media;if(e){const t=e.currentTime,r=this.currentFrag;if(r&&He(t)&&He(r.programDateTime)){const i=r.programDateTime+(t-r.start)*1e3;return new Date(i)}}return null}get currentLevel(){const e=this.currentFrag;return e?e.level:-1}get nextBufferedFrag(){const e=this.currentFrag;return e?this.followingBufferedFrag(e):null}get forceStartLoad(){return this._forceStartLoad}}class ea{static get version(){return"1.5.17"}static isMSESupported(){return Hx()}static isSupported(){return Y3()}static getMediaSource(){return pa()}static get Events(){return z}static get ErrorTypes(){return st}static get ErrorDetails(){return _e}static get DefaultConfig(){return ea.defaultConfig?ea.defaultConfig:K3}static set DefaultConfig(e){ea.defaultConfig=e}constructor(e={}){this.config=void 0,this.userConfig=void 0,this.coreComponents=void 0,this.networkControllers=void 0,this.started=!1,this._emitter=new Ux,this._autoLevelCapping=-1,this._maxHdcpLevel=null,this.abrController=void 0,this.bufferController=void 0,this.capLevelController=void 0,this.latencyController=void 0,this.levelController=void 0,this.streamController=void 0,this.audioTrackController=void 0,this.subtitleTrackController=void 0,this.emeController=void 0,this.cmcdController=void 0,this._media=null,this.url=null,this.triggeringException=void 0,e8(e.debug||!1,"Hls instance");const t=this.config=zO(ea.DefaultConfig,e);this.userConfig=e,t.progressive&&HO(t);const{abrController:r,bufferController:i,capLevelController:s,errorController:o,fpsController:l}=t,u=new o(this),h=this.abrController=new r(this),m=this.bufferController=new i(this),y=this.capLevelController=new s(this),_=new l(this),T=new Q8(this),w=new X8(this),L=t.contentSteeringController,I=L?new L(this):null,C=this.levelController=new jO(this,I),b=new T5(this),M=new VO(this.config),U=this.streamController=new ZO(this,b,M);y.setStreamController(U),_.setStreamController(U);const B=[T,C,U];I&&B.splice(1,0,I),this.networkControllers=B;const $=[h,m,y,_,w,b];this.audioTrackController=this.createController(t.audioTrackController,B);const H=t.audioStreamController;H&&B.push(new H(this,b,M)),this.subtitleTrackController=this.createController(t.subtitleTrackController,B);const j=t.subtitleStreamController;j&&B.push(new j(this,b,M)),this.createController(t.timelineController,$),M.emeController=this.emeController=this.createController(t.emeController,$),this.cmcdController=this.createController(t.cmcdController,$),this.latencyController=this.createController(Z8,$),this.coreComponents=$,B.push(u);const Y=u.onErrorOut;typeof Y=="function"&&this.on(z.ERROR,Y,u)}createController(e,t){if(e){const r=new e(this);return t&&t.push(r),r}return null}on(e,t,r=this){this._emitter.on(e,t,r)}once(e,t,r=this){this._emitter.once(e,t,r)}removeAllListeners(e){this._emitter.removeAllListeners(e)}off(e,t,r=this,i){this._emitter.off(e,t,r,i)}listeners(e){return this._emitter.listeners(e)}emit(e,t,r){return this._emitter.emit(e,t,r)}trigger(e,t){if(this.config.debug)return this.emit(e,e,t);try{return this.emit(e,e,t)}catch(r){if(he.error("An internal error happened while handling event "+e+'. Error message: "'+r.message+'". Here is a stacktrace:',r),!this.triggeringException){this.triggeringException=!0;const i=e===z.ERROR;this.trigger(z.ERROR,{type:st.OTHER_ERROR,details:_e.INTERNAL_EXCEPTION,fatal:i,event:e,error:r}),this.triggeringException=!1}}return!1}listenerCount(e){return this._emitter.listenerCount(e)}destroy(){he.log("destroy"),this.trigger(z.DESTROYING,void 0),this.detachMedia(),this.removeAllListeners(),this._autoLevelCapping=-1,this.url=null,this.networkControllers.forEach(t=>t.destroy()),this.networkControllers.length=0,this.coreComponents.forEach(t=>t.destroy()),this.coreComponents.length=0;const e=this.config;e.xhrSetup=e.fetchSetup=void 0,this.userConfig=null}attachMedia(e){he.log("attachMedia"),this._media=e,this.trigger(z.MEDIA_ATTACHING,{media:e})}detachMedia(){he.log("detachMedia"),this.trigger(z.MEDIA_DETACHING,void 0),this._media=null}loadSource(e){this.stopLoad();const t=this.media,r=this.url,i=this.url=Lx.buildAbsoluteURL(self.location.href,e,{alwaysNormalize:!0});this._autoLevelCapping=-1,this._maxHdcpLevel=null,he.log(`loadSource:${i}`),t&&r&&(r!==i||this.bufferController.hasSourceTypes())&&(this.detachMedia(),this.attachMedia(t)),this.trigger(z.MANIFEST_LOADING,{url:e})}startLoad(e=-1){he.log(`startLoad(${e})`),this.started=!0,this.networkControllers.forEach(t=>{t.startLoad(e)})}stopLoad(){he.log("stopLoad"),this.started=!1,this.networkControllers.forEach(e=>{e.stopLoad()})}resumeBuffering(){this.started&&this.networkControllers.forEach(e=>{"fragmentLoader"in e&&e.startLoad(-1)})}pauseBuffering(){this.networkControllers.forEach(e=>{"fragmentLoader"in e&&e.stopLoad()})}swapAudioCodec(){he.log("swapAudioCodec"),this.streamController.swapAudioCodec()}recoverMediaError(){he.log("recoverMediaError");const e=this._media;this.detachMedia(),e&&this.attachMedia(e)}removeLevel(e){this.levelController.removeLevel(e)}get levels(){const e=this.levelController.levels;return e||[]}get currentLevel(){return this.streamController.currentLevel}set currentLevel(e){he.log(`set currentLevel:${e}`),this.levelController.manualLevel=e,this.streamController.immediateLevelSwitch()}get nextLevel(){return this.streamController.nextLevel}set nextLevel(e){he.log(`set nextLevel:${e}`),this.levelController.manualLevel=e,this.streamController.nextLevelSwitch()}get loadLevel(){return this.levelController.level}set loadLevel(e){he.log(`set loadLevel:${e}`),this.levelController.manualLevel=e}get nextLoadLevel(){return this.levelController.nextLoadLevel}set nextLoadLevel(e){this.levelController.nextLoadLevel=e}get firstLevel(){return Math.max(this.levelController.firstLevel,this.minAutoLevel)}set firstLevel(e){he.log(`set firstLevel:${e}`),this.levelController.firstLevel=e}get startLevel(){const e=this.levelController.startLevel;return e===-1&&this.abrController.forcedAutoLevel>-1?this.abrController.forcedAutoLevel:e}set startLevel(e){he.log(`set startLevel:${e}`),e!==-1&&(e=Math.max(e,this.minAutoLevel)),this.levelController.startLevel=e}get capLevelToPlayerSize(){return this.config.capLevelToPlayerSize}set capLevelToPlayerSize(e){const t=!!e;t!==this.config.capLevelToPlayerSize&&(t?this.capLevelController.startCapping():(this.capLevelController.stopCapping(),this.autoLevelCapping=-1,this.streamController.nextLevelSwitch()),this.config.capLevelToPlayerSize=t)}get autoLevelCapping(){return this._autoLevelCapping}get bandwidthEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimate():NaN}set bandwidthEstimate(e){this.abrController.resetEstimator(e)}get ttfbEstimate(){const{bwEstimator:e}=this.abrController;return e?e.getEstimateTTFB():NaN}set autoLevelCapping(e){this._autoLevelCapping!==e&&(he.log(`set autoLevelCapping:${e}`),this._autoLevelCapping=e,this.levelController.checkMaxAutoUpdated())}get maxHdcpLevel(){return this._maxHdcpLevel}set maxHdcpLevel(e){J8(e)&&this._maxHdcpLevel!==e&&(this._maxHdcpLevel=e,this.levelController.checkMaxAutoUpdated())}get autoLevelEnabled(){return this.levelController.manualLevel===-1}get manualLevel(){return this.levelController.manualLevel}get minAutoLevel(){const{levels:e,config:{minAutoBitrate:t}}=this;if(!e)return 0;const r=e.length;for(let i=0;i<r;i++)if(e[i].maxBitrate>=t)return i;return 0}get maxAutoLevel(){const{levels:e,autoLevelCapping:t,maxHdcpLevel:r}=this;let i;if(t===-1&&e!=null&&e.length?i=e.length-1:i=t,r)for(let s=i;s--;){const o=e[s].attrs["HDCP-LEVEL"];if(o&&o<=r)return s}return i}get firstAutoLevel(){return this.abrController.firstAutoLevel}get nextAutoLevel(){return this.abrController.nextAutoLevel}set nextAutoLevel(e){this.abrController.nextAutoLevel=e}get playingDate(){return this.streamController.currentProgramDateTime}get mainForwardBufferInfo(){return this.streamController.getMainFwdBufferInfo()}setAudioOption(e){var t;return(t=this.audioTrackController)==null?void 0:t.setAudioOption(e)}setSubtitleOption(e){var t;return(t=this.subtitleTrackController)==null||t.setSubtitleOption(e),null}get allAudioTracks(){const e=this.audioTrackController;return e?e.allAudioTracks:[]}get audioTracks(){const e=this.audioTrackController;return e?e.audioTracks:[]}get audioTrack(){const e=this.audioTrackController;return e?e.audioTrack:-1}set audioTrack(e){const t=this.audioTrackController;t&&(t.audioTrack=e)}get allSubtitleTracks(){const e=this.subtitleTrackController;return e?e.allSubtitleTracks:[]}get subtitleTracks(){const e=this.subtitleTrackController;return e?e.subtitleTracks:[]}get subtitleTrack(){const e=this.subtitleTrackController;return e?e.subtitleTrack:-1}get media(){return this._media}set subtitleTrack(e){const t=this.subtitleTrackController;t&&(t.subtitleTrack=e)}get subtitleDisplay(){const e=this.subtitleTrackController;return e?e.subtitleDisplay:!1}set subtitleDisplay(e){const t=this.subtitleTrackController;t&&(t.subtitleDisplay=e)}get lowLatencyMode(){return this.config.lowLatencyMode}set lowLatencyMode(e){this.config.lowLatencyMode=e}get liveSyncPosition(){return this.latencyController.liveSyncPosition}get latency(){return this.latencyController.latency}get maxLatency(){return this.latencyController.maxLatency}get targetLatency(){return this.latencyController.targetLatency}get drift(){return this.latencyController.drift}get forceStartLoad(){return this.streamController.forceStartLoad}}ea.defaultConfig=void 0;const _z=Object.freeze(Object.defineProperty({__proto__:null,AbrController:n3,AttrList:fn,AudioStreamController:E3,AudioTrackController:S3,BasePlaylistController:tm,BaseSegment:Cx,BaseStreamController:rm,BufferController:k3,CMCDController:H3,CapLevelController:im,ChunkMetadata:nm,ContentSteeringController:j3,DateRange:Rx,EMEController:dA,ErrorActionFlags:ds,ErrorController:e3,ErrorDetails:_e,ErrorTypes:st,Events:z,FPSController:N3,Fragment:ng,Hls:ea,HlsSkip:$f,HlsUrlParameters:E2,KeySystemFormats:Wr,KeySystems:Jt,Level:wA,LevelDetails:PR,LevelKey:u0,LoadStats:Bc,MetadataSchema:xs,NetworkErrorAction:Qn,Part:bR,PlaylistLevelType:et,SubtitleStreamController:T3,SubtitleTrackController:w3,TimelineController:O3,default:ea,getMediaSource:pa,isMSESupported:Hx,isSupported:Y3},Symbol.toStringTag,{value:"Module"}));var q3={exports:{}},JO="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",e6=JO,t6=e6;function X3(){}function Z3(){}Z3.resetWarningCache=X3;var n6=function(){function n(r,i,s,o,l,u){if(u!==t6){var h=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw h.name="Invariant Violation",h}}n.isRequired=n;function e(){return n}var t={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:e,element:n,elementType:n,instanceOf:e,node:n,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:Z3,resetWarningCache:X3};return t.PropTypes=t,t};q3.exports=n6();var r6=q3.exports;const F=va(r6);var jx={};jx.match=A6;jx.parse=J3;var i6=/(?:(only|not)?\s*([^\s\(\)]+)(?:\s*and)?\s*)?(.+)?/i,s6=/\(\s*([^\s\:\)]+)\s*(?:\:\s*([^\s\)]+))?\s*\)/,o6=/^(?:(min|max)-)?(.+)/,l6=/(em|rem|px|cm|mm|in|pt|pc)?$/,a6=/(dpi|dpcm|dppx)?$/;function A6(n,e){return J3(n).some(function(t){var r=t.inverse,i=t.type==="all"||e.type===t.type;if(i&&r||!(i||r))return!1;var s=t.expressions.every(function(o){var l=o.feature,u=o.modifier,h=o.value,m=e[l];if(!m)return!1;switch(l){case"orientation":case"scan":return m.toLowerCase()===h.toLowerCase();case"width":case"height":case"device-width":case"device-height":h=fT(h),m=fT(m);break;case"resolution":h=uT(h),m=uT(m);break;case"aspect-ratio":case"device-aspect-ratio":case"device-pixel-ratio":h=AT(h),m=AT(m);break;case"grid":case"color":case"color-index":case"monochrome":h=parseInt(h,10)||1,m=parseInt(m,10)||0;break}switch(u){case"min":return m>=h;case"max":return m<=h;default:return m===h}});return s&&!r||!s&&r})}function J3(n){return n.split(",").map(function(e){e=e.trim();var t=e.match(i6),r=t[1],i=t[2],s=t[3]||"",o={};return o.inverse=!!r&&r.toLowerCase()==="not",o.type=i?i.toLowerCase():"all",s=s.match(/\([^\)]+\)/g)||[],o.expressions=s.map(function(l){var u=l.match(s6),h=u[1].toLowerCase().match(o6);return{modifier:h[1],feature:h[2],value:u[2]}}),o})}function AT(n){var e=Number(n),t;return e||(t=n.match(/^(\d+)\s*\/\s*(\d+)$/),e=t[1]/t[2]),e}function uT(n){var e=parseFloat(n),t=String(n).match(a6)[1];switch(t){case"dpcm":return e/2.54;case"dppx":return e*96;default:return e}}function fT(n){var e=parseFloat(n),t=String(n).match(l6)[1];switch(t){case"em":return e*16;case"rem":return e*16;case"cm":return e*96/2.54;case"mm":return e*96/2.54/10;case"in":return e*96;case"pt":return e*72;case"pc":return e*72/12;default:return e}}var u6=jx.match,cT=typeof window<"u"?window.matchMedia:null;function f6(n,e,t){var r=this,i;cT&&!t&&(i=cT.call(window,n)),i?(this.matches=i.matches,this.media=i.media,i.addListener(l)):(this.matches=u6(n,e),this.media=n),this.addListener=s,this.removeListener=o,this.dispose=u;function s(h){i&&i.addListener(h)}function o(h){i&&i.removeListener(h)}function l(h){r.matches=h.matches,r.media=h.media}function u(){i&&i.removeListener(l)}}function c6(n,e,t){return new f6(n,e,t)}var h6=c6;const d6=va(h6);var g6=/[A-Z]/g,p6=/^ms-/,ny={};function m6(n){return"-"+n.toLowerCase()}function eC(n){if(ny.hasOwnProperty(n))return ny[n];var e=n.replace(g6,m6);return ny[n]=p6.test(e)?"-"+e:e}function y6(n,e){if(n===e)return!0;if(!n||!e)return!1;const t=Object.keys(n),r=Object.keys(e),i=t.length;if(r.length!==i)return!1;for(let s=0;s<i;s++){const o=t[s];if(n[o]!==e[o]||!Object.prototype.hasOwnProperty.call(e,o))return!1}return!0}const Qr=F.oneOfType([F.string,F.number]),Vx={all:F.bool,grid:F.bool,aural:F.bool,braille:F.bool,handheld:F.bool,print:F.bool,projection:F.bool,screen:F.bool,tty:F.bool,tv:F.bool,embossed:F.bool},tC={orientation:F.oneOf(["portrait","landscape"]),scan:F.oneOf(["progressive","interlace"]),aspectRatio:F.string,deviceAspectRatio:F.string,height:Qr,deviceHeight:Qr,width:Qr,deviceWidth:Qr,color:F.bool,colorIndex:F.bool,monochrome:F.bool,resolution:Qr,type:Object.keys(Vx)},{type:Ez,...v6}=tC,nC={minAspectRatio:F.string,maxAspectRatio:F.string,minDeviceAspectRatio:F.string,maxDeviceAspectRatio:F.string,minHeight:Qr,maxHeight:Qr,minDeviceHeight:Qr,maxDeviceHeight:Qr,minWidth:Qr,maxWidth:Qr,minDeviceWidth:Qr,maxDeviceWidth:Qr,minColor:F.number,maxColor:F.number,minColorIndex:F.number,maxColorIndex:F.number,minMonochrome:F.number,maxMonochrome:F.number,minResolution:Qr,maxResolution:Qr,...v6},x6={...Vx,...nC};var _6={all:x6,types:Vx,matchers:tC,features:nC};const E6=n=>`not ${n}`,S6=(n,e)=>{const t=eC(n);return typeof e=="number"&&(e=`${e}px`),e===!0?t:e===!1?E6(t):`(${t}: ${e})`},T6=n=>n.join(" and "),w6=n=>{const e=[];return Object.keys(_6.all).forEach(t=>{const r=n[t];r!=null&&e.push(S6(t,r))}),T6(e)},k6=Qe.createContext(void 0),L6=n=>n.query||w6(n),hT=n=>n?Object.keys(n).reduce((t,r)=>(t[eC(r)]=n[r],t),{}):void 0,rC=()=>{const n=Qe.useRef(!1);return Qe.useEffect(()=>{n.current=!0},[]),n.current},R6=n=>{const e=Qe.useContext(k6),t=()=>hT(n)||hT(e),[r,i]=Qe.useState(t);return Qe.useEffect(()=>{const s=t();y6(r,s)||i(s)},[n,e]),r},C6=n=>{const e=()=>L6(n),[t,r]=Qe.useState(e);return Qe.useEffect(()=>{const i=e();t!==i&&r(i)},[n]),t},I6=(n,e)=>{const t=()=>d6(n,e||{},!!e),[r,i]=Qe.useState(t),s=rC();return Qe.useEffect(()=>{if(s){const o=t();return i(o),()=>{o&&o.dispose()}}},[n,e]),r},D6=n=>{const[e,t]=Qe.useState(n.matches);return Qe.useEffect(()=>{const r=i=>{t(i.matches)};return n.addListener(r),t(n.matches),()=>{n.removeListener(r)}},[n]),e},Sz=(n,e,t)=>{const r=R6(e),i=C6(n);if(!i)throw new Error("Invalid or missing MediaQuery!");const s=I6(i,r),o=D6(s),l=rC();return Qe.useEffect(()=>{l&&t&&t(o)},[o]),Qe.useEffect(()=>()=>{s&&s.dispose()},[]),o};function Jo(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function iC(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,n.__proto__=e}/*!
 * GSAP 3.12.5
 * https://gsap.com
 *
 * @license Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var Vi={autoSleep:120,force3D:"auto",nullTargetWarn:1,units:{lineHeight:""}},h0={duration:.5,overwrite:!1,delay:0},Qx,Pr,dn,Es=1e8,rn=1/Es,b2=Math.PI*2,b6=b2/4,P6=0,sC=Math.sqrt,M6=Math.cos,O6=Math.sin,ar=function(e){return typeof e=="string"},Rn=function(e){return typeof e=="function"},hl=function(e){return typeof e=="number"},Kx=function(e){return typeof e>"u"},Ro=function(e){return typeof e=="object"},vi=function(e){return e!==!1},Wx=function(){return typeof window<"u"},Cd=function(e){return Rn(e)||ar(e)},oC=typeof ArrayBuffer=="function"&&ArrayBuffer.isView||function(){},Mr=Array.isArray,P2=/(?:-?\.?\d|\.)+/gi,lC=/[-+=.]*\d+[.e\-+]*\d*[e\-+]*\d*/g,Mu=/[-+=.]*\d+[.e-]*\d*[a-z%]*/g,ry=/[-+=.]*\d+\.?\d*(?:e-|e\+)?\d*/gi,aC=/[+-]=-?[.\d]+/,AC=/[^,'"\[\]\s]+/gi,F6=/^[+\-=e\s\d]*\d+[.\d]*([a-z]*|%)\s*$/i,mn,co,M2,Yx,Ki={},Zg={},uC,fC=function(e){return(Zg=kA(e,Ki))&&Ti},qx=function(e,t){return console.warn("Invalid property",e,"set to",t,"Missing plugin? gsap.registerPlugin()")},dc=function(e,t){return!t&&console.warn(e)},cC=function(e,t){return e&&(Ki[e]=t)&&Zg&&(Zg[e]=t)||Ki},gc=function(){return 0},N6={suppressEvents:!0,isStart:!0,kill:!1},ug={suppressEvents:!0,kill:!1},B6={suppressEvents:!0},Xx={},ca=[],O2={},hC,Ui={},iy={},dT=30,fg=[],Zx="",Jx=function(e){var t=e[0],r,i;if(Ro(t)||Rn(t)||(e=[e]),!(r=(t._gsap||{}).harness)){for(i=fg.length;i--&&!fg[i].targetTest(t););r=fg[i]}for(i=e.length;i--;)e[i]&&(e[i]._gsap||(e[i]._gsap=new NC(e[i],r)))||e.splice(i,1);return e},gA=function(e){return e._gsap||Jx(Ss(e))[0]._gsap},dC=function(e,t,r){return(r=e[t])&&Rn(r)?e[t]():Kx(r)&&e.getAttribute&&e.getAttribute(t)||r},xi=function(e,t){return(e=e.split(",")).forEach(t)||e},bn=function(e){return Math.round(e*1e5)/1e5||0},ir=function(e){return Math.round(e*1e7)/1e7||0},Yu=function(e,t){var r=t.charAt(0),i=parseFloat(t.substr(2));return e=parseFloat(e),r==="+"?e+i:r==="-"?e-i:r==="*"?e*i:e/i},U6=function(e,t){for(var r=t.length,i=0;e.indexOf(t[i])<0&&++i<r;);return i<r},Jg=function(){var e=ca.length,t=ca.slice(0),r,i;for(O2={},ca.length=0,r=0;r<e;r++)i=t[r],i&&i._lazy&&(i.render(i._lazy[0],i._lazy[1],!0)._lazy=0)},gC=function(e,t,r,i){ca.length&&!Pr&&Jg(),e.render(t,r,Pr&&t<0&&(e._initted||e._startAt)),ca.length&&!Pr&&Jg()},pC=function(e){var t=parseFloat(e);return(t||t===0)&&(e+"").match(AC).length<2?t:ar(e)?e.trim():e},mC=function(e){return e},Cs=function(e,t){for(var r in t)r in e||(e[r]=t[r]);return e},G6=function(e){return function(t,r){for(var i in r)i in t||i==="duration"&&e||i==="ease"||(t[i]=r[i])}},kA=function(e,t){for(var r in t)e[r]=t[r];return e},gT=function n(e,t){for(var r in t)r!=="__proto__"&&r!=="constructor"&&r!=="prototype"&&(e[r]=Ro(t[r])?n(e[r]||(e[r]={}),t[r]):t[r]);return e},ep=function(e,t){var r={},i;for(i in e)i in t||(r[i]=e[i]);return r},zf=function(e){var t=e.parent||mn,r=e.keyframes?G6(Mr(e.keyframes)):Cs;if(vi(e.inherit))for(;t;)r(e,t.vars.defaults),t=t.parent||t._dp;return e},$6=function(e,t){for(var r=e.length,i=r===t.length;i&&r--&&e[r]===t[r];);return r<0},yC=function(e,t,r,i,s){var o=e[i],l;if(s)for(l=t[s];o&&o[s]>l;)o=o._prev;return o?(t._next=o._next,o._next=t):(t._next=e[r],e[r]=t),t._next?t._next._prev=t:e[i]=t,t._prev=o,t.parent=t._dp=e,t},sm=function(e,t,r,i){r===void 0&&(r="_first"),i===void 0&&(i="_last");var s=t._prev,o=t._next;s?s._next=o:e[r]===t&&(e[r]=o),o?o._prev=s:e[i]===t&&(e[i]=s),t._next=t._prev=t.parent=null},ma=function(e,t){e.parent&&(!t||e.parent.autoRemoveChildren)&&e.parent.remove&&e.parent.remove(e),e._act=0},pA=function(e,t){if(e&&(!t||t._end>e._dur||t._start<0))for(var r=e;r;)r._dirty=1,r=r.parent;return e},z6=function(e){for(var t=e.parent;t&&t.parent;)t._dirty=1,t.totalDuration(),t=t.parent;return e},F2=function(e,t,r,i){return e._startAt&&(Pr?e._startAt.revert(ug):e.vars.immediateRender&&!e.vars.autoRevert||e._startAt.render(t,!0,i))},H6=function n(e){return!e||e._ts&&n(e.parent)},pT=function(e){return e._repeat?d0(e._tTime,e=e.duration()+e._rDelay)*e:0},d0=function(e,t){var r=Math.floor(e/=t);return e&&r===e?r-1:r},tp=function(e,t){return(e-t._start)*t._ts+(t._ts>=0?0:t._dirty?t.totalDuration():t._tDur)},om=function(e){return e._end=ir(e._start+(e._tDur/Math.abs(e._ts||e._rts||rn)||0))},lm=function(e,t){var r=e._dp;return r&&r.smoothChildTiming&&e._ts&&(e._start=ir(r._time-(e._ts>0?t/e._ts:((e._dirty?e.totalDuration():e._tDur)-t)/-e._ts)),om(e),r._dirty||pA(r,e)),e},vC=function(e,t){var r;if((t._time||!t._dur&&t._initted||t._start<e._time&&(t._dur||!t.add))&&(r=tp(e.rawTime(),t),(!t._dur||Uc(0,t.totalDuration(),r)-t._tTime>rn)&&t.render(r,!0)),pA(e,t)._dp&&e._initted&&e._time>=e._dur&&e._ts){if(e._dur<e.duration())for(r=e;r._dp;)r.rawTime()>=0&&r.totalTime(r._tTime),r=r._dp;e._zTime=-rn}},po=function(e,t,r,i){return t.parent&&ma(t),t._start=ir((hl(r)?r:r||e!==mn?gs(e,r,t):e._time)+t._delay),t._end=ir(t._start+(t.totalDuration()/Math.abs(t.timeScale())||0)),yC(e,t,"_first","_last",e._sort?"_start":0),N2(t)||(e._recent=t),i||vC(e,t),e._ts<0&&lm(e,e._tTime),e},xC=function(e,t){return(Ki.ScrollTrigger||qx("scrollTrigger",t))&&Ki.ScrollTrigger.create(t,e)},_C=function(e,t,r,i,s){if(t_(e,t,s),!e._initted)return 1;if(!r&&e._pt&&!Pr&&(e._dur&&e.vars.lazy!==!1||!e._dur&&e.vars.lazy)&&hC!==$i.frame)return ca.push(e),e._lazy=[s,i],1},j6=function n(e){var t=e.parent;return t&&t._ts&&t._initted&&!t._lock&&(t.rawTime()<0||n(t))},N2=function(e){var t=e.data;return t==="isFromStart"||t==="isStart"},V6=function(e,t,r,i){var s=e.ratio,o=t<0||!t&&(!e._start&&j6(e)&&!(!e._initted&&N2(e))||(e._ts<0||e._dp._ts<0)&&!N2(e))?0:1,l=e._rDelay,u=0,h,m,y;if(l&&e._repeat&&(u=Uc(0,e._tDur,t),m=d0(u,l),e._yoyo&&m&1&&(o=1-o),m!==d0(e._tTime,l)&&(s=1-o,e.vars.repeatRefresh&&e._initted&&e.invalidate())),o!==s||Pr||i||e._zTime===rn||!t&&e._zTime){if(!e._initted&&_C(e,t,i,r,u))return;for(y=e._zTime,e._zTime=t||(r?rn:0),r||(r=t&&!y),e.ratio=o,e._from&&(o=1-o),e._time=0,e._tTime=u,h=e._pt;h;)h.r(o,h.d),h=h._next;t<0&&F2(e,t,r,!0),e._onUpdate&&!r&&Hi(e,"onUpdate"),u&&e._repeat&&!r&&e.parent&&Hi(e,"onRepeat"),(t>=e._tDur||t<0)&&e.ratio===o&&(o&&ma(e,1),!r&&!Pr&&(Hi(e,o?"onComplete":"onReverseComplete",!0),e._prom&&e._prom()))}else e._zTime||(e._zTime=t)},Q6=function(e,t,r){var i;if(r>t)for(i=e._first;i&&i._start<=r;){if(i.data==="isPause"&&i._start>t)return i;i=i._next}else for(i=e._last;i&&i._start>=r;){if(i.data==="isPause"&&i._start<t)return i;i=i._prev}},g0=function(e,t,r,i){var s=e._repeat,o=ir(t)||0,l=e._tTime/e._tDur;return l&&!i&&(e._time*=o/e._dur),e._dur=o,e._tDur=s?s<0?1e10:ir(o*(s+1)+e._rDelay*s):o,l>0&&!i&&lm(e,e._tTime=e._tDur*l),e.parent&&om(e),r||pA(e.parent,e),e},mT=function(e){return e instanceof Zr?pA(e):g0(e,e._dur)},K6={_start:0,endTime:gc,totalDuration:gc},gs=function n(e,t,r){var i=e.labels,s=e._recent||K6,o=e.duration()>=Es?s.endTime(!1):e._dur,l,u,h;return ar(t)&&(isNaN(t)||t in i)?(u=t.charAt(0),h=t.substr(-1)==="%",l=t.indexOf("="),u==="<"||u===">"?(l>=0&&(t=t.replace(/=/,"")),(u==="<"?s._start:s.endTime(s._repeat>=0))+(parseFloat(t.substr(1))||0)*(h?(l<0?s:r).totalDuration()/100:1)):l<0?(t in i||(i[t]=o),i[t]):(u=parseFloat(t.charAt(l-1)+t.substr(l+1)),h&&r&&(u=u/100*(Mr(r)?r[0]:r).totalDuration()),l>1?n(e,t.substr(0,l-1),r)+u:o+u)):t==null?o:+t},Hf=function(e,t,r){var i=hl(t[1]),s=(i?2:1)+(e<2?0:1),o=t[s],l,u;if(i&&(o.duration=t[1]),o.parent=r,e){for(l=o,u=r;u&&!("immediateRender"in l);)l=u.vars.defaults||{},u=vi(u.vars.inherit)&&u.parent;o.immediateRender=vi(l.immediateRender),e<2?o.runBackwards=1:o.startAt=t[s-1]}return new Bn(t[0],o,t[s+1])},Sa=function(e,t){return e||e===0?t(e):t},Uc=function(e,t,r){return r<e?e:r>t?t:r},Dr=function(e,t){return!ar(e)||!(t=F6.exec(e))?"":t[1]},W6=function(e,t,r){return Sa(r,function(i){return Uc(e,t,i)})},B2=[].slice,EC=function(e,t){return e&&Ro(e)&&"length"in e&&(!t&&!e.length||e.length-1 in e&&Ro(e[0]))&&!e.nodeType&&e!==co},Y6=function(e,t,r){return r===void 0&&(r=[]),e.forEach(function(i){var s;return ar(i)&&!t||EC(i,1)?(s=r).push.apply(s,Ss(i)):r.push(i)})||r},Ss=function(e,t,r){return dn&&!t&&dn.selector?dn.selector(e):ar(e)&&!r&&(M2||!p0())?B2.call((t||Yx).querySelectorAll(e),0):Mr(e)?Y6(e,r):EC(e)?B2.call(e,0):e?[e]:[]},U2=function(e){return e=Ss(e)[0]||dc("Invalid scope")||{},function(t){var r=e.current||e.nativeElement||e;return Ss(t,r.querySelectorAll?r:r===e?dc("Invalid scope")||Yx.createElement("div"):e)}},SC=function(e){return e.sort(function(){return .5-Math.random()})},TC=function(e){if(Rn(e))return e;var t=Ro(e)?e:{each:e},r=mA(t.ease),i=t.from||0,s=parseFloat(t.base)||0,o={},l=i>0&&i<1,u=isNaN(i)||l,h=t.axis,m=i,y=i;return ar(i)?m=y={center:.5,edges:.5,end:1}[i]||0:!l&&u&&(m=i[0],y=i[1]),function(_,T,w){var L=(w||t).length,I=o[L],C,b,M,U,B,$,H,j,Y;if(!I){if(Y=t.grid==="auto"?0:(t.grid||[1,Es])[1],!Y){for(H=-Es;H<(H=w[Y++].getBoundingClientRect().left)&&Y<L;);Y<L&&Y--}for(I=o[L]=[],C=u?Math.min(Y,L)*m-.5:i%Y,b=Y===Es?0:u?L*y/Y-.5:i/Y|0,H=0,j=Es,$=0;$<L;$++)M=$%Y-C,U=b-($/Y|0),I[$]=B=h?Math.abs(h==="y"?U:M):sC(M*M+U*U),B>H&&(H=B),B<j&&(j=B);i==="random"&&SC(I),I.max=H-j,I.min=j,I.v=L=(parseFloat(t.amount)||parseFloat(t.each)*(Y>L?L-1:h?h==="y"?L/Y:Y:Math.max(Y,L/Y))||0)*(i==="edges"?-1:1),I.b=L<0?s-L:s,I.u=Dr(t.amount||t.each)||0,r=r&&L<0?MC(r):r}return L=(I[_]-I.min)/I.max||0,ir(I.b+(r?r(L):L)*I.v)+I.u}},G2=function(e){var t=Math.pow(10,((e+"").split(".")[1]||"").length);return function(r){var i=ir(Math.round(parseFloat(r)/e)*e*t);return(i-i%1)/t+(hl(r)?0:Dr(r))}},wC=function(e,t){var r=Mr(e),i,s;return!r&&Ro(e)&&(i=r=e.radius||Es,e.values?(e=Ss(e.values),(s=!hl(e[0]))&&(i*=i)):e=G2(e.increment)),Sa(t,r?Rn(e)?function(o){return s=e(o),Math.abs(s-o)<=i?s:o}:function(o){for(var l=parseFloat(s?o.x:o),u=parseFloat(s?o.y:0),h=Es,m=0,y=e.length,_,T;y--;)s?(_=e[y].x-l,T=e[y].y-u,_=_*_+T*T):_=Math.abs(e[y]-l),_<h&&(h=_,m=y);return m=!i||h<=i?e[m]:o,s||m===o||hl(o)?m:m+Dr(o)}:G2(e))},kC=function(e,t,r,i){return Sa(Mr(e)?!t:r===!0?!!(r=0):!i,function(){return Mr(e)?e[~~(Math.random()*e.length)]:(r=r||1e-5)&&(i=r<1?Math.pow(10,(r+"").length-2):1)&&Math.floor(Math.round((e-r/2+Math.random()*(t-e+r*.99))/r)*r*i)/i})},q6=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];return function(i){return t.reduce(function(s,o){return o(s)},i)}},X6=function(e,t){return function(r){return e(parseFloat(r))+(t||Dr(r))}},Z6=function(e,t,r){return RC(e,t,0,1,r)},LC=function(e,t,r){return Sa(r,function(i){return e[~~t(i)]})},J6=function n(e,t,r){var i=t-e;return Mr(e)?LC(e,n(0,e.length),t):Sa(r,function(s){return(i+(s-e)%i)%i+e})},eF=function n(e,t,r){var i=t-e,s=i*2;return Mr(e)?LC(e,n(0,e.length-1),t):Sa(r,function(o){return o=(s+(o-e)%s)%s||0,e+(o>i?s-o:o)})},pc=function(e){for(var t=0,r="",i,s,o,l;~(i=e.indexOf("random(",t));)o=e.indexOf(")",i),l=e.charAt(i+7)==="[",s=e.substr(i+7,o-i-7).match(l?AC:P2),r+=e.substr(t,i-t)+kC(l?s:+s[0],l?0:+s[1],+s[2]||1e-5),t=o+1;return r+e.substr(t,e.length-t)},RC=function(e,t,r,i,s){var o=t-e,l=i-r;return Sa(s,function(u){return r+((u-e)/o*l||0)})},tF=function n(e,t,r,i){var s=isNaN(e+t)?0:function(T){return(1-T)*e+T*t};if(!s){var o=ar(e),l={},u,h,m,y,_;if(r===!0&&(i=1)&&(r=null),o)e={p:e},t={p:t};else if(Mr(e)&&!Mr(t)){for(m=[],y=e.length,_=y-2,h=1;h<y;h++)m.push(n(e[h-1],e[h]));y--,s=function(w){w*=y;var L=Math.min(_,~~w);return m[L](w-L)},r=t}else i||(e=kA(Mr(e)?[]:{},e));if(!m){for(u in t)e_.call(l,e,u,"get",t[u]);s=function(w){return i_(w,l)||(o?e.p:e)}}}return Sa(r,s)},yT=function(e,t,r){var i=e.labels,s=Es,o,l,u;for(o in i)l=i[o]-t,l<0==!!r&&l&&s>(l=Math.abs(l))&&(u=o,s=l);return u},Hi=function(e,t,r){var i=e.vars,s=i[t],o=dn,l=e._ctx,u,h,m;if(s)return u=i[t+"Params"],h=i.callbackScope||e,r&&ca.length&&Jg(),l&&(dn=l),m=u?s.apply(h,u):s.call(h),dn=o,m},wf=function(e){return ma(e),e.scrollTrigger&&e.scrollTrigger.kill(!!Pr),e.progress()<1&&Hi(e,"onInterrupt"),e},Ou,CC=[],IC=function(e){if(e)if(e=!e.name&&e.default||e,Wx()||e.headless){var t=e.name,r=Rn(e),i=t&&!r&&e.init?function(){this._props=[]}:e,s={init:gc,render:i_,add:e_,kill:mF,modifier:pF,rawVars:0},o={targetTest:0,get:0,getSetter:r_,aliases:{},register:0};if(p0(),e!==i){if(Ui[t])return;Cs(i,Cs(ep(e,s),o)),kA(i.prototype,kA(s,ep(e,o))),Ui[i.prop=t]=i,e.targetTest&&(fg.push(i),Xx[t]=1),t=(t==="css"?"CSS":t.charAt(0).toUpperCase()+t.substr(1))+"Plugin"}cC(t,i),e.register&&e.register(Ti,i,_i)}else CC.push(e)},Zt=255,kf={aqua:[0,Zt,Zt],lime:[0,Zt,0],silver:[192,192,192],black:[0,0,0],maroon:[128,0,0],teal:[0,128,128],blue:[0,0,Zt],navy:[0,0,128],white:[Zt,Zt,Zt],olive:[128,128,0],yellow:[Zt,Zt,0],orange:[Zt,165,0],gray:[128,128,128],purple:[128,0,128],green:[0,128,0],red:[Zt,0,0],pink:[Zt,192,203],cyan:[0,Zt,Zt],transparent:[Zt,Zt,Zt,0]},sy=function(e,t,r){return e+=e<0?1:e>1?-1:0,(e*6<1?t+(r-t)*e*6:e<.5?r:e*3<2?t+(r-t)*(2/3-e)*6:t)*Zt+.5|0},DC=function(e,t,r){var i=e?hl(e)?[e>>16,e>>8&Zt,e&Zt]:0:kf.black,s,o,l,u,h,m,y,_,T,w;if(!i){if(e.substr(-1)===","&&(e=e.substr(0,e.length-1)),kf[e])i=kf[e];else if(e.charAt(0)==="#"){if(e.length<6&&(s=e.charAt(1),o=e.charAt(2),l=e.charAt(3),e="#"+s+s+o+o+l+l+(e.length===5?e.charAt(4)+e.charAt(4):"")),e.length===9)return i=parseInt(e.substr(1,6),16),[i>>16,i>>8&Zt,i&Zt,parseInt(e.substr(7),16)/255];e=parseInt(e.substr(1),16),i=[e>>16,e>>8&Zt,e&Zt]}else if(e.substr(0,3)==="hsl"){if(i=w=e.match(P2),!t)u=+i[0]%360/360,h=+i[1]/100,m=+i[2]/100,o=m<=.5?m*(h+1):m+h-m*h,s=m*2-o,i.length>3&&(i[3]*=1),i[0]=sy(u+1/3,s,o),i[1]=sy(u,s,o),i[2]=sy(u-1/3,s,o);else if(~e.indexOf("="))return i=e.match(lC),r&&i.length<4&&(i[3]=1),i}else i=e.match(P2)||kf.transparent;i=i.map(Number)}return t&&!w&&(s=i[0]/Zt,o=i[1]/Zt,l=i[2]/Zt,y=Math.max(s,o,l),_=Math.min(s,o,l),m=(y+_)/2,y===_?u=h=0:(T=y-_,h=m>.5?T/(2-y-_):T/(y+_),u=y===s?(o-l)/T+(o<l?6:0):y===o?(l-s)/T+2:(s-o)/T+4,u*=60),i[0]=~~(u+.5),i[1]=~~(h*100+.5),i[2]=~~(m*100+.5)),r&&i.length<4&&(i[3]=1),i},bC=function(e){var t=[],r=[],i=-1;return e.split(ha).forEach(function(s){var o=s.match(Mu)||[];t.push.apply(t,o),r.push(i+=o.length+1)}),t.c=r,t},vT=function(e,t,r){var i="",s=(e+i).match(ha),o=t?"hsla(":"rgba(",l=0,u,h,m,y;if(!s)return e;if(s=s.map(function(_){return(_=DC(_,t,1))&&o+(t?_[0]+","+_[1]+"%,"+_[2]+"%,"+_[3]:_.join(","))+")"}),r&&(m=bC(e),u=r.c,u.join(i)!==m.c.join(i)))for(h=e.replace(ha,"1").split(Mu),y=h.length-1;l<y;l++)i+=h[l]+(~u.indexOf(l)?s.shift()||o+"0,0,0,0)":(m.length?m:s.length?s:r).shift());if(!h)for(h=e.split(ha),y=h.length-1;l<y;l++)i+=h[l]+s[l];return i+h[y]},ha=function(){var n="(?:\\b(?:(?:rgb|rgba|hsl|hsla)\\(.+?\\))|\\B#(?:[0-9a-f]{3,4}){1,2}\\b",e;for(e in kf)n+="|"+e+"\\b";return new RegExp(n+")","gi")}(),nF=/hsl[a]?\(/,PC=function(e){var t=e.join(" "),r;if(ha.lastIndex=0,ha.test(t))return r=nF.test(t),e[1]=vT(e[1],r),e[0]=vT(e[0],r,bC(e[1])),!0},mc,$i=function(){var n=Date.now,e=500,t=33,r=n(),i=r,s=1e3/240,o=s,l=[],u,h,m,y,_,T,w=function L(I){var C=n()-i,b=I===!0,M,U,B,$;if((C>e||C<0)&&(r+=C-t),i+=C,B=i-r,M=B-o,(M>0||b)&&($=++y.frame,_=B-y.time*1e3,y.time=B=B/1e3,o+=M+(M>=s?4:s-M),U=1),b||(u=h(L)),U)for(T=0;T<l.length;T++)l[T](B,_,$,I)};return y={time:0,frame:0,tick:function(){w(!0)},deltaRatio:function(I){return _/(1e3/(I||60))},wake:function(){uC&&(!M2&&Wx()&&(co=M2=window,Yx=co.document||{},Ki.gsap=Ti,(co.gsapVersions||(co.gsapVersions=[])).push(Ti.version),fC(Zg||co.GreenSockGlobals||!co.gsap&&co||{}),CC.forEach(IC)),m=typeof requestAnimationFrame<"u"&&requestAnimationFrame,u&&y.sleep(),h=m||function(I){return setTimeout(I,o-y.time*1e3+1|0)},mc=1,w(2))},sleep:function(){(m?cancelAnimationFrame:clearTimeout)(u),mc=0,h=gc},lagSmoothing:function(I,C){e=I||1/0,t=Math.min(C||33,e)},fps:function(I){s=1e3/(I||240),o=y.time*1e3+s},add:function(I,C,b){var M=C?function(U,B,$,H){I(U,B,$,H),y.remove(M)}:I;return y.remove(I),l[b?"unshift":"push"](M),p0(),M},remove:function(I,C){~(C=l.indexOf(I))&&l.splice(C,1)&&T>=C&&T--},_listeners:l},y}(),p0=function(){return!mc&&$i.wake()},Mt={},rF=/^[\d.\-M][\d.\-,\s]/,iF=/["']/g,sF=function(e){for(var t={},r=e.substr(1,e.length-3).split(":"),i=r[0],s=1,o=r.length,l,u,h;s<o;s++)u=r[s],l=s!==o-1?u.lastIndexOf(","):u.length,h=u.substr(0,l),t[i]=isNaN(h)?h.replace(iF,"").trim():+h,i=u.substr(l+1).trim();return t},oF=function(e){var t=e.indexOf("(")+1,r=e.indexOf(")"),i=e.indexOf("(",t);return e.substring(t,~i&&i<r?e.indexOf(")",r+1):r)},lF=function(e){var t=(e+"").split("("),r=Mt[t[0]];return r&&t.length>1&&r.config?r.config.apply(null,~e.indexOf("{")?[sF(t[1])]:oF(e).split(",").map(pC)):Mt._CE&&rF.test(e)?Mt._CE("",e):r},MC=function(e){return function(t){return 1-e(1-t)}},OC=function n(e,t){for(var r=e._first,i;r;)r instanceof Zr?n(r,t):r.vars.yoyoEase&&(!r._yoyo||!r._repeat)&&r._yoyo!==t&&(r.timeline?n(r.timeline,t):(i=r._ease,r._ease=r._yEase,r._yEase=i,r._yoyo=t)),r=r._next},mA=function(e,t){return e&&(Rn(e)?e:Mt[e]||lF(e))||t},PA=function(e,t,r,i){r===void 0&&(r=function(u){return 1-t(1-u)}),i===void 0&&(i=function(u){return u<.5?t(u*2)/2:1-t((1-u)*2)/2});var s={easeIn:t,easeOut:r,easeInOut:i},o;return xi(e,function(l){Mt[l]=Ki[l]=s,Mt[o=l.toLowerCase()]=r;for(var u in s)Mt[o+(u==="easeIn"?".in":u==="easeOut"?".out":".inOut")]=Mt[l+"."+u]=s[u]}),s},FC=function(e){return function(t){return t<.5?(1-e(1-t*2))/2:.5+e((t-.5)*2)/2}},oy=function n(e,t,r){var i=t>=1?t:1,s=(r||(e?.3:.45))/(t<1?t:1),o=s/b2*(Math.asin(1/i)||0),l=function(m){return m===1?1:i*Math.pow(2,-10*m)*O6((m-o)*s)+1},u=e==="out"?l:e==="in"?function(h){return 1-l(1-h)}:FC(l);return s=b2/s,u.config=function(h,m){return n(e,h,m)},u},ly=function n(e,t){t===void 0&&(t=1.70158);var r=function(o){return o?--o*o*((t+1)*o+t)+1:0},i=e==="out"?r:e==="in"?function(s){return 1-r(1-s)}:FC(r);return i.config=function(s){return n(e,s)},i};xi("Linear,Quad,Cubic,Quart,Quint,Strong",function(n,e){var t=e<5?e+1:e;PA(n+",Power"+(t-1),e?function(r){return Math.pow(r,t)}:function(r){return r},function(r){return 1-Math.pow(1-r,t)},function(r){return r<.5?Math.pow(r*2,t)/2:1-Math.pow((1-r)*2,t)/2})});Mt.Linear.easeNone=Mt.none=Mt.Linear.easeIn;PA("Elastic",oy("in"),oy("out"),oy());(function(n,e){var t=1/e,r=2*t,i=2.5*t,s=function(l){return l<t?n*l*l:l<r?n*Math.pow(l-1.5/e,2)+.75:l<i?n*(l-=2.25/e)*l+.9375:n*Math.pow(l-2.625/e,2)+.984375};PA("Bounce",function(o){return 1-s(1-o)},s)})(7.5625,2.75);PA("Expo",function(n){return n?Math.pow(2,10*(n-1)):0});PA("Circ",function(n){return-(sC(1-n*n)-1)});PA("Sine",function(n){return n===1?1:-M6(n*b6)+1});PA("Back",ly("in"),ly("out"),ly());Mt.SteppedEase=Mt.steps=Ki.SteppedEase={config:function(e,t){e===void 0&&(e=1);var r=1/e,i=e+(t?0:1),s=t?1:0,o=1-rn;return function(l){return((i*Uc(0,o,l)|0)+s)*r}}};h0.ease=Mt["quad.out"];xi("onComplete,onUpdate,onStart,onRepeat,onReverseComplete,onInterrupt",function(n){return Zx+=n+","+n+"Params,"});var NC=function(e,t){this.id=P6++,e._gsap=this,this.target=e,this.harness=t,this.get=t?t.get:dC,this.set=t?t.getSetter:r_},yc=function(){function n(t){this.vars=t,this._delay=+t.delay||0,(this._repeat=t.repeat===1/0?-2:t.repeat||0)&&(this._rDelay=t.repeatDelay||0,this._yoyo=!!t.yoyo||!!t.yoyoEase),this._ts=1,g0(this,+t.duration,1,1),this.data=t.data,dn&&(this._ctx=dn,dn.data.push(this)),mc||$i.wake()}var e=n.prototype;return e.delay=function(r){return r||r===0?(this.parent&&this.parent.smoothChildTiming&&this.startTime(this._start+r-this._delay),this._delay=r,this):this._delay},e.duration=function(r){return arguments.length?this.totalDuration(this._repeat>0?r+(r+this._rDelay)*this._repeat:r):this.totalDuration()&&this._dur},e.totalDuration=function(r){return arguments.length?(this._dirty=0,g0(this,this._repeat<0?r:(r-this._repeat*this._rDelay)/(this._repeat+1))):this._tDur},e.totalTime=function(r,i){if(p0(),!arguments.length)return this._tTime;var s=this._dp;if(s&&s.smoothChildTiming&&this._ts){for(lm(this,r),!s._dp||s.parent||vC(s,this);s&&s.parent;)s.parent._time!==s._start+(s._ts>=0?s._tTime/s._ts:(s.totalDuration()-s._tTime)/-s._ts)&&s.totalTime(s._tTime,!0),s=s.parent;!this.parent&&this._dp.autoRemoveChildren&&(this._ts>0&&r<this._tDur||this._ts<0&&r>0||!this._tDur&&!r)&&po(this._dp,this,this._start-this._delay)}return(this._tTime!==r||!this._dur&&!i||this._initted&&Math.abs(this._zTime)===rn||!r&&!this._initted&&(this.add||this._ptLookup))&&(this._ts||(this._pTime=r),gC(this,r,i)),this},e.time=function(r,i){return arguments.length?this.totalTime(Math.min(this.totalDuration(),r+pT(this))%(this._dur+this._rDelay)||(r?this._dur:0),i):this._time},e.totalProgress=function(r,i){return arguments.length?this.totalTime(this.totalDuration()*r,i):this.totalDuration()?Math.min(1,this._tTime/this._tDur):this.rawTime()>0?1:0},e.progress=function(r,i){return arguments.length?this.totalTime(this.duration()*(this._yoyo&&!(this.iteration()&1)?1-r:r)+pT(this),i):this.duration()?Math.min(1,this._time/this._dur):this.rawTime()>0?1:0},e.iteration=function(r,i){var s=this.duration()+this._rDelay;return arguments.length?this.totalTime(this._time+(r-1)*s,i):this._repeat?d0(this._tTime,s)+1:1},e.timeScale=function(r,i){if(!arguments.length)return this._rts===-rn?0:this._rts;if(this._rts===r)return this;var s=this.parent&&this._ts?tp(this.parent._time,this):this._tTime;return this._rts=+r||0,this._ts=this._ps||r===-rn?0:this._rts,this.totalTime(Uc(-Math.abs(this._delay),this._tDur,s),i!==!1),om(this),z6(this)},e.paused=function(r){return arguments.length?(this._ps!==r&&(this._ps=r,r?(this._pTime=this._tTime||Math.max(-this._delay,this.rawTime()),this._ts=this._act=0):(p0(),this._ts=this._rts,this.totalTime(this.parent&&!this.parent.smoothChildTiming?this.rawTime():this._tTime||this._pTime,this.progress()===1&&Math.abs(this._zTime)!==rn&&(this._tTime-=rn)))),this):this._ps},e.startTime=function(r){if(arguments.length){this._start=r;var i=this.parent||this._dp;return i&&(i._sort||!this.parent)&&po(i,this,r-this._delay),this}return this._start},e.endTime=function(r){return this._start+(vi(r)?this.totalDuration():this.duration())/Math.abs(this._ts||1)},e.rawTime=function(r){var i=this.parent||this._dp;return i?r&&(!this._ts||this._repeat&&this._time&&this.totalProgress()<1)?this._tTime%(this._dur+this._rDelay):this._ts?tp(i.rawTime(r),this):this._tTime:this._tTime},e.revert=function(r){r===void 0&&(r=B6);var i=Pr;return Pr=r,(this._initted||this._startAt)&&(this.timeline&&this.timeline.revert(r),this.totalTime(-.01,r.suppressEvents)),this.data!=="nested"&&r.kill!==!1&&this.kill(),Pr=i,this},e.globalTime=function(r){for(var i=this,s=arguments.length?r:i.rawTime();i;)s=i._start+s/(Math.abs(i._ts)||1),i=i._dp;return!this.parent&&this._sat?this._sat.globalTime(r):s},e.repeat=function(r){return arguments.length?(this._repeat=r===1/0?-2:r,mT(this)):this._repeat===-2?1/0:this._repeat},e.repeatDelay=function(r){if(arguments.length){var i=this._time;return this._rDelay=r,mT(this),i?this.time(i):this}return this._rDelay},e.yoyo=function(r){return arguments.length?(this._yoyo=r,this):this._yoyo},e.seek=function(r,i){return this.totalTime(gs(this,r),vi(i))},e.restart=function(r,i){return this.play().totalTime(r?-this._delay:0,vi(i))},e.play=function(r,i){return r!=null&&this.seek(r,i),this.reversed(!1).paused(!1)},e.reverse=function(r,i){return r!=null&&this.seek(r||this.totalDuration(),i),this.reversed(!0).paused(!1)},e.pause=function(r,i){return r!=null&&this.seek(r,i),this.paused(!0)},e.resume=function(){return this.paused(!1)},e.reversed=function(r){return arguments.length?(!!r!==this.reversed()&&this.timeScale(-this._rts||(r?-rn:0)),this):this._rts<0},e.invalidate=function(){return this._initted=this._act=0,this._zTime=-rn,this},e.isActive=function(){var r=this.parent||this._dp,i=this._start,s;return!!(!r||this._ts&&this._initted&&r.isActive()&&(s=r.rawTime(!0))>=i&&s<this.endTime(!0)-rn)},e.eventCallback=function(r,i,s){var o=this.vars;return arguments.length>1?(i?(o[r]=i,s&&(o[r+"Params"]=s),r==="onUpdate"&&(this._onUpdate=i)):delete o[r],this):o[r]},e.then=function(r){var i=this;return new Promise(function(s){var o=Rn(r)?r:mC,l=function(){var h=i.then;i.then=null,Rn(o)&&(o=o(i))&&(o.then||o===i)&&(i.then=h),s(o),i.then=h};i._initted&&i.totalProgress()===1&&i._ts>=0||!i._tTime&&i._ts<0?l():i._prom=l})},e.kill=function(){wf(this)},n}();Cs(yc.prototype,{_time:0,_start:0,_end:0,_tTime:0,_tDur:0,_dirty:0,_repeat:0,_yoyo:!1,parent:null,_initted:!1,_rDelay:0,_ts:1,_dp:0,ratio:0,_zTime:-rn,_prom:0,_ps:!1,_rts:1});var Zr=function(n){iC(e,n);function e(r,i){var s;return r===void 0&&(r={}),s=n.call(this,r)||this,s.labels={},s.smoothChildTiming=!!r.smoothChildTiming,s.autoRemoveChildren=!!r.autoRemoveChildren,s._sort=vi(r.sortChildren),mn&&po(r.parent||mn,Jo(s),i),r.reversed&&s.reverse(),r.paused&&s.paused(!0),r.scrollTrigger&&xC(Jo(s),r.scrollTrigger),s}var t=e.prototype;return t.to=function(i,s,o){return Hf(0,arguments,this),this},t.from=function(i,s,o){return Hf(1,arguments,this),this},t.fromTo=function(i,s,o,l){return Hf(2,arguments,this),this},t.set=function(i,s,o){return s.duration=0,s.parent=this,zf(s).repeatDelay||(s.repeat=0),s.immediateRender=!!s.immediateRender,new Bn(i,s,gs(this,o),1),this},t.call=function(i,s,o){return po(this,Bn.delayedCall(0,i,s),o)},t.staggerTo=function(i,s,o,l,u,h,m){return o.duration=s,o.stagger=o.stagger||l,o.onComplete=h,o.onCompleteParams=m,o.parent=this,new Bn(i,o,gs(this,u)),this},t.staggerFrom=function(i,s,o,l,u,h,m){return o.runBackwards=1,zf(o).immediateRender=vi(o.immediateRender),this.staggerTo(i,s,o,l,u,h,m)},t.staggerFromTo=function(i,s,o,l,u,h,m,y){return l.startAt=o,zf(l).immediateRender=vi(l.immediateRender),this.staggerTo(i,s,l,u,h,m,y)},t.render=function(i,s,o){var l=this._time,u=this._dirty?this.totalDuration():this._tDur,h=this._dur,m=i<=0?0:ir(i),y=this._zTime<0!=i<0&&(this._initted||!h),_,T,w,L,I,C,b,M,U,B,$,H;if(this!==mn&&m>u&&i>=0&&(m=u),m!==this._tTime||o||y){if(l!==this._time&&h&&(m+=this._time-l,i+=this._time-l),_=m,U=this._start,M=this._ts,C=!M,y&&(h||(l=this._zTime),(i||!s)&&(this._zTime=i)),this._repeat){if($=this._yoyo,I=h+this._rDelay,this._repeat<-1&&i<0)return this.totalTime(I*100+i,s,o);if(_=ir(m%I),m===u?(L=this._repeat,_=h):(L=~~(m/I),L&&L===m/I&&(_=h,L--),_>h&&(_=h)),B=d0(this._tTime,I),!l&&this._tTime&&B!==L&&this._tTime-B*I-this._dur<=0&&(B=L),$&&L&1&&(_=h-_,H=1),L!==B&&!this._lock){var j=$&&B&1,Y=j===($&&L&1);if(L<B&&(j=!j),l=j?0:m%h?h:m,this._lock=1,this.render(l||(H?0:ir(L*I)),s,!h)._lock=0,this._tTime=m,!s&&this.parent&&Hi(this,"onRepeat"),this.vars.repeatRefresh&&!H&&(this.invalidate()._lock=1),l&&l!==this._time||C!==!this._ts||this.vars.onRepeat&&!this.parent&&!this._act)return this;if(h=this._dur,u=this._tDur,Y&&(this._lock=2,l=j?h:-1e-4,this.render(l,!0),this.vars.repeatRefresh&&!H&&this.invalidate()),this._lock=0,!this._ts&&!C)return this;OC(this,H)}}if(this._hasPause&&!this._forcing&&this._lock<2&&(b=Q6(this,ir(l),ir(_)),b&&(m-=_-(_=b._start))),this._tTime=m,this._time=_,this._act=!M,this._initted||(this._onUpdate=this.vars.onUpdate,this._initted=1,this._zTime=i,l=0),!l&&_&&!s&&!L&&(Hi(this,"onStart"),this._tTime!==m))return this;if(_>=l&&i>=0)for(T=this._first;T;){if(w=T._next,(T._act||_>=T._start)&&T._ts&&b!==T){if(T.parent!==this)return this.render(i,s,o);if(T.render(T._ts>0?(_-T._start)*T._ts:(T._dirty?T.totalDuration():T._tDur)+(_-T._start)*T._ts,s,o),_!==this._time||!this._ts&&!C){b=0,w&&(m+=this._zTime=-rn);break}}T=w}else{T=this._last;for(var q=i<0?i:_;T;){if(w=T._prev,(T._act||q<=T._end)&&T._ts&&b!==T){if(T.parent!==this)return this.render(i,s,o);if(T.render(T._ts>0?(q-T._start)*T._ts:(T._dirty?T.totalDuration():T._tDur)+(q-T._start)*T._ts,s,o||Pr&&(T._initted||T._startAt)),_!==this._time||!this._ts&&!C){b=0,w&&(m+=this._zTime=q?-rn:rn);break}}T=w}}if(b&&!s&&(this.pause(),b.render(_>=l?0:-rn)._zTime=_>=l?1:-1,this._ts))return this._start=U,om(this),this.render(i,s,o);this._onUpdate&&!s&&Hi(this,"onUpdate",!0),(m===u&&this._tTime>=this.totalDuration()||!m&&l)&&(U===this._start||Math.abs(M)!==Math.abs(this._ts))&&(this._lock||((i||!h)&&(m===u&&this._ts>0||!m&&this._ts<0)&&ma(this,1),!s&&!(i<0&&!l)&&(m||l||!u)&&(Hi(this,m===u&&i>=0?"onComplete":"onReverseComplete",!0),this._prom&&!(m<u&&this.timeScale()>0)&&this._prom())))}return this},t.add=function(i,s){var o=this;if(hl(s)||(s=gs(this,s,i)),!(i instanceof yc)){if(Mr(i))return i.forEach(function(l){return o.add(l,s)}),this;if(ar(i))return this.addLabel(i,s);if(Rn(i))i=Bn.delayedCall(0,i);else return this}return this!==i?po(this,i,s):this},t.getChildren=function(i,s,o,l){i===void 0&&(i=!0),s===void 0&&(s=!0),o===void 0&&(o=!0),l===void 0&&(l=-Es);for(var u=[],h=this._first;h;)h._start>=l&&(h instanceof Bn?s&&u.push(h):(o&&u.push(h),i&&u.push.apply(u,h.getChildren(!0,s,o)))),h=h._next;return u},t.getById=function(i){for(var s=this.getChildren(1,1,1),o=s.length;o--;)if(s[o].vars.id===i)return s[o]},t.remove=function(i){return ar(i)?this.removeLabel(i):Rn(i)?this.killTweensOf(i):(sm(this,i),i===this._recent&&(this._recent=this._last),pA(this))},t.totalTime=function(i,s){return arguments.length?(this._forcing=1,!this._dp&&this._ts&&(this._start=ir($i.time-(this._ts>0?i/this._ts:(this.totalDuration()-i)/-this._ts))),n.prototype.totalTime.call(this,i,s),this._forcing=0,this):this._tTime},t.addLabel=function(i,s){return this.labels[i]=gs(this,s),this},t.removeLabel=function(i){return delete this.labels[i],this},t.addPause=function(i,s,o){var l=Bn.delayedCall(0,s||gc,o);return l.data="isPause",this._hasPause=1,po(this,l,gs(this,i))},t.removePause=function(i){var s=this._first;for(i=gs(this,i);s;)s._start===i&&s.data==="isPause"&&ma(s),s=s._next},t.killTweensOf=function(i,s,o){for(var l=this.getTweensOf(i,o),u=l.length;u--;)ta!==l[u]&&l[u].kill(i,s);return this},t.getTweensOf=function(i,s){for(var o=[],l=Ss(i),u=this._first,h=hl(s),m;u;)u instanceof Bn?U6(u._targets,l)&&(h?(!ta||u._initted&&u._ts)&&u.globalTime(0)<=s&&u.globalTime(u.totalDuration())>s:!s||u.isActive())&&o.push(u):(m=u.getTweensOf(l,s)).length&&o.push.apply(o,m),u=u._next;return o},t.tweenTo=function(i,s){s=s||{};var o=this,l=gs(o,i),u=s,h=u.startAt,m=u.onStart,y=u.onStartParams,_=u.immediateRender,T,w=Bn.to(o,Cs({ease:s.ease||"none",lazy:!1,immediateRender:!1,time:l,overwrite:"auto",duration:s.duration||Math.abs((l-(h&&"time"in h?h.time:o._time))/o.timeScale())||rn,onStart:function(){if(o.pause(),!T){var I=s.duration||Math.abs((l-(h&&"time"in h?h.time:o._time))/o.timeScale());w._dur!==I&&g0(w,I,0,1).render(w._time,!0,!0),T=1}m&&m.apply(w,y||[])}},s));return _?w.render(0):w},t.tweenFromTo=function(i,s,o){return this.tweenTo(s,Cs({startAt:{time:gs(this,i)}},o))},t.recent=function(){return this._recent},t.nextLabel=function(i){return i===void 0&&(i=this._time),yT(this,gs(this,i))},t.previousLabel=function(i){return i===void 0&&(i=this._time),yT(this,gs(this,i),1)},t.currentLabel=function(i){return arguments.length?this.seek(i,!0):this.previousLabel(this._time+rn)},t.shiftChildren=function(i,s,o){o===void 0&&(o=0);for(var l=this._first,u=this.labels,h;l;)l._start>=o&&(l._start+=i,l._end+=i),l=l._next;if(s)for(h in u)u[h]>=o&&(u[h]+=i);return pA(this)},t.invalidate=function(i){var s=this._first;for(this._lock=0;s;)s.invalidate(i),s=s._next;return n.prototype.invalidate.call(this,i)},t.clear=function(i){i===void 0&&(i=!0);for(var s=this._first,o;s;)o=s._next,this.remove(s),s=o;return this._dp&&(this._time=this._tTime=this._pTime=0),i&&(this.labels={}),pA(this)},t.totalDuration=function(i){var s=0,o=this,l=o._last,u=Es,h,m,y;if(arguments.length)return o.timeScale((o._repeat<0?o.duration():o.totalDuration())/(o.reversed()?-i:i));if(o._dirty){for(y=o.parent;l;)h=l._prev,l._dirty&&l.totalDuration(),m=l._start,m>u&&o._sort&&l._ts&&!o._lock?(o._lock=1,po(o,l,m-l._delay,1)._lock=0):u=m,m<0&&l._ts&&(s-=m,(!y&&!o._dp||y&&y.smoothChildTiming)&&(o._start+=m/o._ts,o._time-=m,o._tTime-=m),o.shiftChildren(-m,!1,-1/0),u=0),l._end>s&&l._ts&&(s=l._end),l=h;g0(o,o===mn&&o._time>s?o._time:s,1,1),o._dirty=0}return o._tDur},e.updateRoot=function(i){if(mn._ts&&(gC(mn,tp(i,mn)),hC=$i.frame),$i.frame>=dT){dT+=Vi.autoSleep||120;var s=mn._first;if((!s||!s._ts)&&Vi.autoSleep&&$i._listeners.length<2){for(;s&&!s._ts;)s=s._next;s||$i.sleep()}}},e}(yc);Cs(Zr.prototype,{_lock:0,_hasPause:0,_forcing:0});var aF=function(e,t,r,i,s,o,l){var u=new _i(this._pt,e,t,0,1,HC,null,s),h=0,m=0,y,_,T,w,L,I,C,b;for(u.b=r,u.e=i,r+="",i+="",(C=~i.indexOf("random("))&&(i=pc(i)),o&&(b=[r,i],o(b,e,t),r=b[0],i=b[1]),_=r.match(ry)||[];y=ry.exec(i);)w=y[0],L=i.substring(h,y.index),T?T=(T+1)%5:L.substr(-5)==="rgba("&&(T=1),w!==_[m++]&&(I=parseFloat(_[m-1])||0,u._pt={_next:u._pt,p:L||m===1?L:",",s:I,c:w.charAt(1)==="="?Yu(I,w)-I:parseFloat(w)-I,m:T&&T<4?Math.round:0},h=ry.lastIndex);return u.c=h<i.length?i.substring(h,i.length):"",u.fp=l,(aC.test(i)||C)&&(u.e=0),this._pt=u,u},e_=function(e,t,r,i,s,o,l,u,h,m){Rn(i)&&(i=i(s||0,e,o));var y=e[t],_=r!=="get"?r:Rn(y)?h?e[t.indexOf("set")||!Rn(e["get"+t.substr(3)])?t:"get"+t.substr(3)](h):e[t]():y,T=Rn(y)?h?hF:$C:n_,w;if(ar(i)&&(~i.indexOf("random(")&&(i=pc(i)),i.charAt(1)==="="&&(w=Yu(_,i)+(Dr(_)||0),(w||w===0)&&(i=w))),!m||_!==i||$2)return!isNaN(_*i)&&i!==""?(w=new _i(this._pt,e,t,+_||0,i-(_||0),typeof y=="boolean"?gF:zC,0,T),h&&(w.fp=h),l&&w.modifier(l,this,e),this._pt=w):(!y&&!(t in e)&&qx(t,i),aF.call(this,e,t,_,i,T,u||Vi.stringFilter,h))},AF=function(e,t,r,i,s){if(Rn(e)&&(e=jf(e,s,t,r,i)),!Ro(e)||e.style&&e.nodeType||Mr(e)||oC(e))return ar(e)?jf(e,s,t,r,i):e;var o={},l;for(l in e)o[l]=jf(e[l],s,t,r,i);return o},BC=function(e,t,r,i,s,o){var l,u,h,m;if(Ui[e]&&(l=new Ui[e]).init(s,l.rawVars?t[e]:AF(t[e],i,s,o,r),r,i,o)!==!1&&(r._pt=u=new _i(r._pt,s,e,0,1,l.render,l,0,l.priority),r!==Ou))for(h=r._ptLookup[r._targets.indexOf(s)],m=l._props.length;m--;)h[l._props[m]]=u;return l},ta,$2,t_=function n(e,t,r){var i=e.vars,s=i.ease,o=i.startAt,l=i.immediateRender,u=i.lazy,h=i.onUpdate,m=i.runBackwards,y=i.yoyoEase,_=i.keyframes,T=i.autoRevert,w=e._dur,L=e._startAt,I=e._targets,C=e.parent,b=C&&C.data==="nested"?C.vars.targets:I,M=e._overwrite==="auto"&&!Qx,U=e.timeline,B,$,H,j,Y,q,X,ge,ae,xe,ie,ce,ke;if(U&&(!_||!s)&&(s="none"),e._ease=mA(s,h0.ease),e._yEase=y?MC(mA(y===!0?s:y,h0.ease)):0,y&&e._yoyo&&!e._repeat&&(y=e._yEase,e._yEase=e._ease,e._ease=y),e._from=!U&&!!i.runBackwards,!U||_&&!i.stagger){if(ge=I[0]?gA(I[0]).harness:0,ce=ge&&i[ge.prop],B=ep(i,Xx),L&&(L._zTime<0&&L.progress(1),t<0&&m&&l&&!T?L.render(-1,!0):L.revert(m&&w?ug:N6),L._lazy=0),o){if(ma(e._startAt=Bn.set(I,Cs({data:"isStart",overwrite:!1,parent:C,immediateRender:!0,lazy:!L&&vi(u),startAt:null,delay:0,onUpdate:h&&function(){return Hi(e,"onUpdate")},stagger:0},o))),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Pr||!l&&!T)&&e._startAt.revert(ug),l&&w&&t<=0&&r<=0){t&&(e._zTime=t);return}}else if(m&&w&&!L){if(t&&(l=!1),H=Cs({overwrite:!1,data:"isFromStart",lazy:l&&!L&&vi(u),immediateRender:l,stagger:0,parent:C},B),ce&&(H[ge.prop]=ce),ma(e._startAt=Bn.set(I,H)),e._startAt._dp=0,e._startAt._sat=e,t<0&&(Pr?e._startAt.revert(ug):e._startAt.render(-1,!0)),e._zTime=t,!l)n(e._startAt,rn,rn);else if(!t)return}for(e._pt=e._ptCache=0,u=w&&vi(u)||u&&!w,$=0;$<I.length;$++){if(Y=I[$],X=Y._gsap||Jx(I)[$]._gsap,e._ptLookup[$]=xe={},O2[X.id]&&ca.length&&Jg(),ie=b===I?$:b.indexOf(Y),ge&&(ae=new ge).init(Y,ce||B,e,ie,b)!==!1&&(e._pt=j=new _i(e._pt,Y,ae.name,0,1,ae.render,ae,0,ae.priority),ae._props.forEach(function(re){xe[re]=j}),ae.priority&&(q=1)),!ge||ce)for(H in B)Ui[H]&&(ae=BC(H,B,e,ie,Y,b))?ae.priority&&(q=1):xe[H]=j=e_.call(e,Y,H,"get",B[H],ie,b,0,i.stringFilter);e._op&&e._op[$]&&e.kill(Y,e._op[$]),M&&e._pt&&(ta=e,mn.killTweensOf(Y,xe,e.globalTime(t)),ke=!e.parent,ta=0),e._pt&&u&&(O2[X.id]=1)}q&&jC(e),e._onInit&&e._onInit(e)}e._onUpdate=h,e._initted=(!e._op||e._pt)&&!ke,_&&t<=0&&U.render(Es,!0,!0)},uF=function(e,t,r,i,s,o,l,u){var h=(e._pt&&e._ptCache||(e._ptCache={}))[t],m,y,_,T;if(!h)for(h=e._ptCache[t]=[],_=e._ptLookup,T=e._targets.length;T--;){if(m=_[T][t],m&&m.d&&m.d._pt)for(m=m.d._pt;m&&m.p!==t&&m.fp!==t;)m=m._next;if(!m)return $2=1,e.vars[t]="+=0",t_(e,l),$2=0,u?dc(t+" not eligible for reset"):1;h.push(m)}for(T=h.length;T--;)y=h[T],m=y._pt||y,m.s=(i||i===0)&&!s?i:m.s+(i||0)+o*m.c,m.c=r-m.s,y.e&&(y.e=bn(r)+Dr(y.e)),y.b&&(y.b=m.s+Dr(y.b))},fF=function(e,t){var r=e[0]?gA(e[0]).harness:0,i=r&&r.aliases,s,o,l,u;if(!i)return t;s=kA({},t);for(o in i)if(o in s)for(u=i[o].split(","),l=u.length;l--;)s[u[l]]=s[o];return s},cF=function(e,t,r,i){var s=t.ease||i||"power1.inOut",o,l;if(Mr(t))l=r[e]||(r[e]=[]),t.forEach(function(u,h){return l.push({t:h/(t.length-1)*100,v:u,e:s})});else for(o in t)l=r[o]||(r[o]=[]),o==="ease"||l.push({t:parseFloat(e),v:t[o],e:s})},jf=function(e,t,r,i,s){return Rn(e)?e.call(t,r,i,s):ar(e)&&~e.indexOf("random(")?pc(e):e},UC=Zx+"repeat,repeatDelay,yoyo,repeatRefresh,yoyoEase,autoRevert",GC={};xi(UC+",id,stagger,delay,duration,paused,scrollTrigger",function(n){return GC[n]=1});var Bn=function(n){iC(e,n);function e(r,i,s,o){var l;typeof i=="number"&&(s.duration=i,i=s,s=null),l=n.call(this,o?i:zf(i))||this;var u=l.vars,h=u.duration,m=u.delay,y=u.immediateRender,_=u.stagger,T=u.overwrite,w=u.keyframes,L=u.defaults,I=u.scrollTrigger,C=u.yoyoEase,b=i.parent||mn,M=(Mr(r)||oC(r)?hl(r[0]):"length"in i)?[r]:Ss(r),U,B,$,H,j,Y,q,X;if(l._targets=M.length?Jx(M):dc("GSAP target "+r+" not found. https://gsap.com",!Vi.nullTargetWarn)||[],l._ptLookup=[],l._overwrite=T,w||_||Cd(h)||Cd(m)){if(i=l.vars,U=l.timeline=new Zr({data:"nested",defaults:L||{},targets:b&&b.data==="nested"?b.vars.targets:M}),U.kill(),U.parent=U._dp=Jo(l),U._start=0,_||Cd(h)||Cd(m)){if(H=M.length,q=_&&TC(_),Ro(_))for(j in _)~UC.indexOf(j)&&(X||(X={}),X[j]=_[j]);for(B=0;B<H;B++)$=ep(i,GC),$.stagger=0,C&&($.yoyoEase=C),X&&kA($,X),Y=M[B],$.duration=+jf(h,Jo(l),B,Y,M),$.delay=(+jf(m,Jo(l),B,Y,M)||0)-l._delay,!_&&H===1&&$.delay&&(l._delay=m=$.delay,l._start+=m,$.delay=0),U.to(Y,$,q?q(B,Y,M):0),U._ease=Mt.none;U.duration()?h=m=0:l.timeline=0}else if(w){zf(Cs(U.vars.defaults,{ease:"none"})),U._ease=mA(w.ease||i.ease||"none");var ge=0,ae,xe,ie;if(Mr(w))w.forEach(function(ce){return U.to(M,ce,">")}),U.duration();else{$={};for(j in w)j==="ease"||j==="easeEach"||cF(j,w[j],$,w.easeEach);for(j in $)for(ae=$[j].sort(function(ce,ke){return ce.t-ke.t}),ge=0,B=0;B<ae.length;B++)xe=ae[B],ie={ease:xe.e,duration:(xe.t-(B?ae[B-1].t:0))/100*h},ie[j]=xe.v,U.to(M,ie,ge),ge+=ie.duration;U.duration()<h&&U.to({},{duration:h-U.duration()})}}h||l.duration(h=U.duration())}else l.timeline=0;return T===!0&&!Qx&&(ta=Jo(l),mn.killTweensOf(M),ta=0),po(b,Jo(l),s),i.reversed&&l.reverse(),i.paused&&l.paused(!0),(y||!h&&!w&&l._start===ir(b._time)&&vi(y)&&H6(Jo(l))&&b.data!=="nested")&&(l._tTime=-rn,l.render(Math.max(0,-m)||0)),I&&xC(Jo(l),I),l}var t=e.prototype;return t.render=function(i,s,o){var l=this._time,u=this._tDur,h=this._dur,m=i<0,y=i>u-rn&&!m?u:i<rn?0:i,_,T,w,L,I,C,b,M,U;if(!h)V6(this,i,s,o);else if(y!==this._tTime||!i||o||!this._initted&&this._tTime||this._startAt&&this._zTime<0!==m){if(_=y,M=this.timeline,this._repeat){if(L=h+this._rDelay,this._repeat<-1&&m)return this.totalTime(L*100+i,s,o);if(_=ir(y%L),y===u?(w=this._repeat,_=h):(w=~~(y/L),w&&w===ir(y/L)&&(_=h,w--),_>h&&(_=h)),C=this._yoyo&&w&1,C&&(U=this._yEase,_=h-_),I=d0(this._tTime,L),_===l&&!o&&this._initted&&w===I)return this._tTime=y,this;w!==I&&(M&&this._yEase&&OC(M,C),this.vars.repeatRefresh&&!C&&!this._lock&&this._time!==L&&this._initted&&(this._lock=o=1,this.render(ir(L*w),!0).invalidate()._lock=0))}if(!this._initted){if(_C(this,m?i:_,o,s,y))return this._tTime=0,this;if(l!==this._time&&!(o&&this.vars.repeatRefresh&&w!==I))return this;if(h!==this._dur)return this.render(i,s,o)}if(this._tTime=y,this._time=_,!this._act&&this._ts&&(this._act=1,this._lazy=0),this.ratio=b=(U||this._ease)(_/h),this._from&&(this.ratio=b=1-b),_&&!l&&!s&&!w&&(Hi(this,"onStart"),this._tTime!==y))return this;for(T=this._pt;T;)T.r(b,T.d),T=T._next;M&&M.render(i<0?i:M._dur*M._ease(_/this._dur),s,o)||this._startAt&&(this._zTime=i),this._onUpdate&&!s&&(m&&F2(this,i,s,o),Hi(this,"onUpdate")),this._repeat&&w!==I&&this.vars.onRepeat&&!s&&this.parent&&Hi(this,"onRepeat"),(y===this._tDur||!y)&&this._tTime===y&&(m&&!this._onUpdate&&F2(this,i,!0,!0),(i||!h)&&(y===this._tDur&&this._ts>0||!y&&this._ts<0)&&ma(this,1),!s&&!(m&&!l)&&(y||l||C)&&(Hi(this,y===u?"onComplete":"onReverseComplete",!0),this._prom&&!(y<u&&this.timeScale()>0)&&this._prom()))}return this},t.targets=function(){return this._targets},t.invalidate=function(i){return(!i||!this.vars.runBackwards)&&(this._startAt=0),this._pt=this._op=this._onUpdate=this._lazy=this.ratio=0,this._ptLookup=[],this.timeline&&this.timeline.invalidate(i),n.prototype.invalidate.call(this,i)},t.resetTo=function(i,s,o,l,u){mc||$i.wake(),this._ts||this.play();var h=Math.min(this._dur,(this._dp._time-this._start)*this._ts),m;return this._initted||t_(this,h),m=this._ease(h/this._dur),uF(this,i,s,o,l,m,h,u)?this.resetTo(i,s,o,l,1):(lm(this,0),this.parent||yC(this._dp,this,"_first","_last",this._dp._sort?"_start":0),this.render(0))},t.kill=function(i,s){if(s===void 0&&(s="all"),!i&&(!s||s==="all"))return this._lazy=this._pt=0,this.parent?wf(this):this;if(this.timeline){var o=this.timeline.totalDuration();return this.timeline.killTweensOf(i,s,ta&&ta.vars.overwrite!==!0)._first||wf(this),this.parent&&o!==this.timeline.totalDuration()&&g0(this,this._dur*this.timeline._tDur/o,0,1),this}var l=this._targets,u=i?Ss(i):l,h=this._ptLookup,m=this._pt,y,_,T,w,L,I,C;if((!s||s==="all")&&$6(l,u))return s==="all"&&(this._pt=0),wf(this);for(y=this._op=this._op||[],s!=="all"&&(ar(s)&&(L={},xi(s,function(b){return L[b]=1}),s=L),s=fF(l,s)),C=l.length;C--;)if(~u.indexOf(l[C])){_=h[C],s==="all"?(y[C]=s,w=_,T={}):(T=y[C]=y[C]||{},w=s);for(L in w)I=_&&_[L],I&&((!("kill"in I.d)||I.d.kill(L)===!0)&&sm(this,I,"_pt"),delete _[L]),T!=="all"&&(T[L]=1)}return this._initted&&!this._pt&&m&&wf(this),this},e.to=function(i,s){return new e(i,s,arguments[2])},e.from=function(i,s){return Hf(1,arguments)},e.delayedCall=function(i,s,o,l){return new e(s,0,{immediateRender:!1,lazy:!1,overwrite:!1,delay:i,onComplete:s,onReverseComplete:s,onCompleteParams:o,onReverseCompleteParams:o,callbackScope:l})},e.fromTo=function(i,s,o){return Hf(2,arguments)},e.set=function(i,s){return s.duration=0,s.repeatDelay||(s.repeat=0),new e(i,s)},e.killTweensOf=function(i,s,o){return mn.killTweensOf(i,s,o)},e}(yc);Cs(Bn.prototype,{_targets:[],_lazy:0,_startAt:0,_op:0,_onInit:0});xi("staggerTo,staggerFrom,staggerFromTo",function(n){Bn[n]=function(){var e=new Zr,t=B2.call(arguments,0);return t.splice(n==="staggerFromTo"?5:4,0,0),e[n].apply(e,t)}});var n_=function(e,t,r){return e[t]=r},$C=function(e,t,r){return e[t](r)},hF=function(e,t,r,i){return e[t](i.fp,r)},dF=function(e,t,r){return e.setAttribute(t,r)},r_=function(e,t){return Rn(e[t])?$C:Kx(e[t])&&e.setAttribute?dF:n_},zC=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e6)/1e6,t)},gF=function(e,t){return t.set(t.t,t.p,!!(t.s+t.c*e),t)},HC=function(e,t){var r=t._pt,i="";if(!e&&t.b)i=t.b;else if(e===1&&t.e)i=t.e;else{for(;r;)i=r.p+(r.m?r.m(r.s+r.c*e):Math.round((r.s+r.c*e)*1e4)/1e4)+i,r=r._next;i+=t.c}t.set(t.t,t.p,i,t)},i_=function(e,t){for(var r=t._pt;r;)r.r(e,r.d),r=r._next},pF=function(e,t,r,i){for(var s=this._pt,o;s;)o=s._next,s.p===i&&s.modifier(e,t,r),s=o},mF=function(e){for(var t=this._pt,r,i;t;)i=t._next,t.p===e&&!t.op||t.op===e?sm(this,t,"_pt"):t.dep||(r=1),t=i;return!r},yF=function(e,t,r,i){i.mSet(e,t,i.m.call(i.tween,r,i.mt),i)},jC=function(e){for(var t=e._pt,r,i,s,o;t;){for(r=t._next,i=s;i&&i.pr>t.pr;)i=i._next;(t._prev=i?i._prev:o)?t._prev._next=t:s=t,(t._next=i)?i._prev=t:o=t,t=r}e._pt=s},_i=function(){function n(t,r,i,s,o,l,u,h,m){this.t=r,this.s=s,this.c=o,this.p=i,this.r=l||zC,this.d=u||this,this.set=h||n_,this.pr=m||0,this._next=t,t&&(t._prev=this)}var e=n.prototype;return e.modifier=function(r,i,s){this.mSet=this.mSet||this.set,this.set=yF,this.m=r,this.mt=s,this.tween=i},n}();xi(Zx+"parent,duration,ease,delay,overwrite,runBackwards,startAt,yoyo,immediateRender,repeat,repeatDelay,data,paused,reversed,lazy,callbackScope,stringFilter,id,yoyoEase,stagger,inherit,repeatRefresh,keyframes,autoRevert,scrollTrigger",function(n){return Xx[n]=1});Ki.TweenMax=Ki.TweenLite=Bn;Ki.TimelineLite=Ki.TimelineMax=Zr;mn=new Zr({sortChildren:!1,defaults:h0,autoRemoveChildren:!0,id:"root",smoothChildTiming:!0});Vi.stringFilter=PC;var yA=[],cg={},vF=[],xT=0,xF=0,ay=function(e){return(cg[e]||vF).map(function(t){return t()})},z2=function(){var e=Date.now(),t=[];e-xT>2&&(ay("matchMediaInit"),yA.forEach(function(r){var i=r.queries,s=r.conditions,o,l,u,h;for(l in i)o=co.matchMedia(i[l]).matches,o&&(u=1),o!==s[l]&&(s[l]=o,h=1);h&&(r.revert(),u&&t.push(r))}),ay("matchMediaRevert"),t.forEach(function(r){return r.onMatch(r,function(i){return r.add(null,i)})}),xT=e,ay("matchMedia"))},VC=function(){function n(t,r){this.selector=r&&U2(r),this.data=[],this._r=[],this.isReverted=!1,this.id=xF++,t&&this.add(t)}var e=n.prototype;return e.add=function(r,i,s){Rn(r)&&(s=i,i=r,r=Rn);var o=this,l=function(){var h=dn,m=o.selector,y;return h&&h!==o&&h.data.push(o),s&&(o.selector=U2(s)),dn=o,y=i.apply(o,arguments),Rn(y)&&o._r.push(y),dn=h,o.selector=m,o.isReverted=!1,y};return o.last=l,r===Rn?l(o,function(u){return o.add(null,u)}):r?o[r]=l:l},e.ignore=function(r){var i=dn;dn=null,r(this),dn=i},e.getTweens=function(){var r=[];return this.data.forEach(function(i){return i instanceof n?r.push.apply(r,i.getTweens()):i instanceof Bn&&!(i.parent&&i.parent.data==="nested")&&r.push(i)}),r},e.clear=function(){this._r.length=this.data.length=0},e.kill=function(r,i){var s=this;if(r?function(){for(var l=s.getTweens(),u=s.data.length,h;u--;)h=s.data[u],h.data==="isFlip"&&(h.revert(),h.getChildren(!0,!0,!1).forEach(function(m){return l.splice(l.indexOf(m),1)}));for(l.map(function(m){return{g:m._dur||m._delay||m._sat&&!m._sat.vars.immediateRender?m.globalTime(0):-1/0,t:m}}).sort(function(m,y){return y.g-m.g||-1/0}).forEach(function(m){return m.t.revert(r)}),u=s.data.length;u--;)h=s.data[u],h instanceof Zr?h.data!=="nested"&&(h.scrollTrigger&&h.scrollTrigger.revert(),h.kill()):!(h instanceof Bn)&&h.revert&&h.revert(r);s._r.forEach(function(m){return m(r,s)}),s.isReverted=!0}():this.data.forEach(function(l){return l.kill&&l.kill()}),this.clear(),i)for(var o=yA.length;o--;)yA[o].id===this.id&&yA.splice(o,1)},e.revert=function(r){this.kill(r||{})},n}(),_F=function(){function n(t){this.contexts=[],this.scope=t,dn&&dn.data.push(this)}var e=n.prototype;return e.add=function(r,i,s){Ro(r)||(r={matches:r});var o=new VC(0,s||this.scope),l=o.conditions={},u,h,m;dn&&!o.selector&&(o.selector=dn.selector),this.contexts.push(o),i=o.add("onMatch",i),o.queries=r;for(h in r)h==="all"?m=1:(u=co.matchMedia(r[h]),u&&(yA.indexOf(o)<0&&yA.push(o),(l[h]=u.matches)&&(m=1),u.addListener?u.addListener(z2):u.addEventListener("change",z2)));return m&&i(o,function(y){return o.add(null,y)}),this},e.revert=function(r){this.kill(r||{})},e.kill=function(r){this.contexts.forEach(function(i){return i.kill(r,!0)})},n}(),np={registerPlugin:function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(function(i){return IC(i)})},timeline:function(e){return new Zr(e)},getTweensOf:function(e,t){return mn.getTweensOf(e,t)},getProperty:function(e,t,r,i){ar(e)&&(e=Ss(e)[0]);var s=gA(e||{}).get,o=r?mC:pC;return r==="native"&&(r=""),e&&(t?o((Ui[t]&&Ui[t].get||s)(e,t,r,i)):function(l,u,h){return o((Ui[l]&&Ui[l].get||s)(e,l,u,h))})},quickSetter:function(e,t,r){if(e=Ss(e),e.length>1){var i=e.map(function(m){return Ti.quickSetter(m,t,r)}),s=i.length;return function(m){for(var y=s;y--;)i[y](m)}}e=e[0]||{};var o=Ui[t],l=gA(e),u=l.harness&&(l.harness.aliases||{})[t]||t,h=o?function(m){var y=new o;Ou._pt=0,y.init(e,r?m+r:m,Ou,0,[e]),y.render(1,y),Ou._pt&&i_(1,Ou)}:l.set(e,u);return o?h:function(m){return h(e,u,r?m+r:m,l,1)}},quickTo:function(e,t,r){var i,s=Ti.to(e,kA((i={},i[t]="+=0.1",i.paused=!0,i),r||{})),o=function(u,h,m){return s.resetTo(t,u,h,m)};return o.tween=s,o},isTweening:function(e){return mn.getTweensOf(e,!0).length>0},defaults:function(e){return e&&e.ease&&(e.ease=mA(e.ease,h0.ease)),gT(h0,e||{})},config:function(e){return gT(Vi,e||{})},registerEffect:function(e){var t=e.name,r=e.effect,i=e.plugins,s=e.defaults,o=e.extendTimeline;(i||"").split(",").forEach(function(l){return l&&!Ui[l]&&!Ki[l]&&dc(t+" effect requires "+l+" plugin.")}),iy[t]=function(l,u,h){return r(Ss(l),Cs(u||{},s),h)},o&&(Zr.prototype[t]=function(l,u,h){return this.add(iy[t](l,Ro(u)?u:(h=u)&&{},this),h)})},registerEase:function(e,t){Mt[e]=mA(t)},parseEase:function(e,t){return arguments.length?mA(e,t):Mt},getById:function(e){return mn.getById(e)},exportRoot:function(e,t){e===void 0&&(e={});var r=new Zr(e),i,s;for(r.smoothChildTiming=vi(e.smoothChildTiming),mn.remove(r),r._dp=0,r._time=r._tTime=mn._time,i=mn._first;i;)s=i._next,(t||!(!i._dur&&i instanceof Bn&&i.vars.onComplete===i._targets[0]))&&po(r,i,i._start-i._delay),i=s;return po(mn,r,0),r},context:function(e,t){return e?new VC(e,t):dn},matchMedia:function(e){return new _F(e)},matchMediaRefresh:function(){return yA.forEach(function(e){var t=e.conditions,r,i;for(i in t)t[i]&&(t[i]=!1,r=1);r&&e.revert()})||z2()},addEventListener:function(e,t){var r=cg[e]||(cg[e]=[]);~r.indexOf(t)||r.push(t)},removeEventListener:function(e,t){var r=cg[e],i=r&&r.indexOf(t);i>=0&&r.splice(i,1)},utils:{wrap:J6,wrapYoyo:eF,distribute:TC,random:kC,snap:wC,normalize:Z6,getUnit:Dr,clamp:W6,splitColor:DC,toArray:Ss,selector:U2,mapRange:RC,pipe:q6,unitize:X6,interpolate:tF,shuffle:SC},install:fC,effects:iy,ticker:$i,updateRoot:Zr.updateRoot,plugins:Ui,globalTimeline:mn,core:{PropTween:_i,globals:cC,Tween:Bn,Timeline:Zr,Animation:yc,getCache:gA,_removeLinkedListItem:sm,reverting:function(){return Pr},context:function(e){return e&&dn&&(dn.data.push(e),e._ctx=dn),dn},suppressOverwrites:function(e){return Qx=e}}};xi("to,from,fromTo,delayedCall,set,killTweensOf",function(n){return np[n]=Bn[n]});$i.add(Zr.updateRoot);Ou=np.to({},{duration:0});var EF=function(e,t){for(var r=e._pt;r&&r.p!==t&&r.op!==t&&r.fp!==t;)r=r._next;return r},SF=function(e,t){var r=e._targets,i,s,o;for(i in t)for(s=r.length;s--;)o=e._ptLookup[s][i],o&&(o=o.d)&&(o._pt&&(o=EF(o,i)),o&&o.modifier&&o.modifier(t[i],e,r[s],i))},Ay=function(e,t){return{name:e,rawVars:1,init:function(i,s,o){o._onInit=function(l){var u,h;if(ar(s)&&(u={},xi(s,function(m){return u[m]=1}),s=u),t){u={};for(h in s)u[h]=t(s[h]);s=u}SF(l,s)}}}},Ti=np.registerPlugin({name:"attr",init:function(e,t,r,i,s){var o,l,u;this.tween=r;for(o in t)u=e.getAttribute(o)||"",l=this.add(e,"setAttribute",(u||0)+"",t[o],i,s,0,0,o),l.op=o,l.b=u,this._props.push(o)},render:function(e,t){for(var r=t._pt;r;)Pr?r.set(r.t,r.p,r.b,r):r.r(e,r.d),r=r._next}},{name:"endArray",init:function(e,t){for(var r=t.length;r--;)this.add(e,r,e[r]||0,t[r],0,0,0,0,0,1)}},Ay("roundProps",G2),Ay("modifiers"),Ay("snap",wC))||np;Bn.version=Zr.version=Ti.version="3.12.5";uC=1;Wx()&&p0();Mt.Power0;Mt.Power1;Mt.Power2;Mt.Power3;Mt.Power4;Mt.Linear;Mt.Quad;Mt.Cubic;Mt.Quart;Mt.Quint;Mt.Strong;Mt.Elastic;Mt.Back;Mt.SteppedEase;Mt.Bounce;Mt.Sine;Mt.Expo;Mt.Circ;/*!
 * CSSPlugin 3.12.5
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/var _T,na,qu,s_,aA,ET,o_,TF=function(){return typeof window<"u"},dl={},Ja=180/Math.PI,Xu=Math.PI/180,mu=Math.atan2,ST=1e8,l_=/([A-Z])/g,wF=/(left|right|width|margin|padding|x)/i,kF=/[\s,\(]\S/,vo={autoAlpha:"opacity,visibility",scale:"scaleX,scaleY",alpha:"opacity"},H2=function(e,t){return t.set(t.t,t.p,Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},LF=function(e,t){return t.set(t.t,t.p,e===1?t.e:Math.round((t.s+t.c*e)*1e4)/1e4+t.u,t)},RF=function(e,t){return t.set(t.t,t.p,e?Math.round((t.s+t.c*e)*1e4)/1e4+t.u:t.b,t)},CF=function(e,t){var r=t.s+t.c*e;t.set(t.t,t.p,~~(r+(r<0?-.5:.5))+t.u,t)},QC=function(e,t){return t.set(t.t,t.p,e?t.e:t.b,t)},KC=function(e,t){return t.set(t.t,t.p,e!==1?t.b:t.e,t)},IF=function(e,t,r){return e.style[t]=r},DF=function(e,t,r){return e.style.setProperty(t,r)},bF=function(e,t,r){return e._gsap[t]=r},PF=function(e,t,r){return e._gsap.scaleX=e._gsap.scaleY=r},MF=function(e,t,r,i,s){var o=e._gsap;o.scaleX=o.scaleY=r,o.renderTransform(s,o)},OF=function(e,t,r,i,s){var o=e._gsap;o[t]=r,o.renderTransform(s,o)},yn="transform",Ei=yn+"Origin",FF=function n(e,t){var r=this,i=this.target,s=i.style,o=i._gsap;if(e in dl&&s){if(this.tfm=this.tfm||{},e!=="transform")e=vo[e]||e,~e.indexOf(",")?e.split(",").forEach(function(l){return r.tfm[l]=tl(i,l)}):this.tfm[e]=o.x?o[e]:tl(i,e),e===Ei&&(this.tfm.zOrigin=o.zOrigin);else return vo.transform.split(",").forEach(function(l){return n.call(r,l,t)});if(this.props.indexOf(yn)>=0)return;o.svg&&(this.svgo=i.getAttribute("data-svg-origin"),this.props.push(Ei,t,"")),e=yn}(s||t)&&this.props.push(e,t,s[e])},WC=function(e){e.translate&&(e.removeProperty("translate"),e.removeProperty("scale"),e.removeProperty("rotate"))},NF=function(){var e=this.props,t=this.target,r=t.style,i=t._gsap,s,o;for(s=0;s<e.length;s+=3)e[s+1]?t[e[s]]=e[s+2]:e[s+2]?r[e[s]]=e[s+2]:r.removeProperty(e[s].substr(0,2)==="--"?e[s]:e[s].replace(l_,"-$1").toLowerCase());if(this.tfm){for(o in this.tfm)i[o]=this.tfm[o];i.svg&&(i.renderTransform(),t.setAttribute("data-svg-origin",this.svgo||"")),s=o_(),(!s||!s.isStart)&&!r[yn]&&(WC(r),i.zOrigin&&r[Ei]&&(r[Ei]+=" "+i.zOrigin+"px",i.zOrigin=0,i.renderTransform()),i.uncache=1)}},YC=function(e,t){var r={target:e,props:[],revert:NF,save:FF};return e._gsap||Ti.core.getCache(e),t&&t.split(",").forEach(function(i){return r.save(i)}),r},qC,j2=function(e,t){var r=na.createElementNS?na.createElementNS((t||"http://www.w3.org/1999/xhtml").replace(/^https/,"http"),e):na.createElement(e);return r&&r.style?r:na.createElement(e)},To=function n(e,t,r){var i=getComputedStyle(e);return i[t]||i.getPropertyValue(t.replace(l_,"-$1").toLowerCase())||i.getPropertyValue(t)||!r&&n(e,m0(t)||t,1)||""},TT="O,Moz,ms,Ms,Webkit".split(","),m0=function(e,t,r){var i=t||aA,s=i.style,o=5;if(e in s&&!r)return e;for(e=e.charAt(0).toUpperCase()+e.substr(1);o--&&!(TT[o]+e in s););return o<0?null:(o===3?"ms":o>=0?TT[o]:"")+e},V2=function(){TF()&&window.document&&(_T=window,na=_T.document,qu=na.documentElement,aA=j2("div")||{style:{}},j2("div"),yn=m0(yn),Ei=yn+"Origin",aA.style.cssText="border-width:0;line-height:0;position:absolute;padding:0",qC=!!m0("perspective"),o_=Ti.core.reverting,s_=1)},uy=function n(e){var t=j2("svg",this.ownerSVGElement&&this.ownerSVGElement.getAttribute("xmlns")||"http://www.w3.org/2000/svg"),r=this.parentNode,i=this.nextSibling,s=this.style.cssText,o;if(qu.appendChild(t),t.appendChild(this),this.style.display="block",e)try{o=this.getBBox(),this._gsapBBox=this.getBBox,this.getBBox=n}catch{}else this._gsapBBox&&(o=this._gsapBBox());return r&&(i?r.insertBefore(this,i):r.appendChild(this)),qu.removeChild(t),this.style.cssText=s,o},wT=function(e,t){for(var r=t.length;r--;)if(e.hasAttribute(t[r]))return e.getAttribute(t[r])},XC=function(e){var t;try{t=e.getBBox()}catch{t=uy.call(e,!0)}return t&&(t.width||t.height)||e.getBBox===uy||(t=uy.call(e,!0)),t&&!t.width&&!t.x&&!t.y?{x:+wT(e,["x","cx","x1"])||0,y:+wT(e,["y","cy","y1"])||0,width:0,height:0}:t},ZC=function(e){return!!(e.getCTM&&(!e.parentNode||e.ownerSVGElement)&&XC(e))},LA=function(e,t){if(t){var r=e.style,i;t in dl&&t!==Ei&&(t=yn),r.removeProperty?(i=t.substr(0,2),(i==="ms"||t.substr(0,6)==="webkit")&&(t="-"+t),r.removeProperty(i==="--"?t:t.replace(l_,"-$1").toLowerCase())):r.removeAttribute(t)}},ra=function(e,t,r,i,s,o){var l=new _i(e._pt,t,r,0,1,o?KC:QC);return e._pt=l,l.b=i,l.e=s,e._props.push(r),l},kT={deg:1,rad:1,turn:1},BF={grid:1,flex:1},ya=function n(e,t,r,i){var s=parseFloat(r)||0,o=(r+"").trim().substr((s+"").length)||"px",l=aA.style,u=wF.test(t),h=e.tagName.toLowerCase()==="svg",m=(h?"client":"offset")+(u?"Width":"Height"),y=100,_=i==="px",T=i==="%",w,L,I,C;if(i===o||!s||kT[i]||kT[o])return s;if(o!=="px"&&!_&&(s=n(e,t,r,"px")),C=e.getCTM&&ZC(e),(T||o==="%")&&(dl[t]||~t.indexOf("adius")))return w=C?e.getBBox()[u?"width":"height"]:e[m],bn(T?s/w*y:s/100*w);if(l[u?"width":"height"]=y+(_?o:i),L=~t.indexOf("adius")||i==="em"&&e.appendChild&&!h?e:e.parentNode,C&&(L=(e.ownerSVGElement||{}).parentNode),(!L||L===na||!L.appendChild)&&(L=na.body),I=L._gsap,I&&T&&I.width&&u&&I.time===$i.time&&!I.uncache)return bn(s/I.width*y);if(T&&(t==="height"||t==="width")){var b=e.style[t];e.style[t]=y+i,w=e[m],b?e.style[t]=b:LA(e,t)}else(T||o==="%")&&!BF[To(L,"display")]&&(l.position=To(e,"position")),L===e&&(l.position="static"),L.appendChild(aA),w=aA[m],L.removeChild(aA),l.position="absolute";return u&&T&&(I=gA(L),I.time=$i.time,I.width=L[m]),bn(_?w*s/y:w&&s?y/w*s:0)},tl=function(e,t,r,i){var s;return s_||V2(),t in vo&&t!=="transform"&&(t=vo[t],~t.indexOf(",")&&(t=t.split(",")[0])),dl[t]&&t!=="transform"?(s=xc(e,i),s=t!=="transformOrigin"?s[t]:s.svg?s.origin:ip(To(e,Ei))+" "+s.zOrigin+"px"):(s=e.style[t],(!s||s==="auto"||i||~(s+"").indexOf("calc("))&&(s=rp[t]&&rp[t](e,t,r)||To(e,t)||dC(e,t)||(t==="opacity"?1:0))),r&&!~(s+"").trim().indexOf(" ")?ya(e,t,s,r)+r:s},UF=function(e,t,r,i){if(!r||r==="none"){var s=m0(t,e,1),o=s&&To(e,s,1);o&&o!==r?(t=s,r=o):t==="borderColor"&&(r=To(e,"borderTopColor"))}var l=new _i(this._pt,e.style,t,0,1,HC),u=0,h=0,m,y,_,T,w,L,I,C,b,M,U,B;if(l.b=r,l.e=i,r+="",i+="",i==="auto"&&(L=e.style[t],e.style[t]=i,i=To(e,t)||i,L?e.style[t]=L:LA(e,t)),m=[r,i],PC(m),r=m[0],i=m[1],_=r.match(Mu)||[],B=i.match(Mu)||[],B.length){for(;y=Mu.exec(i);)I=y[0],b=i.substring(u,y.index),w?w=(w+1)%5:(b.substr(-5)==="rgba("||b.substr(-5)==="hsla(")&&(w=1),I!==(L=_[h++]||"")&&(T=parseFloat(L)||0,U=L.substr((T+"").length),I.charAt(1)==="="&&(I=Yu(T,I)+U),C=parseFloat(I),M=I.substr((C+"").length),u=Mu.lastIndex-M.length,M||(M=M||Vi.units[t]||U,u===i.length&&(i+=M,l.e+=M)),U!==M&&(T=ya(e,t,L,M)||0),l._pt={_next:l._pt,p:b||h===1?b:",",s:T,c:C-T,m:w&&w<4||t==="zIndex"?Math.round:0});l.c=u<i.length?i.substring(u,i.length):""}else l.r=t==="display"&&i==="none"?KC:QC;return aC.test(i)&&(l.e=0),this._pt=l,l},LT={top:"0%",bottom:"100%",left:"0%",right:"100%",center:"50%"},GF=function(e){var t=e.split(" "),r=t[0],i=t[1]||"50%";return(r==="top"||r==="bottom"||i==="left"||i==="right")&&(e=r,r=i,i=e),t[0]=LT[r]||r,t[1]=LT[i]||i,t.join(" ")},$F=function(e,t){if(t.tween&&t.tween._time===t.tween._dur){var r=t.t,i=r.style,s=t.u,o=r._gsap,l,u,h;if(s==="all"||s===!0)i.cssText="",u=1;else for(s=s.split(","),h=s.length;--h>-1;)l=s[h],dl[l]&&(u=1,l=l==="transformOrigin"?Ei:yn),LA(r,l);u&&(LA(r,yn),o&&(o.svg&&r.removeAttribute("transform"),xc(r,1),o.uncache=1,WC(i)))}},rp={clearProps:function(e,t,r,i,s){if(s.data!=="isFromStart"){var o=e._pt=new _i(e._pt,t,r,0,0,$F);return o.u=i,o.pr=-10,o.tween=s,e._props.push(r),1}}},vc=[1,0,0,1,0,0],JC={},eI=function(e){return e==="matrix(1, 0, 0, 1, 0, 0)"||e==="none"||!e},RT=function(e){var t=To(e,yn);return eI(t)?vc:t.substr(7).match(lC).map(bn)},a_=function(e,t){var r=e._gsap||gA(e),i=e.style,s=RT(e),o,l,u,h;return r.svg&&e.getAttribute("transform")?(u=e.transform.baseVal.consolidate().matrix,s=[u.a,u.b,u.c,u.d,u.e,u.f],s.join(",")==="1,0,0,1,0,0"?vc:s):(s===vc&&!e.offsetParent&&e!==qu&&!r.svg&&(u=i.display,i.display="block",o=e.parentNode,(!o||!e.offsetParent)&&(h=1,l=e.nextElementSibling,qu.appendChild(e)),s=RT(e),u?i.display=u:LA(e,"display"),h&&(l?o.insertBefore(e,l):o?o.appendChild(e):qu.removeChild(e))),t&&s.length>6?[s[0],s[1],s[4],s[5],s[12],s[13]]:s)},Q2=function(e,t,r,i,s,o){var l=e._gsap,u=s||a_(e,!0),h=l.xOrigin||0,m=l.yOrigin||0,y=l.xOffset||0,_=l.yOffset||0,T=u[0],w=u[1],L=u[2],I=u[3],C=u[4],b=u[5],M=t.split(" "),U=parseFloat(M[0])||0,B=parseFloat(M[1])||0,$,H,j,Y;r?u!==vc&&(H=T*I-w*L)&&(j=U*(I/H)+B*(-L/H)+(L*b-I*C)/H,Y=U*(-w/H)+B*(T/H)-(T*b-w*C)/H,U=j,B=Y):($=XC(e),U=$.x+(~M[0].indexOf("%")?U/100*$.width:U),B=$.y+(~(M[1]||M[0]).indexOf("%")?B/100*$.height:B)),i||i!==!1&&l.smooth?(C=U-h,b=B-m,l.xOffset=y+(C*T+b*L)-C,l.yOffset=_+(C*w+b*I)-b):l.xOffset=l.yOffset=0,l.xOrigin=U,l.yOrigin=B,l.smooth=!!i,l.origin=t,l.originIsAbsolute=!!r,e.style[Ei]="0px 0px",o&&(ra(o,l,"xOrigin",h,U),ra(o,l,"yOrigin",m,B),ra(o,l,"xOffset",y,l.xOffset),ra(o,l,"yOffset",_,l.yOffset)),e.setAttribute("data-svg-origin",U+" "+B)},xc=function(e,t){var r=e._gsap||new NC(e);if("x"in r&&!t&&!r.uncache)return r;var i=e.style,s=r.scaleX<0,o="px",l="deg",u=getComputedStyle(e),h=To(e,Ei)||"0",m,y,_,T,w,L,I,C,b,M,U,B,$,H,j,Y,q,X,ge,ae,xe,ie,ce,ke,re,se,fe,Ie,Ce,We,Xe,At;return m=y=_=L=I=C=b=M=U=0,T=w=1,r.svg=!!(e.getCTM&&ZC(e)),u.translate&&((u.translate!=="none"||u.scale!=="none"||u.rotate!=="none")&&(i[yn]=(u.translate!=="none"?"translate3d("+(u.translate+" 0 0").split(" ").slice(0,3).join(", ")+") ":"")+(u.rotate!=="none"?"rotate("+u.rotate+") ":"")+(u.scale!=="none"?"scale("+u.scale.split(" ").join(",")+") ":"")+(u[yn]!=="none"?u[yn]:"")),i.scale=i.rotate=i.translate="none"),H=a_(e,r.svg),r.svg&&(r.uncache?(re=e.getBBox(),h=r.xOrigin-re.x+"px "+(r.yOrigin-re.y)+"px",ke=""):ke=!t&&e.getAttribute("data-svg-origin"),Q2(e,ke||h,!!ke||r.originIsAbsolute,r.smooth!==!1,H)),B=r.xOrigin||0,$=r.yOrigin||0,H!==vc&&(X=H[0],ge=H[1],ae=H[2],xe=H[3],m=ie=H[4],y=ce=H[5],H.length===6?(T=Math.sqrt(X*X+ge*ge),w=Math.sqrt(xe*xe+ae*ae),L=X||ge?mu(ge,X)*Ja:0,b=ae||xe?mu(ae,xe)*Ja+L:0,b&&(w*=Math.abs(Math.cos(b*Xu))),r.svg&&(m-=B-(B*X+$*ae),y-=$-(B*ge+$*xe))):(At=H[6],We=H[7],fe=H[8],Ie=H[9],Ce=H[10],Xe=H[11],m=H[12],y=H[13],_=H[14],j=mu(At,Ce),I=j*Ja,j&&(Y=Math.cos(-j),q=Math.sin(-j),ke=ie*Y+fe*q,re=ce*Y+Ie*q,se=At*Y+Ce*q,fe=ie*-q+fe*Y,Ie=ce*-q+Ie*Y,Ce=At*-q+Ce*Y,Xe=We*-q+Xe*Y,ie=ke,ce=re,At=se),j=mu(-ae,Ce),C=j*Ja,j&&(Y=Math.cos(-j),q=Math.sin(-j),ke=X*Y-fe*q,re=ge*Y-Ie*q,se=ae*Y-Ce*q,Xe=xe*q+Xe*Y,X=ke,ge=re,ae=se),j=mu(ge,X),L=j*Ja,j&&(Y=Math.cos(j),q=Math.sin(j),ke=X*Y+ge*q,re=ie*Y+ce*q,ge=ge*Y-X*q,ce=ce*Y-ie*q,X=ke,ie=re),I&&Math.abs(I)+Math.abs(L)>359.9&&(I=L=0,C=180-C),T=bn(Math.sqrt(X*X+ge*ge+ae*ae)),w=bn(Math.sqrt(ce*ce+At*At)),j=mu(ie,ce),b=Math.abs(j)>2e-4?j*Ja:0,U=Xe?1/(Xe<0?-Xe:Xe):0),r.svg&&(ke=e.getAttribute("transform"),r.forceCSS=e.setAttribute("transform","")||!eI(To(e,yn)),ke&&e.setAttribute("transform",ke))),Math.abs(b)>90&&Math.abs(b)<270&&(s?(T*=-1,b+=L<=0?180:-180,L+=L<=0?180:-180):(w*=-1,b+=b<=0?180:-180)),t=t||r.uncache,r.x=m-((r.xPercent=m&&(!t&&r.xPercent||(Math.round(e.offsetWidth/2)===Math.round(-m)?-50:0)))?e.offsetWidth*r.xPercent/100:0)+o,r.y=y-((r.yPercent=y&&(!t&&r.yPercent||(Math.round(e.offsetHeight/2)===Math.round(-y)?-50:0)))?e.offsetHeight*r.yPercent/100:0)+o,r.z=_+o,r.scaleX=bn(T),r.scaleY=bn(w),r.rotation=bn(L)+l,r.rotationX=bn(I)+l,r.rotationY=bn(C)+l,r.skewX=b+l,r.skewY=M+l,r.transformPerspective=U+o,(r.zOrigin=parseFloat(h.split(" ")[2])||!t&&r.zOrigin||0)&&(i[Ei]=ip(h)),r.xOffset=r.yOffset=0,r.force3D=Vi.force3D,r.renderTransform=r.svg?HF:qC?tI:zF,r.uncache=0,r},ip=function(e){return(e=e.split(" "))[0]+" "+e[1]},fy=function(e,t,r){var i=Dr(t);return bn(parseFloat(t)+parseFloat(ya(e,"x",r+"px",i)))+i},zF=function(e,t){t.z="0px",t.rotationY=t.rotationX="0deg",t.force3D=0,tI(e,t)},Wa="0deg",ff="0px",Ya=") ",tI=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,l=r.y,u=r.z,h=r.rotation,m=r.rotationY,y=r.rotationX,_=r.skewX,T=r.skewY,w=r.scaleX,L=r.scaleY,I=r.transformPerspective,C=r.force3D,b=r.target,M=r.zOrigin,U="",B=C==="auto"&&e&&e!==1||C===!0;if(M&&(y!==Wa||m!==Wa)){var $=parseFloat(m)*Xu,H=Math.sin($),j=Math.cos($),Y;$=parseFloat(y)*Xu,Y=Math.cos($),o=fy(b,o,H*Y*-M),l=fy(b,l,-Math.sin($)*-M),u=fy(b,u,j*Y*-M+M)}I!==ff&&(U+="perspective("+I+Ya),(i||s)&&(U+="translate("+i+"%, "+s+"%) "),(B||o!==ff||l!==ff||u!==ff)&&(U+=u!==ff||B?"translate3d("+o+", "+l+", "+u+") ":"translate("+o+", "+l+Ya),h!==Wa&&(U+="rotate("+h+Ya),m!==Wa&&(U+="rotateY("+m+Ya),y!==Wa&&(U+="rotateX("+y+Ya),(_!==Wa||T!==Wa)&&(U+="skew("+_+", "+T+Ya),(w!==1||L!==1)&&(U+="scale("+w+", "+L+Ya),b.style[yn]=U||"translate(0, 0)"},HF=function(e,t){var r=t||this,i=r.xPercent,s=r.yPercent,o=r.x,l=r.y,u=r.rotation,h=r.skewX,m=r.skewY,y=r.scaleX,_=r.scaleY,T=r.target,w=r.xOrigin,L=r.yOrigin,I=r.xOffset,C=r.yOffset,b=r.forceCSS,M=parseFloat(o),U=parseFloat(l),B,$,H,j,Y;u=parseFloat(u),h=parseFloat(h),m=parseFloat(m),m&&(m=parseFloat(m),h+=m,u+=m),u||h?(u*=Xu,h*=Xu,B=Math.cos(u)*y,$=Math.sin(u)*y,H=Math.sin(u-h)*-_,j=Math.cos(u-h)*_,h&&(m*=Xu,Y=Math.tan(h-m),Y=Math.sqrt(1+Y*Y),H*=Y,j*=Y,m&&(Y=Math.tan(m),Y=Math.sqrt(1+Y*Y),B*=Y,$*=Y)),B=bn(B),$=bn($),H=bn(H),j=bn(j)):(B=y,j=_,$=H=0),(M&&!~(o+"").indexOf("px")||U&&!~(l+"").indexOf("px"))&&(M=ya(T,"x",o,"px"),U=ya(T,"y",l,"px")),(w||L||I||C)&&(M=bn(M+w-(w*B+L*H)+I),U=bn(U+L-(w*$+L*j)+C)),(i||s)&&(Y=T.getBBox(),M=bn(M+i/100*Y.width),U=bn(U+s/100*Y.height)),Y="matrix("+B+","+$+","+H+","+j+","+M+","+U+")",T.setAttribute("transform",Y),b&&(T.style[yn]=Y)},jF=function(e,t,r,i,s){var o=360,l=ar(s),u=parseFloat(s)*(l&&~s.indexOf("rad")?Ja:1),h=u-i,m=i+h+"deg",y,_;return l&&(y=s.split("_")[1],y==="short"&&(h%=o,h!==h%(o/2)&&(h+=h<0?o:-o)),y==="cw"&&h<0?h=(h+o*ST)%o-~~(h/o)*o:y==="ccw"&&h>0&&(h=(h-o*ST)%o-~~(h/o)*o)),e._pt=_=new _i(e._pt,t,r,i,h,LF),_.e=m,_.u="deg",e._props.push(r),_},CT=function(e,t){for(var r in t)e[r]=t[r];return e},VF=function(e,t,r){var i=CT({},r._gsap),s="perspective,force3D,transformOrigin,svgOrigin",o=r.style,l,u,h,m,y,_,T,w;i.svg?(h=r.getAttribute("transform"),r.setAttribute("transform",""),o[yn]=t,l=xc(r,1),LA(r,yn),r.setAttribute("transform",h)):(h=getComputedStyle(r)[yn],o[yn]=t,l=xc(r,1),o[yn]=h);for(u in dl)h=i[u],m=l[u],h!==m&&s.indexOf(u)<0&&(T=Dr(h),w=Dr(m),y=T!==w?ya(r,u,h,w):parseFloat(h),_=parseFloat(m),e._pt=new _i(e._pt,l,u,y,_-y,H2),e._pt.u=w||0,e._props.push(u));CT(l,i)};xi("padding,margin,Width,Radius",function(n,e){var t="Top",r="Right",i="Bottom",s="Left",o=(e<3?[t,r,i,s]:[t+s,t+r,i+r,i+s]).map(function(l){return e<2?n+l:"border"+l+n});rp[e>1?"border"+n:n]=function(l,u,h,m,y){var _,T;if(arguments.length<4)return _=o.map(function(w){return tl(l,w,h)}),T=_.join(" "),T.split(_[0]).length===5?_[0]:T;_=(m+"").split(" "),T={},o.forEach(function(w,L){return T[w]=_[L]=_[L]||_[(L-1)/2|0]}),l.init(u,T,y)}});var nI={name:"css",register:V2,targetTest:function(e){return e.style&&e.nodeType},init:function(e,t,r,i,s){var o=this._props,l=e.style,u=r.vars.startAt,h,m,y,_,T,w,L,I,C,b,M,U,B,$,H,j;s_||V2(),this.styles=this.styles||YC(e),j=this.styles.props,this.tween=r;for(L in t)if(L!=="autoRound"&&(m=t[L],!(Ui[L]&&BC(L,t,r,i,e,s)))){if(T=typeof m,w=rp[L],T==="function"&&(m=m.call(r,i,e,s),T=typeof m),T==="string"&&~m.indexOf("random(")&&(m=pc(m)),w)w(this,e,L,m,r)&&(H=1);else if(L.substr(0,2)==="--")h=(getComputedStyle(e).getPropertyValue(L)+"").trim(),m+="",ha.lastIndex=0,ha.test(h)||(I=Dr(h),C=Dr(m)),C?I!==C&&(h=ya(e,L,h,C)+C):I&&(m+=I),this.add(l,"setProperty",h,m,i,s,0,0,L),o.push(L),j.push(L,0,l[L]);else if(T!=="undefined"){if(u&&L in u?(h=typeof u[L]=="function"?u[L].call(r,i,e,s):u[L],ar(h)&&~h.indexOf("random(")&&(h=pc(h)),Dr(h+"")||h==="auto"||(h+=Vi.units[L]||Dr(tl(e,L))||""),(h+"").charAt(1)==="="&&(h=tl(e,L))):h=tl(e,L),_=parseFloat(h),b=T==="string"&&m.charAt(1)==="="&&m.substr(0,2),b&&(m=m.substr(2)),y=parseFloat(m),L in vo&&(L==="autoAlpha"&&(_===1&&tl(e,"visibility")==="hidden"&&y&&(_=0),j.push("visibility",0,l.visibility),ra(this,l,"visibility",_?"inherit":"hidden",y?"inherit":"hidden",!y)),L!=="scale"&&L!=="transform"&&(L=vo[L],~L.indexOf(",")&&(L=L.split(",")[0]))),M=L in dl,M){if(this.styles.save(L),U||(B=e._gsap,B.renderTransform&&!t.parseTransform||xc(e,t.parseTransform),$=t.smoothOrigin!==!1&&B.smooth,U=this._pt=new _i(this._pt,l,yn,0,1,B.renderTransform,B,0,-1),U.dep=1),L==="scale")this._pt=new _i(this._pt,B,"scaleY",B.scaleY,(b?Yu(B.scaleY,b+y):y)-B.scaleY||0,H2),this._pt.u=0,o.push("scaleY",L),L+="X";else if(L==="transformOrigin"){j.push(Ei,0,l[Ei]),m=GF(m),B.svg?Q2(e,m,0,$,0,this):(C=parseFloat(m.split(" ")[2])||0,C!==B.zOrigin&&ra(this,B,"zOrigin",B.zOrigin,C),ra(this,l,L,ip(h),ip(m)));continue}else if(L==="svgOrigin"){Q2(e,m,1,$,0,this);continue}else if(L in JC){jF(this,B,L,_,b?Yu(_,b+m):m);continue}else if(L==="smoothOrigin"){ra(this,B,"smooth",B.smooth,m);continue}else if(L==="force3D"){B[L]=m;continue}else if(L==="transform"){VF(this,m,e);continue}}else L in l||(L=m0(L)||L);if(M||(y||y===0)&&(_||_===0)&&!kF.test(m)&&L in l)I=(h+"").substr((_+"").length),y||(y=0),C=Dr(m)||(L in Vi.units?Vi.units[L]:I),I!==C&&(_=ya(e,L,h,C)),this._pt=new _i(this._pt,M?B:l,L,_,(b?Yu(_,b+y):y)-_,!M&&(C==="px"||L==="zIndex")&&t.autoRound!==!1?CF:H2),this._pt.u=C||0,I!==C&&C!=="%"&&(this._pt.b=h,this._pt.r=RF);else if(L in l)UF.call(this,e,L,h,b?b+m:m);else if(L in e)this.add(e,L,h||e[L],b?b+m:m,i,s);else if(L!=="parseTransform"){qx(L,m);continue}M||(L in l?j.push(L,0,l[L]):j.push(L,1,h||e[L])),o.push(L)}}H&&jC(this)},render:function(e,t){if(t.tween._time||!o_())for(var r=t._pt;r;)r.r(e,r.d),r=r._next;else t.styles.revert()},get:tl,aliases:vo,getSetter:function(e,t,r){var i=vo[t];return i&&i.indexOf(",")<0&&(t=i),t in dl&&t!==Ei&&(e._gsap.x||tl(e,"x"))?r&&ET===r?t==="scale"?PF:bF:(ET=r||{})&&(t==="scale"?MF:OF):e.style&&!Kx(e.style[t])?IF:~t.indexOf("-")?DF:r_(e,t)},core:{_removeProperty:LA,_getMatrix:a_}};Ti.utils.checkPrefix=m0;Ti.core.getStyleSaver=YC;(function(n,e,t,r){var i=xi(n+","+e+","+t,function(s){dl[s]=1});xi(e,function(s){Vi.units[s]="deg",JC[s]=1}),vo[i[13]]=n+","+e,xi(r,function(s){var o=s.split(":");vo[o[1]]=i[o[0]]})})("x,y,z,scale,scaleX,scaleY,xPercent,yPercent","rotation,rotationX,rotationY,skewX,skewY","transform,transformOrigin,svgOrigin,force3D,smoothOrigin,transformPerspective","0:translateX,1:translateY,2:translateZ,8:rotate,8:rotationZ,8:rotateZ,9:rotateX,10:rotateY");xi("x,y,z,top,right,bottom,left,width,height,fontSize,padding,margin,perspective",function(n){Vi.units[n]="px"});Ti.registerPlugin(nI);var rI=Ti.registerPlugin(nI)||Ti;rI.core.Tween;/*!
 * @gsap/react 2.1.1
 * https://gsap.com
 *
 * Copyright 2008-2024, GreenSock. All rights reserved.
 * Subject to the terms at https://gsap.com/standard-license or for
 * Club GSAP members, the agreement issued with that membership.
 * @author: Jack Doyle, jack@greensock.com
*/let IT=typeof window<"u"?Qe.useLayoutEffect:Qe.useEffect,DT=n=>n&&!Array.isArray(n)&&typeof n=="object",Id=[],QF={},iI=rI;const sI=(n,e=Id)=>{let t=QF;DT(n)?(t=n,n=null,e="dependencies"in t?t.dependencies:Id):DT(e)&&(t=e,e="dependencies"in t?t.dependencies:Id),n&&typeof n!="function"&&console.warn("First parameter must be a function or config object");const{scope:r,revertOnUpdate:i}=t,s=Qe.useRef(!1),o=Qe.useRef(iI.context(()=>{},r)),l=Qe.useRef(h=>o.current.add(null,h)),u=e&&e.length&&!i;return IT(()=>{if(n&&o.current.add(n,r),!u||!s.current)return()=>o.current.revert()},e),u&&IT(()=>(s.current=!0,()=>o.current.revert()),Id),{context:o.current,contextSafe:l.current}};sI.register=n=>{iI=n};sI.headless=!0;function Vf(n,e,t){return e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function K2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function KF(n,e){if(n){if(typeof n=="string")return K2(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return K2(n,e)}}function WF(n){if(Array.isArray(n))return K2(n)}function YF(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function qF(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XF(n){return WF(n)||YF(n)||KF(n)||qF()}new Fp;new Fp;function ZF(n,e,t){return Math.max(e,Math.min(t,n))}function JF(n,e){return ZF(n-Math.floor(n/e)*e,0,e)}function eN(n,e){var t=JF(e-n,Math.PI*2);return t>Math.PI&&(t-=Math.PI*2),t}function oI(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}var hs=function n(e,t,r){var i=this;oI(this,n),Vf(this,"dot2",function(s,o){return i.x*s+i.y*o}),Vf(this,"dot3",function(s,o,l){return i.x*s+i.y*o+i.z*l}),this.x=e,this.y=t,this.z=r},tN=[new hs(1,1,0),new hs(-1,1,0),new hs(1,-1,0),new hs(-1,-1,0),new hs(1,0,1),new hs(-1,0,1),new hs(1,0,-1),new hs(-1,0,-1),new hs(0,1,1),new hs(0,-1,1),new hs(0,1,-1),new hs(0,-1,-1)],bT=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],PT=new Array(512),MT=new Array(512),nN=function(e){e>0&&e<1&&(e*=65536),e=Math.floor(e),e<256&&(e|=e<<8);for(var t=0;t<256;t++){var r;t&1?r=bT[t]^e&255:r=bT[t]^e>>8&255,PT[t]=PT[t+256]=r,MT[t]=MT[t+256]=tN[r%12]}};nN(0);function rN(n){if(typeof n=="number")n=Math.abs(n);else if(typeof n=="string"){var e=n;n=0;for(var t=0;t<e.length;t++)n=(n+(t+1)*(e.charCodeAt(t)%96))%2147483647}return n===0&&(n=311),n}function OT(n){var e=rN(n);return function(){var t=e*48271%2147483647;return e=t,t/2147483647}}var iN=function n(e){var t=this;oI(this,n),Vf(this,"seed",0),Vf(this,"init",function(r){t.seed=r,t.value=OT(r)}),Vf(this,"value",OT(this.seed)),this.init(e)};new iN(Math.random());var sN=function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return r/Math.atan(1/t)*Math.atan(Math.sin(2*Math.PI*e*i)/t)},lI=function(e){return 1/(1+e+.48*e*e+.235*e*e*e)};function sr(n,e,t){var r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,s=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:lI,l=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,u="velocity_"+e;if(n.__damp===void 0&&(n.__damp={}),n.__damp[u]===void 0&&(n.__damp[u]=0),Math.abs(n[e]-t)<=l)return n[e]=t,!1;r=Math.max(1e-4,r);var h=2/r,m=o(h*i),y=n[e]-t,_=t,T=s*r;y=Math.min(Math.max(y,-T),T),t=n[e]-y;var w=(n.__damp[u]+h*y)*i;n.__damp[u]=(n.__damp[u]-h*w)*m;var L=t+(y+w)*m;return _-n[e]>0==L>_&&(L=_,n.__damp[u]=(L-_)/i),n[e]=L,!0}function Zu(n,e,t,r,i,s,o,l){return sr(n,e,n[e]+eN(n[e],t),r,i,s,o,l)}var Fr,Nr,wi,FT,cf=new Fp;function oN(n,e,t,r,i,s,o){return typeof e=="number"?cf.setScalar(e):Array.isArray(e)?cf.set(e[0],e[1]):cf.copy(e),Fr=sr(n,"x",cf.x,t,r,i,s,o),Nr=sr(n,"y",cf.y,t,r,i,s,o),Fr||Nr}var nl=new Wf;function W2(n,e,t,r,i,s,o){return typeof e=="number"?nl.setScalar(e):Array.isArray(e)?nl.set(e[0],e[1],e[2]):nl.copy(e),Fr=sr(n,"x",nl.x,t,r,i,s,o),Nr=sr(n,"y",nl.y,t,r,i,s,o),wi=sr(n,"z",nl.z,t,r,i,s,o),Fr||Nr||wi}var cy=new Np;function lN(n,e,t,r,i,s,o){return typeof e=="number"?cy.setScalar(e):Array.isArray(e)?cy.set(e[0],e[1],e[2],e[3]):cy.copy(e),Fr=sr(n,"x",nl.x,t,r,i,s,o),Nr=sr(n,"y",nl.y,t,r,i,s,o),wi=sr(n,"z",nl.z,t,r,i,s,o),Fr||Nr||wi}var hf=new KD;function aN(n,e,t,r,i,s,o){return Array.isArray(e)?hf.set(e[0],e[1],e[2],e[3]):hf.copy(e),Fr=Zu(n,"x",hf.x,t,r,i,s,o),Nr=Zu(n,"y",hf.y,t,r,i,s,o),wi=Zu(n,"z",hf.z,t,r,i,s,o),Fr||Nr||wi}var yu=new uk;function AN(n,e,t,r,i,s,o){return e instanceof uk?yu.copy(e):Array.isArray(e)?yu.setRGB(e[0],e[1],e[2]):yu.set(e),Fr=sr(n,"r",yu.r,t,r,i,s,o),Nr=sr(n,"g",yu.g,t,r,i,s,o),wi=sr(n,"b",yu.b,t,r,i,s,o),Fr||Nr||wi}var $s=new Dv,Wo=new Np,NT=new Np,df=new Np;function aI(n,e,t,r,i,s,o){var l=n;Array.isArray(e)?$s.set(e[0],e[1],e[2],e[3]):$s.copy(e);var u=n.dot($s)>0?1:-1;return $s.x*=u,$s.y*=u,$s.z*=u,$s.w*=u,Fr=sr(n,"x",$s.x,t,r,i,s,o),Nr=sr(n,"y",$s.y,t,r,i,s,o),wi=sr(n,"z",$s.z,t,r,i,s,o),FT=sr(n,"w",$s.w,t,r,i,s,o),Wo.set(n.x,n.y,n.z,n.w).normalize(),NT.set(l.__damp.velocity_x,l.__damp.velocity_y,l.__damp.velocity_z,l.__damp.velocity_w),df.copy(Wo).multiplyScalar(NT.dot(Wo)/Wo.dot(Wo)),l.__damp.velocity_x-=df.x,l.__damp.velocity_y-=df.y,l.__damp.velocity_z-=df.z,l.__damp.velocity_w-=df.w,n.set(Wo.x,Wo.y,Wo.z,Wo.w),Fr||Nr||wi||FT}var gf=new WD;function uN(n,e,t,r,i,s,o){return Array.isArray(e)?gf.set(e[0],e[1],e[2]):gf.copy(e),Fr=sr(n,"radius",gf.radius,t,r,i,s,o),Nr=Zu(n,"phi",gf.phi,t,r,i,s,o),wi=Zu(n,"theta",gf.theta,t,r,i,s,o),Fr||Nr||wi}var Dd=new YD,BT=new Wf,UT=new Dv,GT=new Wf;function fN(n,e,t,r,i,s,o){var l=n;return l.__damp===void 0&&(l.__damp={position:new Wf,rotation:new Dv,scale:new Wf},n.decompose(l.__damp.position,l.__damp.rotation,l.__damp.scale)),Array.isArray(e)?Dd.set.apply(Dd,XF(e)):Dd.copy(e),Dd.decompose(BT,UT,GT),Fr=W2(l.__damp.position,BT,t,r,i,s,o),Nr=aI(l.__damp.rotation,UT,t,r,i,s,o),wi=W2(l.__damp.scale,GT,t,r,i,s,o),n.compose(l.__damp.position,l.__damp.rotation,l.__damp.scale),Fr||Nr||wi}var Tz=Object.freeze({__proto__:null,rsqw:sN,exp:lI,damp:sr,dampAngle:Zu,damp2:oN,damp3:W2,damp4:lN,dampE:aN,dampC:AN,dampQ:aI,dampS:uN,dampM:fN});function cN(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,l=[],u=!0,h=!1;try{if(s=(t=t.call(n)).next,e===0){if(Object(t)!==t)return;u=!1}else for(;!(u=(r=s.call(t)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(m){h=!0,i=m}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function hN(n,e,t){return e=_N(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function $T(n,e){return pN(n)||cN(n,e)||AI(n,e)||vN()}function dN(n){return gN(n)||mN(n)||AI(n)||yN()}function gN(n){if(Array.isArray(n))return Y2(n)}function pN(n){if(Array.isArray(n))return n}function mN(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function AI(n,e){if(n){if(typeof n=="string")return Y2(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return Y2(n,e)}}function Y2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function yN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function xN(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function _N(n){var e=xN(n,"string");return typeof e=="symbol"?e:String(e)}var EN=function(e,t){var r=new Set(t);return Object.assign.apply(Object,[{}].concat(dN(Object.entries(e).filter(function(i){var s=$T(i,1),o=s[0];return!r.has(o)}).map(function(i){var s=$T(i,2),o=s[0],l=s[1];return hN({},o,l)}))))};/*! fromentries. MIT License. Feross Aboukhadijeh <https://feross.org/opensource> */var SN=function(e){return[...e].reduce((t,[r,i])=>(t[r]=i,t),{})};const zT=va(SN);function q2(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function TN(n){if(Array.isArray(n))return n}function wN(n){if(Array.isArray(n))return q2(n)}function kN(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function LN(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,l=[],u=!0,h=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(u=(r=s.call(t)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(m){h=!0,i=m}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function RN(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function CN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function uI(n,e){return TN(n)||LN(n,e)||fI(n,e)||RN()}function HT(n){return wN(n)||kN(n)||fI(n)||CN()}function X2(n){"@babel/helpers - typeof";return X2=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},X2(n)}function fI(n,e){if(n){if(typeof n=="string")return q2(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?q2(n,e):void 0}}function IN(n,e){var t=X2(e)==="object"?e:{wrapperElementType:e,methodNames:(arguments.length<=2?void 0:arguments[2])||void 0,initPropNames:(arguments.length<=3?void 0:arguments[3])||void 0},r=t.wrapperElementType,i=r===void 0?"div":r,s=t.nodeMapper,o=s===void 0?function(y){return y}:s,l=t.methodNames,u=l===void 0?[]:l,h=t.initPropNames,m=h===void 0?[]:h;return Qe.forwardRef(function(y,_){var T=Qe.useRef(),w=Qe.useState({}),L=uI(w,2),I=L[0],C=L[1];Qe.useEffect(function(){return C(y)});var b=Qe.useMemo(function(){var B=zT(m.filter(function($){return y.hasOwnProperty($)}).map(function($){return[$,y[$]]}));return n(B)},[]);jT(function(){b(o(T.current))},Qe.useLayoutEffect),jT(function(){return b._destructor instanceof Function?b._destructor:void 0});var M=Qe.useCallback(function(B){for(var $=arguments.length,H=new Array($>1?$-1:0),j=1;j<$;j++)H[j-1]=arguments[j];return b[B]instanceof Function?b[B].apply(b,H):void 0},[b]),U=EN(y,[].concat(HT(u),HT(m)));return Object.keys(U).filter(function(B){return I[B]!==y[B]}).forEach(function(B){return M(B,y[B])}),Qe.useImperativeHandle(_,function(){return zT(u.map(function(B){return[B,function(){for(var $=arguments.length,H=new Array($),j=0;j<$;j++)H[j]=arguments[j];return M.apply(void 0,[B].concat(H))}]}))}),pb.createElement(i,{ref:T})})}function jT(n){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Qe.useEffect,t=Qe.useRef(),r=Qe.useRef(!1),i=Qe.useRef(!1),s=Qe.useState(0),o=uI(s,2);o[0];var l=o[1];r.current&&(i.current=!0),e(function(){return r.current||(t.current=n(),r.current=!0),l(function(u){return u+1}),function(){i.current&&t.current&&t.current()}},[])}function Z2(n){var e=typeof n;return n!=null&&(e=="object"||e=="function")}var DN=typeof global=="object"&&global&&global.Object===Object&&global,bN=typeof self=="object"&&self&&self.Object===Object&&self,cI=DN||bN||Function("return this")(),hy=function(){return cI.Date.now()},PN=/\s/;function MN(n){for(var e=n.length;e--&&PN.test(n.charAt(e)););return e}var ON=/^\s+/;function FN(n){return n&&n.slice(0,MN(n)+1).replace(ON,"")}var sp=cI.Symbol,hI=Object.prototype,NN=hI.hasOwnProperty,BN=hI.toString,pf=sp?sp.toStringTag:void 0;function UN(n){var e=NN.call(n,pf),t=n[pf];try{n[pf]=void 0;var r=!0}catch{}var i=BN.call(n);return r&&(e?n[pf]=t:delete n[pf]),i}var GN=Object.prototype,$N=GN.toString;function zN(n){return $N.call(n)}var HN="[object Null]",jN="[object Undefined]",VT=sp?sp.toStringTag:void 0;function VN(n){return n==null?n===void 0?jN:HN:VT&&VT in Object(n)?UN(n):zN(n)}function QN(n){return n!=null&&typeof n=="object"}var KN="[object Symbol]";function WN(n){return typeof n=="symbol"||QN(n)&&VN(n)==KN}var QT=NaN,YN=/^[-+]0x[0-9a-f]+$/i,qN=/^0b[01]+$/i,XN=/^0o[0-7]+$/i,ZN=parseInt;function KT(n){if(typeof n=="number")return n;if(WN(n))return QT;if(Z2(n)){var e=typeof n.valueOf=="function"?n.valueOf():n;n=Z2(e)?e+"":e}if(typeof n!="string")return n===0?n:+n;n=FN(n);var t=qN.test(n);return t||XN.test(n)?ZN(n.slice(2),t?2:8):YN.test(n)?QT:+n}var JN="Expected a function",eB=Math.max,tB=Math.min;function nB(n,e,t){var r,i,s,o,l,u,h=0,m=!1,y=!1,_=!0;if(typeof n!="function")throw new TypeError(JN);e=KT(e)||0,Z2(t)&&(m=!!t.leading,y="maxWait"in t,s=y?eB(KT(t.maxWait)||0,e):s,_="trailing"in t?!!t.trailing:_);function T($){var H=r,j=i;return r=i=void 0,h=$,o=n.apply(j,H),o}function w($){return h=$,l=setTimeout(C,e),m?T($):o}function L($){var H=$-u,j=$-h,Y=e-H;return y?tB(Y,s-j):Y}function I($){var H=$-u,j=$-h;return u===void 0||H>=e||H<0||y&&j>=s}function C(){var $=hy();if(I($))return b($);l=setTimeout(C,L($))}function b($){return l=void 0,_&&r?T($):(r=i=void 0,o)}function M(){l!==void 0&&clearTimeout(l),h=0,r=u=i=l=void 0}function U(){return l===void 0?o:b(hy())}function B(){var $=hy(),H=I($);if(r=arguments,i=this,u=$,H){if(l===void 0)return w(u);if(y)return clearTimeout(l),l=setTimeout(C,e),T(u)}return l===void 0&&(l=setTimeout(C,e)),o}return B.cancel=M,B.flush=U,B}function WT(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function rB(n){if(Array.isArray(n))return n}function iB(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function sB(n,e,t){return Object.defineProperty(n,"prototype",{writable:!1}),n}function oB(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,l=[],u=!0,h=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(u=(r=s.call(t)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(m){h=!0,i=m}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function lB(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function aB(n,e){return rB(n)||oB(n,e)||AB(n,e)||lB()}function AB(n,e){if(n){if(typeof n=="string")return WT(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?WT(n,e):void 0}}var uB=sB(function n(e,t){var r=t.default,i=r===void 0?null:r,s=t.triggerUpdate,o=s===void 0?!0:s,l=t.onChange,u=l===void 0?function(h,m){}:l;iB(this,n),this.name=e,this.defaultVal=i,this.triggerUpdate=o,this.onChange=u});function fB(n){var e=n.stateInit,t=e===void 0?function(){return{}}:e,r=n.props,i=r===void 0?{}:r,s=n.methods,o=s===void 0?{}:s,l=n.aliases,u=l===void 0?{}:l,h=n.init,m=h===void 0?function(){}:h,y=n.update,_=y===void 0?function(){}:y,T=Object.keys(i).map(function(w){return new uB(w,i[w])});return function(){var w=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},L=Object.assign({},t instanceof Function?t(w):t,{initialised:!1}),I={};function C(U){return b(U,w),M(),C}var b=function(B,$){m.call(C,B,L,$),L.initialised=!0},M=nB(function(){L.initialised&&(_.call(C,L,I),I={})},1);return T.forEach(function(U){C[U.name]=B(U);function B($){var H=$.name,j=$.triggerUpdate,Y=j===void 0?!1:j,q=$.onChange,X=q===void 0?function(xe,ie){}:q,ge=$.defaultVal,ae=ge===void 0?null:ge;return function(xe){var ie=L[H];if(!arguments.length)return ie;var ce=xe===void 0?ae:xe;return L[H]=ce,X.call(C,ce,L,ie),!I.hasOwnProperty(H)&&(I[H]=ie),Y&&M(),C}}}),Object.keys(o).forEach(function(U){C[U]=function(){for(var B,$=arguments.length,H=new Array($),j=0;j<$;j++)H[j]=arguments[j];return(B=o[U]).call.apply(B,[C,L].concat(H))}}),Object.entries(u).forEach(function(U){var B=aB(U,2),$=B[0],H=B[1];return C[$]=C[H]}),C.resetProps=function(){return T.forEach(function(U){C[U.name](U.defaultVal)}),C},C.resetProps(),L._rerender=M,C}}var Ju=Object.freeze({Linear:Object.freeze({None:function(n){return n},In:function(n){return n},Out:function(n){return n},InOut:function(n){return n}}),Quadratic:Object.freeze({In:function(n){return n*n},Out:function(n){return n*(2-n)},InOut:function(n){return(n*=2)<1?.5*n*n:-.5*(--n*(n-2)-1)}}),Cubic:Object.freeze({In:function(n){return n*n*n},Out:function(n){return--n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n:.5*((n-=2)*n*n+2)}}),Quartic:Object.freeze({In:function(n){return n*n*n*n},Out:function(n){return 1- --n*n*n*n},InOut:function(n){return(n*=2)<1?.5*n*n*n*n:-.5*((n-=2)*n*n*n-2)}}),Quintic:Object.freeze({In:function(n){return n*n*n*n*n},Out:function(n){return--n*n*n*n*n+1},InOut:function(n){return(n*=2)<1?.5*n*n*n*n*n:.5*((n-=2)*n*n*n*n+2)}}),Sinusoidal:Object.freeze({In:function(n){return 1-Math.sin((1-n)*Math.PI/2)},Out:function(n){return Math.sin(n*Math.PI/2)},InOut:function(n){return .5*(1-Math.sin(Math.PI*(.5-n)))}}),Exponential:Object.freeze({In:function(n){return n===0?0:Math.pow(1024,n-1)},Out:function(n){return n===1?1:1-Math.pow(2,-10*n)},InOut:function(n){return n===0?0:n===1?1:(n*=2)<1?.5*Math.pow(1024,n-1):.5*(-Math.pow(2,-10*(n-1))+2)}}),Circular:Object.freeze({In:function(n){return 1-Math.sqrt(1-n*n)},Out:function(n){return Math.sqrt(1- --n*n)},InOut:function(n){return(n*=2)<1?-.5*(Math.sqrt(1-n*n)-1):.5*(Math.sqrt(1-(n-=2)*n)+1)}}),Elastic:Object.freeze({In:function(n){return n===0?0:n===1?1:-Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI)},Out:function(n){return n===0?0:n===1?1:Math.pow(2,-10*n)*Math.sin((n-.1)*5*Math.PI)+1},InOut:function(n){return n===0?0:n===1?1:(n*=2,n<1?-.5*Math.pow(2,10*(n-1))*Math.sin((n-1.1)*5*Math.PI):.5*Math.pow(2,-10*(n-1))*Math.sin((n-1.1)*5*Math.PI)+1)}}),Back:Object.freeze({In:function(n){var e=1.70158;return n===1?1:n*n*((e+1)*n-e)},Out:function(n){var e=1.70158;return n===0?0:--n*n*((e+1)*n+e)+1},InOut:function(n){var e=2.5949095;return(n*=2)<1?.5*(n*n*((e+1)*n-e)):.5*((n-=2)*n*((e+1)*n+e)+2)}}),Bounce:Object.freeze({In:function(n){return 1-Ju.Bounce.Out(1-n)},Out:function(n){return n<1/2.75?7.5625*n*n:n<2/2.75?7.5625*(n-=1.5/2.75)*n+.75:n<2.5/2.75?7.5625*(n-=2.25/2.75)*n+.9375:7.5625*(n-=2.625/2.75)*n+.984375},InOut:function(n){return n<.5?Ju.Bounce.In(n*2)*.5:Ju.Bounce.Out(n*2-1)*.5+.5}}),generatePow:function(n){return n===void 0&&(n=4),n=n<Number.EPSILON?Number.EPSILON:n,n=n>1e4?1e4:n,{In:function(e){return Math.pow(e,n)},Out:function(e){return 1-Math.pow(1-e,n)},InOut:function(e){return e<.5?Math.pow(e*2,n)/2:(1-Math.pow(2-e*2,n))/2+.5}}}}),Lf=function(){return performance.now()},dI=function(){function n(){this._tweens={},this._tweensAddedDuringUpdate={}}return n.prototype.getAll=function(){var e=this;return Object.keys(this._tweens).map(function(t){return e._tweens[t]})},n.prototype.removeAll=function(){this._tweens={}},n.prototype.add=function(e){this._tweens[e.getId()]=e,this._tweensAddedDuringUpdate[e.getId()]=e},n.prototype.remove=function(e){delete this._tweens[e.getId()],delete this._tweensAddedDuringUpdate[e.getId()]},n.prototype.update=function(e,t){e===void 0&&(e=Lf()),t===void 0&&(t=!1);var r=Object.keys(this._tweens);if(r.length===0)return!1;for(;r.length>0;){this._tweensAddedDuringUpdate={};for(var i=0;i<r.length;i++){var s=this._tweens[r[i]],o=!t;s&&s.update(e,o)===!1&&!t&&delete this._tweens[r[i]]}r=Object.keys(this._tweensAddedDuringUpdate)}return!0},n}(),Fu={Linear:function(n,e){var t=n.length-1,r=t*e,i=Math.floor(r),s=Fu.Utils.Linear;return e<0?s(n[0],n[1],r):e>1?s(n[t],n[t-1],t-r):s(n[i],n[i+1>t?t:i+1],r-i)},Bezier:function(n,e){for(var t=0,r=n.length-1,i=Math.pow,s=Fu.Utils.Bernstein,o=0;o<=r;o++)t+=i(1-e,r-o)*i(e,o)*n[o]*s(r,o);return t},CatmullRom:function(n,e){var t=n.length-1,r=t*e,i=Math.floor(r),s=Fu.Utils.CatmullRom;return n[0]===n[t]?(e<0&&(i=Math.floor(r=t*(1+e))),s(n[(i-1+t)%t],n[i],n[(i+1)%t],n[(i+2)%t],r-i)):e<0?n[0]-(s(n[0],n[0],n[1],n[1],-r)-n[0]):e>1?n[t]-(s(n[t],n[t],n[t-1],n[t-1],r-t)-n[t]):s(n[i?i-1:0],n[i],n[t<i+1?t:i+1],n[t<i+2?t:i+2],r-i)},Utils:{Linear:function(n,e,t){return(e-n)*t+n},Bernstein:function(n,e){var t=Fu.Utils.Factorial;return t(n)/t(e)/t(n-e)},Factorial:function(){var n=[1];return function(e){var t=1;if(n[e])return n[e];for(var r=e;r>1;r--)t*=r;return n[e]=t,t}}(),CatmullRom:function(n,e,t,r,i){var s=(t-n)*.5,o=(r-e)*.5,l=i*i,u=i*l;return(2*e-2*t+s+o)*u+(-3*e+3*t-2*s-o)*l+s*i+e}}},cB=function(){function n(){}return n.nextId=function(){return n._nextId++},n._nextId=0,n}(),J2=new dI,hB=function(){function n(e,t){t===void 0&&(t=J2),this._object=e,this._group=t,this._isPaused=!1,this._pauseStart=0,this._valuesStart={},this._valuesEnd={},this._valuesStartRepeat={},this._duration=1e3,this._isDynamic=!1,this._initialRepeat=0,this._repeat=0,this._yoyo=!1,this._isPlaying=!1,this._reversed=!1,this._delayTime=0,this._startTime=0,this._easingFunction=Ju.Linear.None,this._interpolationFunction=Fu.Linear,this._chainedTweens=[],this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._id=cB.nextId(),this._isChainStopped=!1,this._propertiesAreSetUp=!1,this._goToEnd=!1}return n.prototype.getId=function(){return this._id},n.prototype.isPlaying=function(){return this._isPlaying},n.prototype.isPaused=function(){return this._isPaused},n.prototype.getDuration=function(){return this._duration},n.prototype.to=function(e,t){if(t===void 0&&(t=1e3),this._isPlaying)throw new Error("Can not call Tween.to() while Tween is already started or paused. Stop the Tween first.");return this._valuesEnd=e,this._propertiesAreSetUp=!1,this._duration=t<0?0:t,this},n.prototype.duration=function(e){return e===void 0&&(e=1e3),this._duration=e<0?0:e,this},n.prototype.dynamic=function(e){return e===void 0&&(e=!1),this._isDynamic=e,this},n.prototype.start=function(e,t){if(e===void 0&&(e=Lf()),t===void 0&&(t=!1),this._isPlaying)return this;if(this._group&&this._group.add(this),this._repeat=this._initialRepeat,this._reversed){this._reversed=!1;for(var r in this._valuesStartRepeat)this._swapEndStartRepeatValues(r),this._valuesStart[r]=this._valuesStartRepeat[r]}if(this._isPlaying=!0,this._isPaused=!1,this._onStartCallbackFired=!1,this._onEveryStartCallbackFired=!1,this._isChainStopped=!1,this._startTime=e,this._startTime+=this._delayTime,!this._propertiesAreSetUp||t){if(this._propertiesAreSetUp=!0,!this._isDynamic){var i={};for(var s in this._valuesEnd)i[s]=this._valuesEnd[s];this._valuesEnd=i}this._setupProperties(this._object,this._valuesStart,this._valuesEnd,this._valuesStartRepeat,t)}return this},n.prototype.startFromCurrentValues=function(e){return this.start(e,!0)},n.prototype._setupProperties=function(e,t,r,i,s){for(var o in r){var l=e[o],u=Array.isArray(l),h=u?"array":typeof l,m=!u&&Array.isArray(r[o]);if(!(h==="undefined"||h==="function")){if(m){var y=r[o];if(y.length===0)continue;for(var _=[l],T=0,w=y.length;T<w;T+=1){var L=this._handleRelativeValue(l,y[T]);if(isNaN(L)){m=!1,console.warn("Found invalid interpolation list. Skipping.");break}_.push(L)}m&&(r[o]=_)}if((h==="object"||u)&&l&&!m){t[o]=u?[]:{};var I=l;for(var C in I)t[o][C]=I[C];i[o]=u?[]:{};var y=r[o];if(!this._isDynamic){var b={};for(var C in y)b[C]=y[C];r[o]=y=b}this._setupProperties(I,t[o],y,i[o],s)}else(typeof t[o]>"u"||s)&&(t[o]=l),u||(t[o]*=1),m?i[o]=r[o].slice().reverse():i[o]=t[o]||0}}},n.prototype.stop=function(){return this._isChainStopped||(this._isChainStopped=!0,this.stopChainedTweens()),this._isPlaying?(this._group&&this._group.remove(this),this._isPlaying=!1,this._isPaused=!1,this._onStopCallback&&this._onStopCallback(this._object),this):this},n.prototype.end=function(){return this._goToEnd=!0,this.update(1/0),this},n.prototype.pause=function(e){return e===void 0&&(e=Lf()),this._isPaused||!this._isPlaying?this:(this._isPaused=!0,this._pauseStart=e,this._group&&this._group.remove(this),this)},n.prototype.resume=function(e){return e===void 0&&(e=Lf()),!this._isPaused||!this._isPlaying?this:(this._isPaused=!1,this._startTime+=e-this._pauseStart,this._pauseStart=0,this._group&&this._group.add(this),this)},n.prototype.stopChainedTweens=function(){for(var e=0,t=this._chainedTweens.length;e<t;e++)this._chainedTweens[e].stop();return this},n.prototype.group=function(e){return e===void 0&&(e=J2),this._group=e,this},n.prototype.delay=function(e){return e===void 0&&(e=0),this._delayTime=e,this},n.prototype.repeat=function(e){return e===void 0&&(e=0),this._initialRepeat=e,this._repeat=e,this},n.prototype.repeatDelay=function(e){return this._repeatDelayTime=e,this},n.prototype.yoyo=function(e){return e===void 0&&(e=!1),this._yoyo=e,this},n.prototype.easing=function(e){return e===void 0&&(e=Ju.Linear.None),this._easingFunction=e,this},n.prototype.interpolation=function(e){return e===void 0&&(e=Fu.Linear),this._interpolationFunction=e,this},n.prototype.chain=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];return this._chainedTweens=e,this},n.prototype.onStart=function(e){return this._onStartCallback=e,this},n.prototype.onEveryStart=function(e){return this._onEveryStartCallback=e,this},n.prototype.onUpdate=function(e){return this._onUpdateCallback=e,this},n.prototype.onRepeat=function(e){return this._onRepeatCallback=e,this},n.prototype.onComplete=function(e){return this._onCompleteCallback=e,this},n.prototype.onStop=function(e){return this._onStopCallback=e,this},n.prototype.update=function(e,t){var r=this,i;if(e===void 0&&(e=Lf()),t===void 0&&(t=!0),this._isPaused)return!0;var s,o=this._startTime+this._duration;if(!this._goToEnd&&!this._isPlaying){if(e>o)return!1;t&&this.start(e,!0)}if(this._goToEnd=!1,e<this._startTime)return!0;this._onStartCallbackFired===!1&&(this._onStartCallback&&this._onStartCallback(this._object),this._onStartCallbackFired=!0),this._onEveryStartCallbackFired===!1&&(this._onEveryStartCallback&&this._onEveryStartCallback(this._object),this._onEveryStartCallbackFired=!0);var l=e-this._startTime,u=this._duration+((i=this._repeatDelayTime)!==null&&i!==void 0?i:this._delayTime),h=this._duration+this._repeat*u,m=function(){if(r._duration===0||l>h)return 1;var I=Math.trunc(l/u),C=l-I*u,b=Math.min(C/r._duration,1);return b===0&&l===r._duration?1:b},y=m(),_=this._easingFunction(y);if(this._updateProperties(this._object,this._valuesStart,this._valuesEnd,_),this._onUpdateCallback&&this._onUpdateCallback(this._object,y),this._duration===0||l>=this._duration)if(this._repeat>0){var T=Math.min(Math.trunc((l-this._duration)/u)+1,this._repeat);isFinite(this._repeat)&&(this._repeat-=T);for(s in this._valuesStartRepeat)!this._yoyo&&typeof this._valuesEnd[s]=="string"&&(this._valuesStartRepeat[s]=this._valuesStartRepeat[s]+parseFloat(this._valuesEnd[s])),this._yoyo&&this._swapEndStartRepeatValues(s),this._valuesStart[s]=this._valuesStartRepeat[s];return this._yoyo&&(this._reversed=!this._reversed),this._startTime+=u*T,this._onRepeatCallback&&this._onRepeatCallback(this._object),this._onEveryStartCallbackFired=!1,!0}else{this._onCompleteCallback&&this._onCompleteCallback(this._object);for(var w=0,L=this._chainedTweens.length;w<L;w++)this._chainedTweens[w].start(this._startTime+this._duration,!1);return this._isPlaying=!1,!1}return!0},n.prototype._updateProperties=function(e,t,r,i){for(var s in r)if(t[s]!==void 0){var o=t[s]||0,l=r[s],u=Array.isArray(e[s]),h=Array.isArray(l),m=!u&&h;m?e[s]=this._interpolationFunction(l,i):typeof l=="object"&&l?this._updateProperties(e[s],o,l,i):(l=this._handleRelativeValue(o,l),typeof l=="number"&&(e[s]=o+(l-o)*i))}},n.prototype._handleRelativeValue=function(e,t){return typeof t!="string"?t:t.charAt(0)==="+"||t.charAt(0)==="-"?e+parseFloat(t):parseFloat(t)},n.prototype._swapEndStartRepeatValues=function(e){var t=this._valuesStartRepeat[e],r=this._valuesEnd[e];typeof r=="string"?this._valuesStartRepeat[e]=this._valuesStartRepeat[e]+parseFloat(r):this._valuesStartRepeat[e]=this._valuesEnd[e],this._valuesEnd[e]=t},n}(),Co=J2;Co.getAll.bind(Co);Co.removeAll.bind(Co);Co.add.bind(Co);Co.remove.bind(Co);Co.update.bind(Co);function wz(n,e,t=2){const r=e&&e.length,i=r?e[0]*t:n.length;let s=gI(n,0,i,t,!0);const o=[];if(!s||s.next===s.prev)return o;let l,u,h;if(r&&(s=yB(n,e,s,t)),n.length>80*t){l=1/0,u=1/0;let m=-1/0,y=-1/0;for(let _=t;_<i;_+=t){const T=n[_],w=n[_+1];T<l&&(l=T),w<u&&(u=w),T>m&&(m=T),w>y&&(y=w)}h=Math.max(m-l,y-u),h=h!==0?32767/h:0}return _c(s,o,t,l,u,h,0),o}function gI(n,e,t,r,i){let s;if(i===CB(n,e,t,r)>0)for(let o=e;o<t;o+=r)s=YT(o/r|0,n[o],n[o+1],s);else for(let o=t-r;o>=e;o-=r)s=YT(o/r|0,n[o],n[o+1],s);return s&&am(s,s.next)&&(Sc(s),s=s.next),s}function RA(n,e){if(!n)return n;e||(e=n);let t=n,r;do if(r=!1,!t.steiner&&(am(t,t.next)||vn(t.prev,t,t.next)===0)){if(Sc(t),t=e=t.prev,t===t.next)break;r=!0}else t=t.next;while(r||t!==e);return e}function _c(n,e,t,r,i,s,o){if(!n)return;!o&&s&&SB(n,r,i,s);let l=n;for(;n.prev!==n.next;){const u=n.prev,h=n.next;if(s?gB(n,r,i,s):dB(n)){e.push(u.i,n.i,h.i),Sc(n),n=h.next,l=h.next;continue}if(n=h,n===l){o?o===1?(n=pB(RA(n),e),_c(n,e,t,r,i,s,2)):o===2&&mB(n,e,t,r,i,s):_c(RA(n),e,t,r,i,s,1);break}}}function dB(n){const e=n.prev,t=n,r=n.next;if(vn(e,t,r)>=0)return!1;const i=e.x,s=t.x,o=r.x,l=e.y,u=t.y,h=r.y,m=i<s?i<o?i:o:s<o?s:o,y=l<u?l<h?l:h:u<h?u:h,_=i>s?i>o?i:o:s>o?s:o,T=l>u?l>h?l:h:u>h?u:h;let w=r.next;for(;w!==e;){if(w.x>=m&&w.x<=_&&w.y>=y&&w.y<=T&&Nu(i,l,s,u,o,h,w.x,w.y)&&vn(w.prev,w,w.next)>=0)return!1;w=w.next}return!0}function gB(n,e,t,r){const i=n.prev,s=n,o=n.next;if(vn(i,s,o)>=0)return!1;const l=i.x,u=s.x,h=o.x,m=i.y,y=s.y,_=o.y,T=l<u?l<h?l:h:u<h?u:h,w=m<y?m<_?m:_:y<_?y:_,L=l>u?l>h?l:h:u>h?u:h,I=m>y?m>_?m:_:y>_?y:_,C=ev(T,w,e,t,r),b=ev(L,I,e,t,r);let M=n.prevZ,U=n.nextZ;for(;M&&M.z>=C&&U&&U.z<=b;){if(M.x>=T&&M.x<=L&&M.y>=w&&M.y<=I&&M!==i&&M!==o&&Nu(l,m,u,y,h,_,M.x,M.y)&&vn(M.prev,M,M.next)>=0||(M=M.prevZ,U.x>=T&&U.x<=L&&U.y>=w&&U.y<=I&&U!==i&&U!==o&&Nu(l,m,u,y,h,_,U.x,U.y)&&vn(U.prev,U,U.next)>=0))return!1;U=U.nextZ}for(;M&&M.z>=C;){if(M.x>=T&&M.x<=L&&M.y>=w&&M.y<=I&&M!==i&&M!==o&&Nu(l,m,u,y,h,_,M.x,M.y)&&vn(M.prev,M,M.next)>=0)return!1;M=M.prevZ}for(;U&&U.z<=b;){if(U.x>=T&&U.x<=L&&U.y>=w&&U.y<=I&&U!==i&&U!==o&&Nu(l,m,u,y,h,_,U.x,U.y)&&vn(U.prev,U,U.next)>=0)return!1;U=U.nextZ}return!0}function pB(n,e){let t=n;do{const r=t.prev,i=t.next.next;!am(r,i)&&pI(r,t,t.next,i)&&Ec(r,i)&&Ec(i,r)&&(e.push(r.i,t.i,i.i),Sc(t),Sc(t.next),t=n=i),t=t.next}while(t!==n);return RA(t)}function mB(n,e,t,r,i,s){let o=n;do{let l=o.next.next;for(;l!==o.prev;){if(o.i!==l.i&&kB(o,l)){let u=mI(o,l);o=RA(o,o.next),u=RA(u,u.next),_c(o,e,t,r,i,s,0),_c(u,e,t,r,i,s,0);return}l=l.next}o=o.next}while(o!==n)}function yB(n,e,t,r){const i=[];for(let s=0,o=e.length;s<o;s++){const l=e[s]*r,u=s<o-1?e[s+1]*r:n.length,h=gI(n,l,u,r,!1);h===h.next&&(h.steiner=!0),i.push(wB(h))}i.sort(vB);for(let s=0;s<i.length;s++)t=xB(i[s],t);return t}function vB(n,e){return n.x-e.x}function xB(n,e){const t=_B(n,e);if(!t)return e;const r=mI(t,n);return RA(r,r.next),RA(t,t.next)}function _B(n,e){let t=e;const r=n.x,i=n.y;let s=-1/0,o;do{if(i<=t.y&&i>=t.next.y&&t.next.y!==t.y){const y=t.x+(i-t.y)*(t.next.x-t.x)/(t.next.y-t.y);if(y<=r&&y>s&&(s=y,o=t.x<t.next.x?t:t.next,y===r))return o}t=t.next}while(t!==e);if(!o)return null;const l=o,u=o.x,h=o.y;let m=1/0;t=o;do{if(r>=t.x&&t.x>=u&&r!==t.x&&Nu(i<h?r:s,i,u,h,i<h?s:r,i,t.x,t.y)){const y=Math.abs(i-t.y)/(r-t.x);Ec(t,n)&&(y<m||y===m&&(t.x>o.x||t.x===o.x&&EB(o,t)))&&(o=t,m=y)}t=t.next}while(t!==l);return o}function EB(n,e){return vn(n.prev,n,e.prev)<0&&vn(e.next,n,n.next)<0}function SB(n,e,t,r){let i=n;do i.z===0&&(i.z=ev(i.x,i.y,e,t,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==n);i.prevZ.nextZ=null,i.prevZ=null,TB(i)}function TB(n){let e,t=1;do{let r=n,i;n=null;let s=null;for(e=0;r;){e++;let o=r,l=0;for(let h=0;h<t&&(l++,o=o.nextZ,!!o);h++);let u=t;for(;l>0||u>0&&o;)l!==0&&(u===0||!o||r.z<=o.z)?(i=r,r=r.nextZ,l--):(i=o,o=o.nextZ,u--),s?s.nextZ=i:n=i,i.prevZ=s,s=i;r=o}s.nextZ=null,t*=2}while(e>1);return n}function ev(n,e,t,r,i){return n=(n-t)*i|0,e=(e-r)*i|0,n=(n|n<<8)&16711935,n=(n|n<<4)&252645135,n=(n|n<<2)&858993459,n=(n|n<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,n|e<<1}function wB(n){let e=n,t=n;do(e.x<t.x||e.x===t.x&&e.y<t.y)&&(t=e),e=e.next;while(e!==n);return t}function Nu(n,e,t,r,i,s,o,l){return(i-o)*(e-l)>=(n-o)*(s-l)&&(n-o)*(r-l)>=(t-o)*(e-l)&&(t-o)*(s-l)>=(i-o)*(r-l)}function kB(n,e){return n.next.i!==e.i&&n.prev.i!==e.i&&!LB(n,e)&&(Ec(n,e)&&Ec(e,n)&&RB(n,e)&&(vn(n.prev,n,e.prev)||vn(n,e.prev,e))||am(n,e)&&vn(n.prev,n,n.next)>0&&vn(e.prev,e,e.next)>0)}function vn(n,e,t){return(e.y-n.y)*(t.x-e.x)-(e.x-n.x)*(t.y-e.y)}function am(n,e){return n.x===e.x&&n.y===e.y}function pI(n,e,t,r){const i=Pd(vn(n,e,t)),s=Pd(vn(n,e,r)),o=Pd(vn(t,r,n)),l=Pd(vn(t,r,e));return!!(i!==s&&o!==l||i===0&&bd(n,t,e)||s===0&&bd(n,r,e)||o===0&&bd(t,n,r)||l===0&&bd(t,e,r))}function bd(n,e,t){return e.x<=Math.max(n.x,t.x)&&e.x>=Math.min(n.x,t.x)&&e.y<=Math.max(n.y,t.y)&&e.y>=Math.min(n.y,t.y)}function Pd(n){return n>0?1:n<0?-1:0}function LB(n,e){let t=n;do{if(t.i!==n.i&&t.next.i!==n.i&&t.i!==e.i&&t.next.i!==e.i&&pI(t,t.next,n,e))return!0;t=t.next}while(t!==n);return!1}function Ec(n,e){return vn(n.prev,n,n.next)<0?vn(n,e,n.next)>=0&&vn(n,n.prev,e)>=0:vn(n,e,n.prev)<0||vn(n,n.next,e)<0}function RB(n,e){let t=n,r=!1;const i=(n.x+e.x)/2,s=(n.y+e.y)/2;do t.y>s!=t.next.y>s&&t.next.y!==t.y&&i<(t.next.x-t.x)*(s-t.y)/(t.next.y-t.y)+t.x&&(r=!r),t=t.next;while(t!==n);return r}function mI(n,e){const t=tv(n.i,n.x,n.y),r=tv(e.i,e.x,e.y),i=n.next,s=e.prev;return n.next=e,e.prev=n,t.next=i,i.prev=t,r.next=t,t.prev=r,s.next=r,r.prev=s,r}function YT(n,e,t,r){const i=tv(n,e,t);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Sc(n){n.next.prev=n.prev,n.prev.next=n.next,n.prevZ&&(n.prevZ.nextZ=n.nextZ),n.nextZ&&(n.nextZ.prevZ=n.prevZ)}function tv(n,e,t){return{i:n,x:e,y:t,prev:null,next:null,z:0,prevZ:null,nextZ:null,steiner:!1}}function CB(n,e,t,r){let i=0;for(let s=e,o=t-r;s<t;s+=r)i+=(n[o]-n[s])*(n[s+1]+n[o+1]),o=s;return i}function kz(n){const e=[],t=[],r=n[0][0].length;let i=0,s=0;for(const o of n){for(const l of o)for(let u=0;u<r;u++)e.push(l[u]);s&&(i+=s,t.push(i)),s=o.length}return{vertices:e,holes:t,dimensions:r}}function hg(n,e){return n==null||e==null?NaN:n<e?-1:n>e?1:n>=e?0:NaN}function IB(n,e){return n==null||e==null?NaN:e<n?-1:e>n?1:e>=n?0:NaN}function yI(n){let e,t,r;n.length!==2?(e=hg,t=(l,u)=>hg(n(l),u),r=(l,u)=>n(l)-u):(e=n===hg||n===IB?n:DB,t=n,r=n);function i(l,u,h=0,m=l.length){if(h<m){if(e(u,u)!==0)return m;do{const y=h+m>>>1;t(l[y],u)<0?h=y+1:m=y}while(h<m)}return h}function s(l,u,h=0,m=l.length){if(h<m){if(e(u,u)!==0)return m;do{const y=h+m>>>1;t(l[y],u)<=0?h=y+1:m=y}while(h<m)}return h}function o(l,u,h=0,m=l.length){const y=i(l,u,h,m-1);return y>h&&r(l[y-1],u)>-r(l[y],u)?y-1:y}return{left:i,center:o,right:s}}function DB(){return 0}function bB(n){return n===null?NaN:+n}const PB=yI(hg),MB=PB.right;yI(bB).center;function vI(n,e){let t,r;if(e===void 0)for(const i of n)i!=null&&(t===void 0?i>=i&&(t=r=i):(t>i&&(t=i),r<i&&(r=i)));else{let i=-1;for(let s of n)(s=e(s,++i,n))!=null&&(t===void 0?s>=s&&(t=r=s):(t>s&&(t=s),r<s&&(r=s)))}return[t,r]}class ll{constructor(){this._partials=new Float64Array(32),this._n=0}add(e){const t=this._partials;let r=0;for(let i=0;i<this._n&&i<32;i++){const s=t[i],o=e+s,l=Math.abs(e)<Math.abs(s)?e-(o-s):s-(o-e);l&&(t[r++]=l),e=o}return t[r]=e,this._n=r+1,this}valueOf(){const e=this._partials;let t=this._n,r,i,s,o=0;if(t>0){for(o=e[--t];t>0&&(r=o,i=e[--t],o=r+i,s=i-(o-r),!s););t>0&&(s<0&&e[t-1]<0||s>0&&e[t-1]>0)&&(i=s*2,r=o+i,i==r-o&&(o=r))}return o}}const OB=Math.sqrt(50),FB=Math.sqrt(10),NB=Math.sqrt(2);function op(n,e,t){const r=(e-n)/Math.max(0,t),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),o=s>=OB?10:s>=FB?5:s>=NB?2:1;let l,u,h;return i<0?(h=Math.pow(10,-i)/o,l=Math.round(n*h),u=Math.round(e*h),l/h<n&&++l,u/h>e&&--u,h=-h):(h=Math.pow(10,i)*o,l=Math.round(n/h),u=Math.round(e/h),l*h<n&&++l,u*h>e&&--u),u<l&&.5<=t&&t<2?op(n,e,t*2):[l,u,h]}function BB(n,e,t){if(e=+e,n=+n,t=+t,!(t>0))return[];if(n===e)return[n];const r=e<n,[i,s,o]=r?op(e,n,t):op(n,e,t);if(!(s>=i))return[];const l=s-i+1,u=new Array(l);if(r)if(o<0)for(let h=0;h<l;++h)u[h]=(s-h)/-o;else for(let h=0;h<l;++h)u[h]=(s-h)*o;else if(o<0)for(let h=0;h<l;++h)u[h]=(i+h)/-o;else for(let h=0;h<l;++h)u[h]=(i+h)*o;return u}function nv(n,e,t){return e=+e,n=+n,t=+t,op(n,e,t)[2]}function UB(n,e,t){e=+e,n=+n,t=+t;const r=e<n,i=r?nv(e,n,t):nv(n,e,t);return(r?-1:1)*(i<0?1/-i:i)}function Lz(n,e){let t;for(const r of n)r!=null&&(t<r||t===void 0&&r>=r)&&(t=r);return t}function Rz(n,e){let t=0,r=0;if(e===void 0)for(let i of n)i!=null&&(i=+i)>=i&&(++t,r+=i);else{let i=-1;for(let s of n)(s=e(s,++i,n))!=null&&(s=+s)>=s&&(++t,r+=s)}if(t)return r/t}function*GB(n){for(const e of n)yield*e}function xI(n){return Array.from(GB(n))}function Bu(n,e,t){n=+n,e=+e,t=(i=arguments.length)<2?(e=n,n=0,1):i<3?1:+t;for(var r=-1,i=Math.max(0,Math.ceil((e-n)/t))|0,s=new Array(i);++r<i;)s[r]=n+r*t;return s}function Cz(n,e){let t=0;for(let r of n)(r=+r)&&(t+=r);return t}var Lt=1e-6,lp=1e-12,Bt=Math.PI,Ts=Bt/2,ap=Bt/4,Wi=Bt*2,Ln=180/Bt,dt=Bt/180,Yt=Math.abs,_I=Math.atan,Is=Math.atan2,mt=Math.cos,Md=Math.ceil,rv=Math.hypot,at=Math.sin,$B=Math.sign||function(n){return n>0?1:n<0?-1:0},gl=Math.sqrt;function zB(n){return n>1?0:n<-1?Bt:Math.acos(n)}function pl(n){return n>1?Ts:n<-1?-Ts:Math.asin(n)}function qT(n){return(n=at(n/2))*n}function br(){}function Ap(n,e){n&&ZT.hasOwnProperty(n.type)&&ZT[n.type](n,e)}var XT={Feature:function(n,e){Ap(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,r=-1,i=t.length;++r<i;)Ap(t[r].geometry,e)}},ZT={Sphere:function(n,e){e.sphere()},Point:function(n,e){n=n.coordinates,e.point(n[0],n[1],n[2])},MultiPoint:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)n=t[r],e.point(n[0],n[1],n[2])},LineString:function(n,e){iv(n.coordinates,e,0)},MultiLineString:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)iv(t[r],e,0)},Polygon:function(n,e){JT(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)JT(t[r],e)},GeometryCollection:function(n,e){for(var t=n.geometries,r=-1,i=t.length;++r<i;)Ap(t[r],e)}};function iv(n,e,t){var r=-1,i=n.length-t,s;for(e.lineStart();++r<i;)s=n[r],e.point(s[0],s[1],s[2]);e.lineEnd()}function JT(n,e){var t=-1,r=n.length;for(e.polygonStart();++t<r;)iv(n[t],e,1);e.polygonEnd()}function Am(n,e){n&&XT.hasOwnProperty(n.type)?XT[n.type](n,e):Ap(n,e)}var up=new ll,ew=new ll,EI,SI,sv,ov,lv,ml={point:br,lineStart:br,lineEnd:br,polygonStart:function(){up=new ll,ml.lineStart=HB,ml.lineEnd=jB},polygonEnd:function(){var n=+up;ew.add(n<0?Wi+n:n),this.lineStart=this.lineEnd=this.point=br},sphere:function(){ew.add(Wi)}};function HB(){ml.point=VB}function jB(){TI(EI,SI)}function VB(n,e){ml.point=TI,EI=n,SI=e,n*=dt,e*=dt,sv=n,ov=mt(e=e/2+ap),lv=at(e)}function TI(n,e){n*=dt,e*=dt,e=e/2+ap;var t=n-sv,r=t>=0?1:-1,i=r*t,s=mt(e),o=at(e),l=lv*o,u=ov*s+l*mt(i),h=l*r*at(i);up.add(Is(h,u)),sv=n,ov=s,lv=o}function fp(n){return[Is(n[1],n[0]),pl(n[2])]}function CA(n){var e=n[0],t=n[1],r=mt(t);return[r*mt(e),r*at(e),at(t)]}function Od(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function y0(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function dy(n,e){n[0]+=e[0],n[1]+=e[1],n[2]+=e[2]}function Fd(n,e){return[n[0]*e,n[1]*e,n[2]*e]}function cp(n){var e=gl(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=e,n[1]/=e,n[2]/=e}var gn,hi,wn,Gi,eA,wI,kI,e0,Qf,Yl,yl,rl={point:av,lineStart:tw,lineEnd:nw,polygonStart:function(){rl.point=RI,rl.lineStart=QB,rl.lineEnd=KB,Qf=new ll,ml.polygonStart()},polygonEnd:function(){ml.polygonEnd(),rl.point=av,rl.lineStart=tw,rl.lineEnd=nw,up<0?(gn=-(wn=180),hi=-(Gi=90)):Qf>Lt?Gi=90:Qf<-Lt&&(hi=-90),yl[0]=gn,yl[1]=wn},sphere:function(){gn=-(wn=180),hi=-(Gi=90)}};function av(n,e){Yl.push(yl=[gn=n,wn=n]),e<hi&&(hi=e),e>Gi&&(Gi=e)}function LI(n,e){var t=CA([n*dt,e*dt]);if(e0){var r=y0(e0,t),i=[r[1],-r[0],0],s=y0(i,r);cp(s),s=fp(s);var o=n-eA,l=o>0?1:-1,u=s[0]*Ln*l,h,m=Yt(o)>180;m^(l*eA<u&&u<l*n)?(h=s[1]*Ln,h>Gi&&(Gi=h)):(u=(u+360)%360-180,m^(l*eA<u&&u<l*n)?(h=-s[1]*Ln,h<hi&&(hi=h)):(e<hi&&(hi=e),e>Gi&&(Gi=e))),m?n<eA?Ni(gn,n)>Ni(gn,wn)&&(wn=n):Ni(n,wn)>Ni(gn,wn)&&(gn=n):wn>=gn?(n<gn&&(gn=n),n>wn&&(wn=n)):n>eA?Ni(gn,n)>Ni(gn,wn)&&(wn=n):Ni(n,wn)>Ni(gn,wn)&&(gn=n)}else Yl.push(yl=[gn=n,wn=n]);e<hi&&(hi=e),e>Gi&&(Gi=e),e0=t,eA=n}function tw(){rl.point=LI}function nw(){yl[0]=gn,yl[1]=wn,rl.point=av,e0=null}function RI(n,e){if(e0){var t=n-eA;Qf.add(Yt(t)>180?t+(t>0?360:-360):t)}else wI=n,kI=e;ml.point(n,e),LI(n,e)}function QB(){ml.lineStart()}function KB(){RI(wI,kI),ml.lineEnd(),Yt(Qf)>Lt&&(gn=-(wn=180)),yl[0]=gn,yl[1]=wn,e0=null}function Ni(n,e){return(e-=n)<0?e+360:e}function WB(n,e){return n[0]-e[0]}function rw(n,e){return n[0]<=n[1]?n[0]<=e&&e<=n[1]:e<n[0]||n[1]<e}function Iz(n){var e,t,r,i,s,o,l;if(Gi=wn=-(gn=hi=1/0),Yl=[],Am(n,rl),t=Yl.length){for(Yl.sort(WB),e=1,r=Yl[0],s=[r];e<t;++e)i=Yl[e],rw(r,i[0])||rw(r,i[1])?(Ni(r[0],i[1])>Ni(r[0],r[1])&&(r[1]=i[1]),Ni(i[0],r[1])>Ni(r[0],r[1])&&(r[0]=i[0])):s.push(r=i);for(o=-1/0,t=s.length-1,e=0,r=s[t];e<=t;r=i,++e)i=s[e],(l=Ni(r[1],i[0]))>o&&(o=l,gn=i[0],wn=r[1])}return Yl=yl=null,gn===1/0||hi===1/0?[[NaN,NaN],[NaN,NaN]]:[[gn,hi],[wn,Gi]]}var Rf,hp,dp,gp,pp,mp,yp,vp,Av,uv,fv,CI,II,Yr,qr,Xr,Ws={sphere:br,point:A_,lineStart:iw,lineEnd:sw,polygonStart:function(){Ws.lineStart=XB,Ws.lineEnd=ZB},polygonEnd:function(){Ws.lineStart=iw,Ws.lineEnd=sw}};function A_(n,e){n*=dt,e*=dt;var t=mt(e);Gc(t*mt(n),t*at(n),at(e))}function Gc(n,e,t){++Rf,dp+=(n-dp)/Rf,gp+=(e-gp)/Rf,pp+=(t-pp)/Rf}function iw(){Ws.point=YB}function YB(n,e){n*=dt,e*=dt;var t=mt(e);Yr=t*mt(n),qr=t*at(n),Xr=at(e),Ws.point=qB,Gc(Yr,qr,Xr)}function qB(n,e){n*=dt,e*=dt;var t=mt(e),r=t*mt(n),i=t*at(n),s=at(e),o=Is(gl((o=qr*s-Xr*i)*o+(o=Xr*r-Yr*s)*o+(o=Yr*i-qr*r)*o),Yr*r+qr*i+Xr*s);hp+=o,mp+=o*(Yr+(Yr=r)),yp+=o*(qr+(qr=i)),vp+=o*(Xr+(Xr=s)),Gc(Yr,qr,Xr)}function sw(){Ws.point=A_}function XB(){Ws.point=JB}function ZB(){DI(CI,II),Ws.point=A_}function JB(n,e){CI=n,II=e,n*=dt,e*=dt,Ws.point=DI;var t=mt(e);Yr=t*mt(n),qr=t*at(n),Xr=at(e),Gc(Yr,qr,Xr)}function DI(n,e){n*=dt,e*=dt;var t=mt(e),r=t*mt(n),i=t*at(n),s=at(e),o=qr*s-Xr*i,l=Xr*r-Yr*s,u=Yr*i-qr*r,h=rv(o,l,u),m=pl(h),y=h&&-m/h;Av.add(y*o),uv.add(y*l),fv.add(y*u),hp+=m,mp+=m*(Yr+(Yr=r)),yp+=m*(qr+(qr=i)),vp+=m*(Xr+(Xr=s)),Gc(Yr,qr,Xr)}function ow(n){Rf=hp=dp=gp=pp=mp=yp=vp=0,Av=new ll,uv=new ll,fv=new ll,Am(n,Ws);var e=+Av,t=+uv,r=+fv,i=rv(e,t,r);return i<lp&&(e=mp,t=yp,r=vp,hp<Lt&&(e=dp,t=gp,r=pp),i=rv(e,t,r),i<lp)?[NaN,NaN]:[Is(t,e)*Ln,pl(r/i)*Ln]}function cv(n,e){function t(r,i){return r=n(r,i),e(r[0],r[1])}return n.invert&&e.invert&&(t.invert=function(r,i){return r=e.invert(r,i),r&&n.invert(r[0],r[1])}),t}function hv(n,e){return Yt(n)>Bt&&(n-=Math.round(n/Wi)*Wi),[n,e]}hv.invert=hv;function bI(n,e,t){return(n%=Wi)?e||t?cv(aw(n),Aw(e,t)):aw(n):e||t?Aw(e,t):hv}function lw(n){return function(e,t){return e+=n,Yt(e)>Bt&&(e-=Math.round(e/Wi)*Wi),[e,t]}}function aw(n){var e=lw(n);return e.invert=lw(-n),e}function Aw(n,e){var t=mt(n),r=at(n),i=mt(e),s=at(e);function o(l,u){var h=mt(u),m=mt(l)*h,y=at(l)*h,_=at(u),T=_*t+m*r;return[Is(y*i-T*s,m*t-_*r),pl(T*i+y*s)]}return o.invert=function(l,u){var h=mt(u),m=mt(l)*h,y=at(l)*h,_=at(u),T=_*i-y*s;return[Is(y*i+_*s,m*t+T*r),pl(T*t-m*r)]},o}function eU(n){n=bI(n[0]*dt,n[1]*dt,n.length>2?n[2]*dt:0);function e(t){return t=n(t[0]*dt,t[1]*dt),t[0]*=Ln,t[1]*=Ln,t}return e.invert=function(t){return t=n.invert(t[0]*dt,t[1]*dt),t[0]*=Ln,t[1]*=Ln,t},e}function tU(n,e,t,r,i,s){if(t){var o=mt(e),l=at(e),u=r*t;i==null?(i=e+r*Wi,s=e-u/2):(i=uw(o,i),s=uw(o,s),(r>0?i<s:i>s)&&(i+=r*Wi));for(var h,m=i;r>0?m>s:m<s;m-=u)h=fp([o,-l*mt(m),-l*at(m)]),n.point(h[0],h[1])}}function uw(n,e){e=CA(e),e[0]-=n,cp(e);var t=zB(-e[1]);return((-e[2]<0?-t:t)+Wi-Lt)%Wi}function PI(){var n=[],e;return{point:function(t,r,i){e.push([t,r,i])},lineStart:function(){n.push(e=[])},lineEnd:br,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var t=n;return n=[],e=null,t}}}function dg(n,e){return Yt(n[0]-e[0])<Lt&&Yt(n[1]-e[1])<Lt}function Nd(n,e,t,r){this.x=n,this.z=e,this.o=t,this.e=r,this.v=!1,this.n=this.p=null}function MI(n,e,t,r,i){var s=[],o=[],l,u;if(n.forEach(function(w){if(!((L=w.length-1)<=0)){var L,I=w[0],C=w[L],b;if(dg(I,C)){if(!I[2]&&!C[2]){for(i.lineStart(),l=0;l<L;++l)i.point((I=w[l])[0],I[1]);i.lineEnd();return}C[0]+=2*Lt}s.push(b=new Nd(I,w,null,!0)),o.push(b.o=new Nd(I,null,b,!1)),s.push(b=new Nd(C,w,null,!1)),o.push(b.o=new Nd(C,null,b,!0))}}),!!s.length){for(o.sort(e),fw(s),fw(o),l=0,u=o.length;l<u;++l)o[l].e=t=!t;for(var h=s[0],m,y;;){for(var _=h,T=!0;_.v;)if((_=_.n)===h)return;m=_.z,i.lineStart();do{if(_.v=_.o.v=!0,_.e){if(T)for(l=0,u=m.length;l<u;++l)i.point((y=m[l])[0],y[1]);else r(_.x,_.n.x,1,i);_=_.n}else{if(T)for(m=_.p.z,l=m.length-1;l>=0;--l)i.point((y=m[l])[0],y[1]);else r(_.x,_.p.x,-1,i);_=_.p}_=_.o,m=_.z,T=!T}while(!_.v);i.lineEnd()}}}function fw(n){if(e=n.length){for(var e,t=0,r=n[0],i;++t<e;)r.n=i=n[t],i.p=r,r=i;r.n=i=n[0],i.p=r}}function gy(n){return Yt(n[0])<=Bt?n[0]:$B(n[0])*((Yt(n[0])+Bt)%Wi-Bt)}function OI(n,e){var t=gy(e),r=e[1],i=at(r),s=[at(t),-mt(t),0],o=0,l=0,u=new ll;i===1?r=Ts+Lt:i===-1&&(r=-Ts-Lt);for(var h=0,m=n.length;h<m;++h)if(_=(y=n[h]).length)for(var y,_,T=y[_-1],w=gy(T),L=T[1]/2+ap,I=at(L),C=mt(L),b=0;b<_;++b,w=U,I=$,C=H,T=M){var M=y[b],U=gy(M),B=M[1]/2+ap,$=at(B),H=mt(B),j=U-w,Y=j>=0?1:-1,q=Y*j,X=q>Bt,ge=I*$;if(u.add(Is(ge*Y*at(q),C*H+ge*mt(q))),o+=X?j+Y*Wi:j,X^w>=t^U>=t){var ae=y0(CA(T),CA(M));cp(ae);var xe=y0(s,ae);cp(xe);var ie=(X^j>=0?-1:1)*pl(xe[2]);(r>ie||r===ie&&(ae[0]||ae[1]))&&(l+=X^j>=0?1:-1)}}return(o<-Lt||o<Lt&&u<-lp)^l&1}function FI(n,e,t,r){return function(i){var s=e(i),o=PI(),l=e(o),u=!1,h,m,y,_={point:T,lineStart:L,lineEnd:I,polygonStart:function(){_.point=C,_.lineStart=b,_.lineEnd=M,m=[],h=[]},polygonEnd:function(){_.point=T,_.lineStart=L,_.lineEnd=I,m=xI(m);var U=OI(h,r);m.length?(u||(i.polygonStart(),u=!0),MI(m,rU,U,t,i)):U&&(u||(i.polygonStart(),u=!0),i.lineStart(),t(null,null,1,i),i.lineEnd()),u&&(i.polygonEnd(),u=!1),m=h=null},sphere:function(){i.polygonStart(),i.lineStart(),t(null,null,1,i),i.lineEnd(),i.polygonEnd()}};function T(U,B){n(U,B)&&i.point(U,B)}function w(U,B){s.point(U,B)}function L(){_.point=w,s.lineStart()}function I(){_.point=T,s.lineEnd()}function C(U,B){y.push([U,B]),l.point(U,B)}function b(){l.lineStart(),y=[]}function M(){C(y[0][0],y[0][1]),l.lineEnd();var U=l.clean(),B=o.result(),$,H=B.length,j,Y,q;if(y.pop(),h.push(y),y=null,!!H){if(U&1){if(Y=B[0],(j=Y.length-1)>0){for(u||(i.polygonStart(),u=!0),i.lineStart(),$=0;$<j;++$)i.point((q=Y[$])[0],q[1]);i.lineEnd()}return}H>1&&U&2&&B.push(B.pop().concat(B.shift())),m.push(B.filter(nU))}}return _}}function nU(n){return n.length>1}function rU(n,e){return((n=n.x)[0]<0?n[1]-Ts-Lt:Ts-n[1])-((e=e.x)[0]<0?e[1]-Ts-Lt:Ts-e[1])}const cw=FI(function(){return!0},iU,oU,[-Bt,-Ts]);function iU(n){var e=NaN,t=NaN,r=NaN,i;return{lineStart:function(){n.lineStart(),i=1},point:function(s,o){var l=s>0?Bt:-Bt,u=Yt(s-e);Yt(u-Bt)<Lt?(n.point(e,t=(t+o)/2>0?Ts:-Ts),n.point(r,t),n.lineEnd(),n.lineStart(),n.point(l,t),n.point(s,t),i=0):r!==l&&u>=Bt&&(Yt(e-r)<Lt&&(e-=r*Lt),Yt(s-l)<Lt&&(s-=l*Lt),t=sU(e,t,s,o),n.point(r,t),n.lineEnd(),n.lineStart(),n.point(l,t),i=0),n.point(e=s,t=o),r=l},lineEnd:function(){n.lineEnd(),e=t=NaN},clean:function(){return 2-i}}}function sU(n,e,t,r){var i,s,o=at(n-t);return Yt(o)>Lt?_I((at(e)*(s=mt(r))*at(t)-at(r)*(i=mt(e))*at(n))/(i*s*o)):(e+r)/2}function oU(n,e,t,r){var i;if(n==null)i=t*Ts,r.point(-Bt,i),r.point(0,i),r.point(Bt,i),r.point(Bt,0),r.point(Bt,-i),r.point(0,-i),r.point(-Bt,-i),r.point(-Bt,0),r.point(-Bt,i);else if(Yt(n[0]-e[0])>Lt){var s=n[0]<e[0]?Bt:-Bt;i=t*s/2,r.point(-s,i),r.point(0,i),r.point(s,i)}else r.point(e[0],e[1])}function lU(n){var e=mt(n),t=2*dt,r=e>0,i=Yt(e)>Lt;function s(m,y,_,T){tU(T,n,t,_,m,y)}function o(m,y){return mt(m)*mt(y)>e}function l(m){var y,_,T,w,L;return{lineStart:function(){w=T=!1,L=1},point:function(I,C){var b=[I,C],M,U=o(I,C),B=r?U?0:h(I,C):U?h(I+(I<0?Bt:-Bt),C):0;if(!y&&(w=T=U)&&m.lineStart(),U!==T&&(M=u(y,b),(!M||dg(y,M)||dg(b,M))&&(b[2]=1)),U!==T)L=0,U?(m.lineStart(),M=u(b,y),m.point(M[0],M[1])):(M=u(y,b),m.point(M[0],M[1],2),m.lineEnd()),y=M;else if(i&&y&&r^U){var $;!(B&_)&&($=u(b,y,!0))&&(L=0,r?(m.lineStart(),m.point($[0][0],$[0][1]),m.point($[1][0],$[1][1]),m.lineEnd()):(m.point($[1][0],$[1][1]),m.lineEnd(),m.lineStart(),m.point($[0][0],$[0][1],3)))}U&&(!y||!dg(y,b))&&m.point(b[0],b[1]),y=b,T=U,_=B},lineEnd:function(){T&&m.lineEnd(),y=null},clean:function(){return L|(w&&T)<<1}}}function u(m,y,_){var T=CA(m),w=CA(y),L=[1,0,0],I=y0(T,w),C=Od(I,I),b=I[0],M=C-b*b;if(!M)return!_&&m;var U=e*C/M,B=-e*b/M,$=y0(L,I),H=Fd(L,U),j=Fd(I,B);dy(H,j);var Y=$,q=Od(H,Y),X=Od(Y,Y),ge=q*q-X*(Od(H,H)-1);if(!(ge<0)){var ae=gl(ge),xe=Fd(Y,(-q-ae)/X);if(dy(xe,H),xe=fp(xe),!_)return xe;var ie=m[0],ce=y[0],ke=m[1],re=y[1],se;ce<ie&&(se=ie,ie=ce,ce=se);var fe=ce-ie,Ie=Yt(fe-Bt)<Lt,Ce=Ie||fe<Lt;if(!Ie&&re<ke&&(se=ke,ke=re,re=se),Ce?Ie?ke+re>0^xe[1]<(Yt(xe[0]-ie)<Lt?ke:re):ke<=xe[1]&&xe[1]<=re:fe>Bt^(ie<=xe[0]&&xe[0]<=ce)){var We=Fd(Y,(-q+ae)/X);return dy(We,H),[xe,fp(We)]}}}function h(m,y){var _=r?n:Bt-n,T=0;return m<-_?T|=1:m>_&&(T|=2),y<-_?T|=4:y>_&&(T|=8),T}return FI(o,l,s,r?[0,-n]:[-Bt,n-Bt])}function aU(n,e,t,r,i,s){var o=n[0],l=n[1],u=e[0],h=e[1],m=0,y=1,_=u-o,T=h-l,w;if(w=t-o,!(!_&&w>0)){if(w/=_,_<0){if(w<m)return;w<y&&(y=w)}else if(_>0){if(w>y)return;w>m&&(m=w)}if(w=i-o,!(!_&&w<0)){if(w/=_,_<0){if(w>y)return;w>m&&(m=w)}else if(_>0){if(w<m)return;w<y&&(y=w)}if(w=r-l,!(!T&&w>0)){if(w/=T,T<0){if(w<m)return;w<y&&(y=w)}else if(T>0){if(w>y)return;w>m&&(m=w)}if(w=s-l,!(!T&&w<0)){if(w/=T,T<0){if(w>y)return;w>m&&(m=w)}else if(T>0){if(w<m)return;w<y&&(y=w)}return m>0&&(n[0]=o+m*_,n[1]=l+m*T),y<1&&(e[0]=o+y*_,e[1]=l+y*T),!0}}}}}var Cf=1e9,Bd=-Cf;function AU(n,e,t,r){function i(h,m){return n<=h&&h<=t&&e<=m&&m<=r}function s(h,m,y,_){var T=0,w=0;if(h==null||(T=o(h,y))!==(w=o(m,y))||u(h,m)<0^y>0)do _.point(T===0||T===3?n:t,T>1?r:e);while((T=(T+y+4)%4)!==w);else _.point(m[0],m[1])}function o(h,m){return Yt(h[0]-n)<Lt?m>0?0:3:Yt(h[0]-t)<Lt?m>0?2:1:Yt(h[1]-e)<Lt?m>0?1:0:m>0?3:2}function l(h,m){return u(h.x,m.x)}function u(h,m){var y=o(h,1),_=o(m,1);return y!==_?y-_:y===0?m[1]-h[1]:y===1?h[0]-m[0]:y===2?h[1]-m[1]:m[0]-h[0]}return function(h){var m=h,y=PI(),_,T,w,L,I,C,b,M,U,B,$,H={point:j,lineStart:ge,lineEnd:ae,polygonStart:q,polygonEnd:X};function j(ie,ce){i(ie,ce)&&m.point(ie,ce)}function Y(){for(var ie=0,ce=0,ke=T.length;ce<ke;++ce)for(var re=T[ce],se=1,fe=re.length,Ie=re[0],Ce,We,Xe=Ie[0],At=Ie[1];se<fe;++se)Ce=Xe,We=At,Ie=re[se],Xe=Ie[0],At=Ie[1],We<=r?At>r&&(Xe-Ce)*(r-We)>(At-We)*(n-Ce)&&++ie:At<=r&&(Xe-Ce)*(r-We)<(At-We)*(n-Ce)&&--ie;return ie}function q(){m=y,_=[],T=[],$=!0}function X(){var ie=Y(),ce=$&&ie,ke=(_=xI(_)).length;(ce||ke)&&(h.polygonStart(),ce&&(h.lineStart(),s(null,null,1,h),h.lineEnd()),ke&&MI(_,l,ie,s,h),h.polygonEnd()),m=h,_=T=w=null}function ge(){H.point=xe,T&&T.push(w=[]),B=!0,U=!1,b=M=NaN}function ae(){_&&(xe(L,I),C&&U&&y.rejoin(),_.push(y.result())),H.point=j,U&&m.lineEnd()}function xe(ie,ce){var ke=i(ie,ce);if(T&&w.push([ie,ce]),B)L=ie,I=ce,C=ke,B=!1,ke&&(m.lineStart(),m.point(ie,ce));else if(ke&&U)m.point(ie,ce);else{var re=[b=Math.max(Bd,Math.min(Cf,b)),M=Math.max(Bd,Math.min(Cf,M))],se=[ie=Math.max(Bd,Math.min(Cf,ie)),ce=Math.max(Bd,Math.min(Cf,ce))];aU(re,se,n,e,t,r)?(U||(m.lineStart(),m.point(re[0],re[1])),m.point(se[0],se[1]),ke||m.lineEnd(),$=!1):ke&&(m.lineStart(),m.point(ie,ce),$=!1)}b=ie,M=ce,U=ke}return H}}var dv,gv,gg,pg,v0={sphere:br,point:br,lineStart:uU,lineEnd:br,polygonStart:br,polygonEnd:br};function uU(){v0.point=cU,v0.lineEnd=fU}function fU(){v0.point=v0.lineEnd=br}function cU(n,e){n*=dt,e*=dt,gv=n,gg=at(e),pg=mt(e),v0.point=hU}function hU(n,e){n*=dt,e*=dt;var t=at(e),r=mt(e),i=Yt(n-gv),s=mt(i),o=at(i),l=r*o,u=pg*t-gg*r*s,h=gg*t+pg*r*s;dv.add(Is(gl(l*l+u*u),h)),gv=n,gg=t,pg=r}function dU(n){return dv=new ll,Am(n,v0),+dv}var pv=[null,null],gU={type:"LineString",coordinates:pv};function Tc(n,e){return pv[0]=n,pv[1]=e,dU(gU)}var hw={Feature:function(n,e){return xp(n.geometry,e)},FeatureCollection:function(n,e){for(var t=n.features,r=-1,i=t.length;++r<i;)if(xp(t[r].geometry,e))return!0;return!1}},dw={Sphere:function(){return!0},Point:function(n,e){return gw(n.coordinates,e)},MultiPoint:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)if(gw(t[r],e))return!0;return!1},LineString:function(n,e){return pw(n.coordinates,e)},MultiLineString:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)if(pw(t[r],e))return!0;return!1},Polygon:function(n,e){return mw(n.coordinates,e)},MultiPolygon:function(n,e){for(var t=n.coordinates,r=-1,i=t.length;++r<i;)if(mw(t[r],e))return!0;return!1},GeometryCollection:function(n,e){for(var t=n.geometries,r=-1,i=t.length;++r<i;)if(xp(t[r],e))return!0;return!1}};function xp(n,e){return n&&dw.hasOwnProperty(n.type)?dw[n.type](n,e):!1}function gw(n,e){return Tc(n,e)===0}function pw(n,e){for(var t,r,i,s=0,o=n.length;s<o;s++){if(r=Tc(n[s],e),r===0||s>0&&(i=Tc(n[s],n[s-1]),i>0&&t<=i&&r<=i&&(t+r-i)*(1-Math.pow((t-r)/i,2))<lp*i))return!0;t=r}return!1}function mw(n,e){return!!OI(n.map(pU),NI(e))}function pU(n){return n=n.map(NI),n.pop(),n}function NI(n){return[n[0]*dt,n[1]*dt]}function Dz(n,e){return(n&&hw.hasOwnProperty(n.type)?hw[n.type]:xp)(n,e)}function yw(n,e,t){var r=Bu(n,e-Lt,t).concat(e);return function(i){return r.map(function(s){return[i,s]})}}function vw(n,e,t){var r=Bu(n,e-Lt,t).concat(e);return function(i){return r.map(function(s){return[s,i]})}}function mU(){var n,e,t,r,i,s,o,l,u=10,h=u,m=90,y=360,_,T,w,L,I=2.5;function C(){return{type:"MultiLineString",coordinates:b()}}function b(){return Bu(Md(r/m)*m,t,m).map(w).concat(Bu(Md(l/y)*y,o,y).map(L)).concat(Bu(Md(e/u)*u,n,u).filter(function(M){return Yt(M%m)>Lt}).map(_)).concat(Bu(Md(s/h)*h,i,h).filter(function(M){return Yt(M%y)>Lt}).map(T))}return C.lines=function(){return b().map(function(M){return{type:"LineString",coordinates:M}})},C.outline=function(){return{type:"Polygon",coordinates:[w(r).concat(L(o).slice(1),w(t).reverse().slice(1),L(l).reverse().slice(1))]}},C.extent=function(M){return arguments.length?C.extentMajor(M).extentMinor(M):C.extentMinor()},C.extentMajor=function(M){return arguments.length?(r=+M[0][0],t=+M[1][0],l=+M[0][1],o=+M[1][1],r>t&&(M=r,r=t,t=M),l>o&&(M=l,l=o,o=M),C.precision(I)):[[r,l],[t,o]]},C.extentMinor=function(M){return arguments.length?(e=+M[0][0],n=+M[1][0],s=+M[0][1],i=+M[1][1],e>n&&(M=e,e=n,n=M),s>i&&(M=s,s=i,i=M),C.precision(I)):[[e,s],[n,i]]},C.step=function(M){return arguments.length?C.stepMajor(M).stepMinor(M):C.stepMinor()},C.stepMajor=function(M){return arguments.length?(m=+M[0],y=+M[1],C):[m,y]},C.stepMinor=function(M){return arguments.length?(u=+M[0],h=+M[1],C):[u,h]},C.precision=function(M){return arguments.length?(I=+M,_=yw(s,i,90),T=vw(e,n,I),w=yw(l,o,90),L=vw(r,t,I),C):I},C.extentMajor([[-180,-90+Lt],[180,90-Lt]]).extentMinor([[-180,-80-Lt],[180,80+Lt]])}function bz(){return mU()()}function Pz(n,e){var t=n[0]*dt,r=n[1]*dt,i=e[0]*dt,s=e[1]*dt,o=mt(r),l=at(r),u=mt(s),h=at(s),m=o*mt(t),y=o*at(t),_=u*mt(i),T=u*at(i),w=2*pl(gl(qT(s-r)+o*u*qT(i-t))),L=at(w),I=w?function(C){var b=at(C*=w)/L,M=at(w-C)/L,U=M*m+b*_,B=M*y+b*T,$=M*l+b*h;return[Is(B,U)*Ln,Is($,gl(U*U+B*B))*Ln]}:function(){return[t*Ln,r*Ln]};return I.distance=w,I}const xw=n=>n;var x0=1/0,_p=x0,wc=-x0,Ep=wc,_w={point:yU,lineStart:br,lineEnd:br,polygonStart:br,polygonEnd:br,result:function(){var n=[[x0,_p],[wc,Ep]];return wc=Ep=-(_p=x0=1/0),n}};function yU(n,e){n<x0&&(x0=n),n>wc&&(wc=n),e<_p&&(_p=e),e>Ep&&(Ep=e)}function u_(n){return function(e){var t=new mv;for(var r in n)t[r]=n[r];return t.stream=e,t}}function mv(){}mv.prototype={constructor:mv,point:function(n,e){this.stream.point(n,e)},sphere:function(){this.stream.sphere()},lineStart:function(){this.stream.lineStart()},lineEnd:function(){this.stream.lineEnd()},polygonStart:function(){this.stream.polygonStart()},polygonEnd:function(){this.stream.polygonEnd()}};function f_(n,e,t){var r=n.clipExtent&&n.clipExtent();return n.scale(150).translate([0,0]),r!=null&&n.clipExtent(null),Am(t,n.stream(_w)),e(_w.result()),r!=null&&n.clipExtent(r),n}function BI(n,e,t){return f_(n,function(r){var i=e[1][0]-e[0][0],s=e[1][1]-e[0][1],o=Math.min(i/(r[1][0]-r[0][0]),s/(r[1][1]-r[0][1])),l=+e[0][0]+(i-o*(r[1][0]+r[0][0]))/2,u=+e[0][1]+(s-o*(r[1][1]+r[0][1]))/2;n.scale(150*o).translate([l,u])},t)}function vU(n,e,t){return BI(n,[[0,0],e],t)}function xU(n,e,t){return f_(n,function(r){var i=+e,s=i/(r[1][0]-r[0][0]),o=(i-s*(r[1][0]+r[0][0]))/2,l=-s*r[0][1];n.scale(150*s).translate([o,l])},t)}function _U(n,e,t){return f_(n,function(r){var i=+e,s=i/(r[1][1]-r[0][1]),o=-s*r[0][0],l=(i-s*(r[1][1]+r[0][1]))/2;n.scale(150*s).translate([o,l])},t)}var Ew=16,EU=mt(30*dt);function Sw(n,e){return+e?TU(n,e):SU(n)}function SU(n){return u_({point:function(e,t){e=n(e,t),this.stream.point(e[0],e[1])}})}function TU(n,e){function t(r,i,s,o,l,u,h,m,y,_,T,w,L,I){var C=h-r,b=m-i,M=C*C+b*b;if(M>4*e&&L--){var U=o+_,B=l+T,$=u+w,H=gl(U*U+B*B+$*$),j=pl($/=H),Y=Yt(Yt($)-1)<Lt||Yt(s-y)<Lt?(s+y)/2:Is(B,U),q=n(Y,j),X=q[0],ge=q[1],ae=X-r,xe=ge-i,ie=b*ae-C*xe;(ie*ie/M>e||Yt((C*ae+b*xe)/M-.5)>.3||o*_+l*T+u*w<EU)&&(t(r,i,s,o,l,u,X,ge,Y,U/=H,B/=H,$,L,I),I.point(X,ge),t(X,ge,Y,U,B,$,h,m,y,_,T,w,L,I))}}return function(r){var i,s,o,l,u,h,m,y,_,T,w,L,I={point:C,lineStart:b,lineEnd:U,polygonStart:function(){r.polygonStart(),I.lineStart=B},polygonEnd:function(){r.polygonEnd(),I.lineStart=b}};function C(j,Y){j=n(j,Y),r.point(j[0],j[1])}function b(){y=NaN,I.point=M,r.lineStart()}function M(j,Y){var q=CA([j,Y]),X=n(j,Y);t(y,_,m,T,w,L,y=X[0],_=X[1],m=j,T=q[0],w=q[1],L=q[2],Ew,r),r.point(y,_)}function U(){I.point=C,r.lineEnd()}function B(){b(),I.point=$,I.lineEnd=H}function $(j,Y){M(i=j,Y),s=y,o=_,l=T,u=w,h=L,I.point=M}function H(){t(y,_,m,T,w,L,s,o,i,l,u,h,Ew,r),I.lineEnd=U,U()}return I}}var wU=u_({point:function(n,e){this.stream.point(n*dt,e*dt)}});function kU(n){return u_({point:function(e,t){var r=n(e,t);return this.stream.point(r[0],r[1])}})}function LU(n,e,t,r,i){function s(o,l){return o*=r,l*=i,[e+n*o,t-n*l]}return s.invert=function(o,l){return[(o-e)/n*r,(t-l)/n*i]},s}function Tw(n,e,t,r,i,s){if(!s)return LU(n,e,t,r,i);var o=mt(s),l=at(s),u=o*n,h=l*n,m=o/n,y=l/n,_=(l*t-o*e)/n,T=(l*e+o*t)/n;function w(L,I){return L*=r,I*=i,[u*L-h*I+e,t-h*L-u*I]}return w.invert=function(L,I){return[r*(m*L-y*I+_),i*(T-y*L-m*I)]},w}function RU(n){return CU(function(){return n})()}function CU(n){var e,t=150,r=480,i=250,s=0,o=0,l=0,u=0,h=0,m,y=0,_=1,T=1,w=null,L=cw,I=null,C,b,M,U=xw,B=.5,$,H,j,Y,q;function X(ie){return j(ie[0]*dt,ie[1]*dt)}function ge(ie){return ie=j.invert(ie[0],ie[1]),ie&&[ie[0]*Ln,ie[1]*Ln]}X.stream=function(ie){return Y&&q===ie?Y:Y=wU(kU(m)(L($(U(q=ie)))))},X.preclip=function(ie){return arguments.length?(L=ie,w=void 0,xe()):L},X.postclip=function(ie){return arguments.length?(U=ie,I=C=b=M=null,xe()):U},X.clipAngle=function(ie){return arguments.length?(L=+ie?lU(w=ie*dt):(w=null,cw),xe()):w*Ln},X.clipExtent=function(ie){return arguments.length?(U=ie==null?(I=C=b=M=null,xw):AU(I=+ie[0][0],C=+ie[0][1],b=+ie[1][0],M=+ie[1][1]),xe()):I==null?null:[[I,C],[b,M]]},X.scale=function(ie){return arguments.length?(t=+ie,ae()):t},X.translate=function(ie){return arguments.length?(r=+ie[0],i=+ie[1],ae()):[r,i]},X.center=function(ie){return arguments.length?(s=ie[0]%360*dt,o=ie[1]%360*dt,ae()):[s*Ln,o*Ln]},X.rotate=function(ie){return arguments.length?(l=ie[0]%360*dt,u=ie[1]%360*dt,h=ie.length>2?ie[2]%360*dt:0,ae()):[l*Ln,u*Ln,h*Ln]},X.angle=function(ie){return arguments.length?(y=ie%360*dt,ae()):y*Ln},X.reflectX=function(ie){return arguments.length?(_=ie?-1:1,ae()):_<0},X.reflectY=function(ie){return arguments.length?(T=ie?-1:1,ae()):T<0},X.precision=function(ie){return arguments.length?($=Sw(H,B=ie*ie),xe()):gl(B)},X.fitExtent=function(ie,ce){return BI(X,ie,ce)},X.fitSize=function(ie,ce){return vU(X,ie,ce)},X.fitWidth=function(ie,ce){return xU(X,ie,ce)},X.fitHeight=function(ie,ce){return _U(X,ie,ce)};function ae(){var ie=Tw(t,0,0,_,T,y).apply(null,e(s,o)),ce=Tw(t,r-ie[0],i-ie[1],_,T,y);return m=bI(l,u,h),H=cv(e,ce),j=cv(m,H),$=Sw(H,B),xe()}function xe(){return Y=q=null,X}return function(){return e=n.apply(this,arguments),X.invert=e.invert&&ge,ae()}}function IU(n){return function(e,t){var r=gl(e*e+t*t),i=n(r),s=at(i),o=mt(i);return[Is(e*s,r*o),pl(r&&t*s/r)]}}function UI(n,e){var t=mt(e),r=1+mt(n)*t;return[t*at(n)/r,at(e)/r]}UI.invert=IU(function(n){return 2*_I(n)});function DU(){return RU(UI).scale(250).clipAngle(142)}var bU=function(n){return typeof n=="function"?n:typeof n=="string"?function(e){return e[n]}:function(e){return n}};function c_(n,e,t){n.prototype=e.prototype=t,t.constructor=n}function GI(n,e){var t=Object.create(n.prototype);for(var r in e)t[r]=e[r];return t}function $c(){}var kc=.7,Sp=1/kc,t0="\\s*([+-]?\\d+)\\s*",Lc="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",wo="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",PU=/^#([0-9a-f]{3,8})$/,MU=new RegExp(`^rgb\\(${t0},${t0},${t0}\\)$`),OU=new RegExp(`^rgb\\(${wo},${wo},${wo}\\)$`),FU=new RegExp(`^rgba\\(${t0},${t0},${t0},${Lc}\\)$`),NU=new RegExp(`^rgba\\(${wo},${wo},${wo},${Lc}\\)$`),BU=new RegExp(`^hsl\\(${Lc},${wo},${wo}\\)$`),UU=new RegExp(`^hsla\\(${Lc},${wo},${wo},${Lc}\\)$`),ww={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};c_($c,Rc,{copy(n){return Object.assign(new this.constructor,this,n)},displayable(){return this.rgb().displayable()},hex:kw,formatHex:kw,formatHex8:GU,formatHsl:$U,formatRgb:Lw,toString:Lw});function kw(){return this.rgb().formatHex()}function GU(){return this.rgb().formatHex8()}function $U(){return $I(this).formatHsl()}function Lw(){return this.rgb().formatRgb()}function Rc(n){var e,t;return n=(n+"").trim().toLowerCase(),(e=PU.exec(n))?(t=e[1].length,e=parseInt(e[1],16),t===6?Rw(e):t===3?new gi(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):t===8?Ud(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):t===4?Ud(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=MU.exec(n))?new gi(e[1],e[2],e[3],1):(e=OU.exec(n))?new gi(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=FU.exec(n))?Ud(e[1],e[2],e[3],e[4]):(e=NU.exec(n))?Ud(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=BU.exec(n))?Dw(e[1],e[2]/100,e[3]/100,1):(e=UU.exec(n))?Dw(e[1],e[2]/100,e[3]/100,e[4]):ww.hasOwnProperty(n)?Rw(ww[n]):n==="transparent"?new gi(NaN,NaN,NaN,0):null}function Rw(n){return new gi(n>>16&255,n>>8&255,n&255,1)}function Ud(n,e,t,r){return r<=0&&(n=e=t=NaN),new gi(n,e,t,r)}function zU(n){return n instanceof $c||(n=Rc(n)),n?(n=n.rgb(),new gi(n.r,n.g,n.b,n.opacity)):new gi}function yv(n,e,t,r){return arguments.length===1?zU(n):new gi(n,e,t,r??1)}function gi(n,e,t,r){this.r=+n,this.g=+e,this.b=+t,this.opacity=+r}c_(gi,yv,GI($c,{brighter(n){return n=n==null?Sp:Math.pow(Sp,n),new gi(this.r*n,this.g*n,this.b*n,this.opacity)},darker(n){return n=n==null?kc:Math.pow(kc,n),new gi(this.r*n,this.g*n,this.b*n,this.opacity)},rgb(){return this},clamp(){return new gi(vA(this.r),vA(this.g),vA(this.b),Tp(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Cw,formatHex:Cw,formatHex8:HU,formatRgb:Iw,toString:Iw}));function Cw(){return`#${AA(this.r)}${AA(this.g)}${AA(this.b)}`}function HU(){return`#${AA(this.r)}${AA(this.g)}${AA(this.b)}${AA((isNaN(this.opacity)?1:this.opacity)*255)}`}function Iw(){const n=Tp(this.opacity);return`${n===1?"rgb(":"rgba("}${vA(this.r)}, ${vA(this.g)}, ${vA(this.b)}${n===1?")":`, ${n})`}`}function Tp(n){return isNaN(n)?1:Math.max(0,Math.min(1,n))}function vA(n){return Math.max(0,Math.min(255,Math.round(n)||0))}function AA(n){return n=vA(n),(n<16?"0":"")+n.toString(16)}function Dw(n,e,t,r){return r<=0?n=e=t=NaN:t<=0||t>=1?n=e=NaN:e<=0&&(n=NaN),new Ks(n,e,t,r)}function $I(n){if(n instanceof Ks)return new Ks(n.h,n.s,n.l,n.opacity);if(n instanceof $c||(n=Rc(n)),!n)return new Ks;if(n instanceof Ks)return n;n=n.rgb();var e=n.r/255,t=n.g/255,r=n.b/255,i=Math.min(e,t,r),s=Math.max(e,t,r),o=NaN,l=s-i,u=(s+i)/2;return l?(e===s?o=(t-r)/l+(t<r)*6:t===s?o=(r-e)/l+2:o=(e-t)/l+4,l/=u<.5?s+i:2-s-i,o*=60):l=u>0&&u<1?0:o,new Ks(o,l,u,n.opacity)}function jU(n,e,t,r){return arguments.length===1?$I(n):new Ks(n,e,t,r??1)}function Ks(n,e,t,r){this.h=+n,this.s=+e,this.l=+t,this.opacity=+r}c_(Ks,jU,GI($c,{brighter(n){return n=n==null?Sp:Math.pow(Sp,n),new Ks(this.h,this.s,this.l*n,this.opacity)},darker(n){return n=n==null?kc:Math.pow(kc,n),new Ks(this.h,this.s,this.l*n,this.opacity)},rgb(){var n=this.h%360+(this.h<0)*360,e=isNaN(n)||isNaN(this.s)?0:this.s,t=this.l,r=t+(t<.5?t:1-t)*e,i=2*t-r;return new gi(py(n>=240?n-240:n+120,i,r),py(n,i,r),py(n<120?n+240:n-120,i,r),this.opacity)},clamp(){return new Ks(bw(this.h),Gd(this.s),Gd(this.l),Tp(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const n=Tp(this.opacity);return`${n===1?"hsl(":"hsla("}${bw(this.h)}, ${Gd(this.s)*100}%, ${Gd(this.l)*100}%${n===1?")":`, ${n})`}`}}));function bw(n){return n=(n||0)%360,n<0?n+360:n}function Gd(n){return Math.max(0,Math.min(1,n||0))}function py(n,e,t){return(n<60?e+(t-e)*n/60:n<180?t:n<240?e+(t-e)*(240-n)/60:e)*255}function wp(n){"@babel/helpers - typeof";return wp=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},wp(n)}var VU=/^\s+/,QU=/\s+$/;function Ze(n,e){if(n=n||"",e=e||{},n instanceof Ze)return n;if(!(this instanceof Ze))return new Ze(n,e);var t=KU(n);this._originalInput=n,this._r=t.r,this._g=t.g,this._b=t.b,this._a=t.a,this._roundA=Math.round(100*this._a)/100,this._format=e.format||t.format,this._gradientType=e.gradientType,this._r<1&&(this._r=Math.round(this._r)),this._g<1&&(this._g=Math.round(this._g)),this._b<1&&(this._b=Math.round(this._b)),this._ok=t.ok}Ze.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var e=this.toRgb();return(e.r*299+e.g*587+e.b*114)/1e3},getLuminance:function(){var e=this.toRgb(),t,r,i,s,o,l;return t=e.r/255,r=e.g/255,i=e.b/255,t<=.03928?s=t/12.92:s=Math.pow((t+.055)/1.055,2.4),r<=.03928?o=r/12.92:o=Math.pow((r+.055)/1.055,2.4),i<=.03928?l=i/12.92:l=Math.pow((i+.055)/1.055,2.4),.2126*s+.7152*o+.0722*l},setAlpha:function(e){return this._a=zI(e),this._roundA=Math.round(100*this._a)/100,this},toHsv:function(){var e=Mw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,v:e.v,a:this._a}},toHsvString:function(){var e=Mw(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.v*100);return this._a==1?"hsv("+t+", "+r+"%, "+i+"%)":"hsva("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHsl:function(){var e=Pw(this._r,this._g,this._b);return{h:e.h*360,s:e.s,l:e.l,a:this._a}},toHslString:function(){var e=Pw(this._r,this._g,this._b),t=Math.round(e.h*360),r=Math.round(e.s*100),i=Math.round(e.l*100);return this._a==1?"hsl("+t+", "+r+"%, "+i+"%)":"hsla("+t+", "+r+"%, "+i+"%, "+this._roundA+")"},toHex:function(e){return Ow(this._r,this._g,this._b,e)},toHexString:function(e){return"#"+this.toHex(e)},toHex8:function(e){return XU(this._r,this._g,this._b,this._a,e)},toHex8String:function(e){return"#"+this.toHex8(e)},toRgb:function(){return{r:Math.round(this._r),g:Math.round(this._g),b:Math.round(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+")":"rgba("+Math.round(this._r)+", "+Math.round(this._g)+", "+Math.round(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:Math.round(cn(this._r,255)*100)+"%",g:Math.round(cn(this._g,255)*100)+"%",b:Math.round(cn(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+Math.round(cn(this._r,255)*100)+"%, "+Math.round(cn(this._g,255)*100)+"%, "+Math.round(cn(this._b,255)*100)+"%)":"rgba("+Math.round(cn(this._r,255)*100)+"%, "+Math.round(cn(this._g,255)*100)+"%, "+Math.round(cn(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:A7[Ow(this._r,this._g,this._b,!0)]||!1},toFilter:function(e){var t="#"+Fw(this._r,this._g,this._b,this._a),r=t,i=this._gradientType?"GradientType = 1, ":"";if(e){var s=Ze(e);r="#"+Fw(s._r,s._g,s._b,s._a)}return"progid:DXImageTransform.Microsoft.gradient("+i+"startColorstr="+t+",endColorstr="+r+")"},toString:function(e){var t=!!e;e=e||this._format;var r=!1,i=this._a<1&&this._a>=0,s=!t&&i&&(e==="hex"||e==="hex6"||e==="hex3"||e==="hex4"||e==="hex8"||e==="name");return s?e==="name"&&this._a===0?this.toName():this.toRgbString():(e==="rgb"&&(r=this.toRgbString()),e==="prgb"&&(r=this.toPercentageRgbString()),(e==="hex"||e==="hex6")&&(r=this.toHexString()),e==="hex3"&&(r=this.toHexString(!0)),e==="hex4"&&(r=this.toHex8String(!0)),e==="hex8"&&(r=this.toHex8String()),e==="name"&&(r=this.toName()),e==="hsl"&&(r=this.toHslString()),e==="hsv"&&(r=this.toHsvString()),r||this.toHexString())},clone:function(){return Ze(this.toString())},_applyModification:function(e,t){var r=e.apply(null,[this].concat([].slice.call(t)));return this._r=r._r,this._g=r._g,this._b=r._b,this.setAlpha(r._a),this},lighten:function(){return this._applyModification(t7,arguments)},brighten:function(){return this._applyModification(n7,arguments)},darken:function(){return this._applyModification(r7,arguments)},desaturate:function(){return this._applyModification(ZU,arguments)},saturate:function(){return this._applyModification(JU,arguments)},greyscale:function(){return this._applyModification(e7,arguments)},spin:function(){return this._applyModification(i7,arguments)},_applyCombination:function(e,t){return e.apply(null,[this].concat([].slice.call(t)))},analogous:function(){return this._applyCombination(l7,arguments)},complement:function(){return this._applyCombination(s7,arguments)},monochromatic:function(){return this._applyCombination(a7,arguments)},splitcomplement:function(){return this._applyCombination(o7,arguments)},triad:function(){return this._applyCombination(Nw,[3])},tetrad:function(){return this._applyCombination(Nw,[4])}};Ze.fromRatio=function(n,e){if(wp(n)=="object"){var t={};for(var r in n)n.hasOwnProperty(r)&&(r==="a"?t[r]=n[r]:t[r]=If(n[r]));n=t}return Ze(n,e)};function KU(n){var e={r:0,g:0,b:0},t=1,r=null,i=null,s=null,o=!1,l=!1;return typeof n=="string"&&(n=h7(n)),wp(n)=="object"&&(Yo(n.r)&&Yo(n.g)&&Yo(n.b)?(e=WU(n.r,n.g,n.b),o=!0,l=String(n.r).substr(-1)==="%"?"prgb":"rgb"):Yo(n.h)&&Yo(n.s)&&Yo(n.v)?(r=If(n.s),i=If(n.v),e=qU(n.h,r,i),o=!0,l="hsv"):Yo(n.h)&&Yo(n.s)&&Yo(n.l)&&(r=If(n.s),s=If(n.l),e=YU(n.h,r,s),o=!0,l="hsl"),n.hasOwnProperty("a")&&(t=n.a)),t=zI(t),{ok:o,format:n.format||l,r:Math.min(255,Math.max(e.r,0)),g:Math.min(255,Math.max(e.g,0)),b:Math.min(255,Math.max(e.b,0)),a:t}}function WU(n,e,t){return{r:cn(n,255)*255,g:cn(e,255)*255,b:cn(t,255)*255}}function Pw(n,e,t){n=cn(n,255),e=cn(e,255),t=cn(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s,o,l=(r+i)/2;if(r==i)s=o=0;else{var u=r-i;switch(o=l>.5?u/(2-r-i):u/(r+i),r){case n:s=(e-t)/u+(e<t?6:0);break;case e:s=(t-n)/u+2;break;case t:s=(n-e)/u+4;break}s/=6}return{h:s,s:o,l}}function YU(n,e,t){var r,i,s;n=cn(n,360),e=cn(e,100),t=cn(t,100);function o(h,m,y){return y<0&&(y+=1),y>1&&(y-=1),y<1/6?h+(m-h)*6*y:y<1/2?m:y<2/3?h+(m-h)*(2/3-y)*6:h}if(e===0)r=i=s=t;else{var l=t<.5?t*(1+e):t+e-t*e,u=2*t-l;r=o(u,l,n+1/3),i=o(u,l,n),s=o(u,l,n-1/3)}return{r:r*255,g:i*255,b:s*255}}function Mw(n,e,t){n=cn(n,255),e=cn(e,255),t=cn(t,255);var r=Math.max(n,e,t),i=Math.min(n,e,t),s,o,l=r,u=r-i;if(o=r===0?0:u/r,r==i)s=0;else{switch(r){case n:s=(e-t)/u+(e<t?6:0);break;case e:s=(t-n)/u+2;break;case t:s=(n-e)/u+4;break}s/=6}return{h:s,s:o,v:l}}function qU(n,e,t){n=cn(n,360)*6,e=cn(e,100),t=cn(t,100);var r=Math.floor(n),i=n-r,s=t*(1-e),o=t*(1-i*e),l=t*(1-(1-i)*e),u=r%6,h=[t,o,s,s,l,t][u],m=[l,t,t,o,s,s][u],y=[s,s,l,t,t,o][u];return{r:h*255,g:m*255,b:y*255}}function Ow(n,e,t,r){var i=[Ys(Math.round(n).toString(16)),Ys(Math.round(e).toString(16)),Ys(Math.round(t).toString(16))];return r&&i[0].charAt(0)==i[0].charAt(1)&&i[1].charAt(0)==i[1].charAt(1)&&i[2].charAt(0)==i[2].charAt(1)?i[0].charAt(0)+i[1].charAt(0)+i[2].charAt(0):i.join("")}function XU(n,e,t,r,i){var s=[Ys(Math.round(n).toString(16)),Ys(Math.round(e).toString(16)),Ys(Math.round(t).toString(16)),Ys(HI(r))];return i&&s[0].charAt(0)==s[0].charAt(1)&&s[1].charAt(0)==s[1].charAt(1)&&s[2].charAt(0)==s[2].charAt(1)&&s[3].charAt(0)==s[3].charAt(1)?s[0].charAt(0)+s[1].charAt(0)+s[2].charAt(0)+s[3].charAt(0):s.join("")}function Fw(n,e,t,r){var i=[Ys(HI(r)),Ys(Math.round(n).toString(16)),Ys(Math.round(e).toString(16)),Ys(Math.round(t).toString(16))];return i.join("")}Ze.equals=function(n,e){return!n||!e?!1:Ze(n).toRgbString()==Ze(e).toRgbString()};Ze.random=function(){return Ze.fromRatio({r:Math.random(),g:Math.random(),b:Math.random()})};function ZU(n,e){e=e===0?0:e||10;var t=Ze(n).toHsl();return t.s-=e/100,t.s=um(t.s),Ze(t)}function JU(n,e){e=e===0?0:e||10;var t=Ze(n).toHsl();return t.s+=e/100,t.s=um(t.s),Ze(t)}function e7(n){return Ze(n).desaturate(100)}function t7(n,e){e=e===0?0:e||10;var t=Ze(n).toHsl();return t.l+=e/100,t.l=um(t.l),Ze(t)}function n7(n,e){e=e===0?0:e||10;var t=Ze(n).toRgb();return t.r=Math.max(0,Math.min(255,t.r-Math.round(255*-(e/100)))),t.g=Math.max(0,Math.min(255,t.g-Math.round(255*-(e/100)))),t.b=Math.max(0,Math.min(255,t.b-Math.round(255*-(e/100)))),Ze(t)}function r7(n,e){e=e===0?0:e||10;var t=Ze(n).toHsl();return t.l-=e/100,t.l=um(t.l),Ze(t)}function i7(n,e){var t=Ze(n).toHsl(),r=(t.h+e)%360;return t.h=r<0?360+r:r,Ze(t)}function s7(n){var e=Ze(n).toHsl();return e.h=(e.h+180)%360,Ze(e)}function Nw(n,e){if(isNaN(e)||e<=0)throw new Error("Argument to polyad must be a positive number");for(var t=Ze(n).toHsl(),r=[Ze(n)],i=360/e,s=1;s<e;s++)r.push(Ze({h:(t.h+s*i)%360,s:t.s,l:t.l}));return r}function o7(n){var e=Ze(n).toHsl(),t=e.h;return[Ze(n),Ze({h:(t+72)%360,s:e.s,l:e.l}),Ze({h:(t+216)%360,s:e.s,l:e.l})]}function l7(n,e,t){e=e||6,t=t||30;var r=Ze(n).toHsl(),i=360/t,s=[Ze(n)];for(r.h=(r.h-(i*e>>1)+720)%360;--e;)r.h=(r.h+i)%360,s.push(Ze(r));return s}function a7(n,e){e=e||6;for(var t=Ze(n).toHsv(),r=t.h,i=t.s,s=t.v,o=[],l=1/e;e--;)o.push(Ze({h:r,s:i,v:s})),s=(s+l)%1;return o}Ze.mix=function(n,e,t){t=t===0?0:t||50;var r=Ze(n).toRgb(),i=Ze(e).toRgb(),s=t/100,o={r:(i.r-r.r)*s+r.r,g:(i.g-r.g)*s+r.g,b:(i.b-r.b)*s+r.b,a:(i.a-r.a)*s+r.a};return Ze(o)};Ze.readability=function(n,e){var t=Ze(n),r=Ze(e);return(Math.max(t.getLuminance(),r.getLuminance())+.05)/(Math.min(t.getLuminance(),r.getLuminance())+.05)};Ze.isReadable=function(n,e,t){var r=Ze.readability(n,e),i,s;switch(s=!1,i=d7(t),i.level+i.size){case"AAsmall":case"AAAlarge":s=r>=4.5;break;case"AAlarge":s=r>=3;break;case"AAAsmall":s=r>=7;break}return s};Ze.mostReadable=function(n,e,t){var r=null,i=0,s,o,l,u;t=t||{},o=t.includeFallbackColors,l=t.level,u=t.size;for(var h=0;h<e.length;h++)s=Ze.readability(n,e[h]),s>i&&(i=s,r=Ze(e[h]));return Ze.isReadable(n,r,{level:l,size:u})||!o?r:(t.includeFallbackColors=!1,Ze.mostReadable(n,["#fff","#000"],t))};var vv=Ze.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},A7=Ze.hexNames=u7(vv);function u7(n){var e={};for(var t in n)n.hasOwnProperty(t)&&(e[n[t]]=t);return e}function zI(n){return n=parseFloat(n),(isNaN(n)||n<0||n>1)&&(n=1),n}function cn(n,e){f7(n)&&(n="100%");var t=c7(n);return n=Math.min(e,Math.max(0,parseFloat(n))),t&&(n=parseInt(n*e,10)/100),Math.abs(n-e)<1e-6?1:n%e/parseFloat(e)}function um(n){return Math.min(1,Math.max(0,n))}function Oi(n){return parseInt(n,16)}function f7(n){return typeof n=="string"&&n.indexOf(".")!=-1&&parseFloat(n)===1}function c7(n){return typeof n=="string"&&n.indexOf("%")!=-1}function Ys(n){return n.length==1?"0"+n:""+n}function If(n){return n<=1&&(n=n*100+"%"),n}function HI(n){return Math.round(parseFloat(n)*255).toString(16)}function Bw(n){return Oi(n)/255}var zs=function(){var n="[-\\+]?\\d+%?",e="[-\\+]?\\d*\\.\\d+%?",t="(?:"+e+")|(?:"+n+")",r="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?",i="[\\s|\\(]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")[,|\\s]+("+t+")\\s*\\)?";return{CSS_UNIT:new RegExp(t),rgb:new RegExp("rgb"+r),rgba:new RegExp("rgba"+i),hsl:new RegExp("hsl"+r),hsla:new RegExp("hsla"+i),hsv:new RegExp("hsv"+r),hsva:new RegExp("hsva"+i),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function Yo(n){return!!zs.CSS_UNIT.exec(n)}function h7(n){n=n.replace(VU,"").replace(QU,"").toLowerCase();var e=!1;if(vv[n])n=vv[n],e=!0;else if(n=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var t;return(t=zs.rgb.exec(n))?{r:t[1],g:t[2],b:t[3]}:(t=zs.rgba.exec(n))?{r:t[1],g:t[2],b:t[3],a:t[4]}:(t=zs.hsl.exec(n))?{h:t[1],s:t[2],l:t[3]}:(t=zs.hsla.exec(n))?{h:t[1],s:t[2],l:t[3],a:t[4]}:(t=zs.hsv.exec(n))?{h:t[1],s:t[2],v:t[3]}:(t=zs.hsva.exec(n))?{h:t[1],s:t[2],v:t[3],a:t[4]}:(t=zs.hex8.exec(n))?{r:Oi(t[1]),g:Oi(t[2]),b:Oi(t[3]),a:Bw(t[4]),format:e?"name":"hex8"}:(t=zs.hex6.exec(n))?{r:Oi(t[1]),g:Oi(t[2]),b:Oi(t[3]),format:e?"name":"hex"}:(t=zs.hex4.exec(n))?{r:Oi(t[1]+""+t[1]),g:Oi(t[2]+""+t[2]),b:Oi(t[3]+""+t[3]),a:Bw(t[4]+""+t[4]),format:e?"name":"hex8"}:(t=zs.hex3.exec(n))?{r:Oi(t[1]+""+t[1]),g:Oi(t[2]+""+t[2]),b:Oi(t[3]+""+t[3]),format:e?"name":"hex"}:!1}function d7(n){var e,t;return n=n||{level:"AA",size:"small"},e=(n.level||"AA").toUpperCase(),t=(n.size||"small").toLowerCase(),e!=="AA"&&e!=="AAA"&&(e="AA"),t!=="small"&&t!=="large"&&(t="small"),{level:e,size:t}}function xv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function g7(n){if(Array.isArray(n))return n}function p7(n){if(Array.isArray(n))return xv(n)}function m7(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function y7(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,l=[],u=!0,h=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(u=(r=s.call(t)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(m){h=!0,i=m}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function v7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function x7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function _7(n,e){if(n==null)return{};var t,r,i=E7(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function E7(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function S7(n,e){return g7(n)||y7(n,e)||jI(n,e)||v7()}function T7(n){return p7(n)||m7(n)||jI(n)||x7()}function w7(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e);if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(n)}function k7(n){var e=w7(n,"string");return typeof e=="symbol"?e:e+""}function jI(n,e){if(n){if(typeof n=="string")return xv(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?xv(n,e):void 0}}var Uw=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,r=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,i=(e instanceof Array?e.length?e:[void 0]:[e]).map(function(l){return{keyAccessor:l,isProp:!(l instanceof Function)}}),s=n.reduce(function(l,u){var h=l,m=u;return i.forEach(function(y,_){var T=y.keyAccessor,w=y.isProp,L;if(w){var I=m,C=I[T],b=_7(I,[T].map(k7));L=C,m=b}else L=T(m,_);_+1<i.length?(h.hasOwnProperty(L)||(h[L]={}),h=h[L]):t?(h.hasOwnProperty(L)||(h[L]=[]),h[L].push(m)):h[L]=m}),l},{});t instanceof Function&&function l(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;h===i.length?Object.keys(u).forEach(function(m){return u[m]=t(u[m])}):Object.values(u).forEach(function(m){return l(m,h+1)})}(s);var o=s;return r&&(o=[],function l(u){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];h.length===i.length?o.push({keys:h,vals:u}):Object.entries(u).forEach(function(m){var y=S7(m,2),_=y[0],T=y[1];return l(T,[].concat(T7(h),[_]))})}(s),e instanceof Array&&e.length===0&&o.length===1&&(o[0].keys=[])),o};function L7(n,e){var t=n==null?null:typeof Symbol<"u"&&n[Symbol.iterator]||n["@@iterator"];if(t!=null){var r,i,s,o,l=[],u=!0,h=!1;try{if(s=(t=t.call(n)).next,e!==0)for(;!(u=(r=s.call(t)).done)&&(l.push(r.value),l.length!==e);u=!0);}catch(m){h=!0,i=m}finally{try{if(!u&&t.return!=null&&(o=t.return(),Object(o)!==o))return}finally{if(h)throw i}}return l}}function Gw(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function R7(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Gw(Object(t),!0).forEach(function(r){VI(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Gw(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function VI(n,e,t){return e=N7(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function C7(n,e){if(n==null)return{};var t={},r=Object.keys(n),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(t[i]=n[i]);return t}function I7(n,e){if(n==null)return{};var t=C7(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function QI(n,e){return b7(n)||L7(n,e)||KI(n,e)||O7()}function kp(n){return D7(n)||P7(n)||KI(n)||M7()}function D7(n){if(Array.isArray(n))return _v(n)}function b7(n){if(Array.isArray(n))return n}function P7(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function KI(n,e){if(n){if(typeof n=="string")return _v(n,e);var t=Object.prototype.toString.call(n).slice(8,-1);if(t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set")return Array.from(n);if(t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t))return _v(n,e)}}function _v(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=new Array(e);t<e;t++)r[t]=n[t];return r}function M7(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function O7(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function F7(n,e){if(typeof n!="object"||n===null)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function N7(n){var e=F7(n,"string");return typeof e=="symbol"?e:String(e)}var B7=["createObj","updateObj","exitObj","objBindAttr","dataBindAttr"];function U7(n,e,t){var r={enter:[],update:[],exit:[]};if(t){var o=Uw(n,t,!1),l=Uw(e,t,!1),u=Object.assign({},o,l);Object.entries(u).forEach(function(h){var m=QI(h,2),y=m[0],_=m[1],T=o.hasOwnProperty(y)?l.hasOwnProperty(y)?"update":"exit":"enter";r[T].push(T==="update"?[o[y],l[y]]:_)})}else{var i=new Set(n),s=new Set(e);new Set([].concat(kp(i),kp(s))).forEach(function(h){var m=i.has(h)?s.has(h)?"update":"exit":"enter";r[m].push(m==="update"?[h,h]:h)})}return r}function G7(n,e,t){var r=t.objBindAttr,i=r===void 0?"__obj":r,s=t.dataBindAttr,o=s===void 0?"__data":s,l=t.idAccessor,u=t.purge,h=u===void 0?!1:u,m=function(I){return I.hasOwnProperty(o)},y=e.filter(function(L){return!m(L)}),_=e.filter(m).map(function(L){return L[o]}),T=n,w=h?{enter:T,exit:_,update:[]}:U7(_,T,l);return w.update=w.update.map(function(L){var I=QI(L,2),C=I[0],b=I[1];return C!==b&&(b[i]=C[i],b[i][o]=b),b}),w.exit=w.exit.concat(y.map(function(L){return VI({},i,L)})),w}function Mz(n,e,t,r,i){var s=i.createObj,o=s===void 0?function(j){return{}}:s,l=i.updateObj,u=l===void 0?function(j,Y){}:l,h=i.exitObj,m=h===void 0?function(j){}:h,y=i.objBindAttr,_=y===void 0?"__obj":y,T=i.dataBindAttr,w=T===void 0?"__data":T,L=I7(i,B7),I=G7(n,e,R7({objBindAttr:_,dataBindAttr:w},L)),C=I.enter,b=I.update,M=I.exit;M.forEach(function(j){var Y=j[_];delete j[_],m(Y),r(Y)});var U=$(C),B=[].concat(kp(C),kp(b));H(B),U.forEach(t);function $(j){var Y=[];return j.forEach(function(q){var X=o(q);X&&(X[w]=q,q[_]=X,Y.push(X))}),Y}function H(j){j.forEach(function(Y){var q=Y[_];q&&(q[w]=Y,u(q,Y))})}}var WI={exports:{}};(function(n,e){(function(t,r){n.exports=r()})(eb,function(){return function(t){function r(s){if(i[s])return i[s].exports;var o=i[s]={exports:{},id:s,loaded:!1};return t[s].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var i={};return r.m=t,r.c=i,r.p="",r(0)}([function(t,r,i){var s=i(1),o=function(){function l(u,h,m){u===void 0&&(u=NaN),h===void 0&&(h=NaN),m===void 0&&(m=!1),this._minFPS=h,this._maxFPS=u,this._timeScale=1,this._currentTick=0,this._currentTime=0,this._tickDeltaTime=0,this._isRunning=!1,this._maxInterval=isNaN(this._minFPS)?NaN:1e3/this._minFPS,this._minInterval=isNaN(this._maxFPS)?NaN:1e3/this._maxFPS,this._onResume=new s.default,this._onPause=new s.default,this._onTick=new s.default,this._onTickOncePerFrame=new s.default,m||this.resume()}return l.prototype.updateOnce=function(u){u(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},l.prototype.resume=function(){this._isRunning||(this._isRunning=!0,this._lastTimeUpdated=this.getTimer(),this._onResume.dispatch(),this.animateOnce())},l.prototype.pause=function(){this._isRunning&&(this._isRunning=!1,this._onPause.dispatch(),window.cancelAnimationFrame(this._animationFrameHandle))},l.prototype.dispose=function(){this.pause(),this._onResume.removeAll(),this._onPause.removeAll(),this._onTick.removeAll()},Object.defineProperty(l.prototype,"currentTick",{get:function(){return this._currentTick},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"currentTimeSeconds",{get:function(){return this._currentTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"tickDeltaTimeSeconds",{get:function(){return this._tickDeltaTime/1e3},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"timeScale",{get:function(){return this._timeScale},set:function(u){this._timeScale!==u&&(this._timeScale=u)},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"onResume",{get:function(){return this._onResume},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"onPause",{get:function(){return this._onPause},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"onTick",{get:function(){return this._onTick},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"onTickOncePerFrame",{get:function(){return this._onTickOncePerFrame},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"isRunning",{get:function(){return this._isRunning},enumerable:!0,configurable:!0}),l.prototype.animateOnce=function(){var u=this;this._animationFrameHandle=window.requestAnimationFrame(function(){return u.onFrame()})},l.prototype.onFrame=function(){if(this._now=this.getTimer(),this._frameDeltaTime=this._now-this._lastTimeUpdated,isNaN(this._minInterval)||this._frameDeltaTime>=this._minInterval)if(isNaN(this._maxInterval))this.update(this._frameDeltaTime*this._timeScale,!0),this._lastTimeUpdated=this._now;else for(this._interval=Math.min(this._frameDeltaTime,this._maxInterval);this._now>=this._lastTimeUpdated+this._interval;)this.update(this._interval*this._timeScale,this._now<=this._lastTimeUpdated+2*this._maxInterval),this._lastTimeUpdated+=this._interval;this._isRunning&&this.animateOnce()},l.prototype.update=function(u,h){h===void 0&&(h=!0),this._currentTick++,this._currentTime+=u,this._tickDeltaTime=u,this._onTick.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick),h&&this._onTickOncePerFrame.dispatch(this.currentTimeSeconds,this.tickDeltaTimeSeconds,this.currentTick)},l.prototype.getTimer=function(){return Date.now()},l}();Object.defineProperty(r,"__esModule",{value:!0}),r.default=o},function(t,r,i){(function(s,o){t.exports=o()})(this,function(){return function(s){function o(u){if(l[u])return l[u].exports;var h=l[u]={exports:{},id:u,loaded:!1};return s[u].call(h.exports,h,h.exports,o),h.loaded=!0,h.exports}var l={};return o.m=s,o.c=l,o.p="",o(0)}([function(s,o){var l=function(){function u(){this.functions=[]}return u.prototype.add=function(h){return this.functions.indexOf(h)===-1&&(this.functions.push(h),!0)},u.prototype.remove=function(h){var m=this.functions.indexOf(h);return m>-1&&(this.functions.splice(m,1),!0)},u.prototype.removeAll=function(){return this.functions.length>0&&(this.functions.length=0,!0)},u.prototype.dispatch=function(){for(var h=[],m=0;m<arguments.length;m++)h[m]=arguments[m];var y=this.functions.concat();y.forEach(function(_){_.apply(void 0,h)})},Object.defineProperty(u.prototype,"numItems",{get:function(){return this.functions.length},enumerable:!0,configurable:!0}),u}();Object.defineProperty(o,"__esModule",{value:!0}),o.default=l}])})}])})})(WI);var $7=WI.exports;const Oz=va($7);function z7(n,e){switch(arguments.length){case 0:break;case 1:this.range(n);break;default:this.range(e).domain(n);break}return this}const h_=n=>()=>n;function H7(n,e){return function(t){return n+t*e}}function j7(n,e,t){return n=Math.pow(n,t),e=Math.pow(e,t)-n,t=1/t,function(r){return Math.pow(n+r*e,t)}}function V7(n){return(n=+n)==1?YI:function(e,t){return t-e?j7(e,t,n):h_(isNaN(e)?t:e)}}function YI(n,e){var t=e-n;return t?H7(n,t):h_(isNaN(n)?e:n)}const $w=function n(e){var t=V7(e);function r(i,s){var o=t((i=yv(i)).r,(s=yv(s)).r),l=t(i.g,s.g),u=t(i.b,s.b),h=YI(i.opacity,s.opacity);return function(m){return i.r=o(m),i.g=l(m),i.b=u(m),i.opacity=h(m),i+""}}return r.gamma=n,r}(1);function qI(n,e){e||(e=[]);var t=n?Math.min(e.length,n.length):0,r=e.slice(),i;return function(s){for(i=0;i<t;++i)r[i]=n[i]*(1-s)+e[i]*s;return r}}function XI(n){return ArrayBuffer.isView(n)&&!(n instanceof DataView)}function Fz(n,e){return(XI(e)?qI:ZI)(n,e)}function ZI(n,e){var t=e?e.length:0,r=n?Math.min(t,n.length):0,i=new Array(r),s=new Array(t),o;for(o=0;o<r;++o)i[o]=d_(n[o],e[o]);for(;o<t;++o)s[o]=e[o];return function(l){for(o=0;o<r;++o)s[o]=i[o](l);return s}}function Q7(n,e){var t=new Date;return n=+n,e=+e,function(r){return t.setTime(n*(1-r)+e*r),t}}function Lp(n,e){return n=+n,e=+e,function(t){return n*(1-t)+e*t}}function K7(n,e){var t={},r={},i;(n===null||typeof n!="object")&&(n={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in n?t[i]=d_(n[i],e[i]):r[i]=e[i];return function(s){for(i in t)r[i]=t[i](s);return r}}var Ev=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,my=new RegExp(Ev.source,"g");function W7(n){return function(){return n}}function Y7(n){return function(e){return n(e)+""}}function q7(n,e){var t=Ev.lastIndex=my.lastIndex=0,r,i,s,o=-1,l=[],u=[];for(n=n+"",e=e+"";(r=Ev.exec(n))&&(i=my.exec(e));)(s=i.index)>t&&(s=e.slice(t,s),l[o]?l[o]+=s:l[++o]=s),(r=r[0])===(i=i[0])?l[o]?l[o]+=i:l[++o]=i:(l[++o]=null,u.push({i:o,x:Lp(r,i)})),t=my.lastIndex;return t<e.length&&(s=e.slice(t),l[o]?l[o]+=s:l[++o]=s),l.length<2?u[0]?Y7(u[0].x):W7(e):(e=u.length,function(h){for(var m=0,y;m<e;++m)l[(y=u[m]).i]=y.x(h);return l.join("")})}function d_(n,e){var t=typeof e,r;return e==null||t==="boolean"?h_(e):(t==="number"?Lp:t==="string"?(r=Rc(e))?(e=r,$w):q7:e instanceof Rc?$w:e instanceof Date?Q7:XI(e)?qI:Array.isArray(e)?ZI:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?K7:Lp)(n,e)}function X7(n,e){return n=+n,e=+e,function(t){return Math.round(n*(1-t)+e*t)}}function Z7(n){return function(){return n}}function J7(n){return+n}var zw=[0,1];function Uu(n){return n}function Sv(n,e){return(e-=n=+n)?function(t){return(t-n)/e}:Z7(isNaN(e)?NaN:.5)}function e9(n,e){var t;return n>e&&(t=n,n=e,e=t),function(r){return Math.max(n,Math.min(e,r))}}function t9(n,e,t){var r=n[0],i=n[1],s=e[0],o=e[1];return i<r?(r=Sv(i,r),s=t(o,s)):(r=Sv(r,i),s=t(s,o)),function(l){return s(r(l))}}function n9(n,e,t){var r=Math.min(n.length,e.length)-1,i=new Array(r),s=new Array(r),o=-1;for(n[r]<n[0]&&(n=n.slice().reverse(),e=e.slice().reverse());++o<r;)i[o]=Sv(n[o],n[o+1]),s[o]=t(e[o],e[o+1]);return function(l){var u=MB(n,l,1,r)-1;return s[u](i[u](l))}}function r9(n,e){return e.domain(n.domain()).range(n.range()).interpolate(n.interpolate()).clamp(n.clamp()).unknown(n.unknown())}function i9(){var n=zw,e=zw,t=d_,r,i,s,o=Uu,l,u,h;function m(){var _=Math.min(n.length,e.length);return o!==Uu&&(o=e9(n[0],n[_-1])),l=_>2?n9:t9,u=h=null,y}function y(_){return _==null||isNaN(_=+_)?s:(u||(u=l(n.map(r),e,t)))(r(o(_)))}return y.invert=function(_){return o(i((h||(h=l(e,n.map(r),Lp)))(_)))},y.domain=function(_){return arguments.length?(n=Array.from(_,J7),m()):n.slice()},y.range=function(_){return arguments.length?(e=Array.from(_),m()):e.slice()},y.rangeRound=function(_){return e=Array.from(_),t=X7,m()},y.clamp=function(_){return arguments.length?(o=_?!0:Uu,m()):o!==Uu},y.interpolate=function(_){return arguments.length?(t=_,m()):t},y.unknown=function(_){return arguments.length?(s=_,y):s},function(_,T){return r=_,i=T,m()}}function s9(){return i9()(Uu,Uu)}function o9(n){return Math.abs(n=Math.round(n))>=1e21?n.toLocaleString("en").replace(/,/g,""):n.toString(10)}function Rp(n,e){if((t=(n=e?n.toExponential(e-1):n.toExponential()).indexOf("e"))<0)return null;var t,r=n.slice(0,t);return[r.length>1?r[0]+r.slice(2):r,+n.slice(t+1)]}function _0(n){return n=Rp(Math.abs(n)),n?n[1]:NaN}function l9(n,e){return function(t,r){for(var i=t.length,s=[],o=0,l=n[0],u=0;i>0&&l>0&&(u+l+1>r&&(l=Math.max(1,r-u)),s.push(t.substring(i-=l,i+l)),!((u+=l+1)>r));)l=n[o=(o+1)%n.length];return s.reverse().join(e)}}function a9(n){return function(e){return e.replace(/[0-9]/g,function(t){return n[+t]})}}var A9=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cp(n){if(!(e=A9.exec(n)))throw new Error("invalid format: "+n);var e;return new g_({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cp.prototype=g_.prototype;function g_(n){this.fill=n.fill===void 0?" ":n.fill+"",this.align=n.align===void 0?">":n.align+"",this.sign=n.sign===void 0?"-":n.sign+"",this.symbol=n.symbol===void 0?"":n.symbol+"",this.zero=!!n.zero,this.width=n.width===void 0?void 0:+n.width,this.comma=!!n.comma,this.precision=n.precision===void 0?void 0:+n.precision,this.trim=!!n.trim,this.type=n.type===void 0?"":n.type+""}g_.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function u9(n){e:for(var e=n.length,t=1,r=-1,i;t<e;++t)switch(n[t]){case".":r=i=t;break;case"0":r===0&&(r=t),i=t;break;default:if(!+n[t])break e;r>0&&(r=0);break}return r>0?n.slice(0,r)+n.slice(i+1):n}var JI;function f9(n,e){var t=Rp(n,e);if(!t)return n+"";var r=t[0],i=t[1],s=i-(JI=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,o=r.length;return s===o?r:s>o?r+new Array(s-o+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+Rp(n,Math.max(0,e+s-1))[0]}function Hw(n,e){var t=Rp(n,e);if(!t)return n+"";var r=t[0],i=t[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const jw={"%":(n,e)=>(n*100).toFixed(e),b:n=>Math.round(n).toString(2),c:n=>n+"",d:o9,e:(n,e)=>n.toExponential(e),f:(n,e)=>n.toFixed(e),g:(n,e)=>n.toPrecision(e),o:n=>Math.round(n).toString(8),p:(n,e)=>Hw(n*100,e),r:Hw,s:f9,X:n=>Math.round(n).toString(16).toUpperCase(),x:n=>Math.round(n).toString(16)};function Vw(n){return n}var Qw=Array.prototype.map,Kw=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function c9(n){var e=n.grouping===void 0||n.thousands===void 0?Vw:l9(Qw.call(n.grouping,Number),n.thousands+""),t=n.currency===void 0?"":n.currency[0]+"",r=n.currency===void 0?"":n.currency[1]+"",i=n.decimal===void 0?".":n.decimal+"",s=n.numerals===void 0?Vw:a9(Qw.call(n.numerals,String)),o=n.percent===void 0?"%":n.percent+"",l=n.minus===void 0?"":n.minus+"",u=n.nan===void 0?"NaN":n.nan+"";function h(y){y=Cp(y);var _=y.fill,T=y.align,w=y.sign,L=y.symbol,I=y.zero,C=y.width,b=y.comma,M=y.precision,U=y.trim,B=y.type;B==="n"?(b=!0,B="g"):jw[B]||(M===void 0&&(M=12),U=!0,B="g"),(I||_==="0"&&T==="=")&&(I=!0,_="0",T="=");var $=L==="$"?t:L==="#"&&/[boxX]/.test(B)?"0"+B.toLowerCase():"",H=L==="$"?r:/[%p]/.test(B)?o:"",j=jw[B],Y=/[defgprs%]/.test(B);M=M===void 0?6:/[gprs]/.test(B)?Math.max(1,Math.min(21,M)):Math.max(0,Math.min(20,M));function q(X){var ge=$,ae=H,xe,ie,ce;if(B==="c")ae=j(X)+ae,X="";else{X=+X;var ke=X<0||1/X<0;if(X=isNaN(X)?u:j(Math.abs(X),M),U&&(X=u9(X)),ke&&+X==0&&w!=="+"&&(ke=!1),ge=(ke?w==="("?w:l:w==="-"||w==="("?"":w)+ge,ae=(B==="s"?Kw[8+JI/3]:"")+ae+(ke&&w==="("?")":""),Y){for(xe=-1,ie=X.length;++xe<ie;)if(ce=X.charCodeAt(xe),48>ce||ce>57){ae=(ce===46?i+X.slice(xe+1):X.slice(xe))+ae,X=X.slice(0,xe);break}}}b&&!I&&(X=e(X,1/0));var re=ge.length+X.length+ae.length,se=re<C?new Array(C-re+1).join(_):"";switch(b&&I&&(X=e(se+X,se.length?C-ae.length:1/0),se=""),T){case"<":X=ge+X+ae+se;break;case"=":X=ge+se+X+ae;break;case"^":X=se.slice(0,re=se.length>>1)+ge+X+ae+se.slice(re);break;default:X=se+ge+X+ae;break}return s(X)}return q.toString=function(){return y+""},q}function m(y,_){var T=h((y=Cp(y),y.type="f",y)),w=Math.max(-8,Math.min(8,Math.floor(_0(_)/3)))*3,L=Math.pow(10,-w),I=Kw[8+w/3];return function(C){return T(L*C)+I}}return{format:h,formatPrefix:m}}var $d,eD,tD;h9({thousands:",",grouping:[3],currency:["$",""]});function h9(n){return $d=c9(n),eD=$d.format,tD=$d.formatPrefix,$d}function d9(n){return Math.max(0,-_0(Math.abs(n)))}function g9(n,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(_0(e)/3)))*3-_0(Math.abs(n)))}function p9(n,e){return n=Math.abs(n),e=Math.abs(e)-n,Math.max(0,_0(e)-_0(n))+1}function m9(n,e,t,r){var i=UB(n,e,t),s;switch(r=Cp(r??",f"),r.type){case"s":{var o=Math.max(Math.abs(n),Math.abs(e));return r.precision==null&&!isNaN(s=g9(i,o))&&(r.precision=s),tD(r,o)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=p9(i,Math.max(Math.abs(n),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=d9(i))&&(r.precision=s-(r.type==="%")*2);break}}return eD(r)}function y9(n){var e=n.domain;return n.ticks=function(t){var r=e();return BB(r[0],r[r.length-1],t??10)},n.tickFormat=function(t,r){var i=e();return m9(i[0],i[i.length-1],t??10,r)},n.nice=function(t){t==null&&(t=10);var r=e(),i=0,s=r.length-1,o=r[i],l=r[s],u,h,m=10;for(l<o&&(h=o,o=l,l=h,h=i,i=s,s=h);m-- >0;){if(h=nv(o,l,t),h===u)return r[i]=o,r[s]=l,e(r);if(h>0)o=Math.floor(o/h)*h,l=Math.ceil(l/h)*h;else if(h<0)o=Math.ceil(o*h)/h,l=Math.floor(l*h)/h;else break;u=h}return n},n}function v9(){var n=s9();return n.copy=function(){return r9(n,v9())},z7.apply(n,arguments),y9(n)}const al=11102230246251565e-32,Lr=134217729,x9=(3+8*al)*al;function yy(n,e,t,r,i){let s,o,l,u,h=e[0],m=r[0],y=0,_=0;m>h==m>-h?(s=h,h=e[++y]):(s=m,m=r[++_]);let T=0;if(y<n&&_<t)for(m>h==m>-h?(o=h+s,l=s-(o-h),h=e[++y]):(o=m+s,l=s-(o-m),m=r[++_]),s=o,l!==0&&(i[T++]=l);y<n&&_<t;)m>h==m>-h?(o=s+h,u=o-s,l=s-(o-u)+(h-u),h=e[++y]):(o=s+m,u=o-s,l=s-(o-u)+(m-u),m=r[++_]),s=o,l!==0&&(i[T++]=l);for(;y<n;)o=s+h,u=o-s,l=s-(o-u)+(h-u),h=e[++y],s=o,l!==0&&(i[T++]=l);for(;_<t;)o=s+m,u=o-s,l=s-(o-u)+(m-u),m=r[++_],s=o,l!==0&&(i[T++]=l);return(s!==0||T===0)&&(i[T++]=s),T}function _9(n,e){let t=e[0];for(let r=1;r<n;r++)t+=e[r];return t}function zc(n){return new Float64Array(n)}const E9=(3+16*al)*al,S9=(2+12*al)*al,T9=(9+64*al)*al*al,vu=zc(4),Ww=zc(8),Yw=zc(12),qw=zc(16),Vr=zc(4);function w9(n,e,t,r,i,s,o){let l,u,h,m,y,_,T,w,L,I,C,b,M,U,B,$,H,j;const Y=n-i,q=t-i,X=e-s,ge=r-s;U=Y*ge,_=Lr*Y,T=_-(_-Y),w=Y-T,_=Lr*ge,L=_-(_-ge),I=ge-L,B=w*I-(U-T*L-w*L-T*I),$=X*q,_=Lr*X,T=_-(_-X),w=X-T,_=Lr*q,L=_-(_-q),I=q-L,H=w*I-($-T*L-w*L-T*I),C=B-H,y=B-C,vu[0]=B-(C+y)+(y-H),b=U+C,y=b-U,M=U-(b-y)+(C-y),C=M-$,y=M-C,vu[1]=M-(C+y)+(y-$),j=b+C,y=j-b,vu[2]=b-(j-y)+(C-y),vu[3]=j;let ae=_9(4,vu),xe=S9*o;if(ae>=xe||-ae>=xe||(y=n-Y,l=n-(Y+y)+(y-i),y=t-q,h=t-(q+y)+(y-i),y=e-X,u=e-(X+y)+(y-s),y=r-ge,m=r-(ge+y)+(y-s),l===0&&u===0&&h===0&&m===0)||(xe=T9*o+x9*Math.abs(ae),ae+=Y*m+ge*l-(X*h+q*u),ae>=xe||-ae>=xe))return ae;U=l*ge,_=Lr*l,T=_-(_-l),w=l-T,_=Lr*ge,L=_-(_-ge),I=ge-L,B=w*I-(U-T*L-w*L-T*I),$=u*q,_=Lr*u,T=_-(_-u),w=u-T,_=Lr*q,L=_-(_-q),I=q-L,H=w*I-($-T*L-w*L-T*I),C=B-H,y=B-C,Vr[0]=B-(C+y)+(y-H),b=U+C,y=b-U,M=U-(b-y)+(C-y),C=M-$,y=M-C,Vr[1]=M-(C+y)+(y-$),j=b+C,y=j-b,Vr[2]=b-(j-y)+(C-y),Vr[3]=j;const ie=yy(4,vu,4,Vr,Ww);U=Y*m,_=Lr*Y,T=_-(_-Y),w=Y-T,_=Lr*m,L=_-(_-m),I=m-L,B=w*I-(U-T*L-w*L-T*I),$=X*h,_=Lr*X,T=_-(_-X),w=X-T,_=Lr*h,L=_-(_-h),I=h-L,H=w*I-($-T*L-w*L-T*I),C=B-H,y=B-C,Vr[0]=B-(C+y)+(y-H),b=U+C,y=b-U,M=U-(b-y)+(C-y),C=M-$,y=M-C,Vr[1]=M-(C+y)+(y-$),j=b+C,y=j-b,Vr[2]=b-(j-y)+(C-y),Vr[3]=j;const ce=yy(ie,Ww,4,Vr,Yw);U=l*m,_=Lr*l,T=_-(_-l),w=l-T,_=Lr*m,L=_-(_-m),I=m-L,B=w*I-(U-T*L-w*L-T*I),$=u*h,_=Lr*u,T=_-(_-u),w=u-T,_=Lr*h,L=_-(_-h),I=h-L,H=w*I-($-T*L-w*L-T*I),C=B-H,y=B-C,Vr[0]=B-(C+y)+(y-H),b=U+C,y=b-U,M=U-(b-y)+(C-y),C=M-$,y=M-C,Vr[1]=M-(C+y)+(y-$),j=b+C,y=j-b,Vr[2]=b-(j-y)+(C-y),Vr[3]=j;const ke=yy(ce,Yw,4,Vr,qw);return qw[ke-1]}function zd(n,e,t,r,i,s){const o=(e-s)*(t-i),l=(n-i)*(r-s),u=o-l,h=Math.abs(o+l);return Math.abs(u)>=E9*h?u:-w9(n,e,t,r,i,s,h)}const Xw=Math.pow(2,-52),Hd=new Uint32Array(512);class Ip{static from(e,t=I9,r=D9){const i=e.length,s=new Float64Array(i*2);for(let o=0;o<i;o++){const l=e[o];s[2*o]=t(l),s[2*o+1]=r(l)}return new Ip(s)}constructor(e){const t=e.length>>1;if(t>0&&typeof e[0]!="number")throw new Error("Expected coords to contain numbers.");this.coords=e;const r=Math.max(2*t-5,0);this._triangles=new Uint32Array(r*3),this._halfedges=new Int32Array(r*3),this._hashSize=Math.ceil(Math.sqrt(t)),this._hullPrev=new Uint32Array(t),this._hullNext=new Uint32Array(t),this._hullTri=new Uint32Array(t),this._hullHash=new Int32Array(this._hashSize),this._ids=new Uint32Array(t),this._dists=new Float64Array(t),this.update()}update(){const{coords:e,_hullPrev:t,_hullNext:r,_hullTri:i,_hullHash:s}=this,o=e.length>>1;let l=1/0,u=1/0,h=-1/0,m=-1/0;for(let Y=0;Y<o;Y++){const q=e[2*Y],X=e[2*Y+1];q<l&&(l=q),X<u&&(u=X),q>h&&(h=q),X>m&&(m=X),this._ids[Y]=Y}const y=(l+h)/2,_=(u+m)/2;let T,w,L;for(let Y=0,q=1/0;Y<o;Y++){const X=vy(y,_,e[2*Y],e[2*Y+1]);X<q&&(T=Y,q=X)}const I=e[2*T],C=e[2*T+1];for(let Y=0,q=1/0;Y<o;Y++){if(Y===T)continue;const X=vy(I,C,e[2*Y],e[2*Y+1]);X<q&&X>0&&(w=Y,q=X)}let b=e[2*w],M=e[2*w+1],U=1/0;for(let Y=0;Y<o;Y++){if(Y===T||Y===w)continue;const q=R9(I,C,b,M,e[2*Y],e[2*Y+1]);q<U&&(L=Y,U=q)}let B=e[2*L],$=e[2*L+1];if(U===1/0){for(let X=0;X<o;X++)this._dists[X]=e[2*X]-e[0]||e[2*X+1]-e[1];Gu(this._ids,this._dists,0,o-1);const Y=new Uint32Array(o);let q=0;for(let X=0,ge=-1/0;X<o;X++){const ae=this._ids[X],xe=this._dists[ae];xe>ge&&(Y[q++]=ae,ge=xe)}this.hull=Y.subarray(0,q),this.triangles=new Uint32Array(0),this.halfedges=new Uint32Array(0);return}if(zd(I,C,b,M,B,$)<0){const Y=w,q=b,X=M;w=L,b=B,M=$,L=Y,B=q,$=X}const H=C9(I,C,b,M,B,$);this._cx=H.x,this._cy=H.y;for(let Y=0;Y<o;Y++)this._dists[Y]=vy(e[2*Y],e[2*Y+1],H.x,H.y);Gu(this._ids,this._dists,0,o-1),this._hullStart=T;let j=3;r[T]=t[L]=w,r[w]=t[T]=L,r[L]=t[w]=T,i[T]=0,i[w]=1,i[L]=2,s.fill(-1),s[this._hashKey(I,C)]=T,s[this._hashKey(b,M)]=w,s[this._hashKey(B,$)]=L,this.trianglesLen=0,this._addTriangle(T,w,L,-1,-1,-1);for(let Y=0,q,X;Y<this._ids.length;Y++){const ge=this._ids[Y],ae=e[2*ge],xe=e[2*ge+1];if(Y>0&&Math.abs(ae-q)<=Xw&&Math.abs(xe-X)<=Xw||(q=ae,X=xe,ge===T||ge===w||ge===L))continue;let ie=0;for(let fe=0,Ie=this._hashKey(ae,xe);fe<this._hashSize&&(ie=s[(Ie+fe)%this._hashSize],!(ie!==-1&&ie!==r[ie]));fe++);ie=t[ie];let ce=ie,ke;for(;ke=r[ce],zd(ae,xe,e[2*ce],e[2*ce+1],e[2*ke],e[2*ke+1])>=0;)if(ce=ke,ce===ie){ce=-1;break}if(ce===-1)continue;let re=this._addTriangle(ce,ge,r[ce],-1,-1,i[ce]);i[ge]=this._legalize(re+2),i[ce]=re,j++;let se=r[ce];for(;ke=r[se],zd(ae,xe,e[2*se],e[2*se+1],e[2*ke],e[2*ke+1])<0;)re=this._addTriangle(se,ge,ke,i[ge],-1,i[se]),i[ge]=this._legalize(re+2),r[se]=se,j--,se=ke;if(ce===ie)for(;ke=t[ce],zd(ae,xe,e[2*ke],e[2*ke+1],e[2*ce],e[2*ce+1])<0;)re=this._addTriangle(ke,ge,ce,-1,i[ce],i[ke]),this._legalize(re+2),i[ke]=re,r[ce]=ce,j--,ce=ke;this._hullStart=t[ge]=ce,r[ce]=t[se]=ge,r[ge]=se,s[this._hashKey(ae,xe)]=ge,s[this._hashKey(e[2*ce],e[2*ce+1])]=ce}this.hull=new Uint32Array(j);for(let Y=0,q=this._hullStart;Y<j;Y++)this.hull[Y]=q,q=r[q];this.triangles=this._triangles.subarray(0,this.trianglesLen),this.halfedges=this._halfedges.subarray(0,this.trianglesLen)}_hashKey(e,t){return Math.floor(k9(e-this._cx,t-this._cy)*this._hashSize)%this._hashSize}_legalize(e){const{_triangles:t,_halfedges:r,coords:i}=this;let s=0,o=0;for(;;){const l=r[e],u=e-e%3;if(o=u+(e+2)%3,l===-1){if(s===0)break;e=Hd[--s];continue}const h=l-l%3,m=u+(e+1)%3,y=h+(l+2)%3,_=t[o],T=t[e],w=t[m],L=t[y];if(L9(i[2*_],i[2*_+1],i[2*T],i[2*T+1],i[2*w],i[2*w+1],i[2*L],i[2*L+1])){t[e]=L,t[l]=_;const C=r[y];if(C===-1){let M=this._hullStart;do{if(this._hullTri[M]===y){this._hullTri[M]=e;break}M=this._hullPrev[M]}while(M!==this._hullStart)}this._link(e,C),this._link(l,r[o]),this._link(o,y);const b=h+(l+1)%3;s<Hd.length&&(Hd[s++]=b)}else{if(s===0)break;e=Hd[--s]}}return o}_link(e,t){this._halfedges[e]=t,t!==-1&&(this._halfedges[t]=e)}_addTriangle(e,t,r,i,s,o){const l=this.trianglesLen;return this._triangles[l]=e,this._triangles[l+1]=t,this._triangles[l+2]=r,this._link(l,i),this._link(l+1,s),this._link(l+2,o),this.trianglesLen+=3,l}}function k9(n,e){const t=n/(Math.abs(n)+Math.abs(e));return(e>0?3-t:1+t)/4}function vy(n,e,t,r){const i=n-t,s=e-r;return i*i+s*s}function L9(n,e,t,r,i,s,o,l){const u=n-o,h=e-l,m=t-o,y=r-l,_=i-o,T=s-l,w=u*u+h*h,L=m*m+y*y,I=_*_+T*T;return u*(y*I-L*T)-h*(m*I-L*_)+w*(m*T-y*_)<0}function R9(n,e,t,r,i,s){const o=t-n,l=r-e,u=i-n,h=s-e,m=o*o+l*l,y=u*u+h*h,_=.5/(o*h-l*u),T=(h*m-l*y)*_,w=(o*y-u*m)*_;return T*T+w*w}function C9(n,e,t,r,i,s){const o=t-n,l=r-e,u=i-n,h=s-e,m=o*o+l*l,y=u*u+h*h,_=.5/(o*h-l*u),T=n+(h*m-l*y)*_,w=e+(o*y-u*m)*_;return{x:T,y:w}}function Gu(n,e,t,r){if(r-t<=20)for(let i=t+1;i<=r;i++){const s=n[i],o=e[s];let l=i-1;for(;l>=t&&e[n[l]]>o;)n[l+1]=n[l--];n[l+1]=s}else{const i=t+r>>1;let s=t+1,o=r;mf(n,i,s),e[n[t]]>e[n[r]]&&mf(n,t,r),e[n[s]]>e[n[r]]&&mf(n,s,r),e[n[t]]>e[n[s]]&&mf(n,t,s);const l=n[s],u=e[l];for(;;){do s++;while(e[n[s]]<u);do o--;while(e[n[o]]>u);if(o<s)break;mf(n,s,o)}n[t+1]=n[o],n[o]=l,r-s+1>=o-t?(Gu(n,e,s,r),Gu(n,e,t,o-1)):(Gu(n,e,t,o-1),Gu(n,e,s,r))}}function mf(n,e,t){const r=n[e];n[e]=n[t],n[t]=r}function I9(n){return n[0]}function D9(n){return n[1]}function b9(n,e){var t=0,r=0,i=0,s=0,o=0,l=0,u=0,h=0,m=null,y=null,_=n[0],T=n[1],w=e.length;for(t;t<w;t++){r=0;var L=e[t].length-1,I=e[t];if(m=I[0],m[0]!==I[L][0]&&m[1]!==I[L][1])throw new Error("First and last coordinates in a ring must be the same");for(o=m[0]-_,l=m[1]-T,r;r<L;r++){if(y=I[r+1],h=y[1]-T,l<0&&h<0||l>0&&h>0){m=y,l=h,o=m[0]-_;continue}if(u=y[0]-n[0],h>0&&l<=0){if(s=o*h-u*l,s>0)i=i+1;else if(s===0)return 0}else if(l>0&&h<=0){if(s=o*h-u*l,s<0)i=i+1;else if(s===0)return 0}else if(h===0&&l<0){if(s=o*h-u*l,s===0)return 0}else if(l===0&&h<0){if(s=o*h-u*l,s===0)return 0}else if(l===0&&h===0){if(u<=0&&o>=0)return 0;if(o<=0&&u>=0)return 0}m=y,l=h,o=u}}return i%2!==0}function P9(n){if(!n)throw new Error("coord is required");if(!Array.isArray(n)){if(n.type==="Feature"&&n.geometry!==null&&n.geometry.type==="Point")return[...n.geometry.coordinates];if(n.type==="Point")return[...n.coordinates]}if(Array.isArray(n)&&n.length>=2&&!Array.isArray(n[0])&&!Array.isArray(n[1]))return[...n];throw new Error("coord must be GeoJSON Point or an Array of numbers")}function M9(n){return n.type==="Feature"?n.geometry:n}function O9(n,e,t={}){if(!n)throw new Error("point is required");if(!e)throw new Error("polygon is required");const r=P9(n),i=M9(e),s=i.type,o=e.bbox;let l=i.coordinates;if(o&&F9(r,o)===!1)return!1;s==="Polygon"&&(l=[l]);let u=!1;for(var h=0;h<l.length;++h){const m=b9(r,l[h]);if(m===0)return!t.ignoreBoundary;m&&(u=!0)}return u}function F9(n,e){return e[0]<=n[0]&&e[1]<=n[1]&&e[2]>=n[0]&&e[3]>=n[1]}var Nz=O9;const Zw=1e-6;class uA{constructor(){this._x0=this._y0=this._x1=this._y1=null,this._=""}moveTo(e,t){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._+="Z")}lineTo(e,t){this._+=`L${this._x1=+e},${this._y1=+t}`}arc(e,t,r){e=+e,t=+t,r=+r;const i=e+r,s=t;if(r<0)throw new Error("negative radius");this._x1===null?this._+=`M${i},${s}`:(Math.abs(this._x1-i)>Zw||Math.abs(this._y1-s)>Zw)&&(this._+="L"+i+","+s),r&&(this._+=`A${r},${r},0,1,1,${e-r},${t}A${r},${r},0,1,1,${this._x1=i},${this._y1=s}`)}rect(e,t,r,i){this._+=`M${this._x0=this._x1=+e},${this._y0=this._y1=+t}h${+r}v${+i}h${-r}Z`}value(){return this._||null}}class Tv{constructor(){this._=[]}moveTo(e,t){this._.push([e,t])}closePath(){this._.push(this._[0].slice())}lineTo(e,t){this._.push([e,t])}value(){return this._.length?this._:null}}class N9{constructor(e,[t,r,i,s]=[0,0,960,500]){if(!((i=+i)>=(t=+t))||!((s=+s)>=(r=+r)))throw new Error("invalid bounds");this.delaunay=e,this._circumcenters=new Float64Array(e.points.length*2),this.vectors=new Float64Array(e.points.length*2),this.xmax=i,this.xmin=t,this.ymax=s,this.ymin=r,this._init()}update(){return this.delaunay.update(),this._init(),this}_init(){const{delaunay:{points:e,hull:t,triangles:r},vectors:i}=this;let s,o;const l=this.circumcenters=this._circumcenters.subarray(0,r.length/3*2);for(let L=0,I=0,C=r.length,b,M;L<C;L+=3,I+=2){const U=r[L]*2,B=r[L+1]*2,$=r[L+2]*2,H=e[U],j=e[U+1],Y=e[B],q=e[B+1],X=e[$],ge=e[$+1],ae=Y-H,xe=q-j,ie=X-H,ce=ge-j,ke=(ae*ce-xe*ie)*2;if(Math.abs(ke)<1e-9){if(s===void 0){s=o=0;for(const se of t)s+=e[se*2],o+=e[se*2+1];s/=t.length,o/=t.length}const re=1e9*Math.sign((s-H)*ce-(o-j)*ie);b=(H+X)/2-re*ce,M=(j+ge)/2+re*ie}else{const re=1/ke,se=ae*ae+xe*xe,fe=ie*ie+ce*ce;b=H+(ce*se-xe*fe)*re,M=j+(ae*fe-ie*se)*re}l[I]=b,l[I+1]=M}let u=t[t.length-1],h,m=u*4,y,_=e[2*u],T,w=e[2*u+1];i.fill(0);for(let L=0;L<t.length;++L)u=t[L],h=m,y=_,T=w,m=u*4,_=e[2*u],w=e[2*u+1],i[h+2]=i[m]=T-w,i[h+3]=i[m+1]=_-y}render(e){const t=e==null?e=new uA:void 0,{delaunay:{halfedges:r,inedges:i,hull:s},circumcenters:o,vectors:l}=this;if(s.length<=1)return null;for(let m=0,y=r.length;m<y;++m){const _=r[m];if(_<m)continue;const T=Math.floor(m/3)*2,w=Math.floor(_/3)*2,L=o[T],I=o[T+1],C=o[w],b=o[w+1];this._renderSegment(L,I,C,b,e)}let u,h=s[s.length-1];for(let m=0;m<s.length;++m){u=h,h=s[m];const y=Math.floor(i[h]/3)*2,_=o[y],T=o[y+1],w=u*4,L=this._project(_,T,l[w+2],l[w+3]);L&&this._renderSegment(_,T,L[0],L[1],e)}return t&&t.value()}renderBounds(e){const t=e==null?e=new uA:void 0;return e.rect(this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin),t&&t.value()}renderCell(e,t){const r=t==null?t=new uA:void 0,i=this._clip(e);if(i===null||!i.length)return;t.moveTo(i[0],i[1]);let s=i.length;for(;i[0]===i[s-2]&&i[1]===i[s-1]&&s>1;)s-=2;for(let o=2;o<s;o+=2)(i[o]!==i[o-2]||i[o+1]!==i[o-1])&&t.lineTo(i[o],i[o+1]);return t.closePath(),r&&r.value()}*cellPolygons(){const{delaunay:{points:e}}=this;for(let t=0,r=e.length/2;t<r;++t){const i=this.cellPolygon(t);i&&(i.index=t,yield i)}}cellPolygon(e){const t=new Tv;return this.renderCell(e,t),t.value()}_renderSegment(e,t,r,i,s){let o;const l=this._regioncode(e,t),u=this._regioncode(r,i);l===0&&u===0?(s.moveTo(e,t),s.lineTo(r,i)):(o=this._clipSegment(e,t,r,i,l,u))&&(s.moveTo(o[0],o[1]),s.lineTo(o[2],o[3]))}contains(e,t,r){return t=+t,t!==t||(r=+r,r!==r)?!1:this.delaunay._step(e,t,r)===e}*neighbors(e){const t=this._clip(e);if(t)for(const r of this.delaunay.neighbors(e)){const i=this._clip(r);if(i){e:for(let s=0,o=t.length;s<o;s+=2)for(let l=0,u=i.length;l<u;l+=2)if(t[s]===i[l]&&t[s+1]===i[l+1]&&t[(s+2)%o]===i[(l+u-2)%u]&&t[(s+3)%o]===i[(l+u-1)%u]){yield r;break e}}}}_cell(e){const{circumcenters:t,delaunay:{inedges:r,halfedges:i,triangles:s}}=this,o=r[e];if(o===-1)return null;const l=[];let u=o;do{const h=Math.floor(u/3);if(l.push(t[h*2],t[h*2+1]),u=u%3===2?u-2:u+1,s[u]!==e)break;u=i[u]}while(u!==o&&u!==-1);return l}_clip(e){if(e===0&&this.delaunay.hull.length===1)return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];const t=this._cell(e);if(t===null)return null;const{vectors:r}=this,i=e*4;return this._simplify(r[i]||r[i+1]?this._clipInfinite(e,t,r[i],r[i+1],r[i+2],r[i+3]):this._clipFinite(e,t))}_clipFinite(e,t){const r=t.length;let i=null,s,o,l=t[r-2],u=t[r-1],h,m=this._regioncode(l,u),y,_=0;for(let T=0;T<r;T+=2)if(s=l,o=u,l=t[T],u=t[T+1],h=m,m=this._regioncode(l,u),h===0&&m===0)y=_,_=0,i?i.push(l,u):i=[l,u];else{let w,L,I,C,b;if(h===0){if((w=this._clipSegment(s,o,l,u,h,m))===null)continue;[L,I,C,b]=w}else{if((w=this._clipSegment(l,u,s,o,m,h))===null)continue;[C,b,L,I]=w,y=_,_=this._edgecode(L,I),y&&_&&this._edge(e,y,_,i,i.length),i?i.push(L,I):i=[L,I]}y=_,_=this._edgecode(C,b),y&&_&&this._edge(e,y,_,i,i.length),i?i.push(C,b):i=[C,b]}if(i)y=_,_=this._edgecode(i[0],i[1]),y&&_&&this._edge(e,y,_,i,i.length);else if(this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2))return[this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax,this.xmin,this.ymin];return i}_clipSegment(e,t,r,i,s,o){const l=s<o;for(l&&([e,t,r,i,s,o]=[r,i,e,t,o,s]);;){if(s===0&&o===0)return l?[r,i,e,t]:[e,t,r,i];if(s&o)return null;let u,h,m=s||o;m&8?(u=e+(r-e)*(this.ymax-t)/(i-t),h=this.ymax):m&4?(u=e+(r-e)*(this.ymin-t)/(i-t),h=this.ymin):m&2?(h=t+(i-t)*(this.xmax-e)/(r-e),u=this.xmax):(h=t+(i-t)*(this.xmin-e)/(r-e),u=this.xmin),s?(e=u,t=h,s=this._regioncode(e,t)):(r=u,i=h,o=this._regioncode(r,i))}}_clipInfinite(e,t,r,i,s,o){let l=Array.from(t),u;if((u=this._project(l[0],l[1],r,i))&&l.unshift(u[0],u[1]),(u=this._project(l[l.length-2],l[l.length-1],s,o))&&l.push(u[0],u[1]),l=this._clipFinite(e,l))for(let h=0,m=l.length,y,_=this._edgecode(l[m-2],l[m-1]);h<m;h+=2)y=_,_=this._edgecode(l[h],l[h+1]),y&&_&&(h=this._edge(e,y,_,l,h),m=l.length);else this.contains(e,(this.xmin+this.xmax)/2,(this.ymin+this.ymax)/2)&&(l=[this.xmin,this.ymin,this.xmax,this.ymin,this.xmax,this.ymax,this.xmin,this.ymax]);return l}_edge(e,t,r,i,s){for(;t!==r;){let o,l;switch(t){case 5:t=4;continue;case 4:t=6,o=this.xmax,l=this.ymin;break;case 6:t=2;continue;case 2:t=10,o=this.xmax,l=this.ymax;break;case 10:t=8;continue;case 8:t=9,o=this.xmin,l=this.ymax;break;case 9:t=1;continue;case 1:t=5,o=this.xmin,l=this.ymin;break}(i[s]!==o||i[s+1]!==l)&&this.contains(e,o,l)&&(i.splice(s,0,o,l),s+=2)}return s}_project(e,t,r,i){let s=1/0,o,l,u;if(i<0){if(t<=this.ymin)return null;(o=(this.ymin-t)/i)<s&&(u=this.ymin,l=e+(s=o)*r)}else if(i>0){if(t>=this.ymax)return null;(o=(this.ymax-t)/i)<s&&(u=this.ymax,l=e+(s=o)*r)}if(r>0){if(e>=this.xmax)return null;(o=(this.xmax-e)/r)<s&&(l=this.xmax,u=t+(s=o)*i)}else if(r<0){if(e<=this.xmin)return null;(o=(this.xmin-e)/r)<s&&(l=this.xmin,u=t+(s=o)*i)}return[l,u]}_edgecode(e,t){return(e===this.xmin?1:e===this.xmax?2:0)|(t===this.ymin?4:t===this.ymax?8:0)}_regioncode(e,t){return(e<this.xmin?1:e>this.xmax?2:0)|(t<this.ymin?4:t>this.ymax?8:0)}_simplify(e){if(e&&e.length>4){for(let t=0;t<e.length;t+=2){const r=(t+2)%e.length,i=(t+4)%e.length;(e[t]===e[r]&&e[r]===e[i]||e[t+1]===e[r+1]&&e[r+1]===e[i+1])&&(e.splice(r,2),t-=2)}e.length||(e=null)}return e}}const B9=2*Math.PI,xu=Math.pow;function U9(n){return n[0]}function G9(n){return n[1]}function $9(n){const{triangles:e,coords:t}=n;for(let r=0;r<e.length;r+=3){const i=2*e[r],s=2*e[r+1],o=2*e[r+2];if((t[o]-t[i])*(t[s+1]-t[i+1])-(t[s]-t[i])*(t[o+1]-t[i+1])>1e-10)return!1}return!0}function z9(n,e,t){return[n+Math.sin(n+e)*t,e+Math.cos(n-e)*t]}class p_{static from(e,t=U9,r=G9,i){return new p_("length"in e?H9(e,t,r,i):Float64Array.from(j9(e,t,r,i)))}constructor(e){this._delaunator=new Ip(e),this.inedges=new Int32Array(e.length/2),this._hullIndex=new Int32Array(e.length/2),this.points=this._delaunator.coords,this._init()}update(){return this._delaunator.update(),this._init(),this}_init(){const e=this._delaunator,t=this.points;if(e.hull&&e.hull.length>2&&$9(e)){this.collinear=Int32Array.from({length:t.length/2},(_,T)=>T).sort((_,T)=>t[2*_]-t[2*T]||t[2*_+1]-t[2*T+1]);const u=this.collinear[0],h=this.collinear[this.collinear.length-1],m=[t[2*u],t[2*u+1],t[2*h],t[2*h+1]],y=1e-8*Math.hypot(m[3]-m[1],m[2]-m[0]);for(let _=0,T=t.length/2;_<T;++_){const w=z9(t[2*_],t[2*_+1],y);t[2*_]=w[0],t[2*_+1]=w[1]}this._delaunator=new Ip(t)}else delete this.collinear;const r=this.halfedges=this._delaunator.halfedges,i=this.hull=this._delaunator.hull,s=this.triangles=this._delaunator.triangles,o=this.inedges.fill(-1),l=this._hullIndex.fill(-1);for(let u=0,h=r.length;u<h;++u){const m=s[u%3===2?u-2:u+1];(r[u]===-1||o[m]===-1)&&(o[m]=u)}for(let u=0,h=i.length;u<h;++u)l[i[u]]=u;i.length<=2&&i.length>0&&(this.triangles=new Int32Array(3).fill(-1),this.halfedges=new Int32Array(3).fill(-1),this.triangles[0]=i[0],o[i[0]]=1,i.length===2&&(o[i[1]]=0,this.triangles[1]=i[1],this.triangles[2]=i[1]))}voronoi(e){return new N9(this,e)}*neighbors(e){const{inedges:t,hull:r,_hullIndex:i,halfedges:s,triangles:o,collinear:l}=this;if(l){const y=l.indexOf(e);y>0&&(yield l[y-1]),y<l.length-1&&(yield l[y+1]);return}const u=t[e];if(u===-1)return;let h=u,m=-1;do{if(yield m=o[h],h=h%3===2?h-2:h+1,o[h]!==e)return;if(h=s[h],h===-1){const y=r[(i[e]+1)%r.length];y!==m&&(yield y);return}}while(h!==u)}find(e,t,r=0){if(e=+e,e!==e||(t=+t,t!==t))return-1;const i=r;let s;for(;(s=this._step(r,e,t))>=0&&s!==r&&s!==i;)r=s;return s}_step(e,t,r){const{inedges:i,hull:s,_hullIndex:o,halfedges:l,triangles:u,points:h}=this;if(i[e]===-1||!h.length)return(e+1)%(h.length>>1);let m=e,y=xu(t-h[e*2],2)+xu(r-h[e*2+1],2);const _=i[e];let T=_;do{let w=u[T];const L=xu(t-h[w*2],2)+xu(r-h[w*2+1],2);if(L<y&&(y=L,m=w),T=T%3===2?T-2:T+1,u[T]!==e)break;if(T=l[T],T===-1){if(T=s[(o[e]+1)%s.length],T!==w&&xu(t-h[T*2],2)+xu(r-h[T*2+1],2)<y)return T;break}}while(T!==_);return m}render(e){const t=e==null?e=new uA:void 0,{points:r,halfedges:i,triangles:s}=this;for(let o=0,l=i.length;o<l;++o){const u=i[o];if(u<o)continue;const h=s[o]*2,m=s[u]*2;e.moveTo(r[h],r[h+1]),e.lineTo(r[m],r[m+1])}return this.renderHull(e),t&&t.value()}renderPoints(e,t){t===void 0&&(!e||typeof e.moveTo!="function")&&(t=e,e=null),t=t==null?2:+t;const r=e==null?e=new uA:void 0,{points:i}=this;for(let s=0,o=i.length;s<o;s+=2){const l=i[s],u=i[s+1];e.moveTo(l+t,u),e.arc(l,u,t,0,B9)}return r&&r.value()}renderHull(e){const t=e==null?e=new uA:void 0,{hull:r,points:i}=this,s=r[0]*2,o=r.length;e.moveTo(i[s],i[s+1]);for(let l=1;l<o;++l){const u=2*r[l];e.lineTo(i[u],i[u+1])}return e.closePath(),t&&t.value()}hullPolygon(){const e=new Tv;return this.renderHull(e),e.value()}renderTriangle(e,t){const r=t==null?t=new uA:void 0,{points:i,triangles:s}=this,o=s[e*=3]*2,l=s[e+1]*2,u=s[e+2]*2;return t.moveTo(i[o],i[o+1]),t.lineTo(i[l],i[l+1]),t.lineTo(i[u],i[u+1]),t.closePath(),r&&r.value()}*trianglePolygons(){const{triangles:e}=this;for(let t=0,r=e.length/3;t<r;++t)yield this.trianglePolygon(t)}trianglePolygon(e){const t=new Tv;return this.renderTriangle(e,t),t.value()}}function H9(n,e,t,r){const i=n.length,s=new Float64Array(i*2);for(let o=0;o<i;++o){const l=n[o];s[o*2]=e.call(r,l,o,n),s[o*2+1]=t.call(r,l,o,n)}return s}function*j9(n,e,t,r){let i=0;for(const s of n)yield e.call(r,s,i,n),yield t.call(r,s,i,n),++i}const m_=Math.PI,Jw=m_/2,ek=180/m_,tk=m_/180,V9=Math.atan2,nk=Math.cos,Q9=Math.max,K9=Math.min,rk=Math.sin,W9=Math.sign||function(n){return n>0?1:n<0?-1:0},nD=Math.sqrt;function Y9(n){return n>1?Jw:n<-1?-Jw:Math.asin(n)}function rD(n,e){return n[0]*e[0]+n[1]*e[1]+n[2]*e[2]}function Bi(n,e){return[n[1]*e[2]-n[2]*e[1],n[2]*e[0]-n[0]*e[2],n[0]*e[1]-n[1]*e[0]]}function Dp(n,e){return[n[0]+e[0],n[1]+e[1],n[2]+e[2]]}function bp(n){var e=nD(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);return[n[0]/e,n[1]/e,n[2]/e]}function y_(n){return[V9(n[1],n[0])*ek,Y9(Q9(-1,K9(1,n[2])))*ek]}function ko(n){const e=n[0]*tk,t=n[1]*tk,r=nk(t);return[r*nk(e),r*rk(e),rk(t)]}function v_(n){return n=n.map(e=>ko(e)),rD(n[0],Bi(n[2],n[1]))}function q9(n){const e=Z9(n),t=eG(e),r=J9(t,n),i=nG(t,n.length),s=X9(i,n),o=tG(t,n),{polygons:l,centers:u}=rG(o,t,n),h=iG(l),m=oG(t,n),y=sG(r,t);return{delaunay:e,edges:r,triangles:t,centers:u,neighbors:i,polygons:l,mesh:h,hull:m,urquhart:y,find:s}}function X9(n,e){function t(r,i){let s=r[0]-i[0],o=r[1]-i[1],l=r[2]-i[2];return s*s+o*o+l*l}return function(i,s,o){o===void 0&&(o=0);let l,u,h=o;const m=ko([i,s]);do l=o,o=null,u=t(m,ko(e[l])),n[l].forEach(y=>{let _=t(m,ko(e[y]));if(_<u){u=_,o=y,h=y;return}});while(o!==null);return h}}function Z9(n){if(n.length<2)return{};let e=0;for(;isNaN(n[e][0]+n[e][1])&&e++<n.length;);const t=eU(n[e]),r=DU().translate([0,0]).scale(1).rotate(t.invert([180,0]));n=n.map(r);const i=[];let s=1;for(let y=0,_=n.length;y<_;y++){let T=n[y][0]**2+n[y][1]**2;!isFinite(T)||T>1e32?i.push(y):T>s&&(s=T)}const o=1e6*nD(s);i.forEach(y=>n[y]=[o,0]),n.push([0,o]),n.push([-o,0]),n.push([0,-o]);const l=p_.from(n);l.projection=r;const{triangles:u,halfedges:h,inedges:m}=l;for(let y=0,_=h.length;y<_;y++)if(h[y]<0){const T=y%3==2?y-2:y+1,w=y%3==0?y+2:y-1,L=h[T],I=h[w];h[L]=I,h[I]=L,h[T]=h[w]=-1,u[y]=u[T]=u[w]=e,m[u[L]]=L%3==0?L+2:L-1,m[u[I]]=I%3==0?I+2:I-1,y+=2-y%3}else u[y]>n.length-3-1&&(u[y]=e);return l}function J9(n,e){const t=new Set;return e.length===2?[[0,1]]:(n.forEach(r=>{if(r[0]!==r[1]&&!(v_(r.map(i=>e[i]))<0))for(let i=0,s;i<3;i++)s=(i+1)%3,t.add(vI([r[i],r[s]]).join("-"))}),Array.from(t,r=>r.split("-").map(Number)))}function eG(n){const{triangles:e}=n;if(!e)return[];const t=[];for(let r=0,i=e.length/3;r<i;r++){const s=e[3*r],o=e[3*r+1],l=e[3*r+2];s!==o&&o!==l&&t.push([s,l,o])}return t}function tG(n,e){return n.map(t=>{const r=t.map(s=>e[s]).map(ko),i=Dp(Dp(Bi(r[1],r[0]),Bi(r[2],r[1])),Bi(r[0],r[2]));return y_(bp(i))})}function nG(n,e){const t=[];return n.forEach(r=>{for(let i=0;i<3;i++){const s=r[i],o=r[(i+1)%3];t[s]=t[s]||[],t[s].push(o)}}),n.length===0&&(e===2?(t[0]=[1],t[1]=[0]):e===1&&(t[0]=[])),t}function rG(n,e,t){const r=[],i=n.slice();if(e.length===0){if(t.length<2)return{polygons:r,centers:i};if(t.length===2){const l=ko(t[0]),u=ko(t[1]),h=bp(Dp(l,u)),m=bp(Bi(l,u)),y=Bi(h,m),_=[h,Bi(h,y),Bi(Bi(h,y),y),Bi(Bi(Bi(h,y),y),y)].map(y_).map(o);return r.push(_),r.push(_.slice().reverse()),{polygons:r,centers:i}}}e.forEach((l,u)=>{for(let h=0;h<3;h++){const m=l[h],y=l[(h+1)%3],_=l[(h+2)%3];r[m]=r[m]||[],r[m].push([y,_,u,[m,y,_]])}});const s=r.map(l=>{const u=[l[0][2]];let h=l[0][1];for(let m=1;m<l.length;m++)for(let y=0;y<l.length;y++)if(l[y][0]==h){h=l[y][1],u.push(l[y][2]);break}if(u.length>2)return u;if(u.length==2){const m=ik(t[l[0][3][0]],t[l[0][3][1]],i[u[0]]),y=ik(t[l[0][3][2]],t[l[0][3][0]],i[u[0]]),_=o(m),T=o(y);return[u[0],T,u[1],_]}});function o(l){let u=-1;return i.slice(e.length,1/0).forEach((h,m)=>{h[0]===l[0]&&h[1]===l[1]&&(u=m+e.length)}),u<0&&(u=i.length,i.push(l)),u}return{polygons:s,centers:i}}function ik(n,e,t){n=ko(n),e=ko(e),t=ko(t);const r=W9(rD(Bi(e,n),t));return y_(bp(Dp(n,e)).map(i=>r*i))}function iG(n){const e=[];return n.forEach(t=>{if(!t)return;let r=t[t.length-1];for(let i of t)i>r&&e.push([r,i]),r=i}),e}function sG(n,e){return function(t){const r=new Map,i=new Map;return n.forEach((s,o)=>{const l=s.join("-");r.set(l,t[o]),i.set(l,!0)}),e.forEach(s=>{let o=0,l=-1;for(let u=0;u<3;u++){let h=vI([s[u],s[(u+1)%3]]).join("-");r.get(h)>o&&(o=r.get(h),l=h)}i.set(l,!1)}),n.map(s=>i.get(s.join("-")))}}function oG(n,e){const t=new Set,r=[];n.map(l=>{if(!(v_(l.map(u=>e[u>e.length?0:u]))>1e-12))for(let u=0;u<3;u++){let h=[l[u],l[(u+1)%3]],m=`${h[0]}-${h[1]}`;t.has(m)?t.delete(m):t.add(`${h[1]}-${h[0]}`)}});const i=new Map;let s;if(t.forEach(l=>{l=l.split("-").map(Number),i.set(l[0],l[1]),s=l[0]}),s===void 0)return r;let o=s;do{r.push(o);let l=i.get(o);i.set(o,-1),o=l}while(o>-1&&o!==s);return r}function Bz(n){const e=function(t){if(e.delaunay=null,e._data=t,typeof e._data=="object"&&e._data.type==="FeatureCollection"&&(e._data=e._data.features),typeof e._data=="object"){const r=e._data.map(i=>[e._vx(i),e._vy(i),i]).filter(i=>isFinite(i[0]+i[1]));e.points=r.map(i=>[i[0],i[1]]),e.valid=r.map(i=>i[2]),e.delaunay=q9(e.points)}return e};return e._vx=function(t){if(typeof t=="object"&&"type"in t)return ow(t)[0];if(0 in t)return t[0]},e._vy=function(t){if(typeof t=="object"&&"type"in t)return ow(t)[1];if(1 in t)return t[1]},e.x=function(t){return t?(e._vx=t,e):e._vx},e.y=function(t){return t?(e._vy=t,e):e._vy},e.polygons=function(t){if(t!==void 0&&e(t),!e.delaunay)return!1;const r={type:"FeatureCollection",features:[]};return e.valid.length===0||(e.delaunay.polygons.forEach((i,s)=>r.features.push({type:"Feature",geometry:i?{type:"Polygon",coordinates:[[...i,i[0]].map(o=>e.delaunay.centers[o])]}:null,properties:{site:e.valid[s],sitecoordinates:e.points[s],neighbours:e.delaunay.neighbors[s]}})),e.valid.length===1&&r.features.push({type:"Feature",geometry:{type:"Sphere"},properties:{site:e.valid[0],sitecoordinates:e.points[0],neighbours:[]}})),r},e.triangles=function(t){return t!==void 0&&e(t),e.delaunay?{type:"FeatureCollection",features:e.delaunay.triangles.map((r,i)=>(r=r.map(s=>e.points[s]),r.center=e.delaunay.centers[i],r)).filter(r=>v_(r)>0).map(r=>({type:"Feature",properties:{circumcenter:r.center},geometry:{type:"Polygon",coordinates:[[...r,r[0]]]}}))}:!1},e.links=function(t){if(t!==void 0&&e(t),!e.delaunay)return!1;const r=e.delaunay.edges.map(s=>Tc(e.points[s[0]],e.points[s[1]])),i=e.delaunay.urquhart(r);return{type:"FeatureCollection",features:e.delaunay.edges.map((s,o)=>({type:"Feature",properties:{source:e.valid[s[0]],target:e.valid[s[1]],length:r[o],urquhart:!!i[o]},geometry:{type:"LineString",coordinates:[e.points[s[0]],e.points[s[1]]]}}))}},e.mesh=function(t){return t!==void 0&&e(t),e.delaunay?{type:"MultiLineString",coordinates:e.delaunay.edges.map(r=>[e.points[r[0]],e.points[r[1]]])}:!1},e.cellMesh=function(t){if(t!==void 0&&e(t),!e.delaunay)return!1;const{centers:r,polygons:i}=e.delaunay,s=[];for(const o of i)if(o)for(let l=o.length,u=o[l-1],h=o[0],m=0;m<l;u=h,h=o[++m])h>u&&s.push([r[u],r[h]]);return{type:"MultiLineString",coordinates:s}},e._found=void 0,e.find=function(t,r,i){if(e._found=e.delaunay.find(t,r,e._found),!i||Tc([t,r],e.points[e._found])<i)return e._found},e.hull=function(t){t!==void 0&&e(t);const r=e.delaunay.hull,i=e.points;return r.length===0?null:{type:"Polygon",coordinates:[[...r.map(s=>i[s]),i[r[0]]]]}},n?e(n):e}var Pt=function(n){n=n||{};var e=typeof n<"u"?n:{},t={},r;for(r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);var i="";function s(pe){return e.locateFile?e.locateFile(pe,i):i+pe}var o;typeof document<"u"&&document.currentScript&&(i=document.currentScript.src),i.indexOf("blob:")!==0?i=i.substr(0,i.lastIndexOf("/")+1):i="",o=function(we,Fe,Je){var f=new XMLHttpRequest;f.open("GET",we,!0),f.responseType="arraybuffer",f.onload=function(){if(f.status==200||f.status==0&&f.response){Fe(f.response);return}var It=I0(we);if(It){Fe(It.buffer);return}Je()},f.onerror=Je,f.send(null)};var l=e.print||console.log.bind(console),u=e.printErr||console.warn.bind(console);for(r in t)t.hasOwnProperty(r)&&(e[r]=t[r]);t=null,e.arguments&&e.arguments;var h=0,m=function(pe){h=pe},y=function(){return h},_=8;function T(pe,we,Fe,Je){switch(Fe=Fe||"i8",Fe.charAt(Fe.length-1)==="*"&&(Fe="i32"),Fe){case"i1":ge[pe>>0]=we;break;case"i8":ge[pe>>0]=we;break;case"i16":xe[pe>>1]=we;break;case"i32":ie[pe>>2]=we;break;case"i64":C0=[we>>>0,(Zi=we,+Br(Zi)>=1?Zi>0?(pm(+gm(Zi/4294967296),4294967295)|0)>>>0:~~+dm((Zi-+(~~Zi>>>0))/4294967296)>>>0:0)],ie[pe>>2]=C0[0],ie[pe+4>>2]=C0[1];break;case"float":ce[pe>>2]=we;break;case"double":ke[pe>>3]=we;break;default:bs("invalid type for setValue: "+Fe)}}function w(pe,we,Fe){switch(we=we||"i8",we.charAt(we.length-1)==="*"&&(we="i32"),we){case"i1":return ge[pe>>0];case"i8":return ge[pe>>0];case"i16":return xe[pe>>1];case"i32":return ie[pe>>2];case"i64":return ie[pe>>2];case"float":return ce[pe>>2];case"double":return ke[pe>>3];default:bs("invalid type for getValue: "+we)}return null}var L=!1;function I(pe,we){pe||bs("Assertion failed: "+we)}function C(pe){var we=e["_"+pe];return I(we,"Cannot call unknown function "+pe+", make sure it is exported"),we}function b(pe,we,Fe,Je,f){var Q={string:function(pt){var ni=0;if(pt!=null&&pt!==0){var UA=(pt.length<<2)+1;ni=D0(UA),j(pt,ni,UA)}return ni},array:function(pt){var ni=D0(pt.length);return Y(pt,ni),ni}};function It(pt){return we==="string"?$(pt):we==="boolean"?!!pt:pt}var Gt=C(pe),Mn=[],yt=0;if(Je)for(var Dt=0;Dt<Je.length;Dt++){var Js=Q[Fe[Dt]];Js?(yt===0&&(yt=Zc()),Mn[Dt]=Js(Je[Dt])):Mn[Dt]=Je[Dt]}var $t=Gt.apply(null,Mn);return $t=It($t),yt!==0&&Cm(yt),$t}function M(pe,we,Fe,Je){Fe=Fe||[];var f=Fe.every(function(It){return It==="number"}),Q=we!=="string";return Q&&f&&!Je?C(pe):function(){return b(pe,we,Fe,arguments)}}var U=typeof TextDecoder<"u"?new TextDecoder("utf8"):void 0;function B(pe,we,Fe){for(var Je=we+Fe,f=we;pe[f]&&!(f>=Je);)++f;if(f-we>16&&pe.subarray&&U)return U.decode(pe.subarray(we,f));for(var Q="";we<f;){var It=pe[we++];if(!(It&128)){Q+=String.fromCharCode(It);continue}var Gt=pe[we++]&63;if((It&224)==192){Q+=String.fromCharCode((It&31)<<6|Gt);continue}var Mn=pe[we++]&63;if((It&240)==224?It=(It&15)<<12|Gt<<6|Mn:It=(It&7)<<18|Gt<<12|Mn<<6|pe[we++]&63,It<65536)Q+=String.fromCharCode(It);else{var yt=It-65536;Q+=String.fromCharCode(55296|yt>>10,56320|yt&1023)}}return Q}function $(pe,we){return pe?B(ae,pe,we):""}function H(pe,we,Fe,Je){if(!(Je>0))return 0;for(var f=Fe,Q=Fe+Je-1,It=0;It<pe.length;++It){var Gt=pe.charCodeAt(It);if(Gt>=55296&&Gt<=57343){var Mn=pe.charCodeAt(++It);Gt=65536+((Gt&1023)<<10)|Mn&1023}if(Gt<=127){if(Fe>=Q)break;we[Fe++]=Gt}else if(Gt<=2047){if(Fe+1>=Q)break;we[Fe++]=192|Gt>>6,we[Fe++]=128|Gt&63}else if(Gt<=65535){if(Fe+2>=Q)break;we[Fe++]=224|Gt>>12,we[Fe++]=128|Gt>>6&63,we[Fe++]=128|Gt&63}else{if(Fe+3>=Q)break;we[Fe++]=240|Gt>>18,we[Fe++]=128|Gt>>12&63,we[Fe++]=128|Gt>>6&63,we[Fe++]=128|Gt&63}}return we[Fe]=0,Fe-f}function j(pe,we,Fe){return H(pe,ae,we,Fe)}typeof TextDecoder<"u"&&new TextDecoder("utf-16le");function Y(pe,we){ge.set(pe,we)}function q(pe,we){return pe%we>0&&(pe+=we-pe%we),pe}var X,ge,ae,xe,ie,ce,ke;function re(pe){X=pe,e.HEAP8=ge=new Int8Array(pe),e.HEAP16=xe=new Int16Array(pe),e.HEAP32=ie=new Int32Array(pe),e.HEAPU8=ae=new Uint8Array(pe),e.HEAPU16=new Uint16Array(pe),e.HEAPU32=new Uint32Array(pe),e.HEAPF32=ce=new Float32Array(pe),e.HEAPF64=ke=new Float64Array(pe)}var se=5267040,fe=24128,Ie=e.TOTAL_MEMORY||33554432;e.buffer?X=e.buffer:X=new ArrayBuffer(Ie),Ie=X.byteLength,re(X),ie[fe>>2]=se;function Ce(pe){for(;pe.length>0;){var we=pe.shift();if(typeof we=="function"){we();continue}var Fe=we.func;typeof Fe=="number"?we.arg===void 0?e.dynCall_v(Fe):e.dynCall_vi(Fe,we.arg):Fe(we.arg===void 0?null:we.arg)}}var We=[],Xe=[],At=[],Tt=[];function qt(){if(e.preRun)for(typeof e.preRun=="function"&&(e.preRun=[e.preRun]);e.preRun.length;)Li(e.preRun.shift());Ce(We)}function Io(){Ce(Xe)}function Do(){Ce(At)}function MA(){if(e.postRun)for(typeof e.postRun=="function"&&(e.postRun=[e.postRun]);e.postRun.length;)OA(e.postRun.shift());Ce(Tt)}function Li(pe){We.unshift(pe)}function OA(pe){Tt.unshift(pe)}var Br=Math.abs,dm=Math.ceil,gm=Math.floor,pm=Math.min,bo=0,ka=null;function mm(pe){bo++,e.monitorRunDependencies&&e.monitorRunDependencies(bo)}function La(pe){if(bo--,e.monitorRunDependencies&&e.monitorRunDependencies(bo),bo==0&&ka){var we=ka;ka=null,we()}}e.preloadedImages={},e.preloadedAudios={};var Ds=null,R0="data:application/octet-stream;base64,";function Vc(pe){return String.prototype.startsWith?pe.startsWith(R0):pe.indexOf(R0)===0}var Zi,C0;Ds="data:application/octet-stream;base64,AAAAAAAAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAGAAAAAQAAAAQAAAADAAAABgAAAAUAAAACAAAAAAAAAAIAAAADAAAAAQAAAAQAAAAGAAAAAAAAAAUAAAADAAAABgAAAAQAAAAFAAAAAAAAAAEAAAACAAAABAAAAAUAAAAGAAAAAAAAAAIAAAADAAAAAQAAAAUAAAACAAAAAAAAAAEAAAADAAAABgAAAAQAAAAGAAAAAAAAAAUAAAACAAAAAQAAAAQAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAAAAAAEAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAYAAAAAAAAABQAAAAAAAAAAAAAABAAAAAUAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAYAAAAAAAAABgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAABAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAgAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAMAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAAEAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABQAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAYAAAAAAAAAAQAAAAIAAAADAAAABAAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAIAAAAAAAAAAAAAAAYAAAAAAAAAAwAAAAIAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAFAAAABAAAAAAAAAABAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAYAAAAAAAAABAAAAAAAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAFAAAAAgAAAAQAAAADAAAACAAAAAEAAAAHAAAABgAAAAkAAAAAAAAAAwAAAAIAAAACAAAABgAAAAoAAAALAAAAAAAAAAEAAAAFAAAAAwAAAA0AAAABAAAABwAAAAQAAAAMAAAAAAAAAAQAAAB/AAAADwAAAAgAAAADAAAAAAAAAAwAAAAFAAAAAgAAABIAAAAKAAAACAAAAAAAAAAQAAAABgAAAA4AAAALAAAAEQAAAAEAAAAJAAAAAgAAAAcAAAAVAAAACQAAABMAAAADAAAADQAAAAEAAAAIAAAABQAAABYAAAAQAAAABAAAAAAAAAAPAAAACQAAABMAAAAOAAAAFAAAAAEAAAAHAAAABgAAAAoAAAALAAAAGAAAABcAAAAFAAAAAgAAABIAAAALAAAAEQAAABcAAAAZAAAAAgAAAAYAAAAKAAAADAAAABwAAAANAAAAGgAAAAQAAAAPAAAAAwAAAA0AAAAaAAAAFQAAAB0AAAADAAAADAAAAAcAAAAOAAAAfwAAABEAAAAbAAAACQAAABQAAAAGAAAADwAAABYAAAAcAAAAHwAAAAQAAAAIAAAADAAAABAAAAASAAAAIQAAAB4AAAAIAAAABQAAABYAAAARAAAACwAAAA4AAAAGAAAAIwAAABkAAAAbAAAAEgAAABgAAAAeAAAAIAAAAAUAAAAKAAAAEAAAABMAAAAiAAAAFAAAACQAAAAHAAAAFQAAAAkAAAAUAAAADgAAABMAAAAJAAAAKAAAABsAAAAkAAAAFQAAACYAAAATAAAAIgAAAA0AAAAdAAAABwAAABYAAAAQAAAAKQAAACEAAAAPAAAACAAAAB8AAAAXAAAAGAAAAAsAAAAKAAAAJwAAACUAAAAZAAAAGAAAAH8AAAAgAAAAJQAAAAoAAAAXAAAAEgAAABkAAAAXAAAAEQAAAAsAAAAtAAAAJwAAACMAAAAaAAAAKgAAAB0AAAArAAAADAAAABwAAAANAAAAGwAAACgAAAAjAAAALgAAAA4AAAAUAAAAEQAAABwAAAAfAAAAKgAAACwAAAAMAAAADwAAABoAAAAdAAAAKwAAACYAAAAvAAAADQAAABoAAAAVAAAAHgAAACAAAAAwAAAAMgAAABAAAAASAAAAIQAAAB8AAAApAAAALAAAADUAAAAPAAAAFgAAABwAAAAgAAAAHgAAABgAAAASAAAANAAAADIAAAAlAAAAIQAAAB4AAAAxAAAAMAAAABYAAAAQAAAAKQAAACIAAAATAAAAJgAAABUAAAA2AAAAJAAAADMAAAAjAAAALgAAAC0AAAA4AAAAEQAAABsAAAAZAAAAJAAAABQAAAAiAAAAEwAAADcAAAAoAAAANgAAACUAAAAnAAAANAAAADkAAAAYAAAAFwAAACAAAAAmAAAAfwAAACIAAAAzAAAAHQAAAC8AAAAVAAAAJwAAACUAAAAZAAAAFwAAADsAAAA5AAAALQAAACgAAAAbAAAAJAAAABQAAAA8AAAALgAAADcAAAApAAAAMQAAADUAAAA9AAAAFgAAACEAAAAfAAAAKgAAADoAAAArAAAAPgAAABwAAAAsAAAAGgAAACsAAAA+AAAALwAAAEAAAAAaAAAAKgAAAB0AAAAsAAAANQAAADoAAABBAAAAHAAAAB8AAAAqAAAALQAAACcAAAAjAAAAGQAAAD8AAAA7AAAAOAAAAC4AAAA8AAAAOAAAAEQAAAAbAAAAKAAAACMAAAAvAAAAJgAAACsAAAAdAAAARQAAADMAAABAAAAAMAAAADEAAAAeAAAAIQAAAEMAAABCAAAAMgAAADEAAAB/AAAAPQAAAEIAAAAhAAAAMAAAACkAAAAyAAAAMAAAACAAAAAeAAAARgAAAEMAAAA0AAAAMwAAAEUAAAA2AAAARwAAACYAAAAvAAAAIgAAADQAAAA5AAAARgAAAEoAAAAgAAAAJQAAADIAAAA1AAAAPQAAAEEAAABLAAAAHwAAACkAAAAsAAAANgAAAEcAAAA3AAAASQAAACIAAAAzAAAAJAAAADcAAAAoAAAANgAAACQAAABIAAAAPAAAAEkAAAA4AAAARAAAAD8AAABNAAAAIwAAAC4AAAAtAAAAOQAAADsAAABKAAAATgAAACUAAAAnAAAANAAAADoAAAB/AAAAPgAAAEwAAAAsAAAAQQAAACoAAAA7AAAAPwAAAE4AAABPAAAAJwAAAC0AAAA5AAAAPAAAAEgAAABEAAAAUAAAACgAAAA3AAAALgAAAD0AAAA1AAAAMQAAACkAAABRAAAASwAAAEIAAAA+AAAAKwAAADoAAAAqAAAAUgAAAEAAAABMAAAAPwAAAH8AAAA4AAAALQAAAE8AAAA7AAAATQAAAEAAAAAvAAAAPgAAACsAAABUAAAARQAAAFIAAABBAAAAOgAAADUAAAAsAAAAVgAAAEwAAABLAAAAQgAAAEMAAABRAAAAVQAAADEAAAAwAAAAPQAAAEMAAABCAAAAMgAAADAAAABXAAAAVQAAAEYAAABEAAAAOAAAADwAAAAuAAAAWgAAAE0AAABQAAAARQAAADMAAABAAAAALwAAAFkAAABHAAAAVAAAAEYAAABDAAAANAAAADIAAABTAAAAVwAAAEoAAABHAAAAWQAAAEkAAABbAAAAMwAAAEUAAAA2AAAASAAAAH8AAABJAAAANwAAAFAAAAA8AAAAWAAAAEkAAABbAAAASAAAAFgAAAA2AAAARwAAADcAAABKAAAATgAAAFMAAABcAAAANAAAADkAAABGAAAASwAAAEEAAAA9AAAANQAAAF4AAABWAAAAUQAAAEwAAABWAAAAUgAAAGAAAAA6AAAAQQAAAD4AAABNAAAAPwAAAEQAAAA4AAAAXQAAAE8AAABaAAAATgAAAEoAAAA7AAAAOQAAAF8AAABcAAAATwAAAE8AAABOAAAAPwAAADsAAABdAAAAXwAAAE0AAABQAAAARAAAAEgAAAA8AAAAYwAAAFoAAABYAAAAUQAAAFUAAABeAAAAZQAAAD0AAABCAAAASwAAAFIAAABgAAAAVAAAAGIAAAA+AAAATAAAAEAAAABTAAAAfwAAAEoAAABGAAAAZAAAAFcAAABcAAAAVAAAAEUAAABSAAAAQAAAAGEAAABZAAAAYgAAAFUAAABXAAAAZQAAAGYAAABCAAAAQwAAAFEAAABWAAAATAAAAEsAAABBAAAAaAAAAGAAAABeAAAAVwAAAFMAAABmAAAAZAAAAEMAAABGAAAAVQAAAFgAAABIAAAAWwAAAEkAAABjAAAAUAAAAGkAAABZAAAAYQAAAFsAAABnAAAARQAAAFQAAABHAAAAWgAAAE0AAABQAAAARAAAAGoAAABdAAAAYwAAAFsAAABJAAAAWQAAAEcAAABpAAAAWAAAAGcAAABcAAAAUwAAAE4AAABKAAAAbAAAAGQAAABfAAAAXQAAAE8AAABaAAAATQAAAG0AAABfAAAAagAAAF4AAABWAAAAUQAAAEsAAABrAAAAaAAAAGUAAABfAAAAXAAAAE8AAABOAAAAbQAAAGwAAABdAAAAYAAAAGgAAABiAAAAbgAAAEwAAABWAAAAUgAAAGEAAAB/AAAAYgAAAFQAAABnAAAAWQAAAG8AAABiAAAAbgAAAGEAAABvAAAAUgAAAGAAAABUAAAAYwAAAFAAAABpAAAAWAAAAGoAAABaAAAAcQAAAGQAAABmAAAAUwAAAFcAAABsAAAAcgAAAFwAAABlAAAAZgAAAGsAAABwAAAAUQAAAFUAAABeAAAAZgAAAGUAAABXAAAAVQAAAHIAAABwAAAAZAAAAGcAAABbAAAAYQAAAFkAAAB0AAAAaQAAAG8AAABoAAAAawAAAG4AAABzAAAAVgAAAF4AAABgAAAAaQAAAFgAAABnAAAAWwAAAHEAAABjAAAAdAAAAGoAAABdAAAAYwAAAFoAAAB1AAAAbQAAAHEAAABrAAAAfwAAAGUAAABeAAAAcwAAAGgAAABwAAAAbAAAAGQAAABfAAAAXAAAAHYAAAByAAAAbQAAAG0AAABsAAAAXQAAAF8AAAB1AAAAdgAAAGoAAABuAAAAYgAAAGgAAABgAAAAdwAAAG8AAABzAAAAbwAAAGEAAABuAAAAYgAAAHQAAABnAAAAdwAAAHAAAABrAAAAZgAAAGUAAAB4AAAAcwAAAHIAAABxAAAAYwAAAHQAAABpAAAAdQAAAGoAAAB5AAAAcgAAAHAAAABkAAAAZgAAAHYAAAB4AAAAbAAAAHMAAABuAAAAawAAAGgAAAB4AAAAdwAAAHAAAAB0AAAAZwAAAHcAAABvAAAAcQAAAGkAAAB5AAAAdQAAAH8AAABtAAAAdgAAAHEAAAB5AAAAagAAAHYAAAB4AAAAbAAAAHIAAAB1AAAAeQAAAG0AAAB3AAAAbwAAAHMAAABuAAAAeQAAAHQAAAB4AAAAeAAAAHMAAAByAAAAcAAAAHkAAAB3AAAAdgAAAHkAAAB0AAAAeAAAAHcAAAB1AAAAcQAAAHYAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAACAAAABQAAAAEAAAAAAAAA/////wEAAAAAAAAAAwAAAAQAAAACAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAAFAAAAAQAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAAAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAABQAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAEAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAQAAAAMAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAUAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAFAAAABQAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAAAAAD/////AwAAAAAAAAAFAAAAAgAAAAAAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAADAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAAAAAABAAAAAwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAADAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAADAAAAAwAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAwAAAAAAAAAAAAAA/////wMAAAAAAAAABQAAAAIAAAAAAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAwAAAAAAAAADAAAAAwAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAMAAAADAAAAAwAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAwAAAAUAAAABAAAAAAAAAP////8DAAAAAAAAAAUAAAACAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABAAAAAUAAAABAAAAAAAAAAMAAAADAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAUAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAIAAAAFAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAADAAAAAQAAAAAAAAABAAAAAAAAAAUAAAAAAAAAAAAAAAUAAAAFAAAAAAAAAAAAAAD/////AQAAAAAAAAADAAAABAAAAAIAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAFAAAAAAAAAAAAAAAFAAAABQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAUAAAABAAAAAAAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAEAAAD//////////wEAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAAAAAAAAAAABAAAAAgAAAAYAAAAEAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAcAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAYAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAAAAAAAAAAAAQAAAAEAAAAFAAAABgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAACAAAAAAAAAAAAAAABAAAAAwAAAAcAAAAGAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAADgAAAAIAAAAAAAAAAAAAAAEAAAAAAAAACQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACgAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAMAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAABwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAIAAAAAAAAAAAAAAAEAAAAEAAAACAAAAAoAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAAAAAAAAAAAAQAAAAsAAAAPAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAIAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAABQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHAAAAAgAAAAAAAAAAAAAAAQAAAAwAAAAQAAAADAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAoAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAPAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAADwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAOAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAADQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAUAAAACAAAAAAAAAAAAAAABAAAACgAAABMAAAAIAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAOAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAwAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAQAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAQAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAACQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA8AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAAAAAAAAAAAAAEAAAANAAAAEQAAAA0AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAARAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAEAAAABAAAAAAAAAAAAAAAAAAAAEQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAAA0AAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAARAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAkAAAACAAAAAAAAAAAAAAABAAAADgAAABIAAAAPAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAADwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAASAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEwAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAABEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAAAAABIAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAATAAAAAgAAAAAAAAAAAAAAAQAAAP//////////EwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAATAAAAAQAAAAAAAAABAAAAAAAAAAAAAAAAAAAAEgAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAASAAAAAAAAABgAAAAAAAAAIQAAAAAAAAAeAAAAAAAAACAAAAADAAAAMQAAAAEAAAAwAAAAAwAAADIAAAADAAAACAAAAAAAAAAFAAAABQAAAAoAAAAFAAAAFgAAAAAAAAAQAAAAAAAAABIAAAAAAAAAKQAAAAEAAAAhAAAAAAAAAB4AAAAAAAAABAAAAAAAAAAAAAAABQAAAAIAAAAFAAAADwAAAAEAAAAIAAAAAAAAAAUAAAAFAAAAHwAAAAEAAAAWAAAAAAAAABAAAAAAAAAAAgAAAAAAAAAGAAAAAAAAAA4AAAAAAAAACgAAAAAAAAALAAAAAAAAABEAAAADAAAAGAAAAAEAAAAXAAAAAwAAABkAAAADAAAAAAAAAAAAAAABAAAABQAAAAkAAAAFAAAABQAAAAAAAAACAAAAAAAAAAYAAAAAAAAAEgAAAAEAAAAKAAAAAAAAAAsAAAAAAAAABAAAAAEAAAADAAAABQAAAAcAAAAFAAAACAAAAAEAAAAAAAAAAAAAAAEAAAAFAAAAEAAAAAEAAAAFAAAAAAAAAAIAAAAAAAAABwAAAAAAAAAVAAAAAAAAACYAAAAAAAAACQAAAAAAAAATAAAAAAAAACIAAAADAAAADgAAAAEAAAAUAAAAAwAAACQAAAADAAAAAwAAAAAAAAANAAAABQAAAB0AAAAFAAAAAQAAAAAAAAAHAAAAAAAAABUAAAAAAAAABgAAAAEAAAAJAAAAAAAAABMAAAAAAAAABAAAAAIAAAAMAAAABQAAABoAAAAFAAAAAAAAAAEAAAADAAAAAAAAAA0AAAAFAAAAAgAAAAEAAAABAAAAAAAAAAcAAAAAAAAAGgAAAAAAAAAqAAAAAAAAADoAAAAAAAAAHQAAAAAAAAArAAAAAAAAAD4AAAADAAAAJgAAAAEAAAAvAAAAAwAAAEAAAAADAAAADAAAAAAAAAAcAAAABQAAACwAAAAFAAAADQAAAAAAAAAaAAAAAAAAACoAAAAAAAAAFQAAAAEAAAAdAAAAAAAAACsAAAAAAAAABAAAAAMAAAAPAAAABQAAAB8AAAAFAAAAAwAAAAEAAAAMAAAAAAAAABwAAAAFAAAABwAAAAEAAAANAAAAAAAAABoAAAAAAAAAHwAAAAAAAAApAAAAAAAAADEAAAAAAAAALAAAAAAAAAA1AAAAAAAAAD0AAAADAAAAOgAAAAEAAABBAAAAAwAAAEsAAAADAAAADwAAAAAAAAAWAAAABQAAACEAAAAFAAAAHAAAAAAAAAAfAAAAAAAAACkAAAAAAAAAKgAAAAEAAAAsAAAAAAAAADUAAAAAAAAABAAAAAQAAAAIAAAABQAAABAAAAAFAAAADAAAAAEAAAAPAAAAAAAAABYAAAAFAAAAGgAAAAEAAAAcAAAAAAAAAB8AAAAAAAAAMgAAAAAAAAAwAAAAAAAAADEAAAADAAAAIAAAAAAAAAAeAAAAAwAAACEAAAADAAAAGAAAAAMAAAASAAAAAwAAABAAAAADAAAARgAAAAAAAABDAAAAAAAAAEIAAAADAAAANAAAAAMAAAAyAAAAAAAAADAAAAAAAAAAJQAAAAMAAAAgAAAAAAAAAB4AAAADAAAAUwAAAAAAAABXAAAAAwAAAFUAAAADAAAASgAAAAMAAABGAAAAAAAAAEMAAAAAAAAAOQAAAAEAAAA0AAAAAwAAADIAAAAAAAAAGQAAAAAAAAAXAAAAAAAAABgAAAADAAAAEQAAAAAAAAALAAAAAwAAAAoAAAADAAAADgAAAAMAAAAGAAAAAwAAAAIAAAADAAAALQAAAAAAAAAnAAAAAAAAACUAAAADAAAAIwAAAAMAAAAZAAAAAAAAABcAAAAAAAAAGwAAAAMAAAARAAAAAAAAAAsAAAADAAAAPwAAAAAAAAA7AAAAAwAAADkAAAADAAAAOAAAAAMAAAAtAAAAAAAAACcAAAAAAAAALgAAAAMAAAAjAAAAAwAAABkAAAAAAAAAJAAAAAAAAAAUAAAAAAAAAA4AAAADAAAAIgAAAAAAAAATAAAAAwAAAAkAAAADAAAAJgAAAAMAAAAVAAAAAwAAAAcAAAADAAAANwAAAAAAAAAoAAAAAAAAABsAAAADAAAANgAAAAMAAAAkAAAAAAAAABQAAAAAAAAAMwAAAAMAAAAiAAAAAAAAABMAAAADAAAASAAAAAAAAAA8AAAAAwAAAC4AAAADAAAASQAAAAMAAAA3AAAAAAAAACgAAAAAAAAARwAAAAMAAAA2AAAAAwAAACQAAAAAAAAAQAAAAAAAAAAvAAAAAAAAACYAAAADAAAAPgAAAAAAAAArAAAAAwAAAB0AAAADAAAAOgAAAAMAAAAqAAAAAwAAABoAAAADAAAAVAAAAAAAAABFAAAAAAAAADMAAAADAAAAUgAAAAMAAABAAAAAAAAAAC8AAAAAAAAATAAAAAMAAAA+AAAAAAAAACsAAAADAAAAYQAAAAAAAABZAAAAAwAAAEcAAAADAAAAYgAAAAMAAABUAAAAAAAAAEUAAAAAAAAAYAAAAAMAAABSAAAAAwAAAEAAAAAAAAAASwAAAAAAAABBAAAAAAAAADoAAAADAAAAPQAAAAAAAAA1AAAAAwAAACwAAAADAAAAMQAAAAMAAAApAAAAAwAAAB8AAAADAAAAXgAAAAAAAABWAAAAAAAAAEwAAAADAAAAUQAAAAMAAABLAAAAAAAAAEEAAAAAAAAAQgAAAAMAAAA9AAAAAAAAADUAAAADAAAAawAAAAAAAABoAAAAAwAAAGAAAAADAAAAZQAAAAMAAABeAAAAAAAAAFYAAAAAAAAAVQAAAAMAAABRAAAAAwAAAEsAAAAAAAAAOQAAAAAAAAA7AAAAAAAAAD8AAAADAAAASgAAAAAAAABOAAAAAwAAAE8AAAADAAAAUwAAAAMAAABcAAAAAwAAAF8AAAADAAAAJQAAAAAAAAAnAAAAAwAAAC0AAAADAAAANAAAAAAAAAA5AAAAAAAAADsAAAAAAAAARgAAAAMAAABKAAAAAAAAAE4AAAADAAAAGAAAAAAAAAAXAAAAAwAAABkAAAADAAAAIAAAAAMAAAAlAAAAAAAAACcAAAADAAAAMgAAAAMAAAA0AAAAAAAAADkAAAAAAAAALgAAAAAAAAA8AAAAAAAAAEgAAAADAAAAOAAAAAAAAABEAAAAAwAAAFAAAAADAAAAPwAAAAMAAABNAAAAAwAAAFoAAAADAAAAGwAAAAAAAAAoAAAAAwAAADcAAAADAAAAIwAAAAAAAAAuAAAAAAAAADwAAAAAAAAALQAAAAMAAAA4AAAAAAAAAEQAAAADAAAADgAAAAAAAAAUAAAAAwAAACQAAAADAAAAEQAAAAMAAAAbAAAAAAAAACgAAAADAAAAGQAAAAMAAAAjAAAAAAAAAC4AAAAAAAAARwAAAAAAAABZAAAAAAAAAGEAAAADAAAASQAAAAAAAABbAAAAAwAAAGcAAAADAAAASAAAAAMAAABYAAAAAwAAAGkAAAADAAAAMwAAAAAAAABFAAAAAwAAAFQAAAADAAAANgAAAAAAAABHAAAAAAAAAFkAAAAAAAAANwAAAAMAAABJAAAAAAAAAFsAAAADAAAAJgAAAAAAAAAvAAAAAwAAAEAAAAADAAAAIgAAAAMAAAAzAAAAAAAAAEUAAAADAAAAJAAAAAMAAAA2AAAAAAAAAEcAAAAAAAAAYAAAAAAAAABoAAAAAAAAAGsAAAADAAAAYgAAAAAAAABuAAAAAwAAAHMAAAADAAAAYQAAAAMAAABvAAAAAwAAAHcAAAADAAAATAAAAAAAAABWAAAAAwAAAF4AAAADAAAAUgAAAAAAAABgAAAAAAAAAGgAAAAAAAAAVAAAAAMAAABiAAAAAAAAAG4AAAADAAAAOgAAAAAAAABBAAAAAwAAAEsAAAADAAAAPgAAAAMAAABMAAAAAAAAAFYAAAADAAAAQAAAAAMAAABSAAAAAAAAAGAAAAAAAAAAVQAAAAAAAABXAAAAAAAAAFMAAAADAAAAZQAAAAAAAABmAAAAAwAAAGQAAAADAAAAawAAAAMAAABwAAAAAwAAAHIAAAADAAAAQgAAAAAAAABDAAAAAwAAAEYAAAADAAAAUQAAAAAAAABVAAAAAAAAAFcAAAAAAAAAXgAAAAMAAABlAAAAAAAAAGYAAAADAAAAMQAAAAAAAAAwAAAAAwAAADIAAAADAAAAPQAAAAMAAABCAAAAAAAAAEMAAAADAAAASwAAAAMAAABRAAAAAAAAAFUAAAAAAAAAXwAAAAAAAABcAAAAAAAAAFMAAAAAAAAATwAAAAAAAABOAAAAAAAAAEoAAAADAAAAPwAAAAEAAAA7AAAAAwAAADkAAAADAAAAbQAAAAAAAABsAAAAAAAAAGQAAAAFAAAAXQAAAAEAAABfAAAAAAAAAFwAAAAAAAAATQAAAAEAAABPAAAAAAAAAE4AAAAAAAAAdQAAAAQAAAB2AAAABQAAAHIAAAAFAAAAagAAAAEAAABtAAAAAAAAAGwAAAAAAAAAWgAAAAEAAABdAAAAAQAAAF8AAAAAAAAAWgAAAAAAAABNAAAAAAAAAD8AAAAAAAAAUAAAAAAAAABEAAAAAAAAADgAAAADAAAASAAAAAEAAAA8AAAAAwAAAC4AAAADAAAAagAAAAAAAABdAAAAAAAAAE8AAAAFAAAAYwAAAAEAAABaAAAAAAAAAE0AAAAAAAAAWAAAAAEAAABQAAAAAAAAAEQAAAAAAAAAdQAAAAMAAABtAAAABQAAAF8AAAAFAAAAcQAAAAEAAABqAAAAAAAAAF0AAAAAAAAAaQAAAAEAAABjAAAAAQAAAFoAAAAAAAAAaQAAAAAAAABYAAAAAAAAAEgAAAAAAAAAZwAAAAAAAABbAAAAAAAAAEkAAAADAAAAYQAAAAEAAABZAAAAAwAAAEcAAAADAAAAcQAAAAAAAABjAAAAAAAAAFAAAAAFAAAAdAAAAAEAAABpAAAAAAAAAFgAAAAAAAAAbwAAAAEAAABnAAAAAAAAAFsAAAAAAAAAdQAAAAIAAABqAAAABQAAAFoAAAAFAAAAeQAAAAEAAABxAAAAAAAAAGMAAAAAAAAAdwAAAAEAAAB0AAAAAQAAAGkAAAAAAAAAdwAAAAAAAABvAAAAAAAAAGEAAAAAAAAAcwAAAAAAAABuAAAAAAAAAGIAAAADAAAAawAAAAEAAABoAAAAAwAAAGAAAAADAAAAeQAAAAAAAAB0AAAAAAAAAGcAAAAFAAAAeAAAAAEAAAB3AAAAAAAAAG8AAAAAAAAAcAAAAAEAAABzAAAAAAAAAG4AAAAAAAAAdQAAAAEAAABxAAAABQAAAGkAAAAFAAAAdgAAAAEAAAB5AAAAAAAAAHQAAAAAAAAAcgAAAAEAAAB4AAAAAQAAAHcAAAAAAAAAcgAAAAAAAABwAAAAAAAAAGsAAAAAAAAAZAAAAAAAAABmAAAAAAAAAGUAAAADAAAAUwAAAAEAAABXAAAAAwAAAFUAAAADAAAAdgAAAAAAAAB4AAAAAAAAAHMAAAAFAAAAbAAAAAEAAAByAAAAAAAAAHAAAAAAAAAAXAAAAAEAAABkAAAAAAAAAGYAAAAAAAAAdQAAAAAAAAB5AAAABQAAAHcAAAAFAAAAbQAAAAEAAAB2AAAAAAAAAHgAAAAAAAAAXwAAAAEAAABsAAAAAQAAAHIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAAAAAABAAAAAQAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAGAAAAAgAAAAUAAAABAAAABAAAAAAAAAAAAAAABQAAAAMAAAABAAAABgAAAAQAAAACAAAAAAAAAH6iBfbytuk/Gq6akm/58z/Xrm0Liez0P5doSdOpSwRAWs602ULg8D/dT7Rcbo/1v1N1RQHFNOM/g9Snx7HW3L8HWsP8Q3jfP6VwOLosutk/9rjk1YQcxj+gnmKMsNn6P/HDeuPFY+M/YHwDjqKhB0Ci19/fCVrbP4UxKkDWOP6/pvljWa09tL9wi7wrQXjnv/Z6yLImkM2/3yTlOzY14D+m+WNZrT20PzwKVQnrQwNA9nrIsiaQzT/g40rFrRQFwPa45NWEHMa/kbslHEZq97/xw3rjxWPjv4cLC2SMBci/otff3wla27+rKF5oIAv0P1N1RQHFNOO/iDJPGyWHBUAHWsP8Q3jfvwQf/by16gXAfqIF9vK26b8XrO0Vh0r+v9eubQuJ7PS/BxLrA0ZZ479azrTZQuDwv1MK1EuItPw/yscgV9Z6FkAwHBR2WjQMQJNRzXsQ5vY/GlUHVJYKF0DONuFv2lMNQNCGZ28QJfk/0WUwoIL36D8ggDOMQuATQNqMOeAy/wZAWFYOYM+M2z/LWC4uH3oSQDE+LyTsMgRAkJzhRGWFGEDd4soovCQQQKqk0DJMEP8/rGmNdwOLBUAW2X/9xCbjP4hu3dcqJhNAzuYItRvdB0CgzW3zJW/sPxotm/Y2TxRAQAk9XmdDDEC1Kx9MKgT3P1M+NctcghZAFVqcLlb0C0Bgzd3sB2b2P77mZDPUWhZAFROHJpUGCEDAfma5CxXtPz1DWq/zYxRAmhYY5824F0DOuQKWSbAOQNCMqrvu3fs/L6DR22K2wT9nAAxPBU8RQGiN6mW43AFAZhu25b633D8c1YgmzowSQNM25BRKWARArGS08/lNxD+LFssHwmMRQLC5aNcxBgJABL9HT0WRF0CjCmJmOGEOQHsuaVzMP/s/TWJCaGGwBUCeu1PAPLzjP9nqN9DZOBNAKE4JcydbCkCGtbd1qjPzP8dgm9U8jhVAtPeKTkVwDkCeCLss5l37P401XMPLmBdAFd29VMVQDUBg0yA55h75Pz6odcYLCRdApBM4rBrkAkDyAVWgQxbRP4XDMnK20hFAymLlF7EmzD8GUgo9XBHlP3lbK7T9COc/k+OhPthhy7+YGEpnrOvCPzBFhLs15u4/epbqB6H4uz9IuuLF5svev6lzLKY31es/CaQ0envF5z8ZY0xlUADXv7zaz7HYEuI/CfbK1sn16T8uAQfWwxLWPzKn/YuFN94/5KdbC1AFu793fyCSnlfvPzK2y4doAMY/NRg5t1/X6b/shq4QJaHDP5yNIAKPOeI/vpn7BSE30r/X4YQrO6nrv78Ziv/Thto/DqJ1Y6+y5z9l51NaxFrlv8QlA65HOLS/86dxiEc96z+Hj0+LFjneP6LzBZ8LTc2/DaJ1Y6+y579l51NaxFrlP8QlA65HOLQ/8qdxiEc967+Jj0+LFjnev6LzBZ8LTc0/1qdbC1AFuz93fyCSnlfvvzK2y4doAMa/NRg5t1/X6T/vhq4QJaHDv5yNIAKPOeK/wJn7BSE30j/W4YQrO6nrP78Ziv/Thtq/CaQ0envF578XY0xlUADXP7zaz7HYEuK/CvbK1sn16b8rAQfWwxLWvzKn/YuFN96/zWLlF7EmzL8GUgo9XBHlv3lbK7T9COe/kOOhPthhyz+cGEpnrOvCvzBFhLs15u6/c5bqB6H4u79IuuLF5sveP6lzLKY31eu/AQAAAP////8HAAAA/////zEAAAD/////VwEAAP////9hCQAA/////6dBAAD/////kcsBAP/////3kAwA/////8H2VwAAAAAAAAAAAAAAAAACAAAA/////w4AAAD/////YgAAAP////+uAgAA/////8ISAAD/////ToMAAP////8ilwMA/////+4hGQD/////gu2vAAAAAAAAAAAAAAAAAAAAAAACAAAA//////////8BAAAAAwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////////////////////AQAAAAAAAAACAAAA////////////////AwAAAP//////////////////////////////////////////////////////////AgAAAP//////////AQAAAAAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD/////////////////////AQAAAP///////////////wIAAAD///////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAD///////////////8CAAAAAQAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8BAAAAAgAAAP///////////////wAAAAD/////////////////////AwAAAP///////////////////////////////wIAAAD///////////////8BAAAA/////////////////////wAAAAD/////////////////////AwAAAP////////////////////////////////////////////////////8DAAAA/////////////////////wAAAAABAAAA//////////8CAAAA//////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAA////////////////AgAAAAAAAAABAAAA//////////////////////////////////////////////////////////////////////////8DAAAAAQAAAP//////////AgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAACAAAAAAAAAAIAAAABAAAAAQAAAAIAAAACAAAAAAAAAAUAAAAFAAAAAAAAAAIAAAACAAAAAwAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAgAAAAEAAAACAAAAAgAAAAIAAAAAAAAABQAAAAYAAAAAAAAAAgAAAAIAAAADAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAgAAAAAAAAACAAAAAQAAAAMAAAACAAAAAgAAAAAAAAAFAAAABwAAAAAAAAACAAAAAgAAAAMAAAADAAAAAAAAAAAAAAAAAAAAAAAAAAIAAAACAAAAAAAAAAIAAAABAAAABAAAAAIAAAACAAAAAAAAAAUAAAAIAAAAAAAAAAIAAAACAAAAAwAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAwAAAAIAAAAAAAAAAgAAAAEAAAAAAAAAAgAAAAIAAAAAAAAABQAAAAkAAAAAAAAAAgAAAAIAAAADAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAKAAAAAgAAAAIAAAAAAAAAAwAAAA4AAAACAAAAAAAAAAIAAAADAAAAAAAAAAAAAAACAAAAAgAAAAMAAAAGAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAACAAAAAgAAAAAAAAADAAAACgAAAAIAAAAAAAAAAgAAAAMAAAABAAAAAAAAAAIAAAACAAAAAwAAAAcAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAIAAAACAAAAAAAAAAMAAAALAAAAAgAAAAAAAAACAAAAAwAAAAIAAAAAAAAAAgAAAAIAAAADAAAACAAAAAAAAAAAAAAAAAAAAAAAAAANAAAAAgAAAAIAAAAAAAAAAwAAAAwAAAACAAAAAAAAAAIAAAADAAAAAwAAAAAAAAACAAAAAgAAAAMAAAAJAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAACAAAAAgAAAAAAAAADAAAADQAAAAIAAAAAAAAAAgAAAAMAAAAEAAAAAAAAAAIAAAACAAAAAwAAAAoAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAIAAAACAAAAAAAAAAMAAAAGAAAAAgAAAAAAAAACAAAAAwAAAA8AAAAAAAAAAgAAAAIAAAADAAAACwAAAAAAAAAAAAAAAAAAAAAAAAAGAAAAAgAAAAIAAAAAAAAAAwAAAAcAAAACAAAAAAAAAAIAAAADAAAAEAAAAAAAAAACAAAAAgAAAAMAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAcAAAACAAAAAgAAAAAAAAADAAAACAAAAAIAAAAAAAAAAgAAAAMAAAARAAAAAAAAAAIAAAACAAAAAwAAAA0AAAAAAAAAAAAAAAAAAAAAAAAACAAAAAIAAAACAAAAAAAAAAMAAAAJAAAAAgAAAAAAAAACAAAAAwAAABIAAAAAAAAAAgAAAAIAAAADAAAADgAAAAAAAAAAAAAAAAAAAAAAAAAJAAAAAgAAAAIAAAAAAAAAAwAAAAUAAAACAAAAAAAAAAIAAAADAAAAEwAAAAAAAAACAAAAAgAAAAMAAAAPAAAAAAAAAAAAAAAAAAAAAAAAABAAAAACAAAAAAAAAAIAAAABAAAAEwAAAAIAAAACAAAAAAAAAAUAAAAKAAAAAAAAAAIAAAACAAAAAwAAABAAAAAAAAAAAAAAAAAAAAAAAAAAEQAAAAIAAAAAAAAAAgAAAAEAAAAPAAAAAgAAAAIAAAAAAAAABQAAAAsAAAAAAAAAAgAAAAIAAAADAAAAEQAAAAAAAAAAAAAAAAAAAAAAAAASAAAAAgAAAAAAAAACAAAAAQAAABAAAAACAAAAAgAAAAAAAAAFAAAADAAAAAAAAAACAAAAAgAAAAMAAAASAAAAAAAAAAAAAAAAAAAAAAAAABMAAAACAAAAAAAAAAIAAAABAAAAEQAAAAIAAAACAAAAAAAAAAUAAAANAAAAAAAAAAIAAAACAAAAAwAAABMAAAAAAAAAAAAAAAAAAAAAAAAADwAAAAIAAAAAAAAAAgAAAAEAAAASAAAAAgAAAAIAAAAAAAAABQAAAA4AAAAAAAAAAgAAAAIAAAADAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAAAAAAAAAAAAAIAAAABAAAAAAAAAAEAAAACAAAAAQAAAAAAAAACAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAAAAAACAAAAAQAAAAAAAAABAAAAAgAAAAAAAAAAAAAAAgAAAAEAAAAAAAAAAQAAAAIAAAABAAAAAAAAAAIAAAACAAAAAAAAAAEAAAAAAAAAAAAAAAUAAAAEAAAAAAAAAAEAAAAFAAAAAAAAAAAAAAAFAAAABAAAAAAAAAABAAAABQAAAAQAAAAAAAAABQAAAAUAAAAAAAAAAQAAAAAAAAAAAAAAOgehWlKfUEEz1zLi+JsiQa2og3wcMfVAWCbHorc0yEDi+Yn/Y6mbQJ11/mfsnG9At6bnG4UQQkBvMCQWKqUUQJVmwwswmOc/3hVgVBL3uj//qqOEOdGOPw/WDN4gnGE/H3ANkCUgND+AA8btKgAHPwTXBqJVSdo+XfRQAqsKrj4fc+zLYbSPQklEmCZHv2FCUP+uDso1NEKYtPhwphUHQptxnyFXYdpB7CddZAMmrkGAt1AxSTqBQUibBVdTsFNBSuX3MV+AJkFocv82SLf5QAqmgj7AY81A23VDSEnLoEDGEJVSeDFzQDYrqvBk70VA8U157pcRGUBWfEF+ZKbsP7KBdLHZTpFAqKYk69AqekDbeGY41MdjQD8AZzHK501A1vcrrjubNkD5LnquvBYhQCbiRRD71QlAqt72EbOH8z8Eu+jL1YbdP4uaox/xUcY/abedg1XfsD+BsUdzJ4KZP5wE9YFySIM/rW1kAKMpbT+rZFthVRhWPy4PKlXIs0A/qMZLlwDnMEHByqEF0I0ZQQYSFD8lUQNBPpY+dFs07UAH8BZImBPWQN9RY0I0sMBA2T7kLfc6qUByFYvfhBKTQMq+0Mis1XxA0XQbeQXMZUBJJ5aEGXpQQP7/SY0a6ThAaMD92b/UIkAs8s8yqXoMQNIegOvCk/U/aOi7NZJP4D8AAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAD/////AAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAA/////wAAAAAAAAAAAQAAAAEAAAAAAAAAAAAAAP////8AAAAABQAAAAAAAAAAAAAAAAAAAAAAAAD/////BQAAAAUAAAAAAAAAAAAAAAAAAAAAAAAA/////wAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP////////////////////////////////////8AAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAAAAAAAAAFAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAD/////////////////////////////////////AAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAABQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAABQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA/////////////////////////////////////wAAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAQAAAAAAAAABAAAAAAAAAAUAAAABAAAAAQAAAAAAAAAAAAAAAQAAAAEAAAAAAAAAAQAAAAEAAAABAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQEAAAAAAAEAAQAAAQEAAAAAAAEAAAABAAAAAQABAAAAAAAAAAAAAAAAAAAAAAcAAAAHAAAAAQAAAAIAAAAEAAAAAwAAAAAAAAAAAAAABwAAAAMAAAABAAAAAgAAAAUAAAAEAAAAAAAAAAAAAAAEAAAABAAAAAAAAAACAAAAAQAAAAMAAAAOAAAABgAAAAsAAAACAAAABwAAAAEAAAAYAAAABQAAAAoAAAABAAAABgAAAAAAAAAmAAAABwAAAAwAAAADAAAACAAAAAIAAAAxAAAACQAAAA4AAAAAAAAABQAAAAQAAAA6AAAACAAAAA0AAAAEAAAACQAAAAMAAAA/AAAACwAAAAYAAAAPAAAACgAAABAAAABIAAAADAAAAAcAAAAQAAAACwAAABEAAABTAAAACgAAAAUAAAATAAAADgAAAA8AAABhAAAADQAAAAgAAAARAAAADAAAABIAAABrAAAADgAAAAkAAAASAAAADQAAABMAAAB1AAAADwAAABMAAAARAAAAEgAAABAAAAAGAAAAAgAAAAMAAAAFAAAABAAAAAAAAAAAAAAAAAAAAAYAAAACAAAAAwAAAAEAAAAFAAAABAAAAAAAAAAAAAAABwAAAAUAAAADAAAABAAAAAEAAAAAAAAAAgAAAAAAAAACAAAAAwAAAAEAAAAFAAAABAAAAAYAAAAAAAAAAAAAAGFsZ29zLmMAaDNOZWlnaGJvclJvdGF0aW9ucwBjb29yZGlqay5jAF91cEFwN0NoZWNrZWQAX3VwQXA3ckNoZWNrZWQAZGlyZWN0ZWRFZGdlLmMAZGlyZWN0ZWRFZGdlVG9Cb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbdG1wRmlqay5mYWNlXVtmaWprLmZhY2VdID09IEtJAGZhY2VpamsuYwBfZmFjZUlqa1BlbnRUb0NlbGxCb3VuZGFyeQBhZGphY2VudEZhY2VEaXJbY2VudGVySUpLLmZhY2VdW2ZhY2UyXSA9PSBLSQBfZmFjZUlqa1RvQ2VsbEJvdW5kYXJ5AGgzSW5kZXguYwBjb21wYWN0Q2VsbHMAbGF0TG5nVG9DZWxsAGNlbGxUb0NoaWxkUG9zAHZhbGlkYXRlQ2hpbGRQb3MAbGF0TG5nLmMAY2VsbEFyZWFSYWRzMgBwb2x5Z29uLT5uZXh0ID09IE5VTEwAbGlua2VkR2VvLmMAYWRkTmV3TGlua2VkUG9seWdvbgBuZXh0ICE9IE5VTEwAbG9vcCAhPSBOVUxMAGFkZE5ld0xpbmtlZExvb3AAcG9seWdvbi0+Zmlyc3QgPT0gTlVMTABhZGRMaW5rZWRMb29wAGNvb3JkICE9IE5VTEwAYWRkTGlua2VkQ29vcmQAbG9vcC0+Zmlyc3QgPT0gTlVMTABpbm5lckxvb3BzICE9IE5VTEwAbm9ybWFsaXplTXVsdGlQb2x5Z29uAGJib3hlcyAhPSBOVUxMAGNhbmRpZGF0ZXMgIT0gTlVMTABmaW5kUG9seWdvbkZvckhvbGUAY2FuZGlkYXRlQkJveGVzICE9IE5VTEwAcmV2RGlyICE9IElOVkFMSURfRElHSVQAbG9jYWxpai5jAGNlbGxUb0xvY2FsSWprAGJhc2VDZWxsICE9IG9yaWdpbkJhc2VDZWxsACEob3JpZ2luT25QZW50ICYmIGluZGV4T25QZW50KQBiYXNlQ2VsbCA9PSBvcmlnaW5CYXNlQ2VsbABiYXNlQ2VsbCAhPSBJTlZBTElEX0JBU0VfQ0VMTABsb2NhbElqa1RvQ2VsbAAhX2lzQmFzZUNlbGxQZW50YWdvbihiYXNlQ2VsbCkAYmFzZUNlbGxSb3RhdGlvbnMgPj0gMABncmlkUGF0aENlbGxzADAAdmVydGV4LmMAY2VsbFRvVmVydGV4AGdyYXBoLT5idWNrZXRzICE9IE5VTEwAdmVydGV4R3JhcGguYwBpbml0VmVydGV4R3JhcGgAbm9kZSAhPSBOVUxMAGFkZFZlcnRleE5vZGU=";var ym=24144;function vm(pe){return pe}function Qc(pe){var we=/\b__Z[\w\d_]+/g;return pe.replace(we,function(Fe){var Je=Fe;return Fe===Je?Fe:Je+" ["+Fe+"]"})}function Kc(){var pe=new Error;if(!pe.stack){try{throw new Error(0)}catch(we){pe=we}if(!pe.stack)return"(no stack trace available)"}return pe.stack.toString()}function xm(){var pe=Kc();return e.extraStackTrace&&(pe+=`
`+e.extraStackTrace()),Qc(pe)}function _m(pe,we,Fe,Je){bs("Assertion failed: "+$(pe)+", at: "+[we?$(we):"unknown filename",Fe,Je?$(Je):"unknown function"])}function Wc(){return ge.length}function Em(pe,we,Fe){ae.set(ae.subarray(we,we+Fe),pe)}function Sm(pe){return e.___errno_location&&(ie[e.___errno_location()>>2]=pe),pe}function Tm(pe){bs("OOM")}function Yc(pe){try{var we=new ArrayBuffer(pe);return we.byteLength!=pe?void 0:(new Int8Array(we).set(ge),Xc(we),re(we),1)}catch{}}function qc(pe){var we=Wc(),Fe=16777216,Je=2147483648-Fe;if(pe>Je)return!1;for(var f=16777216,Q=Math.max(we,f);Q<pe;)Q<=536870912?Q=q(2*Q,Fe):Q=Math.min(q((3*Q+2147483648)/4,Fe),Je);var It=Yc(Q);return!!It}var wm=typeof atob=="function"?atob:function(pe){var we="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",Fe="",Je,f,Q,It,Gt,Mn,yt,Dt=0;pe=pe.replace(/[^A-Za-z0-9\+\/\=]/g,"");do It=we.indexOf(pe.charAt(Dt++)),Gt=we.indexOf(pe.charAt(Dt++)),Mn=we.indexOf(pe.charAt(Dt++)),yt=we.indexOf(pe.charAt(Dt++)),Je=It<<2|Gt>>4,f=(Gt&15)<<4|Mn>>2,Q=(Mn&3)<<6|yt,Fe=Fe+String.fromCharCode(Je),Mn!==64&&(Fe=Fe+String.fromCharCode(f)),yt!==64&&(Fe=Fe+String.fromCharCode(Q));while(Dt<pe.length);return Fe};function km(pe){try{for(var we=wm(pe),Fe=new Uint8Array(we.length),Je=0;Je<we.length;++Je)Fe[Je]=we.charCodeAt(Je);return Fe}catch{throw new Error("Converting base64 string to bytes failed.")}}function I0(pe){if(Vc(pe))return km(pe.slice(R0.length))}var Lm={Math,Int8Array,Int32Array,Uint8Array,Float32Array,Float64Array},Rm={a:bs,b:m,c:y,d:_m,e:Sm,f:Wc,g:Em,h:qc,i:Tm,j:vm,k:Qc,l:Yc,m:Kc,n:xm,o:ym,p:fe},De=function(pe,we,Fe){"almost asm";var Je=new pe.Int8Array(Fe),f=new pe.Int32Array(Fe);new pe.Uint8Array(Fe),new pe.Float32Array(Fe);var Q=new pe.Float64Array(Fe),It=we.o|0,Gt=we.p|0,Mn=pe.Math.floor,yt=pe.Math.abs,Dt=pe.Math.sqrt,Js=pe.Math.pow,$t=pe.Math.cos,pt=pe.Math.sin,ni=pe.Math.tan,UA=pe.Math.acos,P0=pe.Math.asin,Po=pe.Math.atan,pr=pe.Math.atan2,eo=pe.Math.ceil,Ji=pe.Math.imul,Ra=pe.Math.min,xl=pe.Math.max,mr=pe.Math.clz32,$e=we.b,W=we.c,Ke=we.d,$n=we.e,yr=we.f,Mo=we.g,_l=we.h,vr=we.i,V=24160;function th(A){return Je=new Int8Array(A),f=new Int32Array(A),Q=new Float64Array(A),Fe=A,!0}function nh(A){A=A|0;var a=0;return a=V,V=V+A|0,V=V+15&-16,a|0}function GA(){return V|0}function rh(A){A=A|0,V=A}function Ri(A,a){A=A|0,V=A}function Im(A,a){A=A|0,a=a|0;var c=0,p=0,v=0;return(A|0)<0?(a=2,a|0):(A|0)>13780509?(a=Sn(15,a)|0,a|0):(c=((A|0)<0)<<31>>31,v=Zn(A|0,c|0,3,0)|0,p=W()|0,c=gt(A|0,c|0,1,0)|0,c=Zn(v|0,p|0,c|0,W()|0)|0,c=gt(c|0,W()|0,1,0)|0,A=W()|0,f[a>>2]=c,f[a+4>>2]=A,a=0,a|0)}function ih(A,a,c,p){return A=A|0,a=a|0,c=c|0,p=p|0,sh(A,a,c,p,0)|0}function sh(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0,O=0;if(D=V,V=V+16|0,E=D,!(Ca(A,a,c,p,v)|0))return p=0,V=D,p|0;do if((c|0)>=0){if((c|0)>13780509){if(x=Sn(15,E)|0,x|0)break;k=E,E=f[k>>2]|0,k=f[k+4>>2]|0}else x=((c|0)<0)<<31>>31,O=Zn(c|0,x|0,3,0)|0,k=W()|0,x=gt(c|0,x|0,1,0)|0,x=Zn(O|0,k|0,x|0,W()|0)|0,x=gt(x|0,W()|0,1,0)|0,k=W()|0,f[E>>2]=x,f[E+4>>2]=k,E=x;if(lo(p|0,0,E<<3|0)|0,v|0){lo(v|0,0,E<<2|0)|0,x=ri(A,a,c,p,v,E,k,0)|0;break}x=Sr(E,4)|0,x?(O=ri(A,a,c,p,x,E,k,0)|0,it(x),x=O):x=13}else x=2;while(!1);return O=x,V=D,O|0}function Ca(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0;if(oe=V,V=V+16|0,te=oe,J=oe+8|0,ee=te,f[ee>>2]=A,f[ee+4>>2]=a,(c|0)<0)return J=2,V=oe,J|0;if(x=p,f[x>>2]=A,f[x+4>>2]=a,x=(v|0)!=0,x&&(f[v>>2]=0),Vt(A,a)|0)return J=9,V=oe,J|0;f[J>>2]=0;e:do if((c|0)>=1)if(x)for(G=1,O=0,K=0,ee=1,x=A;;){if(!(O|K)){if(x=An(x,a,4,J,te)|0,x|0)break e;if(a=te,x=f[a>>2]|0,a=f[a+4>>2]|0,Vt(x,a)|0){x=9;break e}}if(x=An(x,a,f[22384+(K<<2)>>2]|0,J,te)|0,x|0)break e;if(a=te,x=f[a>>2]|0,a=f[a+4>>2]|0,A=p+(G<<3)|0,f[A>>2]=x,f[A+4>>2]=a,f[v+(G<<2)>>2]=ee,A=O+1|0,E=(A|0)==(ee|0),k=K+1|0,D=(k|0)==6,Vt(x,a)|0){x=9;break e}if(ee=ee+(D&E&1)|0,(ee|0)>(c|0)){x=0;break}else G=G+1|0,O=E?0:A,K=E?D?0:k:K}else for(G=1,O=0,K=0,ee=1,x=A;;){if(!(O|K)){if(x=An(x,a,4,J,te)|0,x|0)break e;if(a=te,x=f[a>>2]|0,a=f[a+4>>2]|0,Vt(x,a)|0){x=9;break e}}if(x=An(x,a,f[22384+(K<<2)>>2]|0,J,te)|0,x|0)break e;if(a=te,x=f[a>>2]|0,a=f[a+4>>2]|0,A=p+(G<<3)|0,f[A>>2]=x,f[A+4>>2]=a,A=O+1|0,E=(A|0)==(ee|0),k=K+1|0,D=(k|0)==6,Vt(x,a)|0){x=9;break e}if(ee=ee+(D&E&1)|0,(ee|0)>(c|0)){x=0;break}else G=G+1|0,O=E?0:A,K=E?D?0:k:K}else x=0;while(!1);return J=x,V=oe,J|0}function ri(A,a,c,p,v,x,E,k){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0,x=x|0,E=E|0,k=k|0;var D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0;if(oe=V,V=V+16|0,te=oe+8|0,J=oe,D=On(A|0,a|0,x|0,E|0)|0,G=W()|0,K=p+(D<<3)|0,Se=K,ne=f[Se>>2]|0,Se=f[Se+4>>2]|0,O=(ne|0)==(A|0)&(Se|0)==(a|0),!((ne|0)==0&(Se|0)==0|O))do D=gt(D|0,G|0,1,0)|0,D=su(D|0,W()|0,x|0,E|0)|0,G=W()|0,K=p+(D<<3)|0,ne=K,Se=f[ne>>2]|0,ne=f[ne+4>>2]|0,O=(Se|0)==(A|0)&(ne|0)==(a|0);while(!((Se|0)==0&(ne|0)==0|O));if(D=v+(D<<2)|0,O&&(f[D>>2]|0)<=(k|0)||(ne=K,f[ne>>2]=A,f[ne+4>>2]=a,f[D>>2]=k,(k|0)>=(c|0)))return ne=0,V=oe,ne|0;switch(O=k+1|0,f[te>>2]=0,D=An(A,a,2,te,J)|0,D|0){case 9:{ee=9;break}case 0:{D=J,D=ri(f[D>>2]|0,f[D+4>>2]|0,c,p,v,x,E,O)|0,D||(ee=9);break}}e:do if((ee|0)==9){switch(f[te>>2]=0,D=An(A,a,3,te,J)|0,D|0){case 9:break;case 0:{if(D=J,D=ri(f[D>>2]|0,f[D+4>>2]|0,c,p,v,x,E,O)|0,D|0)break e;break}default:break e}switch(f[te>>2]=0,D=An(A,a,1,te,J)|0,D|0){case 9:break;case 0:{if(D=J,D=ri(f[D>>2]|0,f[D+4>>2]|0,c,p,v,x,E,O)|0,D|0)break e;break}default:break e}switch(f[te>>2]=0,D=An(A,a,5,te,J)|0,D|0){case 9:break;case 0:{if(D=J,D=ri(f[D>>2]|0,f[D+4>>2]|0,c,p,v,x,E,O)|0,D|0)break e;break}default:break e}switch(f[te>>2]=0,D=An(A,a,4,te,J)|0,D|0){case 9:break;case 0:{if(D=J,D=ri(f[D>>2]|0,f[D+4>>2]|0,c,p,v,x,E,O)|0,D|0)break e;break}default:break e}switch(f[te>>2]=0,D=An(A,a,6,te,J)|0,D|0){case 9:break;case 0:{if(D=J,D=ri(f[D>>2]|0,f[D+4>>2]|0,c,p,v,x,E,O)|0,D|0)break e;break}default:break e}return ne=0,V=oe,ne|0}while(!1);return ne=D,V=oe,ne|0}function An(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0;if(c>>>0>6)return v=1,v|0;if(K=(f[p>>2]|0)%6|0,f[p>>2]=K,(K|0)>0){x=0;do c=to(c)|0,x=x+1|0;while((x|0)<(f[p>>2]|0))}if(K=Re(A|0,a|0,45)|0,W()|0,G=K&127,G>>>0>121)return v=5,v|0;D=Ar(A,a)|0,x=Re(A|0,a|0,52)|0,W()|0,x=x&15;e:do if(!x)O=8;else{for(;;){if(E=(15-x|0)*3|0,k=Re(A|0,a|0,E|0)|0,W()|0,k=k&7,(k|0)==7){a=5;break}if(J=(Er(x)|0)==0,x=x+-1|0,ee=Oe(7,0,E|0)|0,a=a&~(W()|0),te=Oe(f[(J?432:16)+(k*28|0)+(c<<2)>>2]|0,0,E|0)|0,E=W()|0,c=f[(J?640:224)+(k*28|0)+(c<<2)>>2]|0,A=te|A&~ee,a=E|a,!c){c=0;break e}if(!x){O=8;break e}}return a|0}while(!1);(O|0)==8&&(J=f[848+(G*28|0)+(c<<2)>>2]|0,te=Oe(J|0,0,45)|0,A=te|A,a=W()|0|a&-1040385,c=f[4272+(G*28|0)+(c<<2)>>2]|0,(J&127|0)==127&&(J=Oe(f[848+(G*28|0)+20>>2]|0,0,45)|0,a=W()|0|a&-1040385,c=f[4272+(G*28|0)+20>>2]|0,A=Fs(J|A,a)|0,a=W()|0,f[p>>2]=(f[p>>2]|0)+1)),k=Re(A|0,a|0,45)|0,W()|0,k=k&127;e:do if(jt(k)|0){t:do if((Ar(A,a)|0)==1){if((G|0)!=(k|0))if(lh(k,f[7696+(G*28|0)>>2]|0)|0){A=Go(A,a)|0,E=1,a=W()|0;break}else Ke(23313,22416,436,22424);switch(D|0){case 3:{A=Fs(A,a)|0,a=W()|0,f[p>>2]=(f[p>>2]|0)+1,E=0;break t}case 5:{A=Go(A,a)|0,a=W()|0,f[p>>2]=(f[p>>2]|0)+5,E=0;break t}case 0:return J=9,J|0;default:return J=1,J|0}}else E=0;while(!1);if((c|0)>0){x=0;do A=Oa(A,a)|0,a=W()|0,x=x+1|0;while((x|0)!=(c|0))}if((G|0)!=(k|0)){if(!(bt(k)|0)){if((E|0)!=0|(Ar(A,a)|0)!=5)break;f[p>>2]=(f[p>>2]|0)+1;break}switch(K&127){case 8:case 118:break e}(Ar(A,a)|0)!=3&&(f[p>>2]=(f[p>>2]|0)+1)}}else if((c|0)>0){x=0;do A=Fs(A,a)|0,a=W()|0,x=x+1|0;while((x|0)!=(c|0))}while(!1);return f[p>>2]=((f[p>>2]|0)+c|0)%6|0,J=v,f[J>>2]=A,f[J+4>>2]=a,J=0,J|0}function El(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0,O=0;for(k=V,V=V+16|0,x=k,E=k+8|0,v=(Vt(A,a)|0)==0,v=v?1:2;;){if(f[E>>2]=0,O=(An(A,a,v,E,x)|0)==0,D=x,O&((f[D>>2]|0)==(c|0)?(f[D+4>>2]|0)==(p|0):0)){A=4;break}if(v=v+1|0,v>>>0>=7){v=7,A=4;break}}return(A|0)==4?(V=k,v|0):0}function Dm(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0;if(J=V,V=V+16|0,ee=J,te=J+8|0,K=ee,f[K>>2]=A,f[K+4>>2]=a,!c)return te=p,f[te>>2]=A,f[te+4>>2]=a,te=0,V=J,te|0;f[te>>2]=0;e:do if(Vt(A,a)|0)A=9;else{if(x=(c|0)>0,x){v=0,K=A;do{if(A=An(K,a,4,te,ee)|0,A|0)break e;if(a=ee,K=f[a>>2]|0,a=f[a+4>>2]|0,v=v+1|0,Vt(K,a)|0){A=9;break e}}while((v|0)<(c|0));if(G=p,f[G>>2]=K,f[G+4>>2]=a,G=c+-1|0,x){O=0,A=1;do{if(v=22384+(O<<2)|0,(O|0)==5)for(E=f[v>>2]|0,x=0,v=A;;){if(A=ee,A=An(f[A>>2]|0,f[A+4>>2]|0,E,te,ee)|0,A|0)break e;if((x|0)!=(G|0))if(D=ee,k=f[D>>2]|0,D=f[D+4>>2]|0,A=p+(v<<3)|0,f[A>>2]=k,f[A+4>>2]=D,!(Vt(k,D)|0))A=v+1|0;else{A=9;break e}else A=v;if(x=x+1|0,(x|0)>=(c|0))break;v=A}else for(E=ee,D=f[v>>2]|0,k=0,v=A,x=f[E>>2]|0,E=f[E+4>>2]|0;;){if(A=An(x,E,D,te,ee)|0,A|0)break e;if(E=ee,x=f[E>>2]|0,E=f[E+4>>2]|0,A=p+(v<<3)|0,f[A>>2]=x,f[A+4>>2]=E,A=v+1|0,Vt(x,E)|0){A=9;break e}if(k=k+1|0,(k|0)>=(c|0))break;v=A}O=O+1|0}while(O>>>0<6);A=ee,E=K,v=f[A>>2]|0,x=a,A=f[A+4>>2]|0}else E=K,v=K,x=a,A=a}else E=p,f[E>>2]=A,f[E+4>>2]=a,E=A,v=A,x=a,A=a;A=(E|0)==(v|0)&(x|0)==(A|0)?0:9}while(!1);return te=A,V=J,te|0}function bm(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0,O=0;if(k=V,V=V+48|0,v=k+16|0,x=k+8|0,E=k,c|0)return E=15,V=k,E|0;if(O=A,D=f[O+4>>2]|0,c=x,f[c>>2]=f[O>>2],f[c+4>>2]=D,Q0(x,v),a=Ci(v,a,E)|0,!a){if(c=f[x>>2]|0,x=f[A+8>>2]|0,(x|0)>0){v=f[A+12>>2]|0,a=0;do c=(f[v+(a<<3)>>2]|0)+c|0,a=a+1|0;while((a|0)<(x|0))}a=E,v=f[a>>2]|0,a=f[a+4>>2]|0,x=((c|0)<0)<<31>>31,(a|0)<(x|0)|(a|0)==(x|0)&v>>>0<c>>>0?(a=E,f[a>>2]=c,f[a+4>>2]=x,a=x):c=v,D=gt(c|0,a|0,12,0)|0,O=W()|0,a=E,f[a>>2]=D,f[a+4>>2]=O,a=p,f[a>>2]=D,f[a+4>>2]=O,a=0}return O=a,V=k,O|0}function $A(A,a,c,p,v,x,E){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0,x=x|0,E=E|0;var k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0,me=0,Ae=0,Be=0,Ue=0,Pe=0,Ne=0,Ot=0,kt=0,Rt=0,ct=0,lt=0,ht=0,Nt=0,rt=0,Qt=0,Hn=0,za=0;if(Nt=V,V=V+64|0,Rt=Nt+48|0,ct=Nt+32|0,lt=Nt+24|0,Be=Nt+8|0,Ue=Nt,D=f[A>>2]|0,(D|0)<=0)return ht=0,V=Nt,ht|0;for(Pe=A+4|0,Ne=Rt+8|0,Ot=ct+8|0,kt=Be+8|0,k=0,me=0;;){O=f[Pe>>2]|0,de=O+(me<<4)|0,f[Rt>>2]=f[de>>2],f[Rt+4>>2]=f[de+4>>2],f[Rt+8>>2]=f[de+8>>2],f[Rt+12>>2]=f[de+12>>2],(me|0)==(D+-1|0)?(f[ct>>2]=f[O>>2],f[ct+4>>2]=f[O+4>>2],f[ct+8>>2]=f[O+8>>2],f[ct+12>>2]=f[O+12>>2]):(de=O+(me+1<<4)|0,f[ct>>2]=f[de>>2],f[ct+4>>2]=f[de+4>>2],f[ct+8>>2]=f[de+8>>2],f[ct+12>>2]=f[de+12>>2]),D=Fm(Rt,ct,p,lt)|0;e:do if(D)O=0,k=D;else if(O=lt,D=f[O>>2]|0,O=f[O+4>>2]|0,(O|0)>0|(O|0)==0&D>>>0>0){ne=0,de=0;t:for(;;){if(za=+Q[Rt>>3],Se=In(D|0,O|0,ne|0,de|0)|0,Hn=+(Se>>>0)+4294967296*+(W()|0),rt=+(D>>>0)+4294967296*+(O|0),Qt=+(ne>>>0)+4294967296*+(de|0),Q[Be>>3]=za*Hn/rt+ +Q[ct>>3]*Qt/rt,Q[kt>>3]=+Q[Ne>>3]*Hn/rt+ +Q[Ot>>3]*Qt/rt,D=Ll(Be,p,Ue)|0,D|0){k=D;break}Se=Ue,oe=f[Se>>2]|0,Se=f[Se+4>>2]|0,ee=On(oe|0,Se|0,a|0,c|0)|0,G=W()|0,D=E+(ee<<3)|0,K=D,O=f[K>>2]|0,K=f[K+4>>2]|0;n:do if((O|0)==0&(K|0)==0)Ae=D,ht=16;else for(te=0,J=0;;){if((te|0)>(c|0)|(te|0)==(c|0)&J>>>0>a>>>0){k=1;break t}if((O|0)==(oe|0)&(K|0)==(Se|0))break n;if(D=gt(ee|0,G|0,1,0)|0,ee=su(D|0,W()|0,a|0,c|0)|0,G=W()|0,J=gt(J|0,te|0,1,0)|0,te=W()|0,D=E+(ee<<3)|0,K=D,O=f[K>>2]|0,K=f[K+4>>2]|0,(O|0)==0&(K|0)==0){Ae=D,ht=16;break}}while(!1);if((ht|0)==16&&(ht=0,!((oe|0)==0&(Se|0)==0))&&(J=Ae,f[J>>2]=oe,f[J+4>>2]=Se,J=x+(f[v>>2]<<3)|0,f[J>>2]=oe,f[J+4>>2]=Se,J=v,J=gt(f[J>>2]|0,f[J+4>>2]|0,1,0)|0,oe=W()|0,Se=v,f[Se>>2]=J,f[Se+4>>2]=oe),ne=gt(ne|0,de|0,1,0)|0,de=W()|0,O=lt,D=f[O>>2]|0,O=f[O+4>>2]|0,!((O|0)>(de|0)|(O|0)==(de|0)&D>>>0>ne>>>0)){O=1;break e}}O=0}else O=1;while(!1);if(me=me+1|0,!O){ht=21;break}if(D=f[A>>2]|0,(me|0)>=(D|0)){k=0,ht=21;break}}return(ht|0)==21?(V=Nt,k|0):0}function M0(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0,me=0,Ae=0,Be=0,Ue=0,Pe=0,Ne=0,Ot=0,kt=0,Rt=0,ct=0,lt=0,ht=0,Nt=0,rt=0,Qt=0,Hn=0;if(Hn=V,V=V+112|0,ht=Hn+80|0,D=Hn+72|0,Nt=Hn,rt=Hn+56|0,c|0)return Qt=15,V=Hn,Qt|0;if(O=A+8|0,Qt=Cn((f[O>>2]<<5)+32|0)|0,!Qt)return Qt=13,V=Hn,Qt|0;if(JA(A,Qt),ct=A,lt=f[ct+4>>2]|0,c=D,f[c>>2]=f[ct>>2],f[c+4>>2]=lt,Q0(D,ht),c=Ci(ht,a,Nt)|0,c)ct=0,lt=0;else{if(c=f[D>>2]|0,x=f[O>>2]|0,(x|0)>0){E=f[A+12>>2]|0,v=0;do c=(f[E+(v<<3)>>2]|0)+c|0,v=v+1|0;while((v|0)!=(x|0));v=c}else v=c;c=Nt,x=f[c>>2]|0,c=f[c+4>>2]|0,E=((v|0)<0)<<31>>31,(c|0)<(E|0)|(c|0)==(E|0)&x>>>0<v>>>0?(c=Nt,f[c>>2]=v,f[c+4>>2]=E,c=E):v=x,ct=gt(v|0,c|0,12,0)|0,lt=W()|0,c=Nt,f[c>>2]=ct,f[c+4>>2]=lt,c=0}if(c|0)return it(Qt),Qt=c,V=Hn,Qt|0;if(v=Sr(ct,8)|0,!v)return it(Qt),Qt=13,V=Hn,Qt|0;if(k=Sr(ct,8)|0,!k)return it(Qt),it(v),Qt=13,V=Hn,Qt|0;kt=ht,f[kt>>2]=0,f[kt+4>>2]=0,kt=A,Rt=f[kt+4>>2]|0,c=D,f[c>>2]=f[kt>>2],f[c+4>>2]=Rt,c=$A(D,ct,lt,a,ht,v,k)|0;e:do if(c)it(v),it(k),it(Qt);else{t:do if((f[O>>2]|0)>0){for(E=A+12|0,x=0;c=$A((f[E>>2]|0)+(x<<3)|0,ct,lt,a,ht,v,k)|0,x=x+1|0,!(c|0);)if((x|0)>=(f[O>>2]|0))break t;it(v),it(k),it(Qt);break e}while(!1);(lt|0)>0|(lt|0)==0&ct>>>0>0&&lo(k|0,0,ct<<3|0)|0,Rt=ht,kt=f[Rt+4>>2]|0;t:do if((kt|0)>0|(kt|0)==0&(f[Rt>>2]|0)>>>0>0){Pe=v,Ne=k,Ot=v,kt=k,Rt=v,c=v,Ae=v,Be=k,Ue=k,v=k;n:for(;;){for(Se=0,ne=0,de=0,me=0,x=0,E=0;;){k=Nt,D=k+56|0;do f[k>>2]=0,k=k+4|0;while((k|0)<(D|0));if(a=Pe+(Se<<3)|0,O=f[a>>2]|0,a=f[a+4>>2]|0,Ca(O,a,1,Nt,0)|0){k=Nt,D=k+56|0;do f[k>>2]=0,k=k+4|0;while((k|0)<(D|0));k=Sr(7,4)|0,k|0&&(ri(O,a,1,Nt,k,7,0,0)|0,it(k))}for(oe=0;;){J=Nt+(oe<<3)|0,te=f[J>>2]|0,J=f[J+4>>2]|0;r:do if((te|0)==0&(J|0)==0)k=x,D=E;else{if(G=On(te|0,J|0,ct|0,lt|0)|0,O=W()|0,k=p+(G<<3)|0,a=k,D=f[a>>2]|0,a=f[a+4>>2]|0,!((D|0)==0&(a|0)==0)){K=0,ee=0;do{if((K|0)>(lt|0)|(K|0)==(lt|0)&ee>>>0>ct>>>0)break n;if((D|0)==(te|0)&(a|0)==(J|0)){k=x,D=E;break r}k=gt(G|0,O|0,1,0)|0,G=su(k|0,W()|0,ct|0,lt|0)|0,O=W()|0,ee=gt(ee|0,K|0,1,0)|0,K=W()|0,k=p+(G<<3)|0,a=k,D=f[a>>2]|0,a=f[a+4>>2]|0}while(!((D|0)==0&(a|0)==0))}(te|0)==0&(J|0)==0?(k=x,D=E):(Cl(te,J,rt)|0,eu(A,Qt,rt)|0&&(ee=gt(x|0,E|0,1,0)|0,E=W()|0,K=k,f[K>>2]=te,f[K+4>>2]=J,x=Ne+(x<<3)|0,f[x>>2]=te,f[x+4>>2]=J,x=ee),k=x,D=E)}while(!1);if(oe=oe+1|0,oe>>>0>=7)break;x=k,E=D}if(Se=gt(Se|0,ne|0,1,0)|0,ne=W()|0,de=gt(de|0,me|0,1,0)|0,me=W()|0,E=ht,x=f[E>>2]|0,E=f[E+4>>2]|0,(me|0)<(E|0)|(me|0)==(E|0)&de>>>0<x>>>0)x=k,E=D;else break}if((E|0)>0|(E|0)==0&x>>>0>0){x=0,E=0;do me=Pe+(x<<3)|0,f[me>>2]=0,f[me+4>>2]=0,x=gt(x|0,E|0,1,0)|0,E=W()|0,me=ht,de=f[me+4>>2]|0;while((E|0)<(de|0)|((E|0)==(de|0)?x>>>0<(f[me>>2]|0)>>>0:0))}if(me=ht,f[me>>2]=k,f[me+4>>2]=D,(D|0)>0|(D|0)==0&k>>>0>0)oe=v,Se=Ue,ne=Rt,de=Be,me=Ne,v=Ae,Ue=c,Be=Ot,Ae=oe,c=Se,Rt=kt,kt=ne,Ot=de,Ne=Pe,Pe=me;else break t}it(Ot),it(kt),it(Qt),c=1;break e}else c=k;while(!1);it(Qt),it(v),it(c),c=0}while(!1);return Qt=c,V=Hn,Qt|0}function Ia(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0;if(G=V,V=V+176|0,D=G,(a|0)<1)return Ph(c,0,0),O=0,V=G,O|0;for(k=A,k=Re(f[k>>2]|0,f[k+4>>2]|0,52)|0,W()|0,Ph(c,(a|0)>6?a:6,k&15),k=0;p=A+(k<<3)|0,p=os(f[p>>2]|0,f[p+4>>2]|0,D)|0,!(p|0);){if(p=f[D>>2]|0,(p|0)>0){E=0;do x=D+8+(E<<4)|0,E=E+1|0,p=D+8+(((E|0)%(p|0)|0)<<4)|0,v=Oh(c,p,x)|0,v?ru(c,v)|0:Hm(c,x,p)|0,p=f[D>>2]|0;while((E|0)<(p|0))}if(k=k+1|0,(k|0)>=(a|0)){p=0,O=13;break}}return(O|0)==13?(V=G,p|0):(Mh(c),O=p,V=G,O|0)}function Pm(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0;if(x=V,V=V+32|0,p=x,v=x+16|0,A=Ia(A,a,v)|0,A|0)return c=A,V=x,c|0;if(f[c>>2]=0,f[c+4>>2]=0,f[c+8>>2]=0,A=nu(v)|0,A|0)do{a=j0(c)|0;do Ns(a,A)|0,E=A+16|0,f[p>>2]=f[E>>2],f[p+4>>2]=f[E+4>>2],f[p+8>>2]=f[E+8>>2],f[p+12>>2]=f[E+12>>2],ru(v,A)|0,A=Fh(v,p)|0;while(A|0);A=nu(v)|0}while(A|0);return Mh(v),A=Vo(c)|0,A?(bi(c),E=A,V=x,E|0):(E=0,V=x,E|0)}function jt(A){return A=A|0,A>>>0>121?(A=0,A|0):(A=f[7696+(A*28|0)+16>>2]|0,A|0)}function bt(A){return A=A|0,(A|0)==4|(A|0)==117|0}function O0(A){return A=A|0,f[11120+((f[A>>2]|0)*216|0)+((f[A+4>>2]|0)*72|0)+((f[A+8>>2]|0)*24|0)+(f[A+12>>2]<<3)>>2]|0}function F0(A){return A=A|0,f[11120+((f[A>>2]|0)*216|0)+((f[A+4>>2]|0)*72|0)+((f[A+8>>2]|0)*24|0)+(f[A+12>>2]<<3)+4>>2]|0}function oh(A,a){A=A|0,a=a|0,A=7696+(A*28|0)|0,f[a>>2]=f[A>>2],f[a+4>>2]=f[A+4>>2],f[a+8>>2]=f[A+8>>2],f[a+12>>2]=f[A+12>>2]}function Mm(A,a){A=A|0,a=a|0;var c=0,p=0;if(a>>>0>20)return a=-1,a|0;do if((f[11120+(a*216|0)>>2]|0)!=(A|0))if((f[11120+(a*216|0)+8>>2]|0)!=(A|0))if((f[11120+(a*216|0)+16>>2]|0)!=(A|0))if((f[11120+(a*216|0)+24>>2]|0)!=(A|0))if((f[11120+(a*216|0)+32>>2]|0)!=(A|0))if((f[11120+(a*216|0)+40>>2]|0)!=(A|0))if((f[11120+(a*216|0)+48>>2]|0)!=(A|0))if((f[11120+(a*216|0)+56>>2]|0)!=(A|0))if((f[11120+(a*216|0)+64>>2]|0)!=(A|0))if((f[11120+(a*216|0)+72>>2]|0)!=(A|0))if((f[11120+(a*216|0)+80>>2]|0)!=(A|0))if((f[11120+(a*216|0)+88>>2]|0)!=(A|0))if((f[11120+(a*216|0)+96>>2]|0)!=(A|0))if((f[11120+(a*216|0)+104>>2]|0)!=(A|0))if((f[11120+(a*216|0)+112>>2]|0)!=(A|0))if((f[11120+(a*216|0)+120>>2]|0)!=(A|0))if((f[11120+(a*216|0)+128>>2]|0)!=(A|0))if((f[11120+(a*216|0)+136>>2]|0)==(A|0))A=2,c=1,p=2;else{if((f[11120+(a*216|0)+144>>2]|0)==(A|0)){A=0,c=2,p=0;break}if((f[11120+(a*216|0)+152>>2]|0)==(A|0)){A=0,c=2,p=1;break}if((f[11120+(a*216|0)+160>>2]|0)==(A|0)){A=0,c=2,p=2;break}if((f[11120+(a*216|0)+168>>2]|0)==(A|0)){A=1,c=2,p=0;break}if((f[11120+(a*216|0)+176>>2]|0)==(A|0)){A=1,c=2,p=1;break}if((f[11120+(a*216|0)+184>>2]|0)==(A|0)){A=1,c=2,p=2;break}if((f[11120+(a*216|0)+192>>2]|0)==(A|0)){A=2,c=2,p=0;break}if((f[11120+(a*216|0)+200>>2]|0)==(A|0)){A=2,c=2,p=1;break}if((f[11120+(a*216|0)+208>>2]|0)==(A|0)){A=2,c=2,p=2;break}else A=-1;return A|0}else A=2,c=1,p=1;else A=2,c=1,p=0;else A=1,c=1,p=2;else A=1,c=1,p=1;else A=1,c=1,p=0;else A=0,c=1,p=2;else A=0,c=1,p=1;else A=0,c=1,p=0;else A=2,c=0,p=2;else A=2,c=0,p=1;else A=2,c=0,p=0;else A=1,c=0,p=2;else A=1,c=0,p=1;else A=1,c=0,p=0;else A=0,c=0,p=2;else A=0,c=0,p=1;else A=0,c=0,p=0;while(!1);return a=f[11120+(a*216|0)+(c*72|0)+(A*24|0)+(p<<3)+4>>2]|0,a|0}function lh(A,a){return A=A|0,a=a|0,(f[7696+(A*28|0)+20>>2]|0)==(a|0)?(a=1,a|0):(a=(f[7696+(A*28|0)+24>>2]|0)==(a|0),a|0)}function En(A,a){return A=A|0,a=a|0,f[848+(A*28|0)+(a<<2)>>2]|0}function Da(A,a){return A=A|0,a=a|0,(f[848+(A*28|0)>>2]|0)==(a|0)?(a=0,a|0):(f[848+(A*28|0)+4>>2]|0)==(a|0)?(a=1,a|0):(f[848+(A*28|0)+8>>2]|0)==(a|0)?(a=2,a|0):(f[848+(A*28|0)+12>>2]|0)==(a|0)?(a=3,a|0):(f[848+(A*28|0)+16>>2]|0)==(a|0)?(a=4,a|0):(f[848+(A*28|0)+20>>2]|0)==(a|0)?(a=5,a|0):((f[848+(A*28|0)+24>>2]|0)==(a|0)?6:7)|0}function Om(){return 122}function N0(A){A=A|0;var a=0,c=0,p=0;a=0;do Oe(a|0,0,45)|0,p=W()|0|134225919,c=A+(a<<3)|0,f[c>>2]=-1,f[c+4>>2]=p,a=a+1|0;while((a|0)!=122);return 0}function ah(A){return A=A|0,+Q[A+16>>3]<+Q[A+24>>3]|0}function ba(A,a){A=A|0,a=a|0;var c=0,p=0,v=0;return c=+Q[a>>3],!(c>=+Q[A+8>>3])||!(c<=+Q[A>>3])?(a=0,a|0):(p=+Q[A+16>>3],c=+Q[A+24>>3],v=+Q[a+8>>3],a=v>=c,A=v<=p&1,p<c?a&&(A=1):a||(A=0),a=(A|0)!=0,a|0)}function Ci(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0;J=V,V=V+288|0,G=J+264|0,K=J+96|0,O=J,k=O,D=k+96|0;do f[k>>2]=0,k=k+4|0;while((k|0)<(D|0));return a=zo(a,O)|0,a|0?(te=a,V=J,te|0):(D=O,O=f[D>>2]|0,D=f[D+4>>2]|0,Cl(O,D,G)|0,os(O,D,K)|0,E=+oo(G,K+8|0),Q[G>>3]=+Q[A>>3],D=G+8|0,Q[D>>3]=+Q[A+16>>3],Q[K>>3]=+Q[A+8>>3],O=K+8|0,Q[O>>3]=+Q[A+24>>3],v=+oo(G,K),Se=+Q[D>>3]-+Q[O>>3],x=+yt(+Se),oe=+Q[G>>3]-+Q[K>>3],p=+yt(+oe),!(Se==0|oe==0)&&(Se=+q0(+x,+p),Se=+eo(+(v*v/+ou(+(Se/+ou(+x,+p)),3)/(E*(E*2.59807621135)*.8))),Q[It>>3]=Se,ee=~~Se>>>0,te=+yt(Se)>=1?Se>0?~~+Ra(+Mn(Se/4294967296),4294967295)>>>0:~~+eo((Se-+(~~Se>>>0))/4294967296)>>>0:0,(f[It+4>>2]&2146435072|0)!=2146435072)?(K=(ee|0)==0&(te|0)==0,a=c,f[a>>2]=K?1:ee,f[a+4>>2]=K?0:te,a=0):a=1,te=a,V=J,te|0)}function Fm(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0,O=0,G=0;O=V,V=V+288|0,E=O+264|0,k=O+96|0,D=O,v=D,x=v+96|0;do f[v>>2]=0,v=v+4|0;while((v|0)<(x|0));return c=zo(c,D)|0,c|0?(p=c,V=O,p|0):(c=D,v=f[c>>2]|0,c=f[c+4>>2]|0,Cl(v,c,E)|0,os(v,c,k)|0,G=+oo(E,k+8|0),G=+eo(+(+oo(A,a)/(G*2))),Q[It>>3]=G,c=~~G>>>0,v=+yt(G)>=1?G>0?~~+Ra(+Mn(G/4294967296),4294967295)>>>0:~~+eo((G-+(~~G>>>0))/4294967296)>>>0:0,(f[It+4>>2]&2146435072|0)==2146435072?(p=1,V=O,p|0):(D=(c|0)==0&(v|0)==0,f[p>>2]=D?1:c,f[p+4>>2]=D?0:v,p=0,V=O,p|0))}function Nm(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0,f[A>>2]=a,f[A+4>>2]=c,f[A+8>>2]=p}function es(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0;K=a+8|0,f[K>>2]=0,D=+Q[A>>3],E=+yt(+D),O=+Q[A+8>>3],k=+yt(+O)/.8660254037844386,E=E+k*.5,c=~~E,A=~~k,E=E-+(c|0),k=k-+(A|0);do if(E<.5)if(E<.3333333333333333)if(f[a>>2]=c,k<(E+1)*.5){f[a+4>>2]=A;break}else{A=A+1|0,f[a+4>>2]=A;break}else if(ee=1-E,A=(!(k<ee)&1)+A|0,f[a+4>>2]=A,ee<=k&k<E*2){c=c+1|0,f[a>>2]=c;break}else{f[a>>2]=c;break}else{if(!(E<.6666666666666666))if(c=c+1|0,f[a>>2]=c,k<E*.5){f[a+4>>2]=A;break}else{A=A+1|0,f[a+4>>2]=A;break}if(k<1-E){if(f[a+4>>2]=A,E*2+-1<k){f[a>>2]=c;break}}else A=A+1|0,f[a+4>>2]=A;c=c+1|0,f[a>>2]=c}while(!1);do if(D<0)if(A&1){G=(A+1|0)/2|0,G=In(c|0,((c|0)<0)<<31>>31|0,G|0,((G|0)<0)<<31>>31|0)|0,c=~~(+(c|0)-((+(G>>>0)+4294967296*+(W()|0))*2+1)),f[a>>2]=c;break}else{G=(A|0)/2|0,G=In(c|0,((c|0)<0)<<31>>31|0,G|0,((G|0)<0)<<31>>31|0)|0,c=~~(+(c|0)-(+(G>>>0)+4294967296*+(W()|0))*2),f[a>>2]=c;break}while(!1);G=a+4|0,O<0&&(c=c-((A<<1|1|0)/2|0)|0,f[a>>2]=c,A=0-A|0,f[G>>2]=A),p=A-c|0,(c|0)<0?(v=0-c|0,f[G>>2]=p,f[K>>2]=v,f[a>>2]=0,A=p,c=0):v=0,(A|0)<0&&(c=c-A|0,f[a>>2]=c,v=v-A|0,f[K>>2]=v,f[G>>2]=0,A=0),x=c-v|0,p=A-v|0,(v|0)<0&&(f[a>>2]=x,f[G>>2]=p,f[K>>2]=0,A=p,c=x,v=0),p=(A|0)<(c|0)?A:c,p=(v|0)<(p|0)?v:p,!((p|0)<=0)&&(f[a>>2]=c-p,f[G>>2]=A-p,f[K>>2]=v-p)}function en(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0;a=f[A>>2]|0,E=A+4|0,c=f[E>>2]|0,(a|0)<0&&(c=c-a|0,f[E>>2]=c,x=A+8|0,f[x>>2]=(f[x>>2]|0)-a,f[A>>2]=0,a=0),(c|0)<0?(a=a-c|0,f[A>>2]=a,x=A+8|0,v=(f[x>>2]|0)-c|0,f[x>>2]=v,f[E>>2]=0,c=0):(v=A+8|0,x=v,v=f[v>>2]|0),(v|0)<0&&(a=a-v|0,f[A>>2]=a,c=c-v|0,f[E>>2]=c,f[x>>2]=0,v=0),p=(c|0)<(a|0)?c:a,p=(v|0)<(p|0)?v:p,!((p|0)<=0)&&(f[A>>2]=a-p,f[E>>2]=c-p,f[x>>2]=v-p)}function ts(A,a){A=A|0,a=a|0;var c=0,p=0;p=f[A+8>>2]|0,c=+((f[A+4>>2]|0)-p|0),Q[a>>3]=+((f[A>>2]|0)-p|0)-c*.5,Q[a+8>>3]=c*.8660254037844386}function zn(A,a,c){A=A|0,a=a|0,c=c|0,f[c>>2]=(f[a>>2]|0)+(f[A>>2]|0),f[c+4>>2]=(f[a+4>>2]|0)+(f[A+4>>2]|0),f[c+8>>2]=(f[a+8>>2]|0)+(f[A+8>>2]|0)}function zA(A,a,c){A=A|0,a=a|0,c=c|0,f[c>>2]=(f[A>>2]|0)-(f[a>>2]|0),f[c+4>>2]=(f[A+4>>2]|0)-(f[a+4>>2]|0),f[c+8>>2]=(f[A+8>>2]|0)-(f[a+8>>2]|0)}function Ah(A,a){A=A|0,a=a|0;var c=0,p=0;c=Ji(f[A>>2]|0,a)|0,f[A>>2]=c,c=A+4|0,p=Ji(f[c>>2]|0,a)|0,f[c>>2]=p,A=A+8|0,a=Ji(f[A>>2]|0,a)|0,f[A>>2]=a}function Ur(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;E=f[A>>2]|0,k=(E|0)<0,p=(f[A+4>>2]|0)-(k?E:0)|0,x=(p|0)<0,v=(x?0-p|0:0)+((f[A+8>>2]|0)-(k?E:0))|0,c=(v|0)<0,A=c?0:v,a=(x?0:p)-(c?v:0)|0,v=(k?0:E)-(x?p:0)-(c?v:0)|0,c=(a|0)<(v|0)?a:v,c=(A|0)<(c|0)?A:c,p=(c|0)>0,A=A-(p?c:0)|0,a=a-(p?c:0)|0;e:do switch(v-(p?c:0)|0){case 0:switch(a|0){case 0:return k=A|0?(A|0)==1?1:7:0,k|0;case 1:return k=A|0?(A|0)==1?3:7:2,k|0;default:break e}case 1:switch(a|0){case 0:return k=A|0?(A|0)==1?5:7:4,k|0;case 1:{if(!A)A=6;else break e;return A|0}default:break e}}while(!1);return k=7,k|0}function Bm(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;E=A+8|0,v=f[E>>2]|0,x=(f[A>>2]|0)-v|0,k=A+4|0,v=(f[k>>2]|0)-v|0;do if(x>>>0>715827881|v>>>0>715827881){if(c=(x|0)>0,c){if((2147483647-x|0)<(x|0)||(2147483647-(x<<1)|0)<(x|0))return k=1,k|0}else if((-2147483648-x|0)>(x|0)||(-2147483648-(x<<1)|0)>(x|0))return k=1,k|0;if(a=x*3|0,(v|0)>0){if((2147483647-v|0)<(v|0))return k=1,k|0}else if((-2147483648-v|0)>(v|0))return k=1,k|0;if(p=v<<1,(x|0)>-1){if((a|-2147483648|0)>=(v|0))return k=1,k|0}else if((a^-2147483648|0)<(v|0))return k=1,k|0;if(c){if((2147483647-x|0)<(p|0))a=1;else{c=p;break}return a|0}else{if((-2147483648-x|0)>(p|0))a=1;else{c=p;break}return a|0}}else c=v<<1,a=x*3|0;while(!1);p=Bs(+(a-v|0)/7)|0,f[A>>2]=p,v=Bs(+(c+x|0)/7)|0,f[k>>2]=v,f[E>>2]=0,c=(v|0)<(p|0),a=c?p:v,c=c?v:p;do if((c|0)<0){if((a|0)>0){if((a|-2147483648|0)<(c|0)&((c|0)!=-2147483648&(2147483647-a|0)>=(c|0)))break;Ke(23313,22444,355,22455)}if((c|0)==-2147483648|(-2147483648-a|0)>(c|0)&&Ke(23313,22444,355,22455),(a|0)>-1){if((a|-2147483648|0)<(c|0))break;Ke(23313,22444,355,22455)}else{if((a^-2147483648|0)>=(c|0))break;Ke(23313,22444,355,22455)}}while(!1);return a=v-p|0,(p|0)<0?(c=0-p|0,f[k>>2]=a,f[E>>2]=c,f[A>>2]=0,p=0):(a=v,c=0),(a|0)<0&&(p=p-a|0,f[A>>2]=p,c=c-a|0,f[E>>2]=c,f[k>>2]=0,a=0),x=p-c|0,v=a-c|0,(c|0)<0?(f[A>>2]=x,f[k>>2]=v,f[E>>2]=0,a=v,v=x,c=0):v=p,p=(a|0)<(v|0)?a:v,p=(c|0)<(p|0)?c:p,(p|0)<=0?(k=0,k|0):(f[A>>2]=v-p,f[k>>2]=a-p,f[E>>2]=c-p,k=0,k|0)}function HA(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;E=A+8|0,v=f[E>>2]|0,x=(f[A>>2]|0)-v|0,k=A+4|0,v=(f[k>>2]|0)-v|0;do if(x>>>0>715827881|v>>>0>715827881){if(c=(x|0)>0,c){if((2147483647-x|0)<(x|0))return k=1,k|0}else if((-2147483648-x|0)>(x|0))return k=1,k|0;if(a=x<<1,(v|0)>0){if((2147483647-v|0)<(v|0)||(2147483647-(v<<1)|0)<(v|0))return k=1,k|0}else if((-2147483648-v|0)>(v|0)||(-2147483648-(v<<1)|0)>(v|0))return k=1,k|0;if(p=v*3|0,c){if((2147483647-a|0)<(v|0))return k=1,k|0}else if((-2147483648-a|0)>(v|0))return k=1,k|0;if((v|0)>-1){if((p|-2147483648|0)<(x|0)){c=p;break}else a=1;return a|0}else{if((p^-2147483648|0)<(x|0))a=1;else{c=p;break}return a|0}}else c=v*3|0,a=x<<1;while(!1);p=Bs(+(a+v|0)/7)|0,f[A>>2]=p,v=Bs(+(c-x|0)/7)|0,f[k>>2]=v,f[E>>2]=0,c=(v|0)<(p|0),a=c?p:v,c=c?v:p;do if((c|0)<0){if((a|0)>0){if((a|-2147483648|0)<(c|0)&((c|0)!=-2147483648&(2147483647-a|0)>=(c|0)))break;Ke(23313,22444,404,22469)}if((c|0)==-2147483648|(-2147483648-a|0)>(c|0)&&Ke(23313,22444,404,22469),(a|0)>-1){if((a|-2147483648|0)<(c|0))break;Ke(23313,22444,404,22469)}else{if((a^-2147483648|0)>=(c|0))break;Ke(23313,22444,404,22469)}}while(!1);return a=v-p|0,(p|0)<0?(c=0-p|0,f[k>>2]=a,f[E>>2]=c,f[A>>2]=0,p=0):(a=v,c=0),(a|0)<0&&(p=p-a|0,f[A>>2]=p,c=c-a|0,f[E>>2]=c,f[k>>2]=0,a=0),x=p-c|0,v=a-c|0,(c|0)<0?(f[A>>2]=x,f[k>>2]=v,f[E>>2]=0,a=v,v=x,c=0):v=p,p=(a|0)<(v|0)?a:v,p=(c|0)<(p|0)?c:p,(p|0)<=0?(k=0,k|0):(f[A>>2]=v-p,f[k>>2]=a-p,f[E>>2]=c-p,k=0,k|0)}function Um(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;E=A+8|0,c=f[E>>2]|0,a=(f[A>>2]|0)-c|0,k=A+4|0,c=(f[k>>2]|0)-c|0,p=Bs(+((a*3|0)-c|0)/7)|0,f[A>>2]=p,a=Bs(+((c<<1)+a|0)/7)|0,f[k>>2]=a,f[E>>2]=0,c=a-p|0,(p|0)<0?(x=0-p|0,f[k>>2]=c,f[E>>2]=x,f[A>>2]=0,a=c,p=0,c=x):c=0,(a|0)<0&&(p=p-a|0,f[A>>2]=p,c=c-a|0,f[E>>2]=c,f[k>>2]=0,a=0),x=p-c|0,v=a-c|0,(c|0)<0?(f[A>>2]=x,f[k>>2]=v,f[E>>2]=0,a=v,v=x,c=0):v=p,p=(a|0)<(v|0)?a:v,p=(c|0)<(p|0)?c:p,!((p|0)<=0)&&(f[A>>2]=v-p,f[k>>2]=a-p,f[E>>2]=c-p)}function ii(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;E=A+8|0,c=f[E>>2]|0,a=(f[A>>2]|0)-c|0,k=A+4|0,c=(f[k>>2]|0)-c|0,p=Bs(+((a<<1)+c|0)/7)|0,f[A>>2]=p,a=Bs(+((c*3|0)-a|0)/7)|0,f[k>>2]=a,f[E>>2]=0,c=a-p|0,(p|0)<0?(x=0-p|0,f[k>>2]=c,f[E>>2]=x,f[A>>2]=0,a=c,p=0,c=x):c=0,(a|0)<0&&(p=p-a|0,f[A>>2]=p,c=c-a|0,f[E>>2]=c,f[k>>2]=0,a=0),x=p-c|0,v=a-c|0,(c|0)<0?(f[A>>2]=x,f[k>>2]=v,f[E>>2]=0,a=v,v=x,c=0):v=p,p=(a|0)<(v|0)?a:v,p=(c|0)<(p|0)?c:p,!((p|0)<=0)&&(f[A>>2]=v-p,f[k>>2]=a-p,f[E>>2]=c-p)}function Oo(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;a=f[A>>2]|0,E=A+4|0,c=f[E>>2]|0,k=A+8|0,p=f[k>>2]|0,v=c+(a*3|0)|0,f[A>>2]=v,c=p+(c*3|0)|0,f[E>>2]=c,a=(p*3|0)+a|0,f[k>>2]=a,p=c-v|0,(v|0)<0?(a=a-v|0,f[E>>2]=p,f[k>>2]=a,f[A>>2]=0,c=p,p=0):p=v,(c|0)<0&&(p=p-c|0,f[A>>2]=p,a=a-c|0,f[k>>2]=a,f[E>>2]=0,c=0),x=p-a|0,v=c-a|0,(a|0)<0?(f[A>>2]=x,f[E>>2]=v,f[k>>2]=0,p=x,a=0):v=c,c=(v|0)<(p|0)?v:p,c=(a|0)<(c|0)?a:c,!((c|0)<=0)&&(f[A>>2]=p-c,f[E>>2]=v-c,f[k>>2]=a-c)}function ns(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;v=f[A>>2]|0,E=A+4|0,a=f[E>>2]|0,k=A+8|0,c=f[k>>2]|0,p=(a*3|0)+v|0,v=c+(v*3|0)|0,f[A>>2]=v,f[E>>2]=p,a=(c*3|0)+a|0,f[k>>2]=a,c=p-v|0,(v|0)<0?(a=a-v|0,f[E>>2]=c,f[k>>2]=a,f[A>>2]=0,v=0):c=p,(c|0)<0&&(v=v-c|0,f[A>>2]=v,a=a-c|0,f[k>>2]=a,f[E>>2]=0,c=0),x=v-a|0,p=c-a|0,(a|0)<0?(f[A>>2]=x,f[E>>2]=p,f[k>>2]=0,v=x,a=0):p=c,c=(p|0)<(v|0)?p:v,c=(a|0)<(c|0)?a:c,!((c|0)<=0)&&(f[A>>2]=v-c,f[E>>2]=p-c,f[k>>2]=a-c)}function Fo(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0,k=0;(a+-1|0)>>>0>=6||(v=(f[15440+(a*12|0)>>2]|0)+(f[A>>2]|0)|0,f[A>>2]=v,k=A+4|0,p=(f[15440+(a*12|0)+4>>2]|0)+(f[k>>2]|0)|0,f[k>>2]=p,E=A+8|0,a=(f[15440+(a*12|0)+8>>2]|0)+(f[E>>2]|0)|0,f[E>>2]=a,c=p-v|0,(v|0)<0?(a=a-v|0,f[k>>2]=c,f[E>>2]=a,f[A>>2]=0,p=0):(c=p,p=v),(c|0)<0&&(p=p-c|0,f[A>>2]=p,a=a-c|0,f[E>>2]=a,f[k>>2]=0,c=0),x=p-a|0,v=c-a|0,(a|0)<0?(f[A>>2]=x,f[k>>2]=v,f[E>>2]=0,p=x,a=0):v=c,c=(v|0)<(p|0)?v:p,c=(a|0)<(c|0)?a:c,!((c|0)<=0)&&(f[A>>2]=p-c,f[k>>2]=v-c,f[E>>2]=a-c))}function jA(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;v=f[A>>2]|0,E=A+4|0,a=f[E>>2]|0,k=A+8|0,c=f[k>>2]|0,p=a+v|0,v=c+v|0,f[A>>2]=v,f[E>>2]=p,a=c+a|0,f[k>>2]=a,c=p-v|0,(v|0)<0?(a=a-v|0,f[E>>2]=c,f[k>>2]=a,f[A>>2]=0,p=0):(c=p,p=v),(c|0)<0&&(p=p-c|0,f[A>>2]=p,a=a-c|0,f[k>>2]=a,f[E>>2]=0,c=0),x=p-a|0,v=c-a|0,(a|0)<0?(f[A>>2]=x,f[E>>2]=v,f[k>>2]=0,p=x,a=0):v=c,c=(v|0)<(p|0)?v:p,c=(a|0)<(c|0)?a:c,!((c|0)<=0)&&(f[A>>2]=p-c,f[E>>2]=v-c,f[k>>2]=a-c)}function Sl(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;a=f[A>>2]|0,E=A+4|0,p=f[E>>2]|0,k=A+8|0,c=f[k>>2]|0,v=p+a|0,f[A>>2]=v,p=c+p|0,f[E>>2]=p,a=c+a|0,f[k>>2]=a,c=p-v|0,(v|0)<0?(a=a-v|0,f[E>>2]=c,f[k>>2]=a,f[A>>2]=0,p=0):(c=p,p=v),(c|0)<0&&(p=p-c|0,f[A>>2]=p,a=a-c|0,f[k>>2]=a,f[E>>2]=0,c=0),x=p-a|0,v=c-a|0,(a|0)<0?(f[A>>2]=x,f[E>>2]=v,f[k>>2]=0,p=x,a=0):v=c,c=(v|0)<(p|0)?v:p,c=(a|0)<(c|0)?a:c,!((c|0)<=0)&&(f[A>>2]=p-c,f[E>>2]=v-c,f[k>>2]=a-c)}function to(A){switch(A=A|0,A|0){case 1:{A=5;break}case 5:{A=4;break}case 4:{A=6;break}case 6:{A=2;break}case 2:{A=3;break}case 3:{A=1;break}}return A|0}function rs(A){switch(A=A|0,A|0){case 1:{A=3;break}case 3:{A=2;break}case 2:{A=6;break}case 6:{A=4;break}case 4:{A=5;break}case 5:{A=1;break}}return A|0}function VA(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;a=f[A>>2]|0,E=A+4|0,c=f[E>>2]|0,k=A+8|0,p=f[k>>2]|0,v=c+(a<<1)|0,f[A>>2]=v,c=p+(c<<1)|0,f[E>>2]=c,a=(p<<1)+a|0,f[k>>2]=a,p=c-v|0,(v|0)<0?(a=a-v|0,f[E>>2]=p,f[k>>2]=a,f[A>>2]=0,c=p,p=0):p=v,(c|0)<0&&(p=p-c|0,f[A>>2]=p,a=a-c|0,f[k>>2]=a,f[E>>2]=0,c=0),x=p-a|0,v=c-a|0,(a|0)<0?(f[A>>2]=x,f[E>>2]=v,f[k>>2]=0,p=x,a=0):v=c,c=(v|0)<(p|0)?v:p,c=(a|0)<(c|0)?a:c,!((c|0)<=0)&&(f[A>>2]=p-c,f[E>>2]=v-c,f[k>>2]=a-c)}function No(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;v=f[A>>2]|0,E=A+4|0,a=f[E>>2]|0,k=A+8|0,c=f[k>>2]|0,p=(a<<1)+v|0,v=c+(v<<1)|0,f[A>>2]=v,f[E>>2]=p,a=(c<<1)+a|0,f[k>>2]=a,c=p-v|0,(v|0)<0?(a=a-v|0,f[E>>2]=c,f[k>>2]=a,f[A>>2]=0,v=0):c=p,(c|0)<0&&(v=v-c|0,f[A>>2]=v,a=a-c|0,f[k>>2]=a,f[E>>2]=0,c=0),x=v-a|0,p=c-a|0,(a|0)<0?(f[A>>2]=x,f[E>>2]=p,f[k>>2]=0,v=x,a=0):p=c,c=(p|0)<(v|0)?p:v,c=(a|0)<(c|0)?a:c,!((c|0)<=0)&&(f[A>>2]=v-c,f[E>>2]=p-c,f[k>>2]=a-c)}function xr(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0,k=0;return E=(f[A>>2]|0)-(f[a>>2]|0)|0,k=(E|0)<0,p=(f[A+4>>2]|0)-(f[a+4>>2]|0)-(k?E:0)|0,x=(p|0)<0,v=(k?0-E|0:0)+(f[A+8>>2]|0)-(f[a+8>>2]|0)+(x?0-p|0:0)|0,A=(v|0)<0,a=A?0:v,c=(x?0:p)-(A?v:0)|0,v=(k?0:E)-(x?p:0)-(A?v:0)|0,A=(c|0)<(v|0)?c:v,A=(a|0)<(A|0)?a:A,p=(A|0)>0,a=a-(p?A:0)|0,c=c-(p?A:0)|0,A=v-(p?A:0)|0,A=(A|0)>-1?A:0-A|0,c=(c|0)>-1?c:0-c|0,a=(a|0)>-1?a:0-a|0,a=(c|0)>(a|0)?c:a,((A|0)>(a|0)?A:a)|0}function is(A,a){A=A|0,a=a|0;var c=0;c=f[A+8>>2]|0,f[a>>2]=(f[A>>2]|0)-c,f[a+4>>2]=(f[A+4>>2]|0)-c}function no(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0,k=0;p=f[A>>2]|0,f[a>>2]=p,v=f[A+4>>2]|0,E=a+4|0,f[E>>2]=v,k=a+8|0,f[k>>2]=0,c=(v|0)<(p|0),A=c?p:v,c=c?v:p;do if((c|0)<0){if((A|0)>0){if((A|-2147483648|0)<(c|0)&((c|0)!=-2147483648&(2147483647-A|0)>=(c|0)))break;return A=1,A|0}if((c|0)==-2147483648|(-2147483648-A|0)>(c|0))return a=1,a|0;if((A|0)>-1){if((A|-2147483648|0)<(c|0))break;return A=1,A|0}else{if((A^-2147483648|0)<(c|0))A=1;else break;return A|0}}while(!1);return A=v-p|0,(p|0)<0?(c=0-p|0,f[E>>2]=A,f[k>>2]=c,f[a>>2]=0,p=0):(A=v,c=0),(A|0)<0&&(p=p-A|0,f[a>>2]=p,c=c-A|0,f[k>>2]=c,f[E>>2]=0,A=0),x=p-c|0,v=A-c|0,(c|0)<0?(f[a>>2]=x,f[E>>2]=v,f[k>>2]=0,A=v,v=x,c=0):v=p,p=(A|0)<(v|0)?A:v,p=(c|0)<(p|0)?c:p,(p|0)<=0?(a=0,a|0):(f[a>>2]=v-p,f[E>>2]=A-p,f[k>>2]=c-p,a=0,a|0)}function QA(A){A=A|0;var a=0,c=0,p=0,v=0;a=A+8|0,v=f[a>>2]|0,c=v-(f[A>>2]|0)|0,f[A>>2]=c,p=A+4|0,A=(f[p>>2]|0)-v|0,f[p>>2]=A,f[a>>2]=0-(A+c)}function uh(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;c=f[A>>2]|0,a=0-c|0,f[A>>2]=a,E=A+8|0,f[E>>2]=0,k=A+4|0,p=f[k>>2]|0,v=p+c|0,(c|0)>0?(f[k>>2]=v,f[E>>2]=c,f[A>>2]=0,a=0,p=v):c=0,(p|0)<0?(x=a-p|0,f[A>>2]=x,c=c-p|0,f[E>>2]=c,f[k>>2]=0,v=x-c|0,a=0-c|0,(c|0)<0?(f[A>>2]=v,f[k>>2]=a,f[E>>2]=0,p=a,c=0):(p=0,v=x)):v=a,a=(p|0)<(v|0)?p:v,a=(c|0)<(a|0)?c:a,!((a|0)<=0)&&(f[A>>2]=v-a,f[k>>2]=p-a,f[E>>2]=c-a)}function Ps(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0,O=0,G=0,K=0;if(K=V,V=V+64|0,G=K,k=K+56|0,!(!0&(a&2013265920|0)==134217728&(!0&(p&2013265920|0)==134217728)))return v=5,V=K,v|0;if((A|0)==(c|0)&(a|0)==(p|0))return f[v>>2]=0,v=0,V=K,v|0;if(E=Re(A|0,a|0,52)|0,W()|0,E=E&15,O=Re(c|0,p|0,52)|0,W()|0,(E|0)!=(O&15|0))return v=12,V=K,v|0;if(x=E+-1|0,E>>>0>1){Os(A,a,x,G)|0,Os(c,p,x,k)|0,O=G,D=f[O>>2]|0,O=f[O+4>>2]|0;e:do if((D|0)==(f[k>>2]|0)&&(O|0)==(f[k+4>>2]|0)){E=(E^15)*3|0,x=Re(A|0,a|0,E|0)|0,W()|0,x=x&7,E=Re(c|0,p|0,E|0)|0,W()|0,E=E&7;do if((x|0)==0|(E|0)==0)f[v>>2]=1,x=0;else if((x|0)==7)x=5;else{if((x|0)==1|(E|0)==1&&Vt(D,O)|0){x=5;break}if((f[15536+(x<<2)>>2]|0)!=(E|0)&&(f[15568+(x<<2)>>2]|0)!=(E|0))break e;f[v>>2]=1,x=0}while(!1);return v=x,V=K,v|0}while(!1)}x=G,E=x+56|0;do f[x>>2]=0,x=x+4|0;while((x|0)<(E|0));return ih(A,a,1,G)|0,a=G,!((f[a>>2]|0)==(c|0)&&(f[a+4>>2]|0)==(p|0))&&(a=G+8|0,!((f[a>>2]|0)==(c|0)&&(f[a+4>>2]|0)==(p|0)))&&(a=G+16|0,!((f[a>>2]|0)==(c|0)&&(f[a+4>>2]|0)==(p|0)))&&(a=G+24|0,!((f[a>>2]|0)==(c|0)&&(f[a+4>>2]|0)==(p|0)))&&(a=G+32|0,!((f[a>>2]|0)==(c|0)&&(f[a+4>>2]|0)==(p|0)))&&(a=G+40|0,!((f[a>>2]|0)==(c|0)&&(f[a+4>>2]|0)==(p|0)))?(x=G+48|0,x=((f[x>>2]|0)==(c|0)?(f[x+4>>2]|0)==(p|0):0)&1):x=1,f[v>>2]=x,v=0,V=K,v|0}function ro(A,a,c,p,v){return A=A|0,a=a|0,c=c|0,p=p|0,v=v|0,c=El(A,a,c,p)|0,(c|0)==7?(v=11,v|0):(p=Oe(c|0,0,56)|0,a=a&-2130706433|(W()|0)|268435456,f[v>>2]=A|p,f[v+4>>2]=a,v=0,v|0)}function KA(A,a,c){return A=A|0,a=a|0,c=c|0,!0&(a&2013265920|0)==268435456?(f[c>>2]=A,f[c+4>>2]=a&-2130706433|134217728,c=0,c|0):(c=6,c|0)}function fh(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0;return v=V,V=V+16|0,p=v,f[p>>2]=0,!0&(a&2013265920|0)==268435456?(x=Re(A|0,a|0,56)|0,W()|0,p=An(A,a&-2130706433|134217728,x&7,p,c)|0,V=v,p|0):(p=6,V=v,p|0)}function WA(A,a){A=A|0,a=a|0;var c=0;switch(c=Re(A|0,a|0,56)|0,W()|0,c&7){case 0:case 7:return c=0,c|0}return c=a&-2130706433|134217728,!(!0&(a&2013265920|0)==268435456)||!0&(a&117440512|0)==16777216&(Vt(A,c)|0)!=0?(c=0,c|0):(c=Ii(A,c)|0,c|0)}function ch(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0;return v=V,V=V+16|0,p=v,!0&(a&2013265920|0)==268435456?(x=a&-2130706433|134217728,E=c,f[E>>2]=A,f[E+4>>2]=x,f[p>>2]=0,a=Re(A|0,a|0,56)|0,W()|0,p=An(A,x,a&7,p,c+8|0)|0,V=v,p|0):(p=6,V=v,p|0)}function hh(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0;return v=(Vt(A,a)|0)==0,a=a&-2130706433,p=c,f[p>>2]=v?A:0,f[p+4>>2]=v?a|285212672:0,p=c+8|0,f[p>>2]=A,f[p+4>>2]=a|301989888,p=c+16|0,f[p>>2]=A,f[p+4>>2]=a|318767104,p=c+24|0,f[p>>2]=A,f[p+4>>2]=a|335544320,p=c+32|0,f[p>>2]=A,f[p+4>>2]=a|352321536,c=c+40|0,f[c>>2]=A,f[c+4>>2]=a|369098752,0}function Tl(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0;return E=V,V=V+16|0,v=E,x=a&-2130706433|134217728,!0&(a&2013265920|0)==268435456?(p=Re(A|0,a|0,56)|0,W()|0,p=Dh(A,x,p&7)|0,(p|0)==-1?(f[c>>2]=0,x=6,V=E,x|0):($o(A,x,v)|0&&Ke(23313,22484,282,22499),a=Re(A|0,a|0,52)|0,W()|0,a=a&15,Vt(A,x)|0?io(v,a,p,2,c):_r(v,a,p,2,c),x=0,V=E,x|0)):(x=6,V=E,x|0)}function YA(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0;p=V,V=V+16|0,v=p,dh(A,a,c,v),es(v,c+4|0),V=p}function dh(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0;if(k=V,V=V+16|0,D=k,gh(A,c,D),x=+UA(+(1-+Q[D>>3]*.5)),x<1e-16){f[p>>2]=0,f[p+4>>2]=0,f[p+8>>2]=0,f[p+12>>2]=0,V=k;return}if(D=f[c>>2]|0,v=+Q[15920+(D*24|0)>>3],v=+bl(v-+bl(+$0(15600+(D<<4)|0,A))),Er(a)|0?E=+bl(v+-.3334731722518321):E=v,v=+ni(+x)/.381966011250105,(a|0)>0){A=0;do v=v*2.6457513110645907,A=A+1|0;while((A|0)!=(a|0))}x=+$t(+E)*v,Q[p>>3]=x,E=+pt(+E)*v,Q[p+8>>3]=E,V=k}function gh(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0;if(x=V,V=V+32|0,v=x,$m(A,v),f[a>>2]=0,Q[c>>3]=5,p=+Tn(16400,v),p<+Q[c>>3]&&(f[a>>2]=0,Q[c>>3]=p),p=+Tn(16424,v),p<+Q[c>>3]&&(f[a>>2]=1,Q[c>>3]=p),p=+Tn(16448,v),p<+Q[c>>3]&&(f[a>>2]=2,Q[c>>3]=p),p=+Tn(16472,v),p<+Q[c>>3]&&(f[a>>2]=3,Q[c>>3]=p),p=+Tn(16496,v),p<+Q[c>>3]&&(f[a>>2]=4,Q[c>>3]=p),p=+Tn(16520,v),p<+Q[c>>3]&&(f[a>>2]=5,Q[c>>3]=p),p=+Tn(16544,v),p<+Q[c>>3]&&(f[a>>2]=6,Q[c>>3]=p),p=+Tn(16568,v),p<+Q[c>>3]&&(f[a>>2]=7,Q[c>>3]=p),p=+Tn(16592,v),p<+Q[c>>3]&&(f[a>>2]=8,Q[c>>3]=p),p=+Tn(16616,v),p<+Q[c>>3]&&(f[a>>2]=9,Q[c>>3]=p),p=+Tn(16640,v),p<+Q[c>>3]&&(f[a>>2]=10,Q[c>>3]=p),p=+Tn(16664,v),p<+Q[c>>3]&&(f[a>>2]=11,Q[c>>3]=p),p=+Tn(16688,v),p<+Q[c>>3]&&(f[a>>2]=12,Q[c>>3]=p),p=+Tn(16712,v),p<+Q[c>>3]&&(f[a>>2]=13,Q[c>>3]=p),p=+Tn(16736,v),p<+Q[c>>3]&&(f[a>>2]=14,Q[c>>3]=p),p=+Tn(16760,v),p<+Q[c>>3]&&(f[a>>2]=15,Q[c>>3]=p),p=+Tn(16784,v),p<+Q[c>>3]&&(f[a>>2]=16,Q[c>>3]=p),p=+Tn(16808,v),p<+Q[c>>3]&&(f[a>>2]=17,Q[c>>3]=p),p=+Tn(16832,v),p<+Q[c>>3]&&(f[a>>2]=18,Q[c>>3]=p),p=+Tn(16856,v),!(p<+Q[c>>3])){V=x;return}f[a>>2]=19,Q[c>>3]=p,V=x}function wl(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0;if(x=+Ch(A),x<1e-16){a=15600+(a<<4)|0,f[v>>2]=f[a>>2],f[v+4>>2]=f[a+4>>2],f[v+8>>2]=f[a+8>>2],f[v+12>>2]=f[a+12>>2];return}if(E=+pr(+ +Q[A+8>>3],+ +Q[A>>3]),(c|0)>0){A=0;do x=x/2.6457513110645907,A=A+1|0;while((A|0)!=(c|0))}p?(x=x/3,c=(Er(c)|0)==0,x=+Po(+((c?x:x/2.6457513110645907)*.381966011250105))):(x=+Po(+(x*.381966011250105)),Er(c)|0&&(E=+bl(E+.3334731722518321))),ZA(15600+(a<<4)|0,+bl(+Q[15920+(a*24|0)>>3]-E),x,v)}function B0(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0;p=V,V=V+16|0,v=p,ts(A+4|0,v),wl(v,f[A>>2]|0,a,0,c),V=p}function io(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0,me=0,Ae=0,Be=0,Ue=0,Pe=0,Ne=0,Ot=0,kt=0,Rt=0,ct=0,lt=0,ht=0,Nt=0,rt=0;if(ht=V,V=V+272|0,x=ht+256|0,de=ht+240|0,Rt=ht,ct=ht+224|0,lt=ht+208|0,me=ht+176|0,Ae=ht+160|0,Be=ht+192|0,Ue=ht+144|0,Pe=ht+128|0,Ne=ht+112|0,Ot=ht+96|0,kt=ht+80|0,f[x>>2]=a,f[de>>2]=f[A>>2],f[de+4>>2]=f[A+4>>2],f[de+8>>2]=f[A+8>>2],f[de+12>>2]=f[A+12>>2],Bo(de,x,Rt),f[v>>2]=0,de=p+c+((p|0)==5&1)|0,(de|0)<=(c|0)){V=ht;return}D=f[x>>2]|0,O=ct+4|0,G=me+4|0,K=c+5|0,ee=16880+(D<<2)|0,te=16960+(D<<2)|0,J=Pe+8|0,oe=Ne+8|0,Se=Ot+8|0,ne=lt+4|0,k=c;e:for(;;){E=Rt+(((k|0)%5|0)<<4)|0,f[lt>>2]=f[E>>2],f[lt+4>>2]=f[E+4>>2],f[lt+8>>2]=f[E+8>>2],f[lt+12>>2]=f[E+12>>2];do;while((Ms(lt,D,0,1)|0)==2);if((k|0)>(c|0)&(Er(a)|0)!=0){if(f[me>>2]=f[lt>>2],f[me+4>>2]=f[lt+4>>2],f[me+8>>2]=f[lt+8>>2],f[me+12>>2]=f[lt+12>>2],ts(O,Ae),p=f[me>>2]|0,x=f[17040+(p*80|0)+(f[ct>>2]<<2)>>2]|0,f[me>>2]=f[18640+(p*80|0)+(x*20|0)>>2],E=f[18640+(p*80|0)+(x*20|0)+16>>2]|0,(E|0)>0){A=0;do jA(G),A=A+1|0;while((A|0)<(E|0))}switch(E=18640+(p*80|0)+(x*20|0)+4|0,f[Be>>2]=f[E>>2],f[Be+4>>2]=f[E+4>>2],f[Be+8>>2]=f[E+8>>2],Ah(Be,(f[ee>>2]|0)*3|0),zn(G,Be,G),en(G),ts(G,Ue),Nt=+(f[te>>2]|0),Q[Pe>>3]=Nt*3,Q[J>>3]=0,rt=Nt*-1.5,Q[Ne>>3]=rt,Q[oe>>3]=Nt*2.598076211353316,Q[Ot>>3]=rt,Q[Se>>3]=Nt*-2.598076211353316,f[17040+((f[me>>2]|0)*80|0)+(f[lt>>2]<<2)>>2]|0){case 1:{A=Ne,p=Pe;break}case 3:{A=Ot,p=Ne;break}case 2:{A=Pe,p=Ot;break}default:{A=12;break e}}Ih(Ae,Ue,p,A,kt),wl(kt,f[me>>2]|0,D,1,v+8+(f[v>>2]<<4)|0),f[v>>2]=(f[v>>2]|0)+1}if((k|0)<(K|0)&&(ts(ne,me),wl(me,f[lt>>2]|0,D,1,v+8+(f[v>>2]<<4)|0),f[v>>2]=(f[v>>2]|0)+1),f[ct>>2]=f[lt>>2],f[ct+4>>2]=f[lt+4>>2],f[ct+8>>2]=f[lt+8>>2],f[ct+12>>2]=f[lt+12>>2],k=k+1|0,(k|0)>=(de|0)){A=3;break}}if((A|0)==3){V=ht;return}else(A|0)==12&&Ke(22522,22569,571,22579)}function Bo(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0;D=V,V=V+128|0,p=D+64|0,v=D,x=p,E=20240,k=x+60|0;do f[x>>2]=f[E>>2],x=x+4|0,E=E+4|0;while((x|0)<(k|0));x=v,E=20304,k=x+60|0;do f[x>>2]=f[E>>2],x=x+4|0,E=E+4|0;while((x|0)<(k|0));k=(Er(f[a>>2]|0)|0)==0,p=k?p:v,v=A+4|0,VA(v),No(v),Er(f[a>>2]|0)|0&&(ns(v),f[a>>2]=(f[a>>2]|0)+1),f[c>>2]=f[A>>2],a=c+4|0,zn(v,p,a),en(a),f[c+16>>2]=f[A>>2],a=c+20|0,zn(v,p+12|0,a),en(a),f[c+32>>2]=f[A>>2],a=c+36|0,zn(v,p+24|0,a),en(a),f[c+48>>2]=f[A>>2],a=c+52|0,zn(v,p+36|0,a),en(a),f[c+64>>2]=f[A>>2],c=c+68|0,zn(v,p+48|0,c),en(c),V=D}function Ms(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0;if(J=V,V=V+32|0,ee=J+12|0,k=J,te=A+4|0,K=f[16960+(a<<2)>>2]|0,G=(p|0)!=0,K=G?K*3|0:K,v=f[te>>2]|0,O=A+8|0,E=f[O>>2]|0,G){if(x=A+12|0,p=f[x>>2]|0,v=E+v+p|0,(v|0)==(K|0))return te=1,V=J,te|0;D=x}else D=A+12|0,p=f[D>>2]|0,v=E+v+p|0;if((v|0)<=(K|0))return te=0,V=J,te|0;do if((p|0)>0){if(p=f[A>>2]|0,(E|0)>0){x=18640+(p*80|0)+60|0,p=A;break}p=18640+(p*80|0)+40|0,c?(Nm(ee,K,0,0),zA(te,ee,k),Sl(k),zn(k,ee,te),x=p,p=A):(x=p,p=A)}else x=18640+((f[A>>2]|0)*80|0)+20|0,p=A;while(!1);if(f[p>>2]=f[x>>2],v=x+16|0,(f[v>>2]|0)>0){p=0;do jA(te),p=p+1|0;while((p|0)<(f[v>>2]|0))}return A=x+4|0,f[ee>>2]=f[A>>2],f[ee+4>>2]=f[A+4>>2],f[ee+8>>2]=f[A+8>>2],a=f[16880+(a<<2)>>2]|0,Ah(ee,G?a*3|0:a),zn(te,ee,te),en(te),G?p=((f[O>>2]|0)+(f[te>>2]|0)+(f[D>>2]|0)|0)==(K|0)?1:2:p=2,te=p,V=J,te|0}function qA(A,a){A=A|0,a=a|0;var c=0;do c=Ms(A,a,0,1)|0;while((c|0)==2);return c|0}function _r(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0,me=0,Ae=0,Be=0,Ue=0,Pe=0,Ne=0,Ot=0,kt=0,Rt=0;if(Ot=V,V=V+240|0,x=Ot+224|0,Be=Ot+208|0,Ue=Ot,Pe=Ot+192|0,Ne=Ot+176|0,Se=Ot+160|0,ne=Ot+144|0,de=Ot+128|0,me=Ot+112|0,Ae=Ot+96|0,f[x>>2]=a,f[Be>>2]=f[A>>2],f[Be+4>>2]=f[A+4>>2],f[Be+8>>2]=f[A+8>>2],f[Be+12>>2]=f[A+12>>2],Gr(Be,x,Ue),f[v>>2]=0,oe=p+c+((p|0)==6&1)|0,(oe|0)<=(c|0)){V=Ot;return}D=f[x>>2]|0,O=c+6|0,G=16960+(D<<2)|0,K=ne+8|0,ee=de+8|0,te=me+8|0,J=Pe+4|0,E=0,k=c,p=-1;e:for(;;){if(x=(k|0)%6|0,A=Ue+(x<<4)|0,f[Pe>>2]=f[A>>2],f[Pe+4>>2]=f[A+4>>2],f[Pe+8>>2]=f[A+8>>2],f[Pe+12>>2]=f[A+12>>2],A=E,E=Ms(Pe,D,0,1)|0,(k|0)>(c|0)&(Er(a)|0)!=0&&(A|0)!=1&&(f[Pe>>2]|0)!=(p|0)){switch(ts(Ue+(((x+5|0)%6|0)<<4)+4|0,Ne),ts(Ue+(x<<4)+4|0,Se),kt=+(f[G>>2]|0),Q[ne>>3]=kt*3,Q[K>>3]=0,Rt=kt*-1.5,Q[de>>3]=Rt,Q[ee>>3]=kt*2.598076211353316,Q[me>>3]=Rt,Q[te>>3]=kt*-2.598076211353316,x=f[Be>>2]|0,f[17040+(x*80|0)+(((p|0)==(x|0)?f[Pe>>2]|0:p)<<2)>>2]|0){case 1:{A=de,p=ne;break}case 3:{A=me,p=de;break}case 2:{A=ne,p=me;break}default:{A=8;break e}}Ih(Ne,Se,p,A,Ae),!(Y0(Ne,Ae)|0)&&!(Y0(Se,Ae)|0)&&(wl(Ae,f[Be>>2]|0,D,1,v+8+(f[v>>2]<<4)|0),f[v>>2]=(f[v>>2]|0)+1)}if((k|0)<(O|0)&&(ts(J,Ne),wl(Ne,f[Pe>>2]|0,D,1,v+8+(f[v>>2]<<4)|0),f[v>>2]=(f[v>>2]|0)+1),k=k+1|0,(k|0)>=(oe|0)){A=3;break}else p=f[Pe>>2]|0}if((A|0)==3){V=Ot;return}else(A|0)==8&&Ke(22606,22569,736,22651)}function Gr(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0;D=V,V=V+160|0,p=D+80|0,v=D,x=p,E=20368,k=x+72|0;do f[x>>2]=f[E>>2],x=x+4|0,E=E+4|0;while((x|0)<(k|0));x=v,E=20448,k=x+72|0;do f[x>>2]=f[E>>2],x=x+4|0,E=E+4|0;while((x|0)<(k|0));k=(Er(f[a>>2]|0)|0)==0,p=k?p:v,v=A+4|0,VA(v),No(v),Er(f[a>>2]|0)|0&&(ns(v),f[a>>2]=(f[a>>2]|0)+1),f[c>>2]=f[A>>2],a=c+4|0,zn(v,p,a),en(a),f[c+16>>2]=f[A>>2],a=c+20|0,zn(v,p+12|0,a),en(a),f[c+32>>2]=f[A>>2],a=c+36|0,zn(v,p+24|0,a),en(a),f[c+48>>2]=f[A>>2],a=c+52|0,zn(v,p+36|0,a),en(a),f[c+64>>2]=f[A>>2],a=c+68|0,zn(v,p+48|0,a),en(a),f[c+80>>2]=f[A>>2],c=c+84|0,zn(v,p+60|0,c),en(c),V=D}function Uo(A,a){return A=A|0,a=a|0,a=Re(A|0,a|0,52)|0,W()|0,a&15|0}function ss(A,a){return A=A|0,a=a|0,a=Re(A|0,a|0,45)|0,W()|0,a&127|0}function Ii(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0,k=0;if(!(!0&(a&-16777216|0)==134217728)||(E=Re(A|0,a|0,45)|0,W()|0,E=E&127,E>>>0>121))return a=0,a|0;c=Re(A|0,a|0,52)|0,W()|0,c=c&15;do if(c|0){for(v=1,p=0;;){if(x=Re(A|0,a|0,(15-v|0)*3|0)|0,W()|0,x=x&7,(x|0)!=0&(p^1))if((x|0)==1&(jt(E)|0)!=0){k=0,p=13;break}else p=1;if((x|0)==7){k=0,p=13;break}if(v>>>0<c>>>0)v=v+1|0;else{p=9;break}}if((p|0)==9){if((c|0)==15)k=1;else break;return k|0}else if((p|0)==13)return k|0}while(!1);for(;;){if(k=Re(A|0,a|0,(14-c|0)*3|0)|0,W()|0,!((k&7|0)==7&!0)){k=0,p=13;break}if(c>>>0<14)c=c+1|0;else{k=1,p=13;break}}return(p|0)==13?k|0:0}function Os(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0;if(x=Re(A|0,a|0,52)|0,W()|0,x=x&15,c>>>0>15)return p=4,p|0;if((x|0)<(c|0))return p=12,p|0;if((x|0)==(c|0))return f[p>>2]=A,f[p+4>>2]=a,p=0,p|0;if(v=Oe(c|0,0,52)|0,v=v|A,A=W()|0|a&-15728641,(x|0)>(c|0))do a=Oe(7,0,(14-c|0)*3|0)|0,c=c+1|0,v=a|v,A=W()|0|A;while((c|0)<(x|0));return f[p>>2]=v,f[p+4>>2]=A,p=0,p|0}function Pa(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0;if(x=Re(A|0,a|0,52)|0,W()|0,x=x&15,!((c|0)<16&(x|0)<=(c|0)))return p=4,p|0;v=c-x|0,c=Re(A|0,a|0,45)|0,W()|0;e:do if(!(jt(c&127)|0))c=as(7,0,v,((v|0)<0)<<31>>31)|0,v=W()|0;else{t:do if(x|0){for(c=1;E=Oe(7,0,(15-c|0)*3|0)|0,!!((E&A|0)==0&((W()|0)&a|0)==0);)if(c>>>0<x>>>0)c=c+1|0;else break t;c=as(7,0,v,((v|0)<0)<<31>>31)|0,v=W()|0;break e}while(!1);c=as(7,0,v,((v|0)<0)<<31>>31)|0,c=Zn(c|0,W()|0,5,0)|0,c=gt(c|0,W()|0,-5,-1)|0,c=Pi(c|0,W()|0,6,0)|0,c=gt(c|0,W()|0,1,0)|0,v=W()|0}while(!1);return E=p,f[E>>2]=c,f[E+4>>2]=v,E=0,E|0}function Vt(A,a){A=A|0,a=a|0;var c=0,p=0,v=0;if(v=Re(A|0,a|0,45)|0,W()|0,!(jt(v&127)|0))return v=0,v|0;v=Re(A|0,a|0,52)|0,W()|0,v=v&15;e:do if(!v)c=0;else for(p=1;;){if(c=Re(A|0,a|0,(15-p|0)*3|0)|0,W()|0,c=c&7,c|0)break e;if(p>>>0<v>>>0)p=p+1|0;else{c=0;break}}while(!1);return v=(c|0)==0&1,v|0}function U0(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0;if(E=V,V=V+16|0,x=E,XA(x,A,a,c),a=x,A=f[a>>2]|0,a=f[a+4>>2]|0,(A|0)==0&(a|0)==0)return V=E,0;v=0,c=0;do k=p+(v<<3)|0,f[k>>2]=A,f[k+4>>2]=a,v=gt(v|0,c|0,1,0)|0,c=W()|0,Ho(x),k=x,A=f[k>>2]|0,a=f[k+4>>2]|0;while(!((A|0)==0&(a|0)==0));return V=E,0}function $r(A,a,c,p){return A=A|0,a=a|0,c=c|0,p=p|0,(p|0)<(c|0)?(c=a,p=A,$e(c|0),p|0):(c=Oe(-1,-1,((p-c|0)*3|0)+3|0)|0,p=Oe(~c|0,~(W()|0)|0,(15-p|0)*3|0)|0,c=~(W()|0)&a,p=~p&A,$e(c|0),p|0)}function zr(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0;return v=Re(A|0,a|0,52)|0,W()|0,v=v&15,(c|0)<16&(v|0)<=(c|0)?((v|0)<(c|0)&&(v=Oe(-1,-1,((c+-1-v|0)*3|0)+3|0)|0,v=Oe(~v|0,~(W()|0)|0,(15-c|0)*3|0)|0,a=~(W()|0)&a,A=~v&A),v=Oe(c|0,0,52)|0,c=a&-15728641|(W()|0),f[p>>2]=A|v,f[p+4>>2]=c,p=0,p|0):(p=4,p|0)}function tn(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0,me=0,Ae=0,Be=0,Ue=0,Pe=0,Ne=0;if((c|0)==0&(p|0)==0)return Pe=0,Pe|0;if(v=A,x=f[v>>2]|0,v=f[v+4>>2]|0,!0&(v&15728640|0)==0){if(!((p|0)>0|(p|0)==0&c>>>0>0)||(Pe=a,f[Pe>>2]=x,f[Pe+4>>2]=v,(c|0)==1&(p|0)==0))return Pe=0,Pe|0;v=1;do Be=A+(v<<3)|0,Ue=f[Be+4>>2]|0,Pe=a+(v<<3)|0,f[Pe>>2]=f[Be>>2],f[Pe+4>>2]=Ue,v=v+1|0;while(0<(p|0)|(p|0)==0&v>>>0<c>>>0);return v=0,v|0}if(Ae=c<<3,Ue=Cn(Ae)|0,!Ue)return Pe=13,Pe|0;if(Fl(Ue|0,A|0,Ae|0)|0,Be=Sr(c,8)|0,!Be)return it(Ue),Pe=13,Pe|0;e:do if(c|0){t:for(;;){v=Ue,ne=f[v>>2]|0,v=f[v+4>>2]|0,de=Re(ne|0,v|0,52)|0,W()|0,de=de&15,me=de+-1|0,Se=(c|0)>0;n:do if((de|0)!=0&Se){if(te=((c|0)<0)<<31>>31,J=Oe(me|0,0,52)|0,oe=W()|0,me>>>0>15){if(!((ne|0)==0&(v|0)==0)){Pe=17;break t}for(x=0;;){if(x=x+1|0,(x|0)>=(c|0))break n;if(p=Ue+(x<<3)|0,oe=f[p>>2]|0,p=f[p+4>>2]|0,!((oe|0)==0&(p|0)==0)){v=p,Pe=17;break t}}}for(x=0,A=ne,p=v;;){if(!((A|0)==0&(p|0)==0)){if(!(!0&(p&117440512|0)==0)){Pe=22;break t}if(k=Re(A|0,p|0,52)|0,W()|0,k=k&15,(k|0)<(me|0)){v=12,Pe=28;break t}if((k|0)!=(me|0)&&(A=A|J,p=p&-15728641|oe,k>>>0>=de>>>0)){E=me;do ee=Oe(7,0,(14-E|0)*3|0)|0,E=E+1|0,A=ee|A,p=W()|0|p;while(E>>>0<k>>>0)}if(E=On(A|0,p|0,c|0,te|0)|0,W()|0,O=Be+(E<<3)|0,k=O,D=f[k>>2]|0,k=f[k+4>>2]|0,(D|0)==0&(k|0)==0)E=O;else for(ee=0;;){if((ee|0)>(c|0)){Pe=32;break t}if((D|0)==(A|0)&(k&-117440513|0)==(p|0)){G=Re(D|0,k|0,56)|0,W()|0,G=G&7,K=G+1|0,Ne=Re(D|0,k|0,45)|0,W()|0;r:do if(!(jt(Ne&127)|0))k=7;else{if(D=Re(D|0,k|0,52)|0,W()|0,D=D&15,!D){k=6;break}for(k=1;;){if(Ne=Oe(7,0,(15-k|0)*3|0)|0,!((Ne&A|0)==0&((W()|0)&p|0)==0)){k=7;break r}if(k>>>0<D>>>0)k=k+1|0;else{k=6;break}}}while(!1);if((G+2|0)>>>0>k>>>0){Pe=42;break t}Ne=Oe(K|0,0,56)|0,p=W()|0|p&-117440513,K=O,f[K>>2]=0,f[K+4>>2]=0,A=Ne|A}else E=(E+1|0)%(c|0)|0;if(O=Be+(E<<3)|0,k=O,D=f[k>>2]|0,k=f[k+4>>2]|0,(D|0)==0&(k|0)==0){E=O;break}else ee=ee+1|0}Ne=E,f[Ne>>2]=A,f[Ne+4>>2]=p}if(x=x+1|0,(x|0)>=(c|0))break n;p=Ue+(x<<3)|0,A=f[p>>2]|0,p=f[p+4>>2]|0}}while(!1);if((c+5|0)>>>0<11){Pe=85;break}if(oe=Sr((c|0)/6|0,8)|0,!oe){Pe=49;break}n:do if(Se){ee=0,K=0;do{if(k=Be+(ee<<3)|0,p=k,x=f[p>>2]|0,p=f[p+4>>2]|0,!((x|0)==0&(p|0)==0)){D=Re(x|0,p|0,56)|0,W()|0,D=D&7,A=D+1|0,O=p&-117440513,Ne=Re(x|0,p|0,45)|0,W()|0;r:do if(jt(Ne&127)|0){if(G=Re(x|0,p|0,52)|0,W()|0,G=G&15,G|0)for(E=1;;){if(Ne=Oe(7,0,(15-E|0)*3|0)|0,!((x&Ne|0)==0&(O&(W()|0)|0)==0))break r;if(E>>>0<G>>>0)E=E+1|0;else break}p=Oe(A|0,0,56)|0,x=p|x,p=W()|0|O,A=k,f[A>>2]=x,f[A+4>>2]=p,A=D+2|0}while(!1);(A|0)==7&&(Ne=oe+(K<<3)|0,f[Ne>>2]=x,f[Ne+4>>2]=p&-117440513,K=K+1|0)}ee=ee+1|0}while((ee|0)!=(c|0));if(Se){if(ee=((c|0)<0)<<31>>31,te=Oe(me|0,0,52)|0,J=W()|0,me>>>0>15){if(!((ne|0)==0&(v|0)==0)){v=4,Pe=84;break t}for(v=0;;){if(v=v+1|0,(v|0)>=(c|0)){x=0,v=K;break n}if(Ne=Ue+(v<<3)|0,!((f[Ne>>2]|0)==0&(f[Ne+4>>2]|0)==0)){v=4,Pe=84;break t}}}for(G=0,x=0,O=ne;;){do if(!((O|0)==0&(v|0)==0)){if(k=Re(O|0,v|0,52)|0,W()|0,k=k&15,(k|0)<(me|0)){v=12,Pe=84;break t}do if((k|0)==(me|0))p=O,k=v;else{if(p=O|te,A=v&-15728641|J,k>>>0<de>>>0){k=A;break}E=me;do Ne=Oe(7,0,(14-E|0)*3|0)|0,E=E+1|0,p=Ne|p,A=W()|0|A;while(E>>>0<k>>>0);k=A}while(!1);for(E=On(p|0,k|0,c|0,ee|0)|0,W()|0,A=0;;){if((A|0)>(c|0)){Pe=77;break t}if(Ne=Be+(E<<3)|0,D=f[Ne+4>>2]|0,(D&-117440513|0)==(k|0)&&(f[Ne>>2]|0)==(p|0)){Pe=79;break}if(E=(E+1|0)%(c|0)|0,Ne=Be+(E<<3)|0,(f[Ne>>2]|0)==(p|0)&&(f[Ne+4>>2]|0)==(k|0))break;A=A+1|0}if((Pe|0)==79&&(Pe=0,!0&(D&117440512|0)==100663296))break;Ne=a+(x<<3)|0,f[Ne>>2]=O,f[Ne+4>>2]=v,x=x+1|0}while(!1);if(v=G+1|0,(v|0)>=(c|0)){v=K;break n}Ne=Ue+(v<<3)|0,G=v,O=f[Ne>>2]|0,v=f[Ne+4>>2]|0}}else x=0,v=K}else x=0,v=0;while(!1);if(lo(Be|0,0,Ae|0)|0,Fl(Ue|0,oe|0,v<<3|0)|0,it(oe),v)a=a+(x<<3)|0,c=v;else break e}if((Pe|0)==17)!0&(v&117440512|0)==0?(v=4,Pe=28):Pe=22;else if((Pe|0)==32)Ke(23313,22674,362,22684);else{if((Pe|0)==42)return it(Ue),it(Be),Ne=10,Ne|0;if((Pe|0)==49)return it(Ue),it(Be),Ne=13,Ne|0;if((Pe|0)==77)Ke(23313,22674,462,22684);else{if((Pe|0)==84)return it(oe),it(Ue),it(Be),Ne=v,Ne|0;if((Pe|0)==85){Fl(a|0,Ue|0,c<<3|0)|0;break}}}if((Pe|0)==22)return it(Ue),it(Be),Ne=5,Ne|0;if((Pe|0)==28)return it(Ue),it(Be),Ne=v,Ne|0}while(!1);return it(Ue),it(Be),Ne=0,Ne|0}function Ma(A,a,c,p,v,x,E){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0,x=x|0,E=E|0;var k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0;if(oe=V,V=V+16|0,J=oe,!((c|0)>0|(c|0)==0&a>>>0>0))return J=0,V=oe,J|0;if((E|0)>=16)return J=12,V=oe,J|0;ee=0,te=0,K=0,k=0;e:for(;;){if(O=A+(ee<<3)|0,D=f[O>>2]|0,O=f[O+4>>2]|0,G=Re(D|0,O|0,52)|0,W()|0,(G&15|0)>(E|0)){k=12,D=11;break}if(XA(J,D,O,E),G=J,O=f[G>>2]|0,G=f[G+4>>2]|0,(O|0)==0&(G|0)==0)D=K;else{D=K;do{if(!((k|0)<(x|0)|(k|0)==(x|0)&D>>>0<v>>>0)){D=10;break e}K=p+(D<<3)|0,f[K>>2]=O,f[K+4>>2]=G,D=gt(D|0,k|0,1,0)|0,k=W()|0,Ho(J),K=J,O=f[K>>2]|0,G=f[K+4>>2]|0}while(!((O|0)==0&(G|0)==0))}if(ee=gt(ee|0,te|0,1,0)|0,te=W()|0,(te|0)<(c|0)|(te|0)==(c|0)&ee>>>0<a>>>0)K=D;else{k=0,D=11;break}}return(D|0)==10?(J=14,V=oe,J|0):(D|0)==11?(V=oe,k|0):0}function Di(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0;ee=V,V=V+16|0,K=ee;e:do if((c|0)>0|(c|0)==0&a>>>0>0){for(O=0,E=0,x=0,G=0;;){if(D=A+(O<<3)|0,k=f[D>>2]|0,D=f[D+4>>2]|0,!((k|0)==0&(D|0)==0)&&(D=(Pa(k,D,p,K)|0)==0,k=K,E=gt(f[k>>2]|0,f[k+4>>2]|0,E|0,x|0)|0,x=W()|0,!D)){x=12;break}if(O=gt(O|0,G|0,1,0)|0,G=W()|0,!((G|0)<(c|0)|(G|0)==(c|0)&O>>>0<a>>>0))break e}return V=ee,x|0}else E=0,x=0;while(!1);return f[v>>2]=E,f[v+4>>2]=x,v=0,V=ee,v|0}function ph(A,a){return A=A|0,a=a|0,a=Re(A|0,a|0,52)|0,W()|0,a&1|0}function Ar(A,a){A=A|0,a=a|0;var c=0,p=0,v=0;if(v=Re(A|0,a|0,52)|0,W()|0,v=v&15,!v)return v=0,v|0;for(p=1;;){if(c=Re(A|0,a|0,(15-p|0)*3|0)|0,W()|0,c=c&7,c|0){p=5;break}if(p>>>0<v>>>0)p=p+1|0;else{c=0,p=5;break}}return(p|0)==5?c|0:0}function Oa(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0,k=0,D=0;if(D=Re(A|0,a|0,52)|0,W()|0,D=D&15,!D)return k=a,D=A,$e(k|0),D|0;for(k=1,c=0;;){x=(15-k|0)*3|0,p=Oe(7,0,x|0)|0,v=W()|0,E=Re(A|0,a|0,x|0)|0,W()|0,x=Oe(to(E&7)|0,0,x|0)|0,E=W()|0,A=x|A&~p,a=E|a&~v;e:do if(!c)if((x&p|0)==0&(E&v|0)==0)c=0;else if(p=Re(A|0,a|0,52)|0,W()|0,p=p&15,!p)c=1;else{c=1;t:for(;;){switch(E=Re(A|0,a|0,(15-c|0)*3|0)|0,W()|0,E&7){case 1:break t;case 0:break;default:{c=1;break e}}if(c>>>0<p>>>0)c=c+1|0;else{c=1;break e}}for(c=1;;)if(E=(15-c|0)*3|0,v=Re(A|0,a|0,E|0)|0,W()|0,x=Oe(7,0,E|0)|0,a=a&~(W()|0),E=Oe(to(v&7)|0,0,E|0)|0,A=A&~x|E,a=a|(W()|0),c>>>0<p>>>0)c=c+1|0;else{c=1;break}}while(!1);if(k>>>0<D>>>0)k=k+1|0;else break}return $e(a|0),A|0}function Fs(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0;if(p=Re(A|0,a|0,52)|0,W()|0,p=p&15,!p)return c=a,p=A,$e(c|0),p|0;for(c=1;x=(15-c|0)*3|0,E=Re(A|0,a|0,x|0)|0,W()|0,v=Oe(7,0,x|0)|0,a=a&~(W()|0),x=Oe(to(E&7)|0,0,x|0)|0,A=x|A&~v,a=W()|0|a,c>>>0<p>>>0;)c=c+1|0;return $e(a|0),A|0}function mh(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0,k=0,D=0;if(D=Re(A|0,a|0,52)|0,W()|0,D=D&15,!D)return k=a,D=A,$e(k|0),D|0;for(k=1,c=0;;){x=(15-k|0)*3|0,p=Oe(7,0,x|0)|0,v=W()|0,E=Re(A|0,a|0,x|0)|0,W()|0,x=Oe(rs(E&7)|0,0,x|0)|0,E=W()|0,A=x|A&~p,a=E|a&~v;e:do if(!c)if((x&p|0)==0&(E&v|0)==0)c=0;else if(p=Re(A|0,a|0,52)|0,W()|0,p=p&15,!p)c=1;else{c=1;t:for(;;){switch(E=Re(A|0,a|0,(15-c|0)*3|0)|0,W()|0,E&7){case 1:break t;case 0:break;default:{c=1;break e}}if(c>>>0<p>>>0)c=c+1|0;else{c=1;break e}}for(c=1;;)if(v=(15-c|0)*3|0,x=Oe(7,0,v|0)|0,E=a&~(W()|0),a=Re(A|0,a|0,v|0)|0,W()|0,a=Oe(rs(a&7)|0,0,v|0)|0,A=A&~x|a,a=E|(W()|0),c>>>0<p>>>0)c=c+1|0;else{c=1;break}}while(!1);if(k>>>0<D>>>0)k=k+1|0;else break}return $e(a|0),A|0}function Go(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0;if(p=Re(A|0,a|0,52)|0,W()|0,p=p&15,!p)return c=a,p=A,$e(c|0),p|0;for(c=1;E=(15-c|0)*3|0,x=Oe(7,0,E|0)|0,v=a&~(W()|0),a=Re(A|0,a|0,E|0)|0,W()|0,a=Oe(rs(a&7)|0,0,E|0)|0,A=a|A&~x,a=W()|0|v,c>>>0<p>>>0;)c=c+1|0;return $e(a|0),A|0}function kl(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0;if(D=V,V=V+64|0,k=D+40|0,p=D+24|0,v=D+12|0,x=D,Oe(a|0,0,52)|0,c=W()|0|134225919,!a)return(f[A+4>>2]|0)>2||(f[A+8>>2]|0)>2||(f[A+12>>2]|0)>2?(E=0,k=0,$e(E|0),V=D,k|0):(Oe(O0(A)|0,0,45)|0,E=W()|0|c,k=-1,$e(E|0),V=D,k|0);if(f[k>>2]=f[A>>2],f[k+4>>2]=f[A+4>>2],f[k+8>>2]=f[A+8>>2],f[k+12>>2]=f[A+12>>2],E=k+4|0,(a|0)>0)for(A=-1;f[p>>2]=f[E>>2],f[p+4>>2]=f[E+4>>2],f[p+8>>2]=f[E+8>>2],a&1?(Um(E),f[v>>2]=f[E>>2],f[v+4>>2]=f[E+4>>2],f[v+8>>2]=f[E+8>>2],Oo(v)):(ii(E),f[v>>2]=f[E>>2],f[v+4>>2]=f[E+4>>2],f[v+8>>2]=f[E+8>>2],ns(v)),zA(p,v,x),en(x),G=(15-a|0)*3|0,O=Oe(7,0,G|0)|0,c=c&~(W()|0),G=Oe(Ur(x)|0,0,G|0)|0,A=G|A&~O,c=W()|0|c,(a|0)>1;)a=a+-1|0;else A=-1;e:do if((f[E>>2]|0)<=2&&(f[k+8>>2]|0)<=2&&(f[k+12>>2]|0)<=2){if(p=O0(k)|0,a=Oe(p|0,0,45)|0,a=a|A,A=W()|0|c&-1040385,x=F0(k)|0,!(jt(p)|0)){if((x|0)<=0)break;for(v=0;;){if(p=Re(a|0,A|0,52)|0,W()|0,p=p&15,p)for(c=1;G=(15-c|0)*3|0,k=Re(a|0,A|0,G|0)|0,W()|0,O=Oe(7,0,G|0)|0,A=A&~(W()|0),G=Oe(to(k&7)|0,0,G|0)|0,a=a&~O|G,A=A|(W()|0),c>>>0<p>>>0;)c=c+1|0;if(v=v+1|0,(v|0)==(x|0))break e}}v=Re(a|0,A|0,52)|0,W()|0,v=v&15;t:do if(v){c=1;n:for(;;){switch(G=Re(a|0,A|0,(15-c|0)*3|0)|0,W()|0,G&7){case 1:break n;case 0:break;default:break t}if(c>>>0<v>>>0)c=c+1|0;else break t}if(lh(p,f[k>>2]|0)|0)for(c=1;k=(15-c|0)*3|0,O=Oe(7,0,k|0)|0,G=A&~(W()|0),A=Re(a|0,A|0,k|0)|0,W()|0,A=Oe(rs(A&7)|0,0,k|0)|0,a=a&~O|A,A=G|(W()|0),c>>>0<v>>>0;)c=c+1|0;else for(c=1;G=(15-c|0)*3|0,k=Re(a|0,A|0,G|0)|0,W()|0,O=Oe(7,0,G|0)|0,A=A&~(W()|0),G=Oe(to(k&7)|0,0,G|0)|0,a=a&~O|G,A=A|(W()|0),c>>>0<v>>>0;)c=c+1|0}while(!1);if((x|0)>0){c=0;do a=Oa(a,A)|0,A=W()|0,c=c+1|0;while((c|0)!=(x|0))}}else a=0,A=0;while(!1);return O=A,G=a,$e(O|0),V=D,G|0}function Er(A){return A=A|0,(A|0)%2|0|0}function Ll(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0;return v=V,V=V+16|0,p=v,a>>>0>15?(p=4,V=v,p|0):(f[A+4>>2]&2146435072|0)==2146435072||(f[A+8+4>>2]&2146435072|0)==2146435072?(p=3,V=v,p|0):(YA(A,a,p),a=kl(p,a)|0,p=W()|0,f[c>>2]=a,f[c+4>>2]=p,(a|0)==0&(p|0)==0&&Ke(23313,22674,786,22697),p=0,V=v,p|0)}function Rl(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0;if(v=c+4|0,x=Re(A|0,a|0,52)|0,W()|0,x=x&15,E=Re(A|0,a|0,45)|0,W()|0,p=(x|0)==0,jt(E&127)|0){if(p)return E=1,E|0;p=1}else{if(p)return E=0,E|0;!(f[v>>2]|0)&&!(f[c+8>>2]|0)?p=(f[c+12>>2]|0)!=0&1:p=1}for(c=1;c&1?Oo(v):ns(v),E=Re(A|0,a|0,(15-c|0)*3|0)|0,W()|0,Fo(v,E&7),c>>>0<x>>>0;)c=c+1|0;return p|0}function $o(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0;if(G=V,V=V+16|0,D=G,O=Re(A|0,a|0,45)|0,W()|0,O=O&127,O>>>0>121)return f[c>>2]=0,f[c+4>>2]=0,f[c+8>>2]=0,f[c+12>>2]=0,O=5,V=G,O|0;e:do if(jt(O)|0&&(x=Re(A|0,a|0,52)|0,W()|0,x=x&15,(x|0)!=0)){p=1;t:for(;;){switch(k=Re(A|0,a|0,(15-p|0)*3|0)|0,W()|0,k&7){case 5:break t;case 0:break;default:{p=a;break e}}if(p>>>0<x>>>0)p=p+1|0;else{p=a;break e}}for(v=1,p=a;a=(15-v|0)*3|0,E=Oe(7,0,a|0)|0,k=p&~(W()|0),p=Re(A|0,p|0,a|0)|0,W()|0,p=Oe(rs(p&7)|0,0,a|0)|0,A=A&~E|p,p=k|(W()|0),v>>>0<x>>>0;)v=v+1|0}else p=a;while(!1);if(k=7696+(O*28|0)|0,f[c>>2]=f[k>>2],f[c+4>>2]=f[k+4>>2],f[c+8>>2]=f[k+8>>2],f[c+12>>2]=f[k+12>>2],!(Rl(A,p,c)|0))return O=0,V=G,O|0;if(E=c+4|0,f[D>>2]=f[E>>2],f[D+4>>2]=f[E+4>>2],f[D+8>>2]=f[E+8>>2],x=Re(A|0,p|0,52)|0,W()|0,k=x&15,x&1?(ns(E),x=k+1|0):x=k,!(jt(O)|0))p=0;else{e:do if(!k)p=0;else for(a=1;;){if(v=Re(A|0,p|0,(15-a|0)*3|0)|0,W()|0,v=v&7,v|0){p=v;break e}if(a>>>0<k>>>0)a=a+1|0;else{p=0;break}}while(!1);p=(p|0)==4&1}if(!(Ms(c,x,p,0)|0))(x|0)!=(k|0)&&(f[E>>2]=f[D>>2],f[E+4>>2]=f[D+4>>2],f[E+8>>2]=f[D+8>>2]);else{if(jt(O)|0)do;while(Ms(c,x,0,0)|0);(x|0)!=(k|0)&&ii(E)}return O=0,V=G,O|0}function Cl(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0;return x=V,V=V+16|0,p=x,v=$o(A,a,p)|0,v|0?(V=x,v|0):(v=Re(A|0,a|0,52)|0,W()|0,B0(p,v&15,c),v=0,V=x,v|0)}function os(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0;if(E=V,V=V+16|0,x=E,p=$o(A,a,x)|0,p|0)return x=p,V=E,x|0;p=Re(A|0,a|0,45)|0,W()|0,p=(jt(p&127)|0)==0,v=Re(A|0,a|0,52)|0,W()|0,v=v&15;e:do if(!p){if(v|0)for(p=1;;){if(k=Oe(7,0,(15-p|0)*3|0)|0,!((k&A|0)==0&((W()|0)&a|0)==0))break e;if(p>>>0<v>>>0)p=p+1|0;else break}return io(x,v,0,5,c),k=0,V=E,k|0}while(!1);return _r(x,v,0,6,c),k=0,V=E,k|0}function yh(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0;if(v=Re(A|0,a|0,45)|0,W()|0,!(jt(v&127)|0))return v=2,f[c>>2]=v,0;if(v=Re(A|0,a|0,52)|0,W()|0,v=v&15,!v)return v=5,f[c>>2]=v,0;for(p=1;;){if(x=Oe(7,0,(15-p|0)*3|0)|0,!((x&A|0)==0&((W()|0)&a|0)==0)){p=2,A=6;break}if(p>>>0<v>>>0)p=p+1|0;else{p=5,A=6;break}}return(A|0)==6&&(f[c>>2]=p),0}function Il(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0;K=V,V=V+128|0,O=K+112|0,x=K+96|0,G=K,v=Re(A|0,a|0,52)|0,W()|0,k=v&15,f[O>>2]=k,E=Re(A|0,a|0,45)|0,W()|0,E=E&127;e:do if(jt(E)|0){if(k|0)for(p=1;;){if(D=Oe(7,0,(15-p|0)*3|0)|0,!((D&A|0)==0&((W()|0)&a|0)==0)){v=0;break e}if(p>>>0<k>>>0)p=p+1|0;else break}if(v&1)v=1;else return D=Oe(k+1|0,0,52)|0,G=W()|0|a&-15728641,O=Oe(7,0,(14-k|0)*3|0)|0,G=Il((D|A)&~O,G&~(W()|0),c)|0,V=K,G|0}else v=0;while(!1);if(p=$o(A,a,x)|0,!p){v?(Bo(x,O,G),D=5):(Gr(x,O,G),D=6);e:do if(jt(E)|0)if(!k)A=5;else for(p=1;;){if(E=Oe(7,0,(15-p|0)*3|0)|0,!((E&A|0)==0&((W()|0)&a|0)==0)){A=2;break e}if(p>>>0<k>>>0)p=p+1|0;else{A=5;break}}else A=2;while(!1);lo(c|0,-1,A<<2|0)|0;e:do if(v)for(x=0;;){if(E=G+(x<<4)|0,qA(E,f[O>>2]|0)|0,E=f[E>>2]|0,k=f[c>>2]|0,(k|0)==-1|(k|0)==(E|0))p=c;else{v=0;do{if(v=v+1|0,v>>>0>=A>>>0){p=1;break e}p=c+(v<<2)|0,k=f[p>>2]|0}while(!((k|0)==-1|(k|0)==(E|0)))}if(f[p>>2]=E,x=x+1|0,x>>>0>=D>>>0){p=0;break}}else for(x=0;;){if(E=G+(x<<4)|0,Ms(E,f[O>>2]|0,0,1)|0,E=f[E>>2]|0,k=f[c>>2]|0,(k|0)==-1|(k|0)==(E|0))p=c;else{v=0;do{if(v=v+1|0,v>>>0>=A>>>0){p=1;break e}p=c+(v<<2)|0,k=f[p>>2]|0}while(!((k|0)==-1|(k|0)==(E|0)))}if(f[p>>2]=E,x=x+1|0,x>>>0>=D>>>0){p=0;break}}while(!1)}return G=p,V=K,G|0}function si(){return 12}function zo(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0,k=0,D=0;if(A>>>0>15)return k=4,k|0;if(Oe(A|0,0,52)|0,k=W()|0|134225919,!A){c=0,p=0;do jt(p)|0&&(Oe(p|0,0,45)|0,E=k|(W()|0),A=a+(c<<3)|0,f[A>>2]=-1,f[A+4>>2]=E,c=c+1|0),p=p+1|0;while((p|0)!=122);return c=0,c|0}c=0,E=0;do{if(jt(E)|0){for(Oe(E|0,0,45)|0,p=1,v=-1,x=k|(W()|0);D=Oe(7,0,(15-p|0)*3|0)|0,v=v&~D,x=x&~(W()|0),(p|0)!=(A|0);)p=p+1|0;D=a+(c<<3)|0,f[D>>2]=v,f[D+4>>2]=x,c=c+1|0}E=E+1|0}while((E|0)!=122);return c=0,c|0}function Dl(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0;if(de=V,V=V+16|0,Se=de,ne=Re(A|0,a|0,52)|0,W()|0,ne=ne&15,c>>>0>15)return ne=4,V=de,ne|0;if((ne|0)<(c|0))return ne=12,V=de,ne|0;if((ne|0)!=(c|0))if(x=Oe(c|0,0,52)|0,x=x|A,k=W()|0|a&-15728641,(ne|0)>(c|0)){D=c;do oe=Oe(7,0,(14-D|0)*3|0)|0,D=D+1|0,x=oe|x,k=W()|0|k;while((D|0)<(ne|0));oe=x}else oe=x;else oe=A,k=a;J=Re(oe|0,k|0,45)|0,W()|0;e:do if(jt(J&127)|0){if(D=Re(oe|0,k|0,52)|0,W()|0,D=D&15,D|0)for(x=1;;){if(J=Oe(7,0,(15-x|0)*3|0)|0,!((J&oe|0)==0&((W()|0)&k|0)==0)){O=33;break e}if(x>>>0<D>>>0)x=x+1|0;else break}if(J=p,f[J>>2]=0,f[J+4>>2]=0,(ne|0)>(c|0)){for(J=a&-15728641,te=ne;;){if(ee=te,te=te+-1|0,te>>>0>15|(ne|0)<(te|0)){O=19;break}if((ne|0)!=(te|0))if(x=Oe(te|0,0,52)|0,x=x|A,D=W()|0|J,(ne|0)<(ee|0))K=x;else{O=te;do K=Oe(7,0,(14-O|0)*3|0)|0,O=O+1|0,x=K|x,D=W()|0|D;while((O|0)<(ne|0));K=x}else K=A,D=a;if(G=Re(K|0,D|0,45)|0,W()|0,!(jt(G&127)|0))x=0;else{G=Re(K|0,D|0,52)|0,W()|0,G=G&15;t:do if(!G)x=0;else for(O=1;;){if(x=Re(K|0,D|0,(15-O|0)*3|0)|0,W()|0,x=x&7,x|0)break t;if(O>>>0<G>>>0)O=O+1|0;else{x=0;break}}while(!1);x=(x|0)==0&1}if(D=Re(A|0,a|0,(15-ee|0)*3|0)|0,W()|0,D=D&7,(D|0)==7){v=5,O=42;break}if(x=(x|0)!=0,(D|0)==1&x){v=5,O=42;break}if(K=D+(((D|0)!=0&x)<<31>>31)|0,K|0&&(O=ne-ee|0,O=as(7,0,O,((O|0)<0)<<31>>31)|0,G=W()|0,x?(x=Zn(O|0,G|0,5,0)|0,x=gt(x|0,W()|0,-5,-1)|0,x=Pi(x|0,W()|0,6,0)|0,x=gt(x|0,W()|0,1,0)|0,D=W()|0):(x=O,D=G),ee=K+-1|0,ee=Zn(O|0,G|0,ee|0,((ee|0)<0)<<31>>31|0)|0,ee=gt(x|0,D|0,ee|0,W()|0)|0,K=W()|0,G=p,G=gt(ee|0,K|0,f[G>>2]|0,f[G+4>>2]|0)|0,K=W()|0,ee=p,f[ee>>2]=G,f[ee+4>>2]=K),(te|0)<=(c|0)){O=37;break}}if((O|0)==19)Ke(23313,22674,1099,22710);else if((O|0)==37){E=p,v=f[E+4>>2]|0,E=f[E>>2]|0;break}else if((O|0)==42)return V=de,v|0}else v=0,E=0}else O=33;while(!1);e:do if((O|0)==33)if(J=p,f[J>>2]=0,f[J+4>>2]=0,(ne|0)>(c|0)){for(x=ne;;){if(v=Re(A|0,a|0,(15-x|0)*3|0)|0,W()|0,v=v&7,(v|0)==7){v=5;break}if(E=ne-x|0,E=as(7,0,E,((E|0)<0)<<31>>31)|0,v=Zn(E|0,W()|0,v|0,0)|0,E=W()|0,J=p,E=gt(f[J>>2]|0,f[J+4>>2]|0,v|0,E|0)|0,v=W()|0,J=p,f[J>>2]=E,f[J+4>>2]=v,x=x+-1|0,(x|0)<=(c|0))break e}return V=de,v|0}else v=0,E=0;while(!1);return Pa(oe,k,ne,Se)|0&&Ke(23313,22674,1063,22725),ne=Se,Se=f[ne+4>>2]|0,((v|0)>-1|(v|0)==-1&E>>>0>4294967295)&((Se|0)>(v|0)|((Se|0)==(v|0)?(f[ne>>2]|0)>>>0>E>>>0:0))?(ne=0,V=de,ne|0):(Ke(23313,22674,1139,22710),0)}function ls(A,a,c,p,v,x){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0,x=x|0;var E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0;if(K=V,V=V+16|0,E=K,v>>>0>15)return x=4,V=K,x|0;if(k=Re(c|0,p|0,52)|0,W()|0,k=k&15,(k|0)>(v|0))return x=12,V=K,x|0;if(Pa(c,p,v,E)|0&&Ke(23313,22674,1063,22725),G=E,O=f[G+4>>2]|0,!(((a|0)>-1|(a|0)==-1&A>>>0>4294967295)&((O|0)>(a|0)|((O|0)==(a|0)?(f[G>>2]|0)>>>0>A>>>0:0))))return x=2,V=K,x|0;G=v-k|0,v=Oe(v|0,0,52)|0,D=W()|0|p&-15728641,O=x,f[O>>2]=v|c,f[O+4>>2]=D,O=Re(c|0,p|0,45)|0,W()|0;e:do if(jt(O&127)|0){if(k|0)for(E=1;;){if(O=Oe(7,0,(15-E|0)*3|0)|0,!((O&c|0)==0&((W()|0)&p|0)==0))break e;if(E>>>0<k>>>0)E=E+1|0;else break}if((G|0)<1)return x=0,V=K,x|0;for(O=k^15,p=-1,D=1,E=1;;){k=G-D|0,k=as(7,0,k,((k|0)<0)<<31>>31)|0,c=W()|0;do if(E)if(E=Zn(k|0,c|0,5,0)|0,E=gt(E|0,W()|0,-5,-1)|0,E=Pi(E|0,W()|0,6,0)|0,v=W()|0,(a|0)>(v|0)|(a|0)==(v|0)&A>>>0>E>>>0){a=gt(A|0,a|0,-1,-1)|0,a=In(a|0,W()|0,E|0,v|0)|0,E=W()|0,ee=x,J=f[ee>>2]|0,ee=f[ee+4>>2]|0,oe=(O+p|0)*3|0,te=Oe(7,0,oe|0)|0,ee=ee&~(W()|0),p=Pi(a|0,E|0,k|0,c|0)|0,A=W()|0,v=gt(p|0,A|0,2,0)|0,oe=Oe(v|0,W()|0,oe|0)|0,ee=W()|0|ee,v=x,f[v>>2]=oe|J&~te,f[v+4>>2]=ee,A=Zn(p|0,A|0,k|0,c|0)|0,A=In(a|0,E|0,A|0,W()|0)|0,E=0,a=W()|0;break}else{oe=x,te=f[oe>>2]|0,oe=f[oe+4>>2]|0,J=Oe(7,0,(O+p|0)*3|0)|0,oe=oe&~(W()|0),E=x,f[E>>2]=te&~J,f[E+4>>2]=oe,E=1;break}else te=x,v=f[te>>2]|0,te=f[te+4>>2]|0,p=(O+p|0)*3|0,ee=Oe(7,0,p|0)|0,te=te&~(W()|0),oe=Pi(A|0,a|0,k|0,c|0)|0,E=W()|0,p=Oe(oe|0,E|0,p|0)|0,te=W()|0|te,J=x,f[J>>2]=p|v&~ee,f[J+4>>2]=te,E=Zn(oe|0,E|0,k|0,c|0)|0,A=In(A|0,a|0,E|0,W()|0)|0,E=0,a=W()|0;while(!1);if((G|0)>(D|0))p=~D,D=D+1|0;else{a=0;break}}return V=K,a|0}while(!1);if((G|0)<1)return oe=0,V=K,oe|0;for(v=k^15,E=1;;)if(J=G-E|0,J=as(7,0,J,((J|0)<0)<<31>>31)|0,oe=W()|0,D=x,c=f[D>>2]|0,D=f[D+4>>2]|0,k=(v-E|0)*3|0,p=Oe(7,0,k|0)|0,D=D&~(W()|0),ee=Pi(A|0,a|0,J|0,oe|0)|0,te=W()|0,k=Oe(ee|0,te|0,k|0)|0,D=W()|0|D,O=x,f[O>>2]=k|c&~p,f[O+4>>2]=D,oe=Zn(ee|0,te|0,J|0,oe|0)|0,A=In(A|0,a|0,oe|0,W()|0)|0,a=W()|0,(G|0)<=(E|0)){a=0;break}else E=E+1|0;return V=K,a|0}function XA(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0;v=Re(a|0,c|0,52)|0,W()|0,v=v&15,(a|0)==0&(c|0)==0|((p|0)>15|(v|0)>(p|0))?(p=-1,v=-1,a=0,c=0):(x=$r(a,c,v+1|0,p)|0,c=(W()|0)&-15728641,a=Oe(p|0,0,52)|0,a=x|a,c=c|(W()|0),x=(Vt(a,c)|0)==0,p=x?-1:p),x=A,f[x>>2]=a,f[x+4>>2]=c,f[A+8>>2]=v,f[A+12>>2]=p}function Ho(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0,D=0,O=0;if(c=A,a=f[c>>2]|0,c=f[c+4>>2]|0,!((a|0)==0&(c|0)==0)&&(p=Re(a|0,c|0,52)|0,W()|0,p=p&15,k=Oe(1,0,(p^15)*3|0)|0,a=gt(k|0,W()|0,a|0,c|0)|0,c=W()|0,k=A,f[k>>2]=a,f[k+4>>2]=c,k=A+8|0,E=f[k>>2]|0,!((p|0)<(E|0)))){for(D=A+12|0,x=p;;){if((x|0)==(E|0)){p=5;break}if(O=(x|0)==(f[D>>2]|0),v=(15-x|0)*3|0,p=Re(a|0,c|0,v|0)|0,W()|0,p=p&7,O&((p|0)==1&!0)){p=7;break}if(!((p|0)==7&!0)){p=10;break}if(O=Oe(1,0,v|0)|0,a=gt(a|0,c|0,O|0,W()|0)|0,c=W()|0,O=A,f[O>>2]=a,f[O+4>>2]=c,(x|0)>(E|0))x=x+-1|0;else{p=10;break}}if((p|0)==5){O=A,f[O>>2]=0,f[O+4>>2]=0,f[k>>2]=-1,f[D>>2]=-1;return}else if((p|0)==7){E=Oe(1,0,v|0)|0,E=gt(a|0,c|0,E|0,W()|0)|0,k=W()|0,O=A,f[O>>2]=E,f[O+4>>2]=k,f[D>>2]=x+-1;return}else if((p|0)==10)return}}function bl(A){A=+A;var a=0;return a=A<0?A+6.283185307179586:A,+(A>=6.283185307179586?a+-6.283185307179586:a)}function so(A,a){return A=A|0,a=a|0,+yt(+(+Q[A>>3]-+Q[a>>3]))<17453292519943298e-27?(a=+yt(+(+Q[A+8>>3]-+Q[a+8>>3]))<17453292519943298e-27,a|0):(a=0,a|0)}function on(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0;return v=+Q[a>>3],p=+Q[A>>3],x=+pt(+((v-p)*.5)),c=+pt(+((+Q[a+8>>3]-+Q[A+8>>3])*.5)),c=x*x+c*(+$t(+v)*+$t(+p)*c),+(+pr(+ +Dt(+c),+ +Dt(+(1-c)))*2)}function oo(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0;return v=+Q[a>>3],p=+Q[A>>3],x=+pt(+((v-p)*.5)),c=+pt(+((+Q[a+8>>3]-+Q[A+8>>3])*.5)),c=x*x+c*(+$t(+v)*+$t(+p)*c),+(+pr(+ +Dt(+c),+ +Dt(+(1-c)))*2*6371.007180918475)}function G0(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0;return v=+Q[a>>3],p=+Q[A>>3],x=+pt(+((v-p)*.5)),c=+pt(+((+Q[a+8>>3]-+Q[A+8>>3])*.5)),c=x*x+c*(+$t(+v)*+$t(+p)*c),+(+pr(+ +Dt(+c),+ +Dt(+(1-c)))*2*6371.007180918475*1e3)}function $0(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0;return x=+Q[a>>3],p=+$t(+x),v=+Q[a+8>>3]-+Q[A+8>>3],E=p*+pt(+v),c=+Q[A>>3],+ +pr(+E,+(+pt(+x)*+$t(+c)-+$t(+v)*(p*+pt(+c))))}function ZA(A,a,c,p){A=A|0,a=+a,c=+c,p=p|0;var v=0,x=0,E=0,k=0;if(c<1e-16){f[p>>2]=f[A>>2],f[p+4>>2]=f[A+4>>2],f[p+8>>2]=f[A+8>>2],f[p+12>>2]=f[A+12>>2];return}x=a<0?a+6.283185307179586:a,x=a>=6.283185307179586?x+-6.283185307179586:x;do if(x<1e-16)a=+Q[A>>3]+c,Q[p>>3]=a,v=p;else{if(v=+yt(+(x+-3.141592653589793))<1e-16,a=+Q[A>>3],v){a=a-c,Q[p>>3]=a,v=p;break}if(E=+$t(+c),c=+pt(+c),a=E*+pt(+a)+ +$t(+x)*(c*+$t(+a)),a=a>1?1:a,a=+P0(+(a<-1?-1:a)),Q[p>>3]=a,+yt(+(a+-1.5707963267948966))<1e-16){Q[p>>3]=1.5707963267948966,Q[p+8>>3]=0;return}if(+yt(+(a+1.5707963267948966))<1e-16){Q[p>>3]=-1.5707963267948966,Q[p+8>>3]=0;return}if(k=+$t(+a),x=c*+pt(+x)/k,c=+Q[A>>3],a=(E-+pt(+a)*+pt(+c))/+$t(+c)/k,E=x>1?1:x,a=a>1?1:a,a=+Q[A+8>>3]+ +pr(+(E<-1?-1:E),+(a<-1?-1:a)),a>3.141592653589793)do a=a+-6.283185307179586;while(a>3.141592653589793);if(a<-3.141592653589793)do a=a+6.283185307179586;while(a<-3.141592653589793);Q[p+8>>3]=a;return}while(!1);if(+yt(+(a+-1.5707963267948966))<1e-16){Q[v>>3]=1.5707963267948966,Q[p+8>>3]=0;return}if(+yt(+(a+1.5707963267948966))<1e-16){Q[v>>3]=-1.5707963267948966,Q[p+8>>3]=0;return}if(a=+Q[A+8>>3],a>3.141592653589793)do a=a+-6.283185307179586;while(a>3.141592653589793);if(a<-3.141592653589793)do a=a+6.283185307179586;while(a<-3.141592653589793);Q[p+8>>3]=a}function oi(A,a){return A=A|0,a=a|0,A>>>0>15?(a=4,a|0):(Q[a>>3]=+Q[20528+(A<<3)>>3],a=0,a|0)}function Pl(A,a){return A=A|0,a=a|0,A>>>0>15?(a=4,a|0):(Q[a>>3]=+Q[20656+(A<<3)>>3],a=0,a|0)}function un(A,a){return A=A|0,a=a|0,A>>>0>15?(a=4,a|0):(Q[a>>3]=+Q[20784+(A<<3)>>3],a=0,a|0)}function Yn(A,a){return A=A|0,a=a|0,A>>>0>15?(a=4,a|0):(Q[a>>3]=+Q[20912+(A<<3)>>3],a=0,a|0)}function Sn(A,a){A=A|0,a=a|0;var c=0;return A>>>0>15?(a=4,a|0):(c=as(7,0,A,((A|0)<0)<<31>>31)|0,c=Zn(c|0,W()|0,120,0)|0,A=W()|0,f[a>>2]=c|2,f[a+4>>2]=A,a=0,a|0)}function Fa(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0;return ee=+Q[a>>3],G=+Q[A>>3],D=+pt(+((ee-G)*.5)),x=+Q[a+8>>3],O=+Q[A+8>>3],E=+pt(+((x-O)*.5)),k=+$t(+G),K=+$t(+ee),E=D*D+E*(K*k*E),E=+pr(+ +Dt(+E),+ +Dt(+(1-E)))*2,D=+Q[c>>3],ee=+pt(+((D-ee)*.5)),p=+Q[c+8>>3],x=+pt(+((p-x)*.5)),v=+$t(+D),x=ee*ee+x*(K*v*x),x=+pr(+ +Dt(+x),+ +Dt(+(1-x)))*2,D=+pt(+((G-D)*.5)),p=+pt(+((O-p)*.5)),p=D*D+p*(k*v*p),p=+pr(+ +Dt(+p),+ +Dt(+(1-p)))*2,v=(E+x+p)*.5,+(+Po(+ +Dt(+(+ni(+(v*.5))*+ni(+((v-E)*.5))*+ni(+((v-x)*.5))*+ni(+((v-p)*.5)))))*4)}function jo(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0;if(k=V,V=V+192|0,x=k+168|0,E=k,v=Cl(A,a,x)|0,v|0)return c=v,V=k,c|0;if(os(A,a,E)|0&&Ke(23313,22742,386,22751),a=f[E>>2]|0,(a|0)>0){if(p=+Fa(E+8|0,E+8+(((a|0)!=1&1)<<4)|0,x)+0,(a|0)!=1){A=1;do v=A,A=A+1|0,p=p+ +Fa(E+8+(v<<4)|0,E+8+(((A|0)%(a|0)|0)<<4)|0,x);while((A|0)<(a|0))}}else p=0;return Q[c>>3]=p,c=0,V=k,c|0}function Na(A,a,c){return A=A|0,a=a|0,c=c|0,A=jo(A,a,c)|0,A|0||(Q[c>>3]=+Q[c>>3]*6371.007180918475*6371.007180918475),A|0}function Gm(A,a,c){return A=A|0,a=a|0,c=c|0,A=jo(A,a,c)|0,A|0||(Q[c>>3]=+Q[c>>3]*6371.007180918475*6371.007180918475*1e3*1e3),A|0}function qn(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0;if(k=V,V=V+176|0,E=k,A=Tl(A,a,E)|0,A|0)return E=A,V=k,E|0;if(Q[c>>3]=0,A=f[E>>2]|0,(A|0)<=1)return E=0,V=k,E|0;a=A+-1|0,A=0,p=+Q[E+8>>3],v=+Q[E+16>>3],x=0;do A=A+1|0,O=p,p=+Q[E+8+(A<<4)>>3],G=+pt(+((p-O)*.5)),D=v,v=+Q[E+8+(A<<4)+8>>3],D=+pt(+((v-D)*.5)),D=G*G+D*(+$t(+p)*+$t(+O)*D),x=x+ +pr(+ +Dt(+D),+ +Dt(+(1-D)))*2;while((A|0)<(a|0));return Q[c>>3]=x,E=0,V=k,E|0}function z0(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0;if(k=V,V=V+176|0,E=k,A=Tl(A,a,E)|0,A|0)return E=A,x=+Q[c>>3],x=x*6371.007180918475,Q[c>>3]=x,V=k,E|0;if(Q[c>>3]=0,A=f[E>>2]|0,(A|0)<=1)return E=0,x=0,x=x*6371.007180918475,Q[c>>3]=x,V=k,E|0;a=A+-1|0,A=0,p=+Q[E+8>>3],v=+Q[E+16>>3],x=0;do A=A+1|0,O=p,p=+Q[E+8+(A<<4)>>3],G=+pt(+((p-O)*.5)),D=v,v=+Q[E+8+(A<<4)+8>>3],D=+pt(+((v-D)*.5)),D=G*G+D*(+$t(+O)*+$t(+p)*D),x=x+ +pr(+ +Dt(+D),+ +Dt(+(1-D)))*2;while((A|0)!=(a|0));return Q[c>>3]=x,E=0,G=x,G=G*6371.007180918475,Q[c>>3]=G,V=k,E|0}function H0(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0;if(k=V,V=V+176|0,E=k,A=Tl(A,a,E)|0,A|0)return E=A,x=+Q[c>>3],x=x*6371.007180918475,x=x*1e3,Q[c>>3]=x,V=k,E|0;if(Q[c>>3]=0,A=f[E>>2]|0,(A|0)<=1)return E=0,x=0,x=x*6371.007180918475,x=x*1e3,Q[c>>3]=x,V=k,E|0;a=A+-1|0,A=0,p=+Q[E+8>>3],v=+Q[E+16>>3],x=0;do A=A+1|0,O=p,p=+Q[E+8+(A<<4)>>3],G=+pt(+((p-O)*.5)),D=v,v=+Q[E+8+(A<<4)+8>>3],D=+pt(+((v-D)*.5)),D=G*G+D*(+$t(+O)*+$t(+p)*D),x=x+ +pr(+ +Dt(+D),+ +Dt(+(1-D)))*2;while((A|0)!=(a|0));return Q[c>>3]=x,E=0,G=x,G=G*6371.007180918475,G=G*1e3,Q[c>>3]=G,V=k,E|0}function j0(A){A=A|0;var a=0,c=0,p=0;return a=Sr(1,12)|0,a||Ke(22832,22787,49,22845),c=A+4|0,p=f[c>>2]|0,p|0?(p=p+8|0,f[p>>2]=a,f[c>>2]=a,a|0):(f[A>>2]|0&&Ke(22862,22787,61,22885),p=A,f[p>>2]=a,f[c>>2]=a,a|0)}function Ns(A,a){A=A|0,a=a|0;var c=0,p=0;return p=Cn(24)|0,p||Ke(22899,22787,78,22913),f[p>>2]=f[a>>2],f[p+4>>2]=f[a+4>>2],f[p+8>>2]=f[a+8>>2],f[p+12>>2]=f[a+12>>2],f[p+16>>2]=0,a=A+4|0,c=f[a>>2]|0,c|0?(f[c+16>>2]=p,f[a>>2]=p,p|0):(f[A>>2]|0&&Ke(22928,22787,82,22913),f[A>>2]=p,f[a>>2]=p,p|0)}function bi(A){A=A|0;var a=0,c=0,p=0,v=0;if(A)for(p=1;;){if(a=f[A>>2]|0,a|0)do{if(c=f[a>>2]|0,c|0)do v=c,c=f[c+16>>2]|0,it(v);while(c|0);v=a,a=f[a+8>>2]|0,it(v)}while(a|0);if(a=A,A=f[A+8>>2]|0,p||it(a),A)p=0;else break}}function Vo(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0,me=0,Ae=0,Be=0,Ue=0,Pe=0,Ne=0,Ot=0,kt=0,Rt=0,ct=0,lt=0,ht=0,Nt=0,rt=0;if(v=A+8|0,f[v>>2]|0)return rt=1,rt|0;if(p=f[A>>2]|0,!p)return rt=0,rt|0;a=p,c=0;do c=c+1|0,a=f[a+8>>2]|0;while(a|0);if(c>>>0<2)return rt=0,rt|0;ht=Cn(c<<2)|0,ht||Ke(22948,22787,317,22967),lt=Cn(c<<5)|0,lt||Ke(22989,22787,321,22967),f[A>>2]=0,Ue=A+4|0,f[Ue>>2]=0,f[v>>2]=0,c=0,ct=0,Be=0,K=0;e:for(;;){if(G=f[p>>2]|0,G){x=0,E=G;do{if(D=+Q[E+8>>3],a=E,E=f[E+16>>2]|0,O=(E|0)==0,v=O?G:E,k=+Q[v+8>>3],+yt(+(D-k))>3.141592653589793){rt=14;break}x=x+(k-D)*(+Q[a>>3]+ +Q[v>>3])}while(!O);if((rt|0)==14){rt=0,x=0,a=G;do Ae=+Q[a+8>>3],Rt=a+16|0,kt=f[Rt>>2]|0,kt=kt|0?kt:G,me=+Q[kt+8>>3],x=x+(+Q[a>>3]+ +Q[kt>>3])*((me<0?me+6.283185307179586:me)-(Ae<0?Ae+6.283185307179586:Ae)),a=f[(a|0?Rt:p)>>2]|0;while(a|0)}x>0?(f[ht+(ct<<2)>>2]=p,ct=ct+1|0,v=Be,a=K):rt=19}else rt=19;if((rt|0)==19){rt=0;do if(c){if(a=c+8|0,f[a>>2]|0){rt=21;break e}if(c=Sr(1,12)|0,!c){rt=23;break e}f[a>>2]=c,v=c+4|0,E=c,a=K}else if(K){v=Ue,E=K+8|0,a=p,c=A;break}else if(f[A>>2]|0){rt=27;break e}else{v=Ue,E=A,a=p,c=A;break}while(!1);if(f[E>>2]=p,f[v>>2]=p,E=lt+(Be<<5)|0,O=f[p>>2]|0,O){for(G=lt+(Be<<5)+8|0,Q[G>>3]=17976931348623157e292,K=lt+(Be<<5)+24|0,Q[K>>3]=17976931348623157e292,Q[E>>3]=-17976931348623157e292,ee=lt+(Be<<5)+16|0,Q[ee>>3]=-17976931348623157e292,ne=17976931348623157e292,de=-17976931348623157e292,v=0,te=O,D=17976931348623157e292,oe=17976931348623157e292,Se=-17976931348623157e292,k=-17976931348623157e292;x=+Q[te>>3],Ae=+Q[te+8>>3],te=f[te+16>>2]|0,J=(te|0)==0,me=+Q[(J?O:te)+8>>3],x<D&&(Q[G>>3]=x,D=x),Ae<oe&&(Q[K>>3]=Ae,oe=Ae),x>Se?Q[E>>3]=x:x=Se,Ae>k&&(Q[ee>>3]=Ae,k=Ae),ne=Ae>0&Ae<ne?Ae:ne,de=Ae<0&Ae>de?Ae:de,v=v|+yt(+(Ae-me))>3.141592653589793,!J;)Se=x;v&&(Q[ee>>3]=de,Q[K>>3]=ne)}else f[E>>2]=0,f[E+4>>2]=0,f[E+8>>2]=0,f[E+12>>2]=0,f[E+16>>2]=0,f[E+20>>2]=0,f[E+24>>2]=0,f[E+28>>2]=0;v=Be+1|0}if(Rt=p+8|0,p=f[Rt>>2]|0,f[Rt>>2]=0,p)Be=v,K=a;else{rt=45;break}}if((rt|0)==21)Ke(22765,22787,35,22799);else if((rt|0)==23)Ke(22819,22787,37,22799);else if((rt|0)==27)Ke(22862,22787,61,22885);else if((rt|0)==45){e:do if((ct|0)>0){for(Rt=(v|0)==0,Ot=v<<2,kt=(A|0)==0,Ne=0,a=0;;){if(Pe=f[ht+(Ne<<2)>>2]|0,Rt)rt=73;else{if(Be=Cn(Ot)|0,!Be){rt=50;break}if(Ue=Cn(Ot)|0,!Ue){rt=52;break}t:do if(kt)c=0;else{for(v=0,c=0,E=A;p=lt+(v<<5)|0,Ba(f[E>>2]|0,p,f[Pe>>2]|0)|0?(f[Be+(c<<2)>>2]=E,f[Ue+(c<<2)>>2]=p,J=c+1|0):J=c,E=f[E+8>>2]|0,E;)v=v+1|0,c=J;if((J|0)>0)if(p=f[Be>>2]|0,(J|0)==1)c=p;else for(ee=0,te=-1,c=p,K=p;;){for(O=f[K>>2]|0,p=0,E=0;v=f[f[Be+(E<<2)>>2]>>2]|0,(v|0)==(O|0)?G=p:G=p+((Ba(v,f[Ue+(E<<2)>>2]|0,f[O>>2]|0)|0)&1)|0,E=E+1|0,(E|0)!=(J|0);)p=G;if(v=(G|0)>(te|0),c=v?K:c,p=ee+1|0,(p|0)==(J|0))break t;ee=p,te=v?G:te,K=f[Be+(p<<2)>>2]|0}else c=0}while(!1);if(it(Be),it(Ue),c){if(v=c+4|0,p=f[v>>2]|0,p)c=p+8|0;else if(f[c>>2]|0){rt=70;break}f[c>>2]=Pe,f[v>>2]=Pe}else rt=73}if((rt|0)==73){if(rt=0,a=f[Pe>>2]|0,a|0)do Ue=a,a=f[a+16>>2]|0,it(Ue);while(a|0);it(Pe),a=1}if(Ne=Ne+1|0,(Ne|0)>=(ct|0)){Nt=a;break e}}(rt|0)==50?Ke(23004,22787,249,23023):(rt|0)==52?Ke(23042,22787,252,23023):(rt|0)==70&&Ke(22862,22787,61,22885)}else Nt=0;while(!1);return it(ht),it(lt),rt=Nt,rt|0}return 0}function Ba(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0;if(!(ba(a,c)|0)||(a=ah(a)|0,p=+Q[c>>3],v=+Q[c+8>>3],v=a&v<0?v+6.283185307179586:v,A=f[A>>2]|0,!A))return A=0,A|0;if(a){a=0,O=v,c=A;e:for(;;){for(;E=+Q[c>>3],v=+Q[c+8>>3],c=c+16|0,G=f[c>>2]|0,G=G|0?G:A,x=+Q[G>>3],k=+Q[G+8>>3],E>x?(D=E,E=k):(D=x,x=E,E=v,v=k),p=p==x|p==D?p+2220446049250313e-31:p,!!(p<x|p>D);)if(c=f[c>>2]|0,!c){c=22;break e}if(k=E<0?E+6.283185307179586:E,E=v<0?v+6.283185307179586:v,O=k==O|E==O?O+-2220446049250313e-31:O,D=k+(E-k)*((p-x)/(D-x)),(D<0?D+6.283185307179586:D)>O&&(a=a^1),c=f[c>>2]|0,!c){c=22;break}}if((c|0)==22)return a|0}else{a=0,O=v,c=A;e:for(;;){for(;E=+Q[c>>3],v=+Q[c+8>>3],c=c+16|0,G=f[c>>2]|0,G=G|0?G:A,x=+Q[G>>3],k=+Q[G+8>>3],E>x?(D=E,E=k):(D=x,x=E,E=v,v=k),p=p==x|p==D?p+2220446049250313e-31:p,!!(p<x|p>D);)if(c=f[c>>2]|0,!c){c=22;break e}if(O=E==O|v==O?O+-2220446049250313e-31:O,E+(v-E)*((p-x)/(D-x))>O&&(a=a^1),c=f[c>>2]|0,!c){c=22;break}}if((c|0)==22)return a|0}return 0}function li(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0;if(de=V,V=V+32|0,ne=de+16|0,Se=de,x=Re(A|0,a|0,52)|0,W()|0,x=x&15,te=Re(c|0,p|0,52)|0,W()|0,(x|0)!=(te&15|0))return ne=12,V=de,ne|0;if(O=Re(A|0,a|0,45)|0,W()|0,O=O&127,G=Re(c|0,p|0,45)|0,W()|0,G=G&127,O>>>0>121|G>>>0>121)return ne=5,V=de,ne|0;if(te=(O|0)!=(G|0),te){if(k=Da(O,G)|0,(k|0)==7)return ne=1,V=de,ne|0;D=Da(G,O)|0,(D|0)==7?Ke(23066,23090,161,23100):(J=k,E=D)}else J=0,E=0;K=jt(O)|0,ee=jt(G)|0,f[ne>>2]=0,f[ne+4>>2]=0,f[ne+8>>2]=0,f[ne+12>>2]=0;do if(J){if(G=f[4272+(O*28|0)+(J<<2)>>2]|0,k=(G|0)>0,ee)if(k){O=0,D=c,k=p;do D=mh(D,k)|0,k=W()|0,E=rs(E)|0,(E|0)==1&&(E=rs(1)|0),O=O+1|0;while((O|0)!=(G|0));G=E,O=D,D=k}else G=E,O=c,D=p;else if(k){O=0,D=c,k=p;do D=Go(D,k)|0,k=W()|0,E=rs(E)|0,O=O+1|0;while((O|0)!=(G|0));G=E,O=D,D=k}else G=E,O=c,D=p;if(Rl(O,D,ne)|0,te||Ke(23115,23090,191,23100),k=(K|0)!=0,E=(ee|0)!=0,k&E&&Ke(23142,23090,192,23100),k){if(E=Ar(A,a)|0,(E|0)==7){x=5;break}if(Je[21872+(E*7|0)+J>>0]|0){x=1;break}D=f[21040+(E*28|0)+(J<<2)>>2]|0,O=D}else if(E){if(E=Ar(O,D)|0,(E|0)==7){x=5;break}if(Je[21872+(E*7|0)+G>>0]|0){x=1;break}O=0,D=f[21040+(G*28|0)+(E<<2)>>2]|0}else O=0,D=0;if((O|D|0)<0)x=5;else{if((D|0)>0){k=ne+4|0,E=0;do Sl(k),E=E+1|0;while((E|0)!=(D|0))}if(f[Se>>2]=0,f[Se+4>>2]=0,f[Se+8>>2]=0,Fo(Se,J),x|0)for(;Er(x)|0?Oo(Se):ns(Se),(x|0)>1;)x=x+-1|0;if((O|0)>0){x=0;do Sl(Se),x=x+1|0;while((x|0)!=(O|0))}oe=ne+4|0,zn(oe,Se,oe),en(oe),oe=51}}else if(Rl(c,p,ne)|0,(K|0)!=0&(ee|0)!=0)if((G|0)!=(O|0)&&Ke(23173,23090,261,23100),E=Ar(A,a)|0,x=Ar(c,p)|0,(E|0)==7|(x|0)==7)x=5;else if(Je[21872+(E*7|0)+x>>0]|0)x=1;else if(E=f[21040+(E*28|0)+(x<<2)>>2]|0,(E|0)>0){k=ne+4|0,x=0;do Sl(k),x=x+1|0;while((x|0)!=(E|0));oe=51}else oe=51;else oe=51;while(!1);return(oe|0)==51&&(x=ne+4|0,f[v>>2]=f[x>>2],f[v+4>>2]=f[x+4>>2],f[v+8>>2]=f[x+8>>2],x=0),ne=x,V=de,ne|0}function V0(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0,me=0;if(oe=V,V=V+48|0,O=oe+36|0,E=oe+24|0,k=oe+12|0,D=oe,v=Re(A|0,a|0,52)|0,W()|0,v=v&15,ee=Re(A|0,a|0,45)|0,W()|0,ee=ee&127,ee>>>0>121)return p=5,V=oe,p|0;if(G=jt(ee)|0,Oe(v|0,0,52)|0,Se=W()|0|134225919,x=p,f[x>>2]=-1,f[x+4>>2]=Se,!v)return v=Ur(c)|0,(v|0)==7||(v=En(ee,v)|0,(v|0)==127)?(Se=1,V=oe,Se|0):(te=Oe(v|0,0,45)|0,J=W()|0,ee=p,J=f[ee+4>>2]&-1040385|J,Se=p,f[Se>>2]=f[ee>>2]|te,f[Se+4>>2]=J,Se=0,V=oe,Se|0);for(f[O>>2]=f[c>>2],f[O+4>>2]=f[c+4>>2],f[O+8>>2]=f[c+8>>2],c=v;;){if(x=c,c=c+-1|0,f[E>>2]=f[O>>2],f[E+4>>2]=f[O+4>>2],f[E+8>>2]=f[O+8>>2],Er(x)|0){if(v=Bm(O)|0,v|0){c=13;break}f[k>>2]=f[O>>2],f[k+4>>2]=f[O+4>>2],f[k+8>>2]=f[O+8>>2],Oo(k)}else{if(v=HA(O)|0,v|0){c=13;break}f[k>>2]=f[O>>2],f[k+4>>2]=f[O+4>>2],f[k+8>>2]=f[O+8>>2],ns(k)}if(zA(E,k,D),en(D),v=p,de=f[v>>2]|0,v=f[v+4>>2]|0,me=(15-x|0)*3|0,ne=Oe(7,0,me|0)|0,v=v&~(W()|0),me=Oe(Ur(D)|0,0,me|0)|0,v=W()|0|v,Se=p,f[Se>>2]=me|de&~ne,f[Se+4>>2]=v,(x|0)<=1){c=14;break}}e:do if((c|0)!=13&&(c|0)==14)if((f[O>>2]|0)<=1&&(f[O+4>>2]|0)<=1&&(f[O+8>>2]|0)<=1){c=Ur(O)|0,v=En(ee,c)|0,(v|0)==127?D=0:D=jt(v)|0;t:do if(c){if(G){if(v=Ar(A,a)|0,(v|0)==7){v=5;break e}if(x=f[21248+(v*28|0)+(c<<2)>>2]|0,(x|0)>0){v=c,c=0;do v=to(v)|0,c=c+1|0;while((c|0)!=(x|0))}else v=c;if((v|0)==1){v=9;break e}c=En(ee,v)|0,(c|0)==127&&Ke(23200,23090,411,23230),jt(c)|0?Ke(23245,23090,412,23230):(J=c,te=x,K=v)}else J=v,te=0,K=c;if(k=f[4272+(ee*28|0)+(K<<2)>>2]|0,(k|0)<=-1&&Ke(23276,23090,419,23230),!D){if((te|0)<0){v=5;break e}if(te|0){x=p,v=0,c=f[x>>2]|0,x=f[x+4>>2]|0;do c=Fs(c,x)|0,x=W()|0,me=p,f[me>>2]=c,f[me+4>>2]=x,v=v+1|0;while((v|0)<(te|0))}if((k|0)<=0){v=J,c=58;break}for(x=p,v=0,c=f[x>>2]|0,x=f[x+4>>2]|0;;)if(c=Fs(c,x)|0,x=W()|0,me=p,f[me>>2]=c,f[me+4>>2]=x,v=v+1|0,(v|0)==(k|0)){v=J,c=58;break t}}if(E=Da(J,ee)|0,(E|0)==7&&Ke(23066,23090,428,23230),v=p,c=f[v>>2]|0,v=f[v+4>>2]|0,(k|0)>0){x=0;do c=Fs(c,v)|0,v=W()|0,me=p,f[me>>2]=c,f[me+4>>2]=v,x=x+1|0;while((x|0)!=(k|0))}if(v=Ar(c,v)|0,(v|0)==7&&Ke(23313,23090,440,23230),c=bt(J)|0,c=f[(c?21664:21456)+(E*28|0)+(v<<2)>>2]|0,(c|0)<0&&Ke(23313,23090,454,23230),!c)v=J,c=58;else{E=p,v=0,x=f[E>>2]|0,E=f[E+4>>2]|0;do x=Oa(x,E)|0,E=W()|0,me=p,f[me>>2]=x,f[me+4>>2]=E,v=v+1|0;while((v|0)<(c|0));v=J,c=58}}else if((G|0)!=0&(D|0)!=0){if(c=Ar(A,a)|0,x=p,x=Ar(f[x>>2]|0,f[x+4>>2]|0)|0,(c|0)==7|(x|0)==7){v=5;break e}if(x=f[21248+(c*28|0)+(x<<2)>>2]|0,(x|0)<0){v=5;break e}if(!x)c=59;else{k=p,c=0,E=f[k>>2]|0,k=f[k+4>>2]|0;do E=Fs(E,k)|0,k=W()|0,me=p,f[me>>2]=E,f[me+4>>2]=k,c=c+1|0;while((c|0)<(x|0));c=58}}else c=58;while(!1);if((c|0)==58&&D&&(c=59),(c|0)==59&&(me=p,(Ar(f[me>>2]|0,f[me+4>>2]|0)|0)==1)){v=9;break}me=p,ne=f[me>>2]|0,me=f[me+4>>2]&-1040385,de=Oe(v|0,0,45)|0,me=me|(W()|0),v=p,f[v>>2]=ne|de,f[v+4>>2]=me,v=0}else v=1;while(!1);return me=v,V=oe,me|0}function vh(A,a,c,p,v,x){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0,x=x|0;var E=0,k=0;return k=V,V=V+16|0,E=k,v?A=15:(A=li(A,a,c,p,E)|0,A||(is(E,x),A=0)),V=k,A|0}function xh(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0;return E=V,V=V+16|0,x=E,p?c=15:(c=no(c,x)|0,c||(c=V0(A,a,x,v)|0)),V=E,c|0}function _h(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0;return D=V,V=V+32|0,E=D+12|0,k=D,x=li(A,a,A,a,E)|0,x|0?(k=x,V=D,k|0):(A=li(A,a,c,p,k)|0,A|0?(k=A,V=D,k|0):(E=xr(E,k)|0,k=v,f[k>>2]=E,f[k+4>>2]=((E|0)<0)<<31>>31,k=0,V=D,k|0))}function Eh(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0;return D=V,V=V+32|0,E=D+12|0,k=D,x=li(A,a,A,a,E)|0,!x&&(x=li(A,a,c,p,k)|0,!x)?(p=xr(E,k)|0,p=gt(p|0,((p|0)<0)<<31>>31|0,1,0)|0,E=W()|0,k=v,f[k>>2]=p,f[k+4>>2]=E,k=0,V=D,k|0):(k=x,V=D,k|0)}function Sh(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0,me=0,Ae=0,Be=0,Ue=0,Pe=0,Ne=0;if(Pe=V,V=V+48|0,E=Pe+24|0,k=Pe+12|0,Ue=Pe,x=li(A,a,A,a,E)|0,!x&&(x=li(A,a,c,p,k)|0,!x)){Ae=xr(E,k)|0,Be=((Ae|0)<0)<<31>>31,f[E>>2]=0,f[E+4>>2]=0,f[E+8>>2]=0,f[k>>2]=0,f[k+4>>2]=0,f[k+8>>2]=0,li(A,a,A,a,E)|0&&Ke(23313,23090,691,23299),li(A,a,c,p,k)|0&&Ke(23313,23090,696,23299),QA(E),QA(k),Ae?(K=f[E>>2]|0,J=+(Ae|0),ne=E+4|0,ee=f[ne>>2]|0,de=E+8|0,te=f[de>>2]|0,me=E,p=K,x=ee,c=te,oe=+((f[k>>2]|0)-K|0)/J,Se=+((f[k+4>>2]|0)-ee|0)/J,J=+((f[k+8>>2]|0)-te|0)/J):(x=E+4|0,c=E+8|0,ne=x,de=c,me=E,p=f[E>>2]|0,x=f[x>>2]|0,c=f[c>>2]|0,oe=0,Se=0,J=0),f[Ue>>2]=p,te=Ue+4|0,f[te>>2]=x,ee=Ue+8|0,f[ee>>2]=c;e:do if((Ae|0)<0)x=0;else for(G=0,K=0,x=p;;){O=+(K>>>0)+4294967296*+(G|0),Ne=oe*O+ +(x|0),D=Se*O+ +(f[ne>>2]|0),O=J*O+ +(f[de>>2]|0),c=~~+$a(+Ne),E=~~+$a(+D),x=~~+$a(+O),Ne=+yt(+(+(c|0)-Ne)),D=+yt(+(+(E|0)-D)),O=+yt(+(+(x|0)-O));do if(Ne>D&Ne>O)c=0-(E+x)|0,p=E;else if(k=0-c|0,D>O){p=k-x|0;break}else{p=E,x=k-E|0;break}while(!1);if(f[Ue>>2]=c,f[te>>2]=p,f[ee>>2]=x,uh(Ue),x=V0(A,a,Ue,v+(K<<3)|0)|0,x|0)break e;if(!((G|0)<(Be|0)|(G|0)==(Be|0)&K>>>0<Ae>>>0)){x=0;break e}x=gt(K|0,G|0,1,0)|0,k=W()|0,G=k,K=x,x=f[me>>2]|0}while(!1);return Ue=x,V=Pe,Ue|0}return Ue=x,V=Pe,Ue|0}function as(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0;if((c|0)==0&(p|0)==0)return v=0,x=1,$e(v|0),x|0;x=A,v=a,A=1,a=0;do E=(c&1|0)==0&!0,A=Zn((E?1:x)|0,(E?0:v)|0,A|0,a|0)|0,a=W()|0,c=Jn(c|0,p|0,1)|0,p=W()|0,x=Zn(x|0,v|0,x|0,v|0)|0,v=W()|0;while(!((c|0)==0&(p|0)==0));return $e(a|0),A|0}function Ml(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0;if(!(ba(a,c)|0)||(a=ah(a)|0,p=+Q[c>>3],v=+Q[c+8>>3],v=a&v<0?v+6.283185307179586:v,ee=f[A>>2]|0,(ee|0)<=0))return ee=0,ee|0;if(K=f[A+4>>2]|0,a){a=0,G=v,c=-1,A=0;e:for(;;){for(O=A;E=+Q[K+(O<<4)>>3],v=+Q[K+(O<<4)+8>>3],A=(c+2|0)%(ee|0)|0,x=+Q[K+(A<<4)>>3],k=+Q[K+(A<<4)+8>>3],E>x?(D=E,E=k):(D=x,x=E,E=v,v=k),p=p==x|p==D?p+2220446049250313e-31:p,!!(p<x|p>D);)if(c=O+1|0,(c|0)>=(ee|0)){c=22;break e}else A=O,O=c,c=A;if(k=E<0?E+6.283185307179586:E,E=v<0?v+6.283185307179586:v,G=k==G|E==G?G+-2220446049250313e-31:G,D=k+(E-k)*((p-x)/(D-x)),(D<0?D+6.283185307179586:D)>G&&(a=a^1),A=O+1|0,(A|0)>=(ee|0)){c=22;break}else c=O}if((c|0)==22)return a|0}else{a=0,G=v,c=-1,A=0;e:for(;;){for(O=A;E=+Q[K+(O<<4)>>3],v=+Q[K+(O<<4)+8>>3],A=(c+2|0)%(ee|0)|0,x=+Q[K+(A<<4)>>3],k=+Q[K+(A<<4)+8>>3],E>x?(D=E,E=k):(D=x,x=E,E=v,v=k),p=p==x|p==D?p+2220446049250313e-31:p,!!(p<x|p>D);)if(c=O+1|0,(c|0)>=(ee|0)){c=22;break e}else A=O,O=c,c=A;if(G=E==G|v==G?G+-2220446049250313e-31:G,E+(v-E)*((p-x)/(D-x))>G&&(a=a^1),A=O+1|0,(A|0)>=(ee|0)){c=22;break}else c=O}if((c|0)==22)return a|0}return 0}function Q0(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0;if(J=f[A>>2]|0,!J){f[a>>2]=0,f[a+4>>2]=0,f[a+8>>2]=0,f[a+12>>2]=0,f[a+16>>2]=0,f[a+20>>2]=0,f[a+24>>2]=0,f[a+28>>2]=0;return}if(oe=a+8|0,Q[oe>>3]=17976931348623157e292,Se=a+24|0,Q[Se>>3]=17976931348623157e292,Q[a>>3]=-17976931348623157e292,ne=a+16|0,Q[ne>>3]=-17976931348623157e292,!((J|0)<=0)){for(ee=f[A+4>>2]|0,O=17976931348623157e292,G=-17976931348623157e292,K=0,A=-1,x=17976931348623157e292,E=17976931348623157e292,D=-17976931348623157e292,p=-17976931348623157e292,te=0;c=+Q[ee+(te<<4)>>3],k=+Q[ee+(te<<4)+8>>3],A=A+2|0,v=+Q[ee+(((A|0)==(J|0)?0:A)<<4)+8>>3],c<x&&(Q[oe>>3]=c,x=c),k<E&&(Q[Se>>3]=k,E=k),c>D?Q[a>>3]=c:c=D,k>p&&(Q[ne>>3]=k,p=k),O=k>0&k<O?k:O,G=k<0&k>G?k:G,K=K|+yt(+(k-v))>3.141592653589793,A=te+1|0,(A|0)!=(J|0);)de=te,D=c,te=A,A=de;K&&(Q[ne>>3]=G,Q[Se>>3]=O)}}function JA(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0,me=0,Ae=0,Be=0,Ue=0,Pe=0;if(J=f[A>>2]|0,J){if(oe=a+8|0,Q[oe>>3]=17976931348623157e292,Se=a+24|0,Q[Se>>3]=17976931348623157e292,Q[a>>3]=-17976931348623157e292,ne=a+16|0,Q[ne>>3]=-17976931348623157e292,(J|0)>0){for(v=f[A+4>>2]|0,ee=17976931348623157e292,te=-17976931348623157e292,p=0,c=-1,D=17976931348623157e292,O=17976931348623157e292,K=-17976931348623157e292,E=-17976931348623157e292,de=0;x=+Q[v+(de<<4)>>3],G=+Q[v+(de<<4)+8>>3],Ue=c+2|0,k=+Q[v+(((Ue|0)==(J|0)?0:Ue)<<4)+8>>3],x<D&&(Q[oe>>3]=x,D=x),G<O&&(Q[Se>>3]=G,O=G),x>K?Q[a>>3]=x:x=K,G>E&&(Q[ne>>3]=G,E=G),ee=G>0&G<ee?G:ee,te=G<0&G>te?G:te,p=p|+yt(+(G-k))>3.141592653589793,c=de+1|0,(c|0)!=(J|0);)Ue=de,K=x,de=c,c=Ue;p&&(Q[ne>>3]=te,Q[Se>>3]=ee)}}else f[a>>2]=0,f[a+4>>2]=0,f[a+8>>2]=0,f[a+12>>2]=0,f[a+16>>2]=0,f[a+20>>2]=0,f[a+24>>2]=0,f[a+28>>2]=0;if(Ue=A+8|0,c=f[Ue>>2]|0,!((c|0)<=0)){Be=A+12|0,Ae=0;do if(v=f[Be>>2]|0,p=Ae,Ae=Ae+1|0,Se=a+(Ae<<5)|0,ne=f[v+(p<<3)>>2]|0,ne){if(de=a+(Ae<<5)+8|0,Q[de>>3]=17976931348623157e292,A=a+(Ae<<5)+24|0,Q[A>>3]=17976931348623157e292,Q[Se>>3]=-17976931348623157e292,me=a+(Ae<<5)+16|0,Q[me>>3]=-17976931348623157e292,(ne|0)>0){for(J=f[v+(p<<3)+4>>2]|0,ee=17976931348623157e292,te=-17976931348623157e292,v=0,p=-1,oe=0,D=17976931348623157e292,O=17976931348623157e292,G=-17976931348623157e292,E=-17976931348623157e292;x=+Q[J+(oe<<4)>>3],K=+Q[J+(oe<<4)+8>>3],p=p+2|0,k=+Q[J+(((p|0)==(ne|0)?0:p)<<4)+8>>3],x<D&&(Q[de>>3]=x,D=x),K<O&&(Q[A>>3]=K,O=K),x>G?Q[Se>>3]=x:x=G,K>E&&(Q[me>>3]=K,E=K),ee=K>0&K<ee?K:ee,te=K<0&K>te?K:te,v=v|+yt(+(K-k))>3.141592653589793,p=oe+1|0,(p|0)!=(ne|0);)Pe=oe,oe=p,G=x,p=Pe;v&&(Q[me>>3]=te,Q[A>>3]=ee)}}else f[Se>>2]=0,f[Se+4>>2]=0,f[Se+8>>2]=0,f[Se+12>>2]=0,f[Se+16>>2]=0,f[Se+20>>2]=0,f[Se+24>>2]=0,f[Se+28>>2]=0,c=f[Ue>>2]|0;while((Ae|0)<(c|0))}}function eu(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0;if(!(Ml(A,a,c)|0))return v=0,v|0;if(v=A+8|0,(f[v>>2]|0)<=0)return v=1,v|0;for(p=A+12|0,A=0;;){if(x=A,A=A+1|0,Ml((f[p>>2]|0)+(x<<3)|0,a+(A<<5)|0,c)|0){A=0,p=6;break}if((A|0)>=(f[v>>2]|0)){A=1,p=6;break}}return(p|0)==6?A|0:0}function K0(){return 8}function Ua(){return 16}function Th(){return 168}function wh(){return 8}function kh(){return 16}function Lh(){return 12}function W0(){return 8}function Rh(A){return A=A|0,+(+((f[A>>2]|0)>>>0)+4294967296*+(f[A+4>>2]|0))}function Ch(A){A=A|0;var a=0,c=0;return c=+Q[A>>3],a=+Q[A+8>>3],+ +Dt(+(c*c+a*a))}function Ih(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0;O=+Q[A>>3],D=+Q[a>>3]-O,k=+Q[A+8>>3],E=+Q[a+8>>3]-k,K=+Q[c>>3],x=+Q[p>>3]-K,ee=+Q[c+8>>3],G=+Q[p+8>>3]-ee,x=(x*(k-ee)-(O-K)*G)/(D*G-E*x),Q[v>>3]=O+D*x,Q[v+8>>3]=k+E*x}function Y0(A,a){return A=A|0,a=a|0,+yt(+(+Q[A>>3]-+Q[a>>3]))<11920928955078125e-23?(a=+yt(+(+Q[A+8>>3]-+Q[a+8>>3]))<11920928955078125e-23,a|0):(a=0,a|0)}function Tn(A,a){A=A|0,a=a|0;var c=0,p=0,v=0;return v=+Q[A>>3]-+Q[a>>3],p=+Q[A+8>>3]-+Q[a+8>>3],c=+Q[A+16>>3]-+Q[a+16>>3],+(v*v+p*p+c*c)}function $m(A,a){A=A|0,a=a|0;var c=0,p=0,v=0;c=+Q[A>>3],p=+$t(+c),c=+pt(+c),Q[a+16>>3]=c,c=+Q[A+8>>3],v=p*+$t(+c),Q[a>>3]=v,c=p*+pt(+c),Q[a+8>>3]=c}function Dh(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0;if(x=V,V=V+16|0,v=x,p=Vt(A,a)|0,(c+-1|0)>>>0>5||(p=(p|0)!=0,(c|0)==1&p))return v=-1,V=x,v|0;do if(Ol(A,a,v)|0)p=-1;else if(p){p=((f[21936+(c<<2)>>2]|0)+5-(f[v>>2]|0)|0)%5|0;break}else{p=((f[21968+(c<<2)>>2]|0)+6-(f[v>>2]|0)|0)%6|0;break}while(!1);return v=p,V=x,v|0}function Ol(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0,O=0;if(O=V,V=V+32|0,E=O+16|0,k=O,p=$o(A,a,E)|0,p|0)return c=p,V=O,c|0;x=ss(A,a)|0,D=Ar(A,a)|0,oh(x,k),p=Mm(x,f[E>>2]|0)|0;e:do if(jt(x)|0){do switch(x|0){case 4:{A=0;break}case 14:{A=1;break}case 24:{A=2;break}case 38:{A=3;break}case 49:{A=4;break}case 58:{A=5;break}case 63:{A=6;break}case 72:{A=7;break}case 83:{A=8;break}case 97:{A=9;break}case 107:{A=10;break}case 117:{A=11;break}default:{p=1;break e}}while(!1);if(v=f[22e3+(A*24|0)+8>>2]|0,a=f[22e3+(A*24|0)+16>>2]|0,A=f[E>>2]|0,(A|0)!=(f[k>>2]|0)&&(k=bt(x)|0,A=f[E>>2]|0,k|(A|0)==(a|0)&&(p=(p+1|0)%6|0)),(D|0)==3&(A|0)==(a|0)){p=(p+5|0)%6|0,v=22;break}(D|0)==5&(A|0)==(v|0)&&(p=(p+1|0)%6|0),v=22}else v=22;while(!1);return(v|0)==22&&(f[c>>2]=p,p=0),c=p,V=O,c|0}function Hr(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0,me=0;if(me=V,V=V+32|0,de=me+24|0,Se=me+20|0,J=me+8|0,te=me+16|0,ee=me,D=(Vt(A,a)|0)==0,D=D?6:5,G=Re(A|0,a|0,52)|0,W()|0,G=G&15,D>>>0<=c>>>0)return p=2,V=me,p|0;K=(G|0)==0,!K&&(oe=Oe(7,0,(G^15)*3|0)|0,(oe&A|0)==0&((W()|0)&a|0)==0)?v=c:x=4;e:do if((x|0)==4){if(v=(Vt(A,a)|0)!=0,((v?4:5)|0)<(c|0)||Ol(A,a,de)|0||(x=(f[de>>2]|0)+c|0,v?v=22288+(((x|0)%5|0)<<2)|0:v=22320+(((x|0)%6|0)<<2)|0,oe=f[v>>2]|0,(oe|0)==7))return p=1,V=me,p|0;f[Se>>2]=0,v=An(A,a,oe,Se,J)|0;do if(!v){if(k=J,O=f[k>>2]|0,k=f[k+4>>2]|0,E=k>>>0<a>>>0|(k|0)==(a|0)&O>>>0<A>>>0,x=E?O:A,E=E?k:a,!K&&(K=Oe(7,0,(G^15)*3|0)|0,(O&K|0)==0&(k&(W()|0)|0)==0))v=c;else{if(k=(c+-1+D|0)%(D|0)|0,v=Vt(A,a)|0,(k|0)<0&&Ke(23313,23315,245,23324),D=(v|0)!=0,((D?4:5)|0)<(k|0)&&Ke(23313,23315,245,23324),Ol(A,a,de)|0&&Ke(23313,23315,245,23324),v=(f[de>>2]|0)+k|0,D?v=22288+(((v|0)%5|0)<<2)|0:v=22320+(((v|0)%6|0)<<2)|0,k=f[v>>2]|0,(k|0)==7&&Ke(23313,23315,245,23324),f[te>>2]=0,v=An(A,a,k,te,ee)|0,v|0)break;O=ee,D=f[O>>2]|0,O=f[O+4>>2]|0;do if(O>>>0<E>>>0|(O|0)==(E|0)&D>>>0<x>>>0){if(Vt(D,O)|0?x=El(D,O,A,a)|0:x=f[22384+((((f[te>>2]|0)+(f[22352+(k<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,v=Vt(D,O)|0,(x+-1|0)>>>0>5){v=-1,x=D,E=O;break}if(v=(v|0)!=0,(x|0)==1&v){v=-1,x=D,E=O;break}do if(Ol(D,O,de)|0)v=-1;else if(v){v=((f[21936+(x<<2)>>2]|0)+5-(f[de>>2]|0)|0)%5|0;break}else{v=((f[21968+(x<<2)>>2]|0)+6-(f[de>>2]|0)|0)%6|0;break}while(!1);x=D,E=O}else v=c;while(!1);k=J,O=f[k>>2]|0,k=f[k+4>>2]|0}if((x|0)==(O|0)&(E|0)==(k|0)){if(D=(Vt(O,k)|0)!=0,D?A=El(O,k,A,a)|0:A=f[22384+((((f[Se>>2]|0)+(f[22352+(oe<<2)>>2]|0)|0)%6|0)<<2)>>2]|0,v=Vt(O,k)|0,(A+-1|0)>>>0<=5&&(ne=(v|0)!=0,!((A|0)==1&ne)))do if(Ol(O,k,de)|0)v=-1;else if(ne){v=((f[21936+(A<<2)>>2]|0)+5-(f[de>>2]|0)|0)%5|0;break}else{v=((f[21968+(A<<2)>>2]|0)+6-(f[de>>2]|0)|0)%6|0;break}while(!1);else v=-1;v=v+1|0,v=(v|0)==6|D&(v|0)==5?0:v}a=E,A=x;break e}while(!1);return p=v,V=me,p|0}while(!1);return ne=Oe(v|0,0,56)|0,de=W()|0|a&-2130706433|536870912,f[p>>2]=ne|A,f[p+4>>2]=de,p=0,V=me,p|0}function bh(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0;return x=(Vt(A,a)|0)==0,p=Hr(A,a,0,c)|0,v=(p|0)==0,x?!v||(p=Hr(A,a,1,c+8|0)|0,p|0)||(p=Hr(A,a,2,c+16|0)|0,p|0)||(p=Hr(A,a,3,c+24|0)|0,p|0)||(p=Hr(A,a,4,c+32|0)|0,p)?(x=p,x|0):Hr(A,a,5,c+40|0)|0:!v||(p=Hr(A,a,1,c+8|0)|0,p|0)||(p=Hr(A,a,2,c+16|0)|0,p|0)||(p=Hr(A,a,3,c+24|0)|0,p|0)||(p=Hr(A,a,4,c+32|0)|0,p|0)?(x=p,x|0):(x=c+40|0,f[x>>2]=0,f[x+4>>2]=0,x=0,x|0)}function tu(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0,k=0,D=0;return D=V,V=V+192|0,v=D,x=D+168|0,E=Re(A|0,a|0,56)|0,W()|0,E=E&7,k=a&-2130706433|134217728,p=$o(A,k,x)|0,p|0?(k=p,V=D,k|0):(a=Re(A|0,a|0,52)|0,W()|0,a=a&15,Vt(A,k)|0?io(x,a,E,1,v):_r(x,a,E,1,v),k=v+8|0,f[c>>2]=f[k>>2],f[c+4>>2]=f[k+4>>2],f[c+8>>2]=f[k+8>>2],f[c+12>>2]=f[k+12>>2],k=0,V=D,k|0)}function zm(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0;return v=V,V=V+16|0,c=v,!(!0&(a&2013265920|0)==536870912)||(p=a&-2130706433|134217728,!(Ii(A,p)|0))?(p=0,V=v,p|0):(x=Re(A|0,a|0,56)|0,W()|0,x=(Hr(A,p,x&7,c)|0)==0,p=c,p=x&((f[p>>2]|0)==(A|0)?(f[p+4>>2]|0)==(a|0):0)&1,V=v,p|0)}function Ph(A,a,c){A=A|0,a=a|0,c=c|0;var p=0;(a|0)>0?(p=Sr(a,4)|0,f[A>>2]=p,p||Ke(23337,23360,40,23374)):f[A>>2]=0,f[A+4>>2]=a,f[A+8>>2]=0,f[A+12>>2]=c}function Mh(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0;v=A+4|0,x=A+12|0,E=A+8|0;e:for(;;){for(c=f[v>>2]|0,a=0;;){if((a|0)>=(c|0))break e;if(p=f[A>>2]|0,k=f[p+(a<<2)>>2]|0,!k)a=a+1|0;else break}a=p+(~~(+yt(+(+Js(10,+ +(15-(f[x>>2]|0)|0))*(+Q[k>>3]+ +Q[k+8>>3])))%+(c|0))>>>0<<2)|0,c=f[a>>2]|0;t:do if(c|0){if(p=k+32|0,(c|0)==(k|0))f[a>>2]=f[p>>2];else{if(c=c+32|0,a=f[c>>2]|0,!a)break;for(;(a|0)!=(k|0);)if(c=a+32|0,a=f[c>>2]|0,!a)break t;f[c>>2]=f[p>>2]}it(k),f[E>>2]=(f[E>>2]|0)+-1}while(!1)}it(f[A>>2]|0)}function nu(A){A=A|0;var a=0,c=0,p=0;for(p=f[A+4>>2]|0,c=0;;){if((c|0)>=(p|0)){a=0,c=4;break}if(a=f[(f[A>>2]|0)+(c<<2)>>2]|0,!a)c=c+1|0;else{c=4;break}}return(c|0)==4?a|0:0}function ru(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0;if(c=~~(+yt(+(+Js(10,+ +(15-(f[A+12>>2]|0)|0))*(+Q[a>>3]+ +Q[a+8>>3])))%+(f[A+4>>2]|0))>>>0,c=(f[A>>2]|0)+(c<<2)|0,p=f[c>>2]|0,!p)return x=1,x|0;x=a+32|0;do if((p|0)!=(a|0)){if(c=f[p+32>>2]|0,!c)return x=1,x|0;for(v=c;;){if((v|0)==(a|0)){v=8;break}if(c=f[v+32>>2]|0,c)p=v,v=c;else{c=1,v=10;break}}if((v|0)==8){f[p+32>>2]=f[x>>2];break}else if((v|0)==10)return c|0}else f[c>>2]=f[x>>2];while(!1);return it(a),x=A+8|0,f[x>>2]=(f[x>>2]|0)+-1,x=0,x|0}function Hm(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0;x=Cn(40)|0,x||Ke(23390,23360,98,23403),f[x>>2]=f[a>>2],f[x+4>>2]=f[a+4>>2],f[x+8>>2]=f[a+8>>2],f[x+12>>2]=f[a+12>>2],v=x+16|0,f[v>>2]=f[c>>2],f[v+4>>2]=f[c+4>>2],f[v+8>>2]=f[c+8>>2],f[v+12>>2]=f[c+12>>2],f[x+32>>2]=0,v=~~(+yt(+(+Js(10,+ +(15-(f[A+12>>2]|0)|0))*(+Q[a>>3]+ +Q[a+8>>3])))%+(f[A+4>>2]|0))>>>0,v=(f[A>>2]|0)+(v<<2)|0,p=f[v>>2]|0;do if(!p)f[v>>2]=x;else{for(;!(so(p,a)|0&&so(p+16|0,c)|0);)if(v=f[p+32>>2]|0,p=v|0?v:p,!(f[p+32>>2]|0)){E=10;break}if((E|0)==10){f[p+32>>2]=x;break}return it(x),E=p,E|0}while(!1);return E=A+8|0,f[E>>2]=(f[E>>2]|0)+1,E=x,E|0}function Oh(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0;if(v=~~(+yt(+(+Js(10,+ +(15-(f[A+12>>2]|0)|0))*(+Q[a>>3]+ +Q[a+8>>3])))%+(f[A+4>>2]|0))>>>0,v=f[(f[A>>2]|0)+(v<<2)>>2]|0,!v)return c=0,c|0;if(!c){for(A=v;;){if(so(A,a)|0){p=10;break}if(A=f[A+32>>2]|0,!A){A=0,p=10;break}}if((p|0)==10)return A|0}for(A=v;;){if(so(A,a)|0&&so(A+16|0,c)|0){p=10;break}if(A=f[A+32>>2]|0,!A){A=0,p=10;break}}return(p|0)==10?A|0:0}function Fh(A,a){A=A|0,a=a|0;var c=0;if(c=~~(+yt(+(+Js(10,+ +(15-(f[A+12>>2]|0)|0))*(+Q[a>>3]+ +Q[a+8>>3])))%+(f[A+4>>2]|0))>>>0,A=f[(f[A>>2]|0)+(c<<2)>>2]|0,!A)return c=0,c|0;for(;;){if(so(A,a)|0){a=5;break}if(A=f[A+32>>2]|0,!A){A=0,a=5;break}}return(a|0)==5?A|0:0}function Nh(){return 23424}function Bh(A){return A=+A,+ +lu(+A)}function Bs(A){return A=+A,~~+Bh(A)|0}function Cn(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0,oe=0,Se=0,ne=0,de=0,me=0,Ae=0,Be=0;Be=V,V=V+16|0,ee=Be;do if(A>>>0<245){if(O=A>>>0<11?16:A+11&-8,A=O>>>3,K=f[5857]|0,c=K>>>A,c&3|0)return a=(c&1^1)+A|0,A=23468+(a<<1<<2)|0,c=A+8|0,p=f[c>>2]|0,v=p+8|0,x=f[v>>2]|0,(x|0)==(A|0)?f[5857]=K&~(1<<a):(f[x+12>>2]=A,f[c>>2]=x),Ae=a<<3,f[p+4>>2]=Ae|3,Ae=p+Ae+4|0,f[Ae>>2]=f[Ae>>2]|1,Ae=v,V=Be,Ae|0;if(G=f[5859]|0,O>>>0>G>>>0){if(c|0)return a=2<<A,a=c<<A&(a|0-a),a=(a&0-a)+-1|0,k=a>>>12&16,a=a>>>k,c=a>>>5&8,a=a>>>c,x=a>>>2&4,a=a>>>x,A=a>>>1&2,a=a>>>A,p=a>>>1&1,p=(c|k|x|A|p)+(a>>>p)|0,a=23468+(p<<1<<2)|0,A=a+8|0,x=f[A>>2]|0,k=x+8|0,c=f[k>>2]|0,(c|0)==(a|0)?(A=K&~(1<<p),f[5857]=A):(f[c+12>>2]=a,f[A>>2]=c,A=K),Ae=p<<3,E=Ae-O|0,f[x+4>>2]=O|3,v=x+O|0,f[v+4>>2]=E|1,f[x+Ae>>2]=E,G|0&&(p=f[5862]|0,a=G>>>3,c=23468+(a<<1<<2)|0,a=1<<a,A&a?(A=c+8|0,a=f[A>>2]|0):(f[5857]=A|a,a=c,A=c+8|0),f[A>>2]=p,f[a+12>>2]=p,f[p+8>>2]=a,f[p+12>>2]=c),f[5859]=E,f[5862]=v,Ae=k,V=Be,Ae|0;if(x=f[5858]|0,x){for(c=(x&0-x)+-1|0,v=c>>>12&16,c=c>>>v,p=c>>>5&8,c=c>>>p,E=c>>>2&4,c=c>>>E,k=c>>>1&2,c=c>>>k,D=c>>>1&1,D=f[23732+((p|v|E|k|D)+(c>>>D)<<2)>>2]|0,c=D,k=D,D=(f[D+4>>2]&-8)-O|0;A=f[c+16>>2]|0,!(!A&&(A=f[c+20>>2]|0,!A));)E=(f[A+4>>2]&-8)-O|0,v=E>>>0<D>>>0,c=A,k=v?A:k,D=v?E:D;if(E=k+O|0,E>>>0>k>>>0){v=f[k+24>>2]|0,a=f[k+12>>2]|0;do if((a|0)==(k|0)){if(A=k+20|0,a=f[A>>2]|0,!a&&(A=k+16|0,a=f[A>>2]|0,!a)){c=0;break}for(;;)if(p=a+20|0,c=f[p>>2]|0,c)a=c,A=p;else if(p=a+16|0,c=f[p>>2]|0,c)a=c,A=p;else break;f[A>>2]=0,c=a}else c=f[k+8>>2]|0,f[c+12>>2]=a,f[a+8>>2]=c,c=a;while(!1);do if(v|0){if(a=f[k+28>>2]|0,A=23732+(a<<2)|0,(k|0)==(f[A>>2]|0)){if(f[A>>2]=c,!c){f[5858]=x&~(1<<a);break}}else if(Ae=v+16|0,f[((f[Ae>>2]|0)==(k|0)?Ae:v+20|0)>>2]=c,!c)break;f[c+24>>2]=v,a=f[k+16>>2]|0,a|0&&(f[c+16>>2]=a,f[a+24>>2]=c),a=f[k+20>>2]|0,a|0&&(f[c+20>>2]=a,f[a+24>>2]=c)}while(!1);return D>>>0<16?(Ae=D+O|0,f[k+4>>2]=Ae|3,Ae=k+Ae+4|0,f[Ae>>2]=f[Ae>>2]|1):(f[k+4>>2]=O|3,f[E+4>>2]=D|1,f[E+D>>2]=D,G|0&&(p=f[5862]|0,a=G>>>3,c=23468+(a<<1<<2)|0,a=1<<a,a&K?(A=c+8|0,a=f[A>>2]|0):(f[5857]=a|K,a=c,A=c+8|0),f[A>>2]=p,f[a+12>>2]=p,f[p+8>>2]=a,f[p+12>>2]=c),f[5859]=D,f[5862]=E),Ae=k+8|0,V=Be,Ae|0}else K=O}else K=O}else K=O}else if(A>>>0<=4294967231)if(A=A+11|0,O=A&-8,p=f[5858]|0,p){v=0-O|0,A=A>>>8,A?O>>>0>16777215?D=31:(K=(A+1048320|0)>>>16&8,oe=A<<K,k=(oe+520192|0)>>>16&4,oe=oe<<k,D=(oe+245760|0)>>>16&2,D=14-(k|K|D)+(oe<<D>>>15)|0,D=O>>>(D+7|0)&1|D<<1):D=0,c=f[23732+(D<<2)>>2]|0;e:do if(!c)c=0,A=0,oe=61;else for(A=0,k=O<<((D|0)==31?0:25-(D>>>1)|0),x=0;;){if(E=(f[c+4>>2]&-8)-O|0,E>>>0<v>>>0)if(E)A=c,v=E;else{A=c,v=0,oe=65;break e}if(oe=f[c+20>>2]|0,c=f[c+16+(k>>>31<<2)>>2]|0,x=(oe|0)==0|(oe|0)==(c|0)?x:oe,c)k=k<<1;else{c=x,oe=61;break}}while(!1);if((oe|0)==61){if((c|0)==0&(A|0)==0){if(A=2<<D,A=(A|0-A)&p,!A){K=O;break}K=(A&0-A)+-1|0,E=K>>>12&16,K=K>>>E,x=K>>>5&8,K=K>>>x,k=K>>>2&4,K=K>>>k,D=K>>>1&2,K=K>>>D,c=K>>>1&1,A=0,c=f[23732+((x|E|k|D|c)+(K>>>c)<<2)>>2]|0}c?oe=65:(k=A,E=v)}if((oe|0)==65)for(x=c;;)if(K=(f[x+4>>2]&-8)-O|0,c=K>>>0<v>>>0,v=c?K:v,A=c?x:A,c=f[x+16>>2]|0,c||(c=f[x+20>>2]|0),c)x=c;else{k=A,E=v;break}if(k|0&&E>>>0<((f[5859]|0)-O|0)>>>0&&(G=k+O|0,G>>>0>k>>>0)){x=f[k+24>>2]|0,a=f[k+12>>2]|0;do if((a|0)==(k|0)){if(A=k+20|0,a=f[A>>2]|0,!a&&(A=k+16|0,a=f[A>>2]|0,!a)){a=0;break}for(;;)if(v=a+20|0,c=f[v>>2]|0,c)a=c,A=v;else if(v=a+16|0,c=f[v>>2]|0,c)a=c,A=v;else break;f[A>>2]=0}else Ae=f[k+8>>2]|0,f[Ae+12>>2]=a,f[a+8>>2]=Ae;while(!1);do if(x){if(A=f[k+28>>2]|0,c=23732+(A<<2)|0,(k|0)==(f[c>>2]|0)){if(f[c>>2]=a,!a){p=p&~(1<<A),f[5858]=p;break}}else if(Ae=x+16|0,f[((f[Ae>>2]|0)==(k|0)?Ae:x+20|0)>>2]=a,!a)break;f[a+24>>2]=x,A=f[k+16>>2]|0,A|0&&(f[a+16>>2]=A,f[A+24>>2]=a),A=f[k+20>>2]|0,A&&(f[a+20>>2]=A,f[A+24>>2]=a)}while(!1);e:do if(E>>>0<16)Ae=E+O|0,f[k+4>>2]=Ae|3,Ae=k+Ae+4|0,f[Ae>>2]=f[Ae>>2]|1;else{if(f[k+4>>2]=O|3,f[G+4>>2]=E|1,f[G+E>>2]=E,a=E>>>3,E>>>0<256){c=23468+(a<<1<<2)|0,A=f[5857]|0,a=1<<a,A&a?(A=c+8|0,a=f[A>>2]|0):(f[5857]=A|a,a=c,A=c+8|0),f[A>>2]=G,f[a+12>>2]=G,f[G+8>>2]=a,f[G+12>>2]=c;break}if(a=E>>>8,a?E>>>0>16777215?c=31:(me=(a+1048320|0)>>>16&8,Ae=a<<me,de=(Ae+520192|0)>>>16&4,Ae=Ae<<de,c=(Ae+245760|0)>>>16&2,c=14-(de|me|c)+(Ae<<c>>>15)|0,c=E>>>(c+7|0)&1|c<<1):c=0,a=23732+(c<<2)|0,f[G+28>>2]=c,A=G+16|0,f[A+4>>2]=0,f[A>>2]=0,A=1<<c,!(p&A)){f[5858]=p|A,f[a>>2]=G,f[G+24>>2]=a,f[G+12>>2]=G,f[G+8>>2]=G;break}a=f[a>>2]|0;t:do if((f[a+4>>2]&-8|0)!=(E|0)){for(p=E<<((c|0)==31?0:25-(c>>>1)|0);c=a+16+(p>>>31<<2)|0,A=f[c>>2]|0,!!A;)if((f[A+4>>2]&-8|0)==(E|0)){a=A;break t}else p=p<<1,a=A;f[c>>2]=G,f[G+24>>2]=a,f[G+12>>2]=G,f[G+8>>2]=G;break e}while(!1);me=a+8|0,Ae=f[me>>2]|0,f[Ae+12>>2]=G,f[me>>2]=G,f[G+8>>2]=Ae,f[G+12>>2]=a,f[G+24>>2]=0}while(!1);return Ae=k+8|0,V=Be,Ae|0}else K=O}else K=O;else K=-1;while(!1);if(c=f[5859]|0,c>>>0>=K>>>0)return a=c-K|0,A=f[5862]|0,a>>>0>15?(Ae=A+K|0,f[5862]=Ae,f[5859]=a,f[Ae+4>>2]=a|1,f[A+c>>2]=a,f[A+4>>2]=K|3):(f[5859]=0,f[5862]=0,f[A+4>>2]=c|3,Ae=A+c+4|0,f[Ae>>2]=f[Ae>>2]|1),Ae=A+8|0,V=Be,Ae|0;if(E=f[5860]|0,E>>>0>K>>>0)return de=E-K|0,f[5860]=de,Ae=f[5863]|0,me=Ae+K|0,f[5863]=me,f[me+4>>2]=de|1,f[Ae+4>>2]=K|3,Ae=Ae+8|0,V=Be,Ae|0;if(f[5975]|0?A=f[5977]|0:(f[5977]=4096,f[5976]=4096,f[5978]=-1,f[5979]=-1,f[5980]=0,f[5968]=0,f[5975]=ee&-16^1431655768,A=4096),k=K+48|0,D=K+47|0,x=A+D|0,v=0-A|0,O=x&v,O>>>0<=K>>>0||(A=f[5967]|0,A|0&&(G=f[5965]|0,ee=G+O|0,ee>>>0<=G>>>0|ee>>>0>A>>>0)))return Ae=0,V=Be,Ae|0;e:do if(f[5968]&4)a=0,oe=143;else{c=f[5863]|0;t:do if(c){for(p=23876;ee=f[p>>2]|0,!(ee>>>0<=c>>>0&&(ee+(f[p+4>>2]|0)|0)>>>0>c>>>0);)if(A=f[p+8>>2]|0,A)p=A;else{oe=128;break t}if(a=x-E&v,a>>>0<2147483647)if(A=Us(a|0)|0,(A|0)==((f[p>>2]|0)+(f[p+4>>2]|0)|0)){if((A|0)!=-1){E=a,x=A,oe=145;break e}}else p=A,oe=136;else a=0}else oe=128;while(!1);do if((oe|0)==128)if(c=Us(0)|0,(c|0)!=-1&&(a=c,te=f[5976]|0,J=te+-1|0,a=(J&a|0?(J+a&0-te)-a|0:0)+O|0,te=f[5965]|0,J=a+te|0,a>>>0>K>>>0&a>>>0<2147483647)){if(ee=f[5967]|0,ee|0&&J>>>0<=te>>>0|J>>>0>ee>>>0){a=0;break}if(A=Us(a|0)|0,(A|0)==(c|0)){E=a,x=c,oe=145;break e}else p=A,oe=136}else a=0;while(!1);do if((oe|0)==136){if(c=0-a|0,!(k>>>0>a>>>0&(a>>>0<2147483647&(p|0)!=-1)))if((p|0)==-1){a=0;break}else{E=a,x=p,oe=145;break e}if(A=f[5977]|0,A=D-a+A&0-A,A>>>0>=2147483647){E=a,x=p,oe=145;break e}if((Us(A|0)|0)==-1){Us(c|0)|0,a=0;break}else{E=A+a|0,x=p,oe=145;break e}}while(!1);f[5968]=f[5968]|4,oe=143}while(!1);if((oe|0)==143&&O>>>0<2147483647&&(de=Us(O|0)|0,J=Us(0)|0,Se=J-de|0,ne=Se>>>0>(K+40|0)>>>0,!((de|0)==-1|ne^1|de>>>0<J>>>0&((de|0)!=-1&(J|0)!=-1)^1))&&(E=ne?Se:a,x=de,oe=145),(oe|0)==145){a=(f[5965]|0)+E|0,f[5965]=a,a>>>0>(f[5966]|0)>>>0&&(f[5966]=a),D=f[5863]|0;e:do if(D){for(a=23876;;){if(A=f[a>>2]|0,c=f[a+4>>2]|0,(x|0)==(A+c|0)){oe=154;break}if(p=f[a+8>>2]|0,p)a=p;else break}if((oe|0)==154&&(me=a+4|0,(f[a+12>>2]&8|0)==0)&&x>>>0>D>>>0&A>>>0<=D>>>0){f[me>>2]=c+E,Ae=(f[5860]|0)+E|0,de=D+8|0,de=de&7|0?0-de&7:0,me=D+de|0,de=Ae-de|0,f[5863]=me,f[5860]=de,f[me+4>>2]=de|1,f[D+Ae+4>>2]=40,f[5864]=f[5979];break}for(x>>>0<(f[5861]|0)>>>0&&(f[5861]=x),c=x+E|0,a=23876;;){if((f[a>>2]|0)==(c|0)){oe=162;break}if(A=f[a+8>>2]|0,A)a=A;else break}if((oe|0)==162&&!(f[a+12>>2]&8|0)){f[a>>2]=x,G=a+4|0,f[G>>2]=(f[G>>2]|0)+E,G=x+8|0,G=x+(G&7|0?0-G&7:0)|0,a=c+8|0,a=c+(a&7|0?0-a&7:0)|0,O=G+K|0,k=a-G-K|0,f[G+4>>2]=K|3;t:do if((D|0)==(a|0))Ae=(f[5860]|0)+k|0,f[5860]=Ae,f[5863]=O,f[O+4>>2]=Ae|1;else{if((f[5862]|0)==(a|0)){Ae=(f[5859]|0)+k|0,f[5859]=Ae,f[5862]=O,f[O+4>>2]=Ae|1,f[O+Ae>>2]=Ae;break}if(A=f[a+4>>2]|0,(A&3|0)==1){E=A&-8,p=A>>>3;n:do if(A>>>0<256)if(A=f[a+8>>2]|0,c=f[a+12>>2]|0,(c|0)==(A|0)){f[5857]=f[5857]&~(1<<p);break}else{f[A+12>>2]=c,f[c+8>>2]=A;break}else{x=f[a+24>>2]|0,A=f[a+12>>2]|0;do if((A|0)==(a|0)){if(c=a+16|0,p=c+4|0,A=f[p>>2]|0,A)c=p;else if(A=f[c>>2]|0,!A){A=0;break}for(;;)if(v=A+20|0,p=f[v>>2]|0,p)A=p,c=v;else if(v=A+16|0,p=f[v>>2]|0,p)A=p,c=v;else break;f[c>>2]=0}else Ae=f[a+8>>2]|0,f[Ae+12>>2]=A,f[A+8>>2]=Ae;while(!1);if(!x)break;c=f[a+28>>2]|0,p=23732+(c<<2)|0;do if((f[p>>2]|0)!=(a|0)){if(Ae=x+16|0,f[((f[Ae>>2]|0)==(a|0)?Ae:x+20|0)>>2]=A,!A)break n}else{if(f[p>>2]=A,A|0)break;f[5858]=f[5858]&~(1<<c);break n}while(!1);if(f[A+24>>2]=x,c=a+16|0,p=f[c>>2]|0,p|0&&(f[A+16>>2]=p,f[p+24>>2]=A),c=f[c+4>>2]|0,!c)break;f[A+20>>2]=c,f[c+24>>2]=A}while(!1);a=a+E|0,v=E+k|0}else v=k;if(a=a+4|0,f[a>>2]=f[a>>2]&-2,f[O+4>>2]=v|1,f[O+v>>2]=v,a=v>>>3,v>>>0<256){c=23468+(a<<1<<2)|0,A=f[5857]|0,a=1<<a,A&a?(A=c+8|0,a=f[A>>2]|0):(f[5857]=A|a,a=c,A=c+8|0),f[A>>2]=O,f[a+12>>2]=O,f[O+8>>2]=a,f[O+12>>2]=c;break}a=v>>>8;do if(!a)p=0;else{if(v>>>0>16777215){p=31;break}me=(a+1048320|0)>>>16&8,Ae=a<<me,de=(Ae+520192|0)>>>16&4,Ae=Ae<<de,p=(Ae+245760|0)>>>16&2,p=14-(de|me|p)+(Ae<<p>>>15)|0,p=v>>>(p+7|0)&1|p<<1}while(!1);if(a=23732+(p<<2)|0,f[O+28>>2]=p,A=O+16|0,f[A+4>>2]=0,f[A>>2]=0,A=f[5858]|0,c=1<<p,!(A&c)){f[5858]=A|c,f[a>>2]=O,f[O+24>>2]=a,f[O+12>>2]=O,f[O+8>>2]=O;break}a=f[a>>2]|0;n:do if((f[a+4>>2]&-8|0)!=(v|0)){for(p=v<<((p|0)==31?0:25-(p>>>1)|0);c=a+16+(p>>>31<<2)|0,A=f[c>>2]|0,!!A;)if((f[A+4>>2]&-8|0)==(v|0)){a=A;break n}else p=p<<1,a=A;f[c>>2]=O,f[O+24>>2]=a,f[O+12>>2]=O,f[O+8>>2]=O;break t}while(!1);me=a+8|0,Ae=f[me>>2]|0,f[Ae+12>>2]=O,f[me>>2]=O,f[O+8>>2]=Ae,f[O+12>>2]=a,f[O+24>>2]=0}while(!1);return Ae=G+8|0,V=Be,Ae|0}for(a=23876;A=f[a>>2]|0,!(A>>>0<=D>>>0&&(Ae=A+(f[a+4>>2]|0)|0,Ae>>>0>D>>>0));)a=f[a+8>>2]|0;v=Ae+-47|0,A=v+8|0,A=v+(A&7|0?0-A&7:0)|0,v=D+16|0,A=A>>>0<v>>>0?D:A,a=A+8|0,c=E+-40|0,de=x+8|0,de=de&7|0?0-de&7:0,me=x+de|0,de=c-de|0,f[5863]=me,f[5860]=de,f[me+4>>2]=de|1,f[x+c+4>>2]=40,f[5864]=f[5979],c=A+4|0,f[c>>2]=27,f[a>>2]=f[5969],f[a+4>>2]=f[5970],f[a+8>>2]=f[5971],f[a+12>>2]=f[5972],f[5969]=x,f[5970]=E,f[5972]=0,f[5971]=a,a=A+24|0;do me=a,a=a+4|0,f[a>>2]=7;while((me+8|0)>>>0<Ae>>>0);if((A|0)!=(D|0)){if(x=A-D|0,f[c>>2]=f[c>>2]&-2,f[D+4>>2]=x|1,f[A>>2]=x,a=x>>>3,x>>>0<256){c=23468+(a<<1<<2)|0,A=f[5857]|0,a=1<<a,A&a?(A=c+8|0,a=f[A>>2]|0):(f[5857]=A|a,a=c,A=c+8|0),f[A>>2]=D,f[a+12>>2]=D,f[D+8>>2]=a,f[D+12>>2]=c;break}if(a=x>>>8,a?x>>>0>16777215?p=31:(me=(a+1048320|0)>>>16&8,Ae=a<<me,de=(Ae+520192|0)>>>16&4,Ae=Ae<<de,p=(Ae+245760|0)>>>16&2,p=14-(de|me|p)+(Ae<<p>>>15)|0,p=x>>>(p+7|0)&1|p<<1):p=0,c=23732+(p<<2)|0,f[D+28>>2]=p,f[D+20>>2]=0,f[v>>2]=0,a=f[5858]|0,A=1<<p,!(a&A)){f[5858]=a|A,f[c>>2]=D,f[D+24>>2]=c,f[D+12>>2]=D,f[D+8>>2]=D;break}a=f[c>>2]|0;t:do if((f[a+4>>2]&-8|0)!=(x|0)){for(p=x<<((p|0)==31?0:25-(p>>>1)|0);c=a+16+(p>>>31<<2)|0,A=f[c>>2]|0,!!A;)if((f[A+4>>2]&-8|0)==(x|0)){a=A;break t}else p=p<<1,a=A;f[c>>2]=D,f[D+24>>2]=a,f[D+12>>2]=D,f[D+8>>2]=D;break e}while(!1);me=a+8|0,Ae=f[me>>2]|0,f[Ae+12>>2]=D,f[me>>2]=D,f[D+8>>2]=Ae,f[D+12>>2]=a,f[D+24>>2]=0}}else Ae=f[5861]|0,(Ae|0)==0|x>>>0<Ae>>>0&&(f[5861]=x),f[5969]=x,f[5970]=E,f[5972]=0,f[5866]=f[5975],f[5865]=-1,f[5870]=23468,f[5869]=23468,f[5872]=23476,f[5871]=23476,f[5874]=23484,f[5873]=23484,f[5876]=23492,f[5875]=23492,f[5878]=23500,f[5877]=23500,f[5880]=23508,f[5879]=23508,f[5882]=23516,f[5881]=23516,f[5884]=23524,f[5883]=23524,f[5886]=23532,f[5885]=23532,f[5888]=23540,f[5887]=23540,f[5890]=23548,f[5889]=23548,f[5892]=23556,f[5891]=23556,f[5894]=23564,f[5893]=23564,f[5896]=23572,f[5895]=23572,f[5898]=23580,f[5897]=23580,f[5900]=23588,f[5899]=23588,f[5902]=23596,f[5901]=23596,f[5904]=23604,f[5903]=23604,f[5906]=23612,f[5905]=23612,f[5908]=23620,f[5907]=23620,f[5910]=23628,f[5909]=23628,f[5912]=23636,f[5911]=23636,f[5914]=23644,f[5913]=23644,f[5916]=23652,f[5915]=23652,f[5918]=23660,f[5917]=23660,f[5920]=23668,f[5919]=23668,f[5922]=23676,f[5921]=23676,f[5924]=23684,f[5923]=23684,f[5926]=23692,f[5925]=23692,f[5928]=23700,f[5927]=23700,f[5930]=23708,f[5929]=23708,f[5932]=23716,f[5931]=23716,Ae=E+-40|0,de=x+8|0,de=de&7|0?0-de&7:0,me=x+de|0,de=Ae-de|0,f[5863]=me,f[5860]=de,f[me+4>>2]=de|1,f[x+Ae+4>>2]=40,f[5864]=f[5979];while(!1);if(a=f[5860]|0,a>>>0>K>>>0)return de=a-K|0,f[5860]=de,Ae=f[5863]|0,me=Ae+K|0,f[5863]=me,f[me+4>>2]=de|1,f[Ae+4>>2]=K|3,Ae=Ae+8|0,V=Be,Ae|0}return Ae=Nh()|0,f[Ae>>2]=12,Ae=0,V=Be,Ae|0}function it(A){A=A|0;var a=0,c=0,p=0,v=0,x=0,E=0,k=0,D=0;if(A){c=A+-8|0,v=f[5861]|0,A=f[A+-4>>2]|0,a=A&-8,D=c+a|0;do if(A&1)k=c,E=c;else{if(p=f[c>>2]|0,!(A&3)||(E=c+(0-p)|0,x=p+a|0,E>>>0<v>>>0))return;if((f[5862]|0)==(E|0)){if(A=D+4|0,a=f[A>>2]|0,(a&3|0)!=3){k=E,a=x;break}f[5859]=x,f[A>>2]=a&-2,f[E+4>>2]=x|1,f[E+x>>2]=x;return}if(c=p>>>3,p>>>0<256)if(A=f[E+8>>2]|0,a=f[E+12>>2]|0,(a|0)==(A|0)){f[5857]=f[5857]&~(1<<c),k=E,a=x;break}else{f[A+12>>2]=a,f[a+8>>2]=A,k=E,a=x;break}v=f[E+24>>2]|0,A=f[E+12>>2]|0;do if((A|0)==(E|0)){if(a=E+16|0,c=a+4|0,A=f[c>>2]|0,A)a=c;else if(A=f[a>>2]|0,!A){A=0;break}for(;;)if(p=A+20|0,c=f[p>>2]|0,c)A=c,a=p;else if(p=A+16|0,c=f[p>>2]|0,c)A=c,a=p;else break;f[a>>2]=0}else k=f[E+8>>2]|0,f[k+12>>2]=A,f[A+8>>2]=k;while(!1);if(v){if(a=f[E+28>>2]|0,c=23732+(a<<2)|0,(f[c>>2]|0)==(E|0)){if(f[c>>2]=A,!A){f[5858]=f[5858]&~(1<<a),k=E,a=x;break}}else if(k=v+16|0,f[((f[k>>2]|0)==(E|0)?k:v+20|0)>>2]=A,!A){k=E,a=x;break}f[A+24>>2]=v,a=E+16|0,c=f[a>>2]|0,c|0&&(f[A+16>>2]=c,f[c+24>>2]=A),a=f[a+4>>2]|0,a?(f[A+20>>2]=a,f[a+24>>2]=A,k=E,a=x):(k=E,a=x)}else k=E,a=x}while(!1);if(!(E>>>0>=D>>>0)&&(A=D+4|0,p=f[A>>2]|0,!!(p&1))){if(p&2)f[A>>2]=p&-2,f[k+4>>2]=a|1,f[E+a>>2]=a,v=a;else{if((f[5863]|0)==(D|0)){if(D=(f[5860]|0)+a|0,f[5860]=D,f[5863]=k,f[k+4>>2]=D|1,(k|0)!=(f[5862]|0))return;f[5862]=0,f[5859]=0;return}if((f[5862]|0)==(D|0)){D=(f[5859]|0)+a|0,f[5859]=D,f[5862]=E,f[k+4>>2]=D|1,f[E+D>>2]=D;return}v=(p&-8)+a|0,c=p>>>3;do if(p>>>0<256)if(a=f[D+8>>2]|0,A=f[D+12>>2]|0,(A|0)==(a|0)){f[5857]=f[5857]&~(1<<c);break}else{f[a+12>>2]=A,f[A+8>>2]=a;break}else{x=f[D+24>>2]|0,A=f[D+12>>2]|0;do if((A|0)==(D|0)){if(a=D+16|0,c=a+4|0,A=f[c>>2]|0,A)a=c;else if(A=f[a>>2]|0,!A){c=0;break}for(;;)if(p=A+20|0,c=f[p>>2]|0,c)A=c,a=p;else if(p=A+16|0,c=f[p>>2]|0,c)A=c,a=p;else break;f[a>>2]=0,c=A}else c=f[D+8>>2]|0,f[c+12>>2]=A,f[A+8>>2]=c,c=A;while(!1);if(x|0){if(A=f[D+28>>2]|0,a=23732+(A<<2)|0,(f[a>>2]|0)==(D|0)){if(f[a>>2]=c,!c){f[5858]=f[5858]&~(1<<A);break}}else if(p=x+16|0,f[((f[p>>2]|0)==(D|0)?p:x+20|0)>>2]=c,!c)break;f[c+24>>2]=x,A=D+16|0,a=f[A>>2]|0,a|0&&(f[c+16>>2]=a,f[a+24>>2]=c),A=f[A+4>>2]|0,A|0&&(f[c+20>>2]=A,f[A+24>>2]=c)}}while(!1);if(f[k+4>>2]=v|1,f[E+v>>2]=v,(k|0)==(f[5862]|0)){f[5859]=v;return}}if(A=v>>>3,v>>>0<256){c=23468+(A<<1<<2)|0,a=f[5857]|0,A=1<<A,a&A?(a=c+8|0,A=f[a>>2]|0):(f[5857]=a|A,A=c,a=c+8|0),f[a>>2]=k,f[A+12>>2]=k,f[k+8>>2]=A,f[k+12>>2]=c;return}A=v>>>8,A?v>>>0>16777215?p=31:(E=(A+1048320|0)>>>16&8,D=A<<E,x=(D+520192|0)>>>16&4,D=D<<x,p=(D+245760|0)>>>16&2,p=14-(x|E|p)+(D<<p>>>15)|0,p=v>>>(p+7|0)&1|p<<1):p=0,A=23732+(p<<2)|0,f[k+28>>2]=p,f[k+20>>2]=0,f[k+16>>2]=0,a=f[5858]|0,c=1<<p;e:do if(!(a&c))f[5858]=a|c,f[A>>2]=k,f[k+24>>2]=A,f[k+12>>2]=k,f[k+8>>2]=k;else{A=f[A>>2]|0;t:do if((f[A+4>>2]&-8|0)!=(v|0)){for(p=v<<((p|0)==31?0:25-(p>>>1)|0);c=A+16+(p>>>31<<2)|0,a=f[c>>2]|0,!!a;)if((f[a+4>>2]&-8|0)==(v|0)){A=a;break t}else p=p<<1,A=a;f[c>>2]=k,f[k+24>>2]=A,f[k+12>>2]=k,f[k+8>>2]=k;break e}while(!1);E=A+8|0,D=f[E>>2]|0,f[D+12>>2]=k,f[E>>2]=k,f[k+8>>2]=D,f[k+12>>2]=A,f[k+24>>2]=0}while(!1);if(D=(f[5865]|0)+-1|0,f[5865]=D,!(D|0)){for(A=23884;A=f[A>>2]|0,A;)A=A+8|0;f[5865]=-1}}}}function Sr(A,a){A=A|0,a=a|0;var c=0;return A?(c=Ji(a,A)|0,(a|A)>>>0>65535&&(c=((c>>>0)/(A>>>0)|0|0)==(a|0)?c:-1)):c=0,A=Cn(c)|0,!A||!(f[A+-4>>2]&3)||lo(A|0,0,c|0)|0,A|0}function gt(A,a,c,p){return A=A|0,a=a|0,c=c|0,p=p|0,c=A+c>>>0,$e(a+p+(c>>>0<A>>>0|0)>>>0|0),c|0|0}function In(A,a,c,p){return A=A|0,a=a|0,c=c|0,p=p|0,p=a-p-(c>>>0>A>>>0|0)>>>0,$e(p|0),A-c>>>0|0|0}function Ga(A){return A=A|0,(A?31-(mr(A^A-1)|0)|0:32)|0}function iu(A,a,c,p,v){A=A|0,a=a|0,c=c|0,p=p|0,v=v|0;var x=0,E=0,k=0,D=0,O=0,G=0,K=0,ee=0,te=0,J=0;if(G=A,D=a,O=D,E=c,ee=p,k=ee,!O)return x=(v|0)!=0,k?x?(f[v>>2]=A|0,f[v+4>>2]=a&0,ee=0,v=0,$e(ee|0),v|0):(ee=0,v=0,$e(ee|0),v|0):(x&&(f[v>>2]=(G>>>0)%(E>>>0),f[v+4>>2]=0),ee=0,v=(G>>>0)/(E>>>0)>>>0,$e(ee|0),v|0);x=(k|0)==0;do if(E){if(!x){if(x=(mr(k|0)|0)-(mr(O|0)|0)|0,x>>>0<=31){K=x+1|0,k=31-x|0,a=x-31>>31,E=K,A=G>>>(K>>>0)&a|O<<k,a=O>>>(K>>>0)&a,x=0,k=G<<k;break}return v?(f[v>>2]=A|0,f[v+4>>2]=D|a&0,ee=0,v=0,$e(ee|0),v|0):(ee=0,v=0,$e(ee|0),v|0)}if(x=E-1|0,x&E|0){k=(mr(E|0)|0)+33-(mr(O|0)|0)|0,J=64-k|0,K=32-k|0,D=K>>31,te=k-32|0,a=te>>31,E=k,A=K-1>>31&O>>>(te>>>0)|(O<<K|G>>>(k>>>0))&a,a=a&O>>>(k>>>0),x=G<<J&D,k=(O<<J|G>>>(te>>>0))&D|G<<K&k-33>>31;break}return v|0&&(f[v>>2]=x&G,f[v+4>>2]=0),(E|0)==1?(te=D|a&0,J=A|0|0,$e(te|0),J|0):(J=Ga(E|0)|0,te=O>>>(J>>>0)|0,J=O<<32-J|G>>>(J>>>0)|0,$e(te|0),J|0)}else{if(x)return v|0&&(f[v>>2]=(O>>>0)%(E>>>0),f[v+4>>2]=0),te=0,J=(O>>>0)/(E>>>0)>>>0,$e(te|0),J|0;if(!G)return v|0&&(f[v>>2]=0,f[v+4>>2]=(O>>>0)%(k>>>0)),te=0,J=(O>>>0)/(k>>>0)>>>0,$e(te|0),J|0;if(x=k-1|0,!(x&k))return v|0&&(f[v>>2]=A|0,f[v+4>>2]=x&O|a&0),te=0,J=O>>>((Ga(k|0)|0)>>>0),$e(te|0),J|0;if(x=(mr(k|0)|0)-(mr(O|0)|0)|0,x>>>0<=30){a=x+1|0,k=31-x|0,E=a,A=O<<k|G>>>(a>>>0),a=O>>>(a>>>0),x=0,k=G<<k;break}return v?(f[v>>2]=A|0,f[v+4>>2]=D|a&0,te=0,J=0,$e(te|0),J|0):(te=0,J=0,$e(te|0),J|0)}while(!1);if(!E)O=k,D=0,k=0;else{K=c|0|0,G=ee|p&0,O=gt(K|0,G|0,-1,-1)|0,c=W()|0,D=k,k=0;do p=D,D=x>>>31|D<<1,x=k|x<<1,p=A<<1|p>>>31|0,ee=A>>>31|a<<1|0,In(O|0,c|0,p|0,ee|0)|0,J=W()|0,te=J>>31|((J|0)<0?-1:0)<<1,k=te&1,A=In(p|0,ee|0,te&K|0,(((J|0)<0?-1:0)>>31|((J|0)<0?-1:0)<<1)&G|0)|0,a=W()|0,E=E-1|0;while(E|0);O=D,D=0}return E=0,v|0&&(f[v>>2]=A,f[v+4>>2]=a),te=(x|0)>>>31|(O|E)<<1|(E<<1|x>>>31)&0|D,J=(x<<1|0)&-2|k,$e(te|0),J|0}function Pi(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0,O=0;return O=a>>31|((a|0)<0?-1:0)<<1,D=((a|0)<0?-1:0)>>31|((a|0)<0?-1:0)<<1,x=p>>31|((p|0)<0?-1:0)<<1,v=((p|0)<0?-1:0)>>31|((p|0)<0?-1:0)<<1,k=In(O^A|0,D^a|0,O|0,D|0)|0,E=W()|0,A=x^O,a=v^D,In((iu(k,E,In(x^c|0,v^p|0,x|0,v|0)|0,W()|0,0)|0)^A|0,(W()|0)^a|0,A|0,a|0)|0}function Xn(A,a){A=A|0,a=a|0;var c=0,p=0,v=0,x=0;return x=A&65535,v=a&65535,c=Ji(v,x)|0,p=A>>>16,A=(c>>>16)+(Ji(v,p)|0)|0,v=a>>>16,a=Ji(v,x)|0,$e((A>>>16)+(Ji(v,p)|0)+(((A&65535)+a|0)>>>16)|0),A+a<<16|c&65535|0|0}function Zn(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0;return v=A,x=c,c=Xn(v,x)|0,A=W()|0,$e((Ji(a,x)|0)+(Ji(p,v)|0)+A|A&0|0),c|0|0|0}function su(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0,E=0,k=0,D=0,O=0;return v=V,V=V+16|0,k=v|0,E=a>>31|((a|0)<0?-1:0)<<1,x=((a|0)<0?-1:0)>>31|((a|0)<0?-1:0)<<1,O=p>>31|((p|0)<0?-1:0)<<1,D=((p|0)<0?-1:0)>>31|((p|0)<0?-1:0)<<1,A=In(E^A|0,x^a|0,E|0,x|0)|0,a=W()|0,iu(A,a,In(O^c|0,D^p|0,O|0,D|0)|0,W()|0,k)|0,p=In(f[k>>2]^E|0,f[k+4>>2]^x|0,E|0,x|0)|0,c=W()|0,V=v,$e(c|0),p|0}function On(A,a,c,p){A=A|0,a=a|0,c=c|0,p=p|0;var v=0,x=0;return x=V,V=V+16|0,v=x|0,iu(A,a,c,p,v)|0,V=x,$e(f[v+4>>2]|0),f[v>>2]|0|0}function Jn(A,a,c){return A=A|0,a=a|0,c=c|0,(c|0)<32?($e(a>>c|0),A>>>c|(a&(1<<c)-1)<<32-c):($e(((a|0)<0?-1:0)|0),a>>c-32|0)}function Re(A,a,c){return A=A|0,a=a|0,c=c|0,(c|0)<32?($e(a>>>c|0),A>>>c|(a&(1<<c)-1)<<32-c):($e(0),a>>>c-32|0)}function Oe(A,a,c){return A=A|0,a=a|0,c=c|0,(c|0)<32?($e(a<<c|(A&(1<<c)-1<<32-c)>>>32-c|0),A<<c):($e(A<<c-32|0),0)}function q0(A,a){return A=+A,a=+a,A!=A?+a:a!=a?+A:+xl(+A,+a)}function ou(A,a){return A=+A,a=+a,A!=A?+a:a!=a?+A:+Ra(+A,+a)}function $a(A){return A=+A,A>=0?+Mn(A+.5):+eo(A-.5)}function Fl(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0;if((c|0)>=8192)return Mo(A|0,a|0,c|0)|0,A|0;if(x=A|0,v=A+c|0,(A&3)==(a&3)){for(;A&3;){if(!c)return x|0;Je[A>>0]=Je[a>>0]|0,A=A+1|0,a=a+1|0,c=c-1|0}for(c=v&-4|0,p=c-64|0;(A|0)<=(p|0);)f[A>>2]=f[a>>2],f[A+4>>2]=f[a+4>>2],f[A+8>>2]=f[a+8>>2],f[A+12>>2]=f[a+12>>2],f[A+16>>2]=f[a+16>>2],f[A+20>>2]=f[a+20>>2],f[A+24>>2]=f[a+24>>2],f[A+28>>2]=f[a+28>>2],f[A+32>>2]=f[a+32>>2],f[A+36>>2]=f[a+36>>2],f[A+40>>2]=f[a+40>>2],f[A+44>>2]=f[a+44>>2],f[A+48>>2]=f[a+48>>2],f[A+52>>2]=f[a+52>>2],f[A+56>>2]=f[a+56>>2],f[A+60>>2]=f[a+60>>2],A=A+64|0,a=a+64|0;for(;(A|0)<(c|0);)f[A>>2]=f[a>>2],A=A+4|0,a=a+4|0}else for(c=v-4|0;(A|0)<(c|0);)Je[A>>0]=Je[a>>0]|0,Je[A+1>>0]=Je[a+1>>0]|0,Je[A+2>>0]=Je[a+2>>0]|0,Je[A+3>>0]=Je[a+3>>0]|0,A=A+4|0,a=a+4|0;for(;(A|0)<(v|0);)Je[A>>0]=Je[a>>0]|0,A=A+1|0,a=a+1|0;return x|0}function lo(A,a,c){A=A|0,a=a|0,c=c|0;var p=0,v=0,x=0,E=0;if(x=A+c|0,a=a&255,(c|0)>=67){for(;A&3;)Je[A>>0]=a,A=A+1|0;for(p=x&-4|0,E=a|a<<8|a<<16|a<<24,v=p-64|0;(A|0)<=(v|0);)f[A>>2]=E,f[A+4>>2]=E,f[A+8>>2]=E,f[A+12>>2]=E,f[A+16>>2]=E,f[A+20>>2]=E,f[A+24>>2]=E,f[A+28>>2]=E,f[A+32>>2]=E,f[A+36>>2]=E,f[A+40>>2]=E,f[A+44>>2]=E,f[A+48>>2]=E,f[A+52>>2]=E,f[A+56>>2]=E,f[A+60>>2]=E,A=A+64|0;for(;(A|0)<(p|0);)f[A>>2]=E,A=A+4|0}for(;(A|0)<(x|0);)Je[A>>0]=a,A=A+1|0;return x-c|0}function lu(A){return A=+A,A>=0?+Mn(A+.5):+eo(A-.5)}function Us(A){A=A|0;var a=0,c=0,p=0;return p=yr()|0,c=f[Gt>>2]|0,a=c+A|0,(A|0)>0&(a|0)<(c|0)|(a|0)<0?(vr(a|0)|0,$n(12),-1):(a|0)>(p|0)&&!(_l(a|0)|0)?($n(12),-1):(f[Gt>>2]=a,c|0)}return{___divdi3:Pi,___muldi3:Zn,___remdi3:su,___uremdi3:On,_areNeighborCells:Ps,_bitshift64Ashr:Jn,_bitshift64Lshr:Re,_bitshift64Shl:Oe,_calloc:Sr,_cellAreaKm2:Na,_cellAreaM2:Gm,_cellAreaRads2:jo,_cellToBoundary:os,_cellToCenterChild:zr,_cellToChildPos:Dl,_cellToChildren:U0,_cellToChildrenSize:Pa,_cellToLatLng:Cl,_cellToLocalIj:vh,_cellToParent:Os,_cellToVertex:Hr,_cellToVertexes:bh,_cellsToDirectedEdge:ro,_cellsToLinkedMultiPolygon:Pm,_childPosToCell:ls,_compactCells:tn,_destroyLinkedMultiPolygon:bi,_directedEdgeToBoundary:Tl,_directedEdgeToCells:ch,_edgeLengthKm:z0,_edgeLengthM:H0,_edgeLengthRads:qn,_emscripten_replace_memory:th,_free:it,_getBaseCellNumber:ss,_getDirectedEdgeDestination:fh,_getDirectedEdgeOrigin:KA,_getHexagonAreaAvgKm2:oi,_getHexagonAreaAvgM2:Pl,_getHexagonEdgeLengthAvgKm:un,_getHexagonEdgeLengthAvgM:Yn,_getIcosahedronFaces:Il,_getNumCells:Sn,_getPentagons:zo,_getRes0Cells:N0,_getResolution:Uo,_greatCircleDistanceKm:oo,_greatCircleDistanceM:G0,_greatCircleDistanceRads:on,_gridDisk:ih,_gridDiskDistances:sh,_gridDistance:_h,_gridPathCells:Sh,_gridPathCellsSize:Eh,_gridRingUnsafe:Dm,_i64Add:gt,_i64Subtract:In,_isPentagon:Vt,_isResClassIII:ph,_isValidCell:Ii,_isValidDirectedEdge:WA,_isValidVertex:zm,_latLngToCell:Ll,_llvm_maxnum_f64:q0,_llvm_minnum_f64:ou,_llvm_round_f64:$a,_localIjToCell:xh,_malloc:Cn,_maxFaceCount:yh,_maxGridDiskSize:Im,_maxPolygonToCellsSize:bm,_memcpy:Fl,_memset:lo,_originToDirectedEdges:hh,_pentagonCount:si,_polygonToCells:M0,_readInt64AsDoubleFromPointer:Rh,_res0CellCount:Om,_round:lu,_sbrk:Us,_sizeOfCellBoundary:Th,_sizeOfCoordIJ:W0,_sizeOfGeoLoop:wh,_sizeOfGeoPolygon:kh,_sizeOfH3Index:K0,_sizeOfLatLng:Ua,_sizeOfLinkedGeoPolygon:Lh,_uncompactCells:Ma,_uncompactCellsSize:Di,_vertexToLatLng:tu,establishStackSpace:Ri,stackAlloc:nh,stackRestore:rh,stackSave:GA}}(Lm,Rm,X);e.___divdi3=De.___divdi3,e.___muldi3=De.___muldi3,e.___remdi3=De.___remdi3,e.___uremdi3=De.___uremdi3,e._areNeighborCells=De._areNeighborCells,e._bitshift64Ashr=De._bitshift64Ashr,e._bitshift64Lshr=De._bitshift64Lshr,e._bitshift64Shl=De._bitshift64Shl,e._calloc=De._calloc,e._cellAreaKm2=De._cellAreaKm2,e._cellAreaM2=De._cellAreaM2,e._cellAreaRads2=De._cellAreaRads2,e._cellToBoundary=De._cellToBoundary,e._cellToCenterChild=De._cellToCenterChild,e._cellToChildPos=De._cellToChildPos,e._cellToChildren=De._cellToChildren,e._cellToChildrenSize=De._cellToChildrenSize,e._cellToLatLng=De._cellToLatLng,e._cellToLocalIj=De._cellToLocalIj,e._cellToParent=De._cellToParent,e._cellToVertex=De._cellToVertex,e._cellToVertexes=De._cellToVertexes,e._cellsToDirectedEdge=De._cellsToDirectedEdge,e._cellsToLinkedMultiPolygon=De._cellsToLinkedMultiPolygon,e._childPosToCell=De._childPosToCell,e._compactCells=De._compactCells,e._destroyLinkedMultiPolygon=De._destroyLinkedMultiPolygon,e._directedEdgeToBoundary=De._directedEdgeToBoundary,e._directedEdgeToCells=De._directedEdgeToCells,e._edgeLengthKm=De._edgeLengthKm,e._edgeLengthM=De._edgeLengthM,e._edgeLengthRads=De._edgeLengthRads;var Xc=e._emscripten_replace_memory=De._emscripten_replace_memory;e._free=De._free,e._getBaseCellNumber=De._getBaseCellNumber,e._getDirectedEdgeDestination=De._getDirectedEdgeDestination,e._getDirectedEdgeOrigin=De._getDirectedEdgeOrigin,e._getHexagonAreaAvgKm2=De._getHexagonAreaAvgKm2,e._getHexagonAreaAvgM2=De._getHexagonAreaAvgM2,e._getHexagonEdgeLengthAvgKm=De._getHexagonEdgeLengthAvgKm,e._getHexagonEdgeLengthAvgM=De._getHexagonEdgeLengthAvgM,e._getIcosahedronFaces=De._getIcosahedronFaces,e._getNumCells=De._getNumCells,e._getPentagons=De._getPentagons,e._getRes0Cells=De._getRes0Cells,e._getResolution=De._getResolution,e._greatCircleDistanceKm=De._greatCircleDistanceKm,e._greatCircleDistanceM=De._greatCircleDistanceM,e._greatCircleDistanceRads=De._greatCircleDistanceRads,e._gridDisk=De._gridDisk,e._gridDiskDistances=De._gridDiskDistances,e._gridDistance=De._gridDistance,e._gridPathCells=De._gridPathCells,e._gridPathCellsSize=De._gridPathCellsSize,e._gridRingUnsafe=De._gridRingUnsafe,e._i64Add=De._i64Add,e._i64Subtract=De._i64Subtract,e._isPentagon=De._isPentagon,e._isResClassIII=De._isResClassIII,e._isValidCell=De._isValidCell,e._isValidDirectedEdge=De._isValidDirectedEdge,e._isValidVertex=De._isValidVertex,e._latLngToCell=De._latLngToCell,e._llvm_maxnum_f64=De._llvm_maxnum_f64,e._llvm_minnum_f64=De._llvm_minnum_f64,e._llvm_round_f64=De._llvm_round_f64,e._localIjToCell=De._localIjToCell,e._malloc=De._malloc,e._maxFaceCount=De._maxFaceCount,e._maxGridDiskSize=De._maxGridDiskSize,e._maxPolygonToCellsSize=De._maxPolygonToCellsSize,e._memcpy=De._memcpy,e._memset=De._memset,e._originToDirectedEdges=De._originToDirectedEdges,e._pentagonCount=De._pentagonCount,e._polygonToCells=De._polygonToCells,e._readInt64AsDoubleFromPointer=De._readInt64AsDoubleFromPointer,e._res0CellCount=De._res0CellCount,e._round=De._round,e._sbrk=De._sbrk,e._sizeOfCellBoundary=De._sizeOfCellBoundary,e._sizeOfCoordIJ=De._sizeOfCoordIJ,e._sizeOfGeoLoop=De._sizeOfGeoLoop,e._sizeOfGeoPolygon=De._sizeOfGeoPolygon,e._sizeOfH3Index=De._sizeOfH3Index,e._sizeOfLatLng=De._sizeOfLatLng,e._sizeOfLinkedGeoPolygon=De._sizeOfLinkedGeoPolygon,e._uncompactCells=De._uncompactCells,e._uncompactCellsSize=De._uncompactCellsSize,e._vertexToLatLng=De._vertexToLatLng,e.establishStackSpace=De.establishStackSpace;var D0=e.stackAlloc=De.stackAlloc,Cm=e.stackRestore=De.stackRestore,Zc=e.stackSave=De.stackSave;if(e.asm=De,e.cwrap=M,e.setValue=T,e.getValue=w,Ds){Vc(Ds)||(Ds=s(Ds));{mm();var FA=function(pe){pe.byteLength&&(pe=new Uint8Array(pe)),ae.set(pe,_),e.memoryInitializerRequest&&delete e.memoryInitializerRequest.response,La()},b0=function(){o(Ds,FA,function(){throw"could not load memory initializer "+Ds})},Jc=I0(Ds);if(Jc)FA(Jc.buffer);else if(e.memoryInitializerRequest){var eh=function(){var pe=e.memoryInitializerRequest,we=pe.response;if(pe.status!==200&&pe.status!==0){var Fe=I0(e.memoryInitializerRequestURL);if(Fe)we=Fe.buffer;else{console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+pe.status+", retrying "+Ds),b0();return}}FA(we)};e.memoryInitializerRequest.response?setTimeout(eh,0):e.memoryInitializerRequest.addEventListener("load",eh)}else b0()}}var NA;ka=function pe(){NA||BA(),NA||(ka=pe)};function BA(pe){if(bo>0||(qt(),bo>0))return;function we(){NA||(NA=!0,!L&&(Io(),Do(),e.onRuntimeInitialized&&e.onRuntimeInitialized(),MA()))}e.setStatus?(e.setStatus("Running..."),setTimeout(function(){setTimeout(function(){e.setStatus("")},1),we()},1)):we()}e.run=BA;function bs(pe){throw e.onAbort&&e.onAbort(pe),pe+="",l(pe),u(pe),L=!0,"abort("+pe+"). Build with -s ASSERTIONS=1 for more info."}if(e.abort=bs,e.preInit)for(typeof e.preInit=="function"&&(e.preInit=[e.preInit]);e.preInit.length>0;)e.preInit.pop()();return BA(),n}(typeof Pt=="object"?Pt:{}),_t="number",ot=_t,yf=_t,ut=_t,ft=_t,Rr=_t,Ve=_t,lG=[["sizeOfH3Index",_t],["sizeOfLatLng",_t],["sizeOfCellBoundary",_t],["sizeOfGeoLoop",_t],["sizeOfGeoPolygon",_t],["sizeOfLinkedGeoPolygon",_t],["sizeOfCoordIJ",_t],["readInt64AsDoubleFromPointer",_t],["isValidCell",yf,[ut,ft]],["latLngToCell",ot,[_t,_t,Rr,Ve]],["cellToLatLng",ot,[ut,ft,Ve]],["cellToBoundary",ot,[ut,ft,Ve]],["maxGridDiskSize",ot,[_t,Ve]],["gridDisk",ot,[ut,ft,_t,Ve]],["gridDiskDistances",ot,[ut,ft,_t,Ve,Ve]],["gridRingUnsafe",ot,[ut,ft,_t,Ve]],["maxPolygonToCellsSize",ot,[Ve,Rr,_t,Ve]],["polygonToCells",ot,[Ve,Rr,_t,Ve]],["cellsToLinkedMultiPolygon",ot,[Ve,_t,Ve]],["destroyLinkedMultiPolygon",null,[Ve]],["compactCells",ot,[Ve,Ve,_t,_t]],["uncompactCells",ot,[Ve,_t,_t,Ve,_t,Rr]],["uncompactCellsSize",ot,[Ve,_t,_t,Rr,Ve]],["isPentagon",yf,[ut,ft]],["isResClassIII",yf,[ut,ft]],["getBaseCellNumber",_t,[ut,ft]],["getResolution",_t,[ut,ft]],["maxFaceCount",ot,[ut,ft,Ve]],["getIcosahedronFaces",ot,[ut,ft,Ve]],["cellToParent",ot,[ut,ft,Rr,Ve]],["cellToChildren",ot,[ut,ft,Rr,Ve]],["cellToCenterChild",ot,[ut,ft,Rr,Ve]],["cellToChildrenSize",ot,[ut,ft,Rr,Ve]],["cellToChildPos",ot,[ut,ft,Rr,Ve]],["childPosToCell",ot,[_t,_t,ut,ft,Rr,Ve]],["areNeighborCells",ot,[ut,ft,ut,ft,Ve]],["cellsToDirectedEdge",ot,[ut,ft,ut,ft,Ve]],["getDirectedEdgeOrigin",ot,[ut,ft,Ve]],["getDirectedEdgeDestination",ot,[ut,ft,Ve]],["isValidDirectedEdge",yf,[ut,ft]],["directedEdgeToCells",ot,[ut,ft,Ve]],["originToDirectedEdges",ot,[ut,ft,Ve]],["directedEdgeToBoundary",ot,[ut,ft,Ve]],["gridDistance",ot,[ut,ft,ut,ft,Ve]],["gridPathCells",ot,[ut,ft,ut,ft,Ve]],["gridPathCellsSize",ot,[ut,ft,ut,ft,Ve]],["cellToLocalIj",ot,[ut,ft,ut,ft,_t,Ve]],["localIjToCell",ot,[ut,ft,Ve,_t,Ve]],["getHexagonAreaAvgM2",ot,[Rr,Ve]],["getHexagonAreaAvgKm2",ot,[Rr,Ve]],["getHexagonEdgeLengthAvgM",ot,[Rr,Ve]],["getHexagonEdgeLengthAvgKm",ot,[Rr,Ve]],["greatCircleDistanceM",_t,[Ve,Ve]],["greatCircleDistanceKm",_t,[Ve,Ve]],["greatCircleDistanceRads",_t,[Ve,Ve]],["cellAreaM2",ot,[ut,ft,Ve]],["cellAreaKm2",ot,[ut,ft,Ve]],["cellAreaRads2",ot,[ut,ft,Ve]],["edgeLengthM",ot,[ut,ft,Ve]],["edgeLengthKm",ot,[ut,ft,Ve]],["edgeLengthRads",ot,[ut,ft,Ve]],["getNumCells",ot,[Rr,Ve]],["getRes0Cells",ot,[Ve]],["res0CellCount",_t],["getPentagons",ot,[_t,Ve]],["pentagonCount",_t],["cellToVertex",ot,[ut,ft,_t,Ve]],["cellToVertexes",ot,[ut,ft,Ve]],["vertexToLatLng",ot,[ut,ft,Ve]],["isValidVertex",yf,[ut,ft]]],aG=0,AG=1,uG=2,fG=3,iD=4,cG=5,hG=6,dG=7,gG=8,pG=9,mG=10,yG=11,vG=12,xG=13,_G=14,EG=15,gr={};gr[aG]="Success";gr[AG]="The operation failed but a more specific error is not available";gr[uG]="Argument was outside of acceptable range";gr[fG]="Latitude or longitude arguments were outside of acceptable range";gr[iD]="Resolution argument was outside of acceptable range";gr[cG]="Cell argument was not valid";gr[hG]="Directed edge argument was not valid";gr[dG]="Undirected edge argument was not valid";gr[gG]="Vertex argument was not valid";gr[pG]="Pentagon distortion was encountered";gr[mG]="Duplicate input";gr[yG]="Cell arguments were not neighbors";gr[vG]="Cell arguments had incompatible resolutions";gr[xG]="Memory allocation failed";gr[_G]="Bounds of provided memory were insufficient";gr[EG]="Mode or flags argument was not valid";var SG=1e3,sD=1001,oD=1002,fm={};fm[SG]="Unknown unit";fm[sD]="Array length out of bounds";fm[oD]="Got unexpected null value for H3 index";var TG="Unknown error";function lD(n,e,t){var r=t&&"value"in t,i=new Error((n[e]||TG)+" (code: "+e+(r?", value: "+t.value:"")+")");return i.code=e,i}function aD(n,e){var t=arguments.length===2?{value:e}:{};return lD(gr,n,t)}function AD(n,e){var t=arguments.length===2?{value:e}:{};return lD(fm,n,t)}function Cc(n){if(n!==0)throw aD(n)}var ki={};lG.forEach(function(e){ki[e[0]]=Pt.cwrap.apply(Pt,e)});var $u=16,Ic=4,E0=8,wG=8,Pp=ki.sizeOfH3Index(),x_=ki.sizeOfLatLng(),kG=ki.sizeOfCellBoundary(),LG=ki.sizeOfGeoPolygon(),Kf=ki.sizeOfGeoLoop();ki.sizeOfLinkedGeoPolygon();ki.sizeOfCoordIJ();function RG(n){if(typeof n!="number"||n<0||n>15||Math.floor(n)!==n)throw aD(iD,n);return n}function CG(n){if(!n)throw AD(oD);return n}var IG=Math.pow(2,32)-1;function DG(n){if(n>IG)throw AD(sD,n);return n}var bG=/[^0-9a-fA-F]/;function uD(n){if(Array.isArray(n)&&n.length===2&&Number.isInteger(n[0])&&Number.isInteger(n[1]))return n;if(typeof n!="string"||bG.test(n))return[0,0];var e=parseInt(n.substring(0,n.length-8),$u),t=parseInt(n.substring(n.length-8),$u);return[t,e]}function sk(n){if(n>=0)return n.toString($u);n=n&2147483647;var e=fD(8,n.toString($u)),t=(parseInt(e[0],$u)+8).toString($u);return e=t+e.substring(1),e}function PG(n,e){return sk(e)+fD(8,sk(n))}function fD(n,e){for(var t=n-e.length,r="",i=0;i<t;i++)r+="0";return r=r+e,r}function ok(n,e,t){for(var r=n.length,i=Pt._calloc(r,x_),s=t?1:0,o=t?0:1,l=0;l<r*2;l+=2)Pt.HEAPF64.set([n[l/2][s],n[l/2][o]].map(hD),i/E0+l);return Pt.HEAPU32.set([r,i],e/Ic),e}function MG(n,e){var t=n.length-1,r=Pt._calloc(LG),i=0,s=i+Kf,o=s+Ic;ok(n[0],r+i,e);var l;if(t>0){l=Pt._calloc(t,Kf);for(var u=0;u<t;u++)ok(n[u+1],l+Kf*u,e)}return Pt.setValue(r+s,t,"i32"),Pt.setValue(r+o,l,"i32"),r}function OG(n){var e=0,t=e+Kf,r=t+Ic,i=Ic;Pt._free(Pt.getValue(n+e+i,"i8*"));var s=Pt.getValue(n+t,"i32");if(s>0){for(var o=Pt.getValue(n+r,"i32"),l=0;l<s;l++)Pt._free(Pt.getValue(o+Kf*l+i,"i8*"));Pt._free(o)}Pt._free(n)}function cD(n,e){e===void 0&&(e=0);var t=Pt.getValue(n+Pp*e,"i32"),r=Pt.getValue(n+Pp*e+Ic,"i32");return r?PG(t,r):null}function FG(n){return ki.readInt64AsDoubleFromPointer(n)}function NG(n,e){for(var t=[],r=0;r<e;r++){var i=cD(n,r);i!==null&&t.push(i)}return t}function Mp(n){return $G(Pt.getValue(n,"double"))}function BG(n){return[Mp(n),Mp(n+E0)]}function UG(n){return[Mp(n+E0),Mp(n)]}function GG(n,e,t){for(var r=Pt.getValue(n,"i32"),i=n+E0,s=[],o=UG,l=0;l<r*2;l+=2)s.push(o(i+E0*l));return s.push(s[0]),s}function Uz(n,e,t){var r=Pt._malloc(x_);Pt.HEAPF64.set([n,e].map(hD),r/E0);var i=Pt._malloc(Pp);try{return Cc(ki.latLngToCell(r,t,i)),CG(cD(i))}finally{Pt._free(i),Pt._free(r)}}function Gz(n){var e=Pt._malloc(x_),t=uD(n),r=t[0],i=t[1];try{return Cc(ki.cellToLatLng(r,i,e)),BG(e)}finally{Pt._free(e)}}function $z(n,e){var t=Pt._malloc(kG),r=uD(n),i=r[0],s=r[1];try{return Cc(ki.cellToBoundary(i,s,t)),GG(t,e,e)}finally{Pt._free(t)}}function zz(n,e,t){if(RG(e),t=!!t,n.length===0||n[0].length===0)return[];var r=typeof n[0][0]=="number"?[n]:n,i=MG(r,t),s=Pt._malloc(wG);try{Cc(ki.maxPolygonToCellsSize(i,e,0,s));var o=DG(FG(s)),l=Pt._calloc(o,Pp);try{return Cc(ki.polygonToCells(i,e,0,l)),NG(l,o)}finally{Pt._free(l)}}finally{Pt._free(s),OG(i)}}function hD(n){return n*Math.PI/180}function $G(n){return n*180/Math.PI}function Hz(n){return n=Math.max(0,Math.min(1,n)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+n*(1172.33-n*(10793.56-n*(33300.12-n*(38394.49-n*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+n*(557.33+n*(1225.33-n*(3574.96-n*(1073.77+n*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+n*(3211.1-n*(15327.97-n*(27814-n*(22569.18-n*6838.66)))))))+")"}var dD=gD;function gD(n,e,t,r){this.x=typeof n=="number"?n:0,this.y=typeof e=="number"?e:0,this.z=typeof t=="number"?t:0,this.half=typeof r=="number"?r:0}gD.prototype.contains=function(e,t,r){var i=this.half;return this.x-i<=e&&e<this.x+i&&this.y-i<=t&&t<this.y+i&&this.z-i<=r&&r<this.z+i};var Vl=dD,zG=4,HG=ps;function ps(n){this.bounds=n,this.q0=null,this.q1=null,this.q2=null,this.q3=null,this.q4=null,this.q5=null,this.q6=null,this.q7=null,this.items=null}ps.prototype.subdivide=function(){var e=this.bounds,t=e.half/2;this.q0=new ps(new Vl(e.x-t,e.y-t,e.z-t,t)),this.q1=new ps(new Vl(e.x+t,e.y-t,e.z-t,t)),this.q2=new ps(new Vl(e.x-t,e.y+t,e.z-t,t)),this.q3=new ps(new Vl(e.x+t,e.y+t,e.z-t,t)),this.q4=new ps(new Vl(e.x-t,e.y-t,e.z+t,t)),this.q5=new ps(new Vl(e.x+t,e.y-t,e.z+t,t)),this.q6=new ps(new Vl(e.x-t,e.y+t,e.z+t,t)),this.q7=new ps(new Vl(e.x+t,e.y+t,e.z+t,t))};ps.prototype.insert=function(e,t,r){var i=this.q0===null;if(i){if(this.items===null?this.items=[e]:this.items.push(e),this.items.length>=zG&&r<16){this.subdivide();for(var s=0;s<this.items.length;++s)this.insert(this.items[s],t,r+1);this.items=null}}else{var o=t[e],l=t[e+1],u=t[e+2],h=this.bounds,m=0;o>h.x&&(m+=1),l>h.y&&(m+=2),u>h.z&&(m+=4);var y=jG(this,m);y.insert(e,t,r+1)}};ps.prototype.query=function(e,t,r,i){if(r(this.bounds)){var s=this.items,o=typeof i=="function";if(s)for(var l=0;l<s.length;++l){var u=s[l];o?i(t[u],t[u+1],t[u+2])&&e.push(u):e.push(u)}this.q0&&(this.q0.query(e,t,r,i),this.q1.query(e,t,r,i),this.q2.query(e,t,r,i),this.q3.query(e,t,r,i),this.q4.query(e,t,r,i),this.q5.query(e,t,r,i),this.q6.query(e,t,r,i),this.q7.query(e,t,r,i))}};function jG(n,e){if(e===0)return n.q0;if(e===1)return n.q1;if(e===2)return n.q2;if(e===3)return n.q3;if(e===4)return n.q4;if(e===5)return n.q5;if(e===6)return n.q6;if(e===7)return n.q7}var VG=QG;function QG(n,e,t,r){var i=0,s=0;r=r||{};var o=r.step||1,l=r.maxTimeMS||8,u=r.probeElements||5e3;setTimeout(h,0);function h(){var m=Math.min(n.length,i+u),y=i,_=new Date;for(y=i;y<m;y+=o)e(n[y],y,n);y<n.length?(s+=new Date-_,i=y,u=Math.round(i*l/s),setTimeout(h,0)):t(n)}}var wv=dD,lk=HG,KG=new wv,WG=VG,YG=qG;function qG(n){var e=[],t,r,i={initAsync:m,init:h,bounds:_,intersectRay:u,intersectSphere:o,getRoot:s};return i;function s(){return t}function o(w,L,I,C){if(!t)return e;var b=[],M=C*C;return t.query(b,r,U,B),b;function U($){var H=M,j=$.half;return w<$.x-j?H-=l(w-($.x-j)):w>$.x+j&&(H-=l(w-($.x+j))),L<$.y-j?H-=l(L-($.y-j)):L>$.y+j&&(H-=l(L-($.y+j))),I<$.z-j?H-=l(I-($.z-j)):I>$.z+j&&(H-=l(I-($.z+j))),H>0}function B($,H,j){return l($-w)+l(H-L)+l(j-I)<M}}function l(w){return w*w}function u(w,L,I,C){if(!t)return e;I===void 0&&(I=0),C===void 0&&(C=Number.POSITIVE_INFINITY),I*=I,C*=C;var b=[];return t.query(b,r,M,U),b.sort(B);function M($){var H=$.half,j=($.x-H-w.x)/L.x,Y=($.x+H-w.x)/L.x,q=($.y+H-w.y)/L.y,X=($.y-H-w.y)/L.y,ge=($.z-H-w.z)/L.z,ae=($.z+H-w.z)/L.z,xe=Math.min(Math.min(Math.max(j,Y),Math.max(q,X)),Math.max(ge,ae)),ie;return xe<0?!1:(ie=Math.max(Math.max(Math.min(j,Y),Math.min(q,X)),Math.min(ge,ae)),ie<=xe&&ie<=C)}function U($,H,j){var Y=($-w.x)*($-w.x)+(H-w.y)*(H-w.y)+(j-w.z)*(j-w.z);return I<=Y&&Y<=C}function B($,H){var j=w[$],Y=w[$+1],q=w[$+2],X=(j-w.x)*(j-w.x)+(Y-w.y)*(Y-w.y)+(q-w.z)*(q-w.z),ge=w[H],ae=w[H+1],xe=w[H+2],ie=(ge-w.x)*(ge-w.x)+(ae-w.y)*(ae-w.y)+(xe-w.z)*(xe-w.z);return X-ie}}function h(w){y(w),r=w,t=T(w);for(var L=0;L<w.length;L+=3)t.insert(L,r,0)}function m(w,L){y(w);var I=T(w);WG(w,C,b,{step:3});function C(M,U){I.insert(U,w,0)}function b(){r=w,t=I,typeof L=="function"&&L(i)}}function y(w){if(!w)throw new Error("Points array is required for quadtree to work");if(typeof w.length!="number")throw new Error("Points should be array-like object");if(w.length%3!==0)throw new Error("Points array should consist of series of x,y,z coordinates and be multiple of 3")}function _(){return t?t.bounds:KG}function T(w){if(w.length===0){var L=new wv;return new lk(L)}for(var I=Number.POSITIVE_INFINITY,C=Number.POSITIVE_INFINITY,b=Number.POSITIVE_INFINITY,M=Number.NEGATIVE_INFINITY,U=Number.NEGATIVE_INFINITY,B=Number.NEGATIVE_INFINITY,$=0;$<w.length;$+=3){var H=w[$],j=w[$+1],Y=w[$+2];H<I&&(I=H),H>M&&(M=H),j<C&&(C=j),j>U&&(U=j),Y<b&&(b=Y),Y>B&&(B=Y)}var q=Math.max(Math.max(M-I,U-C),B-b);q+=2,I-=1,C-=1,b-=1;var X=q/2,ge=new wv(I+X,C+X,b+X,X);return new lk(ge)}}const jz=va(YG);function XG(n){if(n===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return n}function Dc(n,e){return Dc=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,r){return t.__proto__=r,t},Dc(n,e)}function ZG(n,e){n.prototype=Object.create(e.prototype),n.prototype.constructor=n,Dc(n,e)}function kv(n){return kv=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},kv(n)}function JG(n){try{return Function.toString.call(n).indexOf("[native code]")!==-1}catch{return typeof n=="function"}}function pD(){try{var n=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(pD=function(){return!!n})()}function e$(n,e,t){if(pD())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,e);var i=new(n.bind.apply(n,r));return t&&Dc(i,t.prototype),i}function Lv(n){var e=typeof Map=="function"?new Map:void 0;return Lv=function(r){if(r===null||!JG(r))return r;if(typeof r!="function")throw new TypeError("Super expression must either be null or a function");if(e!==void 0){if(e.has(r))return e.get(r);e.set(r,i)}function i(){return e$(r,arguments,kv(this).constructor)}return i.prototype=Object.create(r.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),Dc(i,r)},Lv(n)}var xo=function(n){ZG(e,n);function e(t){var r;return r=n.call(this,"An error occurred. See https://github.com/styled-components/polished/blob/main/src/internalHelpers/errors.md#"+t+" for more information.")||this,XG(r)}return e}(Lv(Error));function xy(n){return Math.round(n*255)}function t$(n,e,t){return xy(n)+","+xy(e)+","+xy(t)}function bc(n,e,t,r){if(r===void 0&&(r=t$),e===0)return r(t,t,t);var i=(n%360+360)%360/60,s=(1-Math.abs(2*t-1))*e,o=s*(1-Math.abs(i%2-1)),l=0,u=0,h=0;i>=0&&i<1?(l=s,u=o):i>=1&&i<2?(l=o,u=s):i>=2&&i<3?(u=s,h=o):i>=3&&i<4?(u=o,h=s):i>=4&&i<5?(l=o,h=s):i>=5&&i<6&&(l=s,h=o);var m=t-s/2,y=l+m,_=u+m,T=h+m;return r(y,_,T)}var ak={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"639",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"};function n$(n){if(typeof n!="string")return n;var e=n.toLowerCase();return ak[e]?"#"+ak[e]:n}var r$=/^#[a-fA-F0-9]{6}$/,i$=/^#[a-fA-F0-9]{8}$/,s$=/^#[a-fA-F0-9]{3}$/,o$=/^#[a-fA-F0-9]{4}$/,_y=/^rgb\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*\)$/i,l$=/^rgb(?:a)?\(\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,)?\s*(\d{1,3})\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i,a$=/^hsl\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*\)$/i,A$=/^hsl(?:a)?\(\s*(\d{0,3}[.]?[0-9]+(?:deg)?)\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,)?\s*(\d{1,3}[.]?[0-9]?)%\s*(?:,|\/)\s*([-+]?\d*[.]?\d+[%]?)\s*\)$/i;function S0(n){if(typeof n!="string")throw new xo(3);var e=n$(n);if(e.match(r$))return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16)};if(e.match(i$)){var t=parseFloat((parseInt(""+e[7]+e[8],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[2],16),green:parseInt(""+e[3]+e[4],16),blue:parseInt(""+e[5]+e[6],16),alpha:t}}if(e.match(s$))return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16)};if(e.match(o$)){var r=parseFloat((parseInt(""+e[4]+e[4],16)/255).toFixed(2));return{red:parseInt(""+e[1]+e[1],16),green:parseInt(""+e[2]+e[2],16),blue:parseInt(""+e[3]+e[3],16),alpha:r}}var i=_y.exec(e);if(i)return{red:parseInt(""+i[1],10),green:parseInt(""+i[2],10),blue:parseInt(""+i[3],10)};var s=l$.exec(e.substring(0,50));if(s)return{red:parseInt(""+s[1],10),green:parseInt(""+s[2],10),blue:parseInt(""+s[3],10),alpha:parseFloat(""+s[4])>1?parseFloat(""+s[4])/100:parseFloat(""+s[4])};var o=a$.exec(e);if(o){var l=parseInt(""+o[1],10),u=parseInt(""+o[2],10)/100,h=parseInt(""+o[3],10)/100,m="rgb("+bc(l,u,h)+")",y=_y.exec(m);if(!y)throw new xo(4,e,m);return{red:parseInt(""+y[1],10),green:parseInt(""+y[2],10),blue:parseInt(""+y[3],10)}}var _=A$.exec(e.substring(0,50));if(_){var T=parseInt(""+_[1],10),w=parseInt(""+_[2],10)/100,L=parseInt(""+_[3],10)/100,I="rgb("+bc(T,w,L)+")",C=_y.exec(I);if(!C)throw new xo(4,e,I);return{red:parseInt(""+C[1],10),green:parseInt(""+C[2],10),blue:parseInt(""+C[3],10),alpha:parseFloat(""+_[4])>1?parseFloat(""+_[4])/100:parseFloat(""+_[4])}}throw new xo(5)}function u$(n){var e=n.red/255,t=n.green/255,r=n.blue/255,i=Math.max(e,t,r),s=Math.min(e,t,r),o=(i+s)/2;if(i===s)return n.alpha!==void 0?{hue:0,saturation:0,lightness:o,alpha:n.alpha}:{hue:0,saturation:0,lightness:o};var l,u=i-s,h=o>.5?u/(2-i-s):u/(i+s);switch(i){case e:l=(t-r)/u+(t<r?6:0);break;case t:l=(r-e)/u+2;break;default:l=(e-t)/u+4;break}return l*=60,n.alpha!==void 0?{hue:l,saturation:h,lightness:o,alpha:n.alpha}:{hue:l,saturation:h,lightness:o}}function Ta(n){return u$(S0(n))}var f$=function(e){return e.length===7&&e[1]===e[2]&&e[3]===e[4]&&e[5]===e[6]?"#"+e[1]+e[3]+e[5]:e},Rv=f$;function tA(n){var e=n.toString(16);return e.length===1?"0"+e:e}function Ey(n){return tA(Math.round(n*255))}function c$(n,e,t){return Rv("#"+Ey(n)+Ey(e)+Ey(t))}function Op(n,e,t){return bc(n,e,t,c$)}function h$(n,e,t){if(typeof n=="number"&&typeof e=="number"&&typeof t=="number")return Op(n,e,t);if(typeof n=="object"&&e===void 0&&t===void 0)return Op(n.hue,n.saturation,n.lightness);throw new xo(1)}function d$(n,e,t,r){if(typeof n=="number"&&typeof e=="number"&&typeof t=="number"&&typeof r=="number")return r>=1?Op(n,e,t):"rgba("+bc(n,e,t)+","+r+")";if(typeof n=="object"&&e===void 0&&t===void 0&&r===void 0)return n.alpha>=1?Op(n.hue,n.saturation,n.lightness):"rgba("+bc(n.hue,n.saturation,n.lightness)+","+n.alpha+")";throw new xo(2)}function Cv(n,e,t){if(typeof n=="number"&&typeof e=="number"&&typeof t=="number")return Rv("#"+tA(n)+tA(e)+tA(t));if(typeof n=="object"&&e===void 0&&t===void 0)return Rv("#"+tA(n.red)+tA(n.green)+tA(n.blue));throw new xo(6)}function cm(n,e,t,r){if(typeof n=="string"&&typeof e=="number"){var i=S0(n);return"rgba("+i.red+","+i.green+","+i.blue+","+e+")"}else{if(typeof n=="number"&&typeof e=="number"&&typeof t=="number"&&typeof r=="number")return r>=1?Cv(n,e,t):"rgba("+n+","+e+","+t+","+r+")";if(typeof n=="object"&&e===void 0&&t===void 0&&r===void 0)return n.alpha>=1?Cv(n.red,n.green,n.blue):"rgba("+n.red+","+n.green+","+n.blue+","+n.alpha+")"}throw new xo(7)}var g$=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},p$=function(e){return typeof e.red=="number"&&typeof e.green=="number"&&typeof e.blue=="number"&&typeof e.alpha=="number"},m$=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&(typeof e.alpha!="number"||typeof e.alpha>"u")},y$=function(e){return typeof e.hue=="number"&&typeof e.saturation=="number"&&typeof e.lightness=="number"&&typeof e.alpha=="number"};function wa(n){if(typeof n!="object")throw new xo(8);if(p$(n))return cm(n);if(g$(n))return Cv(n);if(y$(n))return d$(n);if(m$(n))return h$(n);throw new xo(8)}function mD(n,e,t){return function(){var i=t.concat(Array.prototype.slice.call(arguments));return i.length>=e?n.apply(this,i):mD(n,e,i)}}function Xi(n){return mD(n,n.length,[])}function v$(n,e){if(e==="transparent")return e;var t=Ta(e);return wa(Si({},t,{hue:t.hue+parseFloat(n)}))}Xi(v$);function L0(n,e,t){return Math.max(n,Math.min(e,t))}function x$(n,e){if(e==="transparent")return e;var t=Ta(e);return wa(Si({},t,{lightness:L0(0,1,t.lightness-parseFloat(n))}))}Xi(x$);function _$(n,e){if(e==="transparent")return e;var t=Ta(e);return wa(Si({},t,{saturation:L0(0,1,t.saturation-parseFloat(n))}))}Xi(_$);function E$(n,e){if(e==="transparent")return e;var t=Ta(e);return wa(Si({},t,{lightness:L0(0,1,t.lightness+parseFloat(n))}))}Xi(E$);function S$(n,e,t){if(e==="transparent")return t;if(t==="transparent")return e;if(n===0)return t;var r=S0(e),i=Si({},r,{alpha:typeof r.alpha=="number"?r.alpha:1}),s=S0(t),o=Si({},s,{alpha:typeof s.alpha=="number"?s.alpha:1}),l=i.alpha-o.alpha,u=parseFloat(n)*2-1,h=u*l===-1?u:u+l,m=1+u*l,y=(h/m+1)/2,_=1-y,T={red:Math.floor(i.red*y+o.red*_),green:Math.floor(i.green*y+o.green*_),blue:Math.floor(i.blue*y+o.blue*_),alpha:i.alpha*parseFloat(n)+o.alpha*(1-parseFloat(n))};return cm(T)}var T$=Xi(S$),yD=T$;function w$(n,e){if(e==="transparent")return e;var t=S0(e),r=typeof t.alpha=="number"?t.alpha:1,i=Si({},t,{alpha:L0(0,1,(r*100+parseFloat(n)*100)/100)});return cm(i)}var k$=Xi(w$),Vz=k$;function L$(n,e){if(e==="transparent")return e;var t=Ta(e);return wa(Si({},t,{saturation:L0(0,1,t.saturation+parseFloat(n))}))}Xi(L$);function R$(n,e){return e==="transparent"?e:wa(Si({},Ta(e),{hue:parseFloat(n)}))}Xi(R$);function C$(n,e){return e==="transparent"?e:wa(Si({},Ta(e),{lightness:parseFloat(n)}))}Xi(C$);function I$(n,e){return e==="transparent"?e:wa(Si({},Ta(e),{saturation:parseFloat(n)}))}Xi(I$);function D$(n,e){return e==="transparent"?e:yD(parseFloat(n),"rgb(0, 0, 0)",e)}Xi(D$);function b$(n,e){return e==="transparent"?e:yD(parseFloat(n),"rgb(255, 255, 255)",e)}Xi(b$);function P$(n,e){if(e==="transparent")return e;var t=S0(e),r=typeof t.alpha=="number"?t.alpha:1,i=Si({},t,{alpha:L0(0,1,+(r*100-parseFloat(n)*100).toFixed(2)/100)});return cm(i)}Xi(P$);function M$(n,e){e===void 0&&(e={});var t=e.insertAt;if(!(typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",t==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=n:i.appendChild(document.createTextNode(n))}}var O$=`.scene-container .clickable {
  cursor: pointer;
}`;M$(O$);function Iv(n,e){(e==null||e>n.length)&&(e=n.length);for(var t=0,r=Array(e);t<e;t++)r[t]=n[t];return r}function F$(n){if(Array.isArray(n))return Iv(n)}function Hc(n,e,t){return(e=z$(e))in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function N$(n){if(typeof Symbol<"u"&&n[Symbol.iterator]!=null||n["@@iterator"]!=null)return Array.from(n)}function B$(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Ak(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function nA(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Ak(Object(t),!0).forEach(function(r){Hc(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Ak(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function U$(n,e){if(n==null)return{};var t,r,i=G$(n,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(r=0;r<s.length;r++)t=s[r],e.includes(t)||{}.propertyIsEnumerable.call(n,t)&&(i[t]=n[t])}return i}function G$(n,e){if(n==null)return{};var t={};for(var r in n)if({}.hasOwnProperty.call(n,r)){if(e.includes(r))continue;t[r]=n[r]}return t}function hm(n){return F$(n)||N$(n)||H$(n)||B$()}function $$(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function z$(n){var e=$$(n,"string");return typeof e=="symbol"?e:e+""}function H$(n,e){if(n){if(typeof n=="string")return Iv(n,e);var t={}.toString.call(n).slice(8,-1);return t==="Object"&&n.constructor&&(t=n.constructor.name),t==="Map"||t==="Set"?Array.from(n):t==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?Iv(n,e):void 0}}function vD(n,e){var t=new e;return t._destructor&&t._destructor(),{linkProp:function(i){return{default:t[i](),onChange:function(o,l){l[n][i](o)},triggerUpdate:!1}},linkMethod:function(i){return function(s){for(var o=s[n],l=arguments.length,u=new Array(l>1?l-1:0),h=1;h<l;h++)u[h-1]=arguments[h];var m=o[i].apply(o,u);return m===o?this:m}}}}var j$=["rendererConfig","waitForGlobeReady"],vf=nA(nA({},window.THREE?window.THREE:{AmbientLight:qD,DirectionalLight:XD,Vector2:Fp,REVISION:ZD}),{},{CSS2DRenderer:JD}),xD=vD("globe",fk),V$=Object.assign.apply(Object,hm(["globeImageUrl","bumpImageUrl","showGlobe","showGraticules","showAtmosphere","atmosphereColor","atmosphereAltitude","onGlobeReady","pointsData","pointLat","pointLng","pointColor","pointAltitude","pointRadius","pointResolution","pointsMerge","pointsTransitionDuration","arcsData","arcStartLat","arcStartLng","arcEndLat","arcEndLng","arcColor","arcAltitude","arcAltitudeAutoScale","arcStroke","arcCurveResolution","arcCircularResolution","arcDashLength","arcDashGap","arcDashInitialGap","arcDashAnimateTime","arcsTransitionDuration","polygonsData","polygonGeoJsonGeometry","polygonCapColor","polygonCapMaterial","polygonSideColor","polygonSideMaterial","polygonStrokeColor","polygonAltitude","polygonCapCurvatureResolution","polygonsTransitionDuration","pathsData","pathPoints","pathPointLat","pathPointLng","pathPointAlt","pathResolution","pathColor","pathStroke","pathDashLength","pathDashGap","pathDashInitialGap","pathDashAnimateTime","pathTransitionDuration","heatmapsData","heatmapPoints","heatmapPointLat","heatmapPointLng","heatmapPointWeight","heatmapBandwidth","heatmapColorFn","heatmapColorSaturation","heatmapBaseAltitude","heatmapTopAltitude","heatmapsTransitionDuration","hexBinPointsData","hexBinPointLat","hexBinPointLng","hexBinPointWeight","hexBinResolution","hexMargin","hexTopCurvatureResolution","hexTopColor","hexSideColor","hexAltitude","hexBinMerge","hexTransitionDuration","hexPolygonsData","hexPolygonGeoJsonGeometry","hexPolygonColor","hexPolygonAltitude","hexPolygonResolution","hexPolygonMargin","hexPolygonUseDots","hexPolygonCurvatureResolution","hexPolygonDotResolution","hexPolygonsTransitionDuration","tilesData","tileLat","tileLng","tileAltitude","tileWidth","tileHeight","tileUseGlobeProjection","tileMaterial","tileCurvatureResolution","tilesTransitionDuration","ringsData","ringLat","ringLng","ringAltitude","ringColor","ringResolution","ringMaxRadius","ringPropagationSpeed","ringRepeatPeriod","labelsData","labelLat","labelLng","labelAltitude","labelRotation","labelText","labelSize","labelTypeFace","labelColor","labelResolution","labelIncludeDot","labelDotRadius","labelDotOrientation","labelsTransitionDuration","htmlElementsData","htmlLat","htmlLng","htmlAltitude","htmlElement","htmlTransitionDuration","objectsData","objectLat","objectLng","objectAltitude","objectRotation","objectFacesSurface","objectThreeObject","customLayerData","customThreeObject","customThreeObjectUpdate"].map(function(n){return Hc({},n,xD.linkProp(n))}))),Q$=Object.assign.apply(Object,hm(["globeMaterial","getGlobeRadius","getCoords","toGeoCoords"].map(function(n){return Hc({},n,xD.linkMethod(n))}))),_D=vD("renderObjs",ck),K$=Object.assign.apply(Object,hm(["width","height","backgroundColor","backgroundImageUrl","enablePointerInteraction"].map(function(n){return Hc({},n,_D.linkProp(n))}))),W$=Object.assign.apply(Object,hm(["lights","postProcessingComposer"].map(function(n){return Hc({},n,_D.linkMethod(n))}))),Y$=fB({props:nA(nA({onZoom:{triggerUpdate:!1},onGlobeClick:{triggerUpdate:!1},onGlobeRightClick:{triggerUpdate:!1},pointLabel:{default:"name",triggerUpdate:!1},onPointClick:{triggerUpdate:!1},onPointRightClick:{triggerUpdate:!1},onPointHover:{triggerUpdate:!1},arcLabel:{default:"name",triggerUpdate:!1},onArcClick:{triggerUpdate:!1},onArcRightClick:{triggerUpdate:!1},onArcHover:{triggerUpdate:!1},polygonLabel:{default:"name",triggerUpdate:!1},onPolygonClick:{triggerUpdate:!1},onPolygonRightClick:{triggerUpdate:!1},onPolygonHover:{triggerUpdate:!1},pathLabel:{default:"name",triggerUpdate:!1},onPathClick:{triggerUpdate:!1},onPathRightClick:{triggerUpdate:!1},onPathHover:{triggerUpdate:!1},onHeatmapClick:{triggerUpdate:!1},onHeatmapRightClick:{triggerUpdate:!1},onHeatmapHover:{triggerUpdate:!1},hexLabel:{triggerUpdate:!1},onHexClick:{triggerUpdate:!1},onHexRightClick:{triggerUpdate:!1},onHexHover:{triggerUpdate:!1},hexPolygonLabel:{triggerUpdate:!1},onHexPolygonClick:{triggerUpdate:!1},onHexPolygonRightClick:{triggerUpdate:!1},onHexPolygonHover:{triggerUpdate:!1},tileLabel:{default:"name",triggerUpdate:!1},onTileClick:{triggerUpdate:!1},onTileRightClick:{triggerUpdate:!1},onTileHover:{triggerUpdate:!1},labelLabel:{triggerUpdate:!1},onLabelClick:{triggerUpdate:!1},onLabelRightClick:{triggerUpdate:!1},onLabelHover:{triggerUpdate:!1},objectLabel:{default:"name",triggerUpdate:!1},onObjectClick:{triggerUpdate:!1},onObjectRightClick:{triggerUpdate:!1},onObjectHover:{triggerUpdate:!1},customLayerLabel:{default:"name",triggerUpdate:!1},onCustomLayerClick:{triggerUpdate:!1},onCustomLayerRightClick:{triggerUpdate:!1},onCustomLayerHover:{triggerUpdate:!1},pointerEventsFilter:{default:function(){return!0},triggerUpdate:!1,onChange:function(e,t){return t.renderObjs.hoverFilter(function(r){return e(r,r.__data)})}},lineHoverPrecision:{default:.2,triggerUpdate:!1,onChange:function(e,t){return t.renderObjs.lineHoverPrecision(e)}}},V$),K$),methods:nA(nA({pauseAnimation:function(e){var t;return e.animationFrameRequestId!==null&&(cancelAnimationFrame(e.animationFrameRequestId),e.animationFrameRequestId=null),(t=e.globe)===null||t===void 0||t.pauseAnimation(),this},resumeAnimation:function(e){var t;return e.animationFrameRequestId===null&&this._animationCycle(),(t=e.globe)===null||t===void 0||t.resumeAnimation(),this},_animationCycle:function(e){e.renderObjs.tick(),e.tweenGroup.update(),e.animationFrameRequestId=requestAnimationFrame(this._animationCycle)},pointOfView:function(e){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=o();if(t.lat===void 0&&t.lng===void 0&&t.altitude===void 0)return i;var s=Object.assign({},i,t);if(["lat","lng","altitude"].forEach(function(u){return s[u]=+s[u]}),!r)l(s);else{for(;i.lng-s.lng>180;)i.lng-=360;for(;i.lng-s.lng<-180;)i.lng+=360;e.tweenGroup.add(new hB(i).to(s,r).easing(Ju.Cubic.InOut).onUpdate(l).start())}return this;function o(){return e.globe.toGeoCoords(e.renderObjs.cameraPosition())}function l(u){var h=u.lat,m=u.lng,y=u.altitude;e.renderObjs.cameraPosition(e.globe.getCoords(h,m,y))}},getScreenCoords:function(e){for(var t,r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o=(t=e.globe).getCoords.apply(t,i);return e.renderObjs.getScreenCoords(o.x,o.y,o.z)},toGlobeCoords:function(e,t,r){var i=e.renderObjs.intersectingObjects(t,r).find(function(u){return u.object.__globeObjType==="globe"});if(!i)return null;var s=e.globe.toGeoCoords(i.point),o=s.lat,l=s.lng;return{lat:o,lng:l}},scene:function(e){return e.renderObjs.scene()},camera:function(e){return e.renderObjs.camera()},renderer:function(e){return e.renderObjs.renderer()},controls:function(e){return e.renderObjs.controls()},_destructor:function(e){e.globe._destructor(),this.pauseAnimation(),this.pointsData([]),this.arcsData([]),this.polygonsData([]),this.pathsData([]),this.heatmapsData([]),this.hexBinPointsData([]),this.hexPolygonsData([]),this.tilesData([]),this.labelsData([]),this.htmlElementsData([]),this.objectsData([]),this.customLayerData([])}},Q$),W$),stateInit:function(e){var t=e.rendererConfig,r=e.waitForGlobeReady,i=r===void 0?!0:r,s=U$(e,j$),o=new fk(nA({waitForGlobeReady:i},s));return{globe:o,renderObjs:ck({controlType:"orbit",rendererConfig:t,waitForLoadComplete:i,extraRenderers:[new vf.CSS2DRenderer]}).skyRadius(o.getGlobeRadius()*500).showNavInfo(!1).objects([o]).lights([new vf.AmbientLight(13421772,Math.PI),new vf.DirectionalLight(16777215,.6*Math.PI)]),tweenGroup:new dI}},init:function(e,t){var r=this;e.innerHTML="",e.appendChild(t.container=document.createElement("div")),t.container.style.position="relative";var i=document.createElement("div");t.container.appendChild(i),t.renderObjs(i),t.globe.rendererSize(t.renderObjs.renderer().getSize(new vf.Vector2)),this.pointOfView({altitude:2.5});var s=t.globe.getGlobeRadius(),o=t.renderObjs.controls();o.minDistance=s*1.01,o.maxDistance=s*100,o.enablePan=!1,o.enableDamping=!0,o.dampingFactor=.1,o.rotateSpeed=.3,o.zoomSpeed=.3,o.addEventListener("change",function(){var h=r.pointOfView();o.rotateSpeed=h.altitude*.2,o.zoomSpeed=(h.altitude+1)*.1,t.globe.setPointOfView(t.renderObjs.camera().position),t.onZoom&&t.onZoom(h)});var l=function(m){for(var y=m;y&&!y.hasOwnProperty("__globeObjType");)y=y.parent;return y},u={point:function(m){return m},arc:function(m){return m},polygon:function(m){return m.data},path:function(m){return m},heatmap:function(m){return m},hexbin:function(m){return m},hexPolygon:function(m){return m},tile:function(m){return m},label:function(m){return m},object:function(m){return m},custom:function(m){return m}};vf.REVISION<155&&(t.renderObjs.renderer().useLegacyLights=!1),t.renderObjs.hoverOrderComparator(function(h,m){var y=l(h),_=l(m),T=function(L){return!L};return T(y)-T(_)}).tooltipContent(function(h){var m={point:t.pointLabel,arc:t.arcLabel,polygon:t.polygonLabel,path:t.pathLabel,hexbin:t.hexLabel,hexPolygon:t.hexPolygonLabel,tile:t.tileLabel,label:t.labelLabel,object:t.objectLabel,custom:t.customLayerLabel},y=l(h),_=y&&y.__globeObjType;return y&&_&&m.hasOwnProperty(_)&&u.hasOwnProperty(_)&&bU(m[_])(u[_](y.__data))||""}).onHover(function(h){var m={point:t.onPointHover,arc:t.onArcHover,polygon:t.onPolygonHover,path:t.onPathHover,heatmap:t.onHeatmapHover,hexbin:t.onHexHover,hexPolygon:t.onHexPolygonHover,tile:t.onTileHover,label:t.onLabelHover,object:t.onObjectHover,custom:t.onCustomLayerHover},y={globe:t.onGlobeClick,point:t.onPointClick,arc:t.onArcClick,polygon:t.onPolygonClick,path:t.onPathClick,heatmap:t.onHeatmapClick,hexbin:t.onHexClick,hexPolygon:t.onHexPolygonClick,tile:t.onTileClick,label:t.onLabelClick,object:t.onObjectClick,custom:t.onCustomLayerClick},_=l(h);if(_&&!m.hasOwnProperty(_.__globeObjType)&&(_=null),_!==t.hoverObj){var T=t.hoverObj?t.hoverObj.__globeObjType:null,w=t.hoverObj?u[T](t.hoverObj.__data):null,L=_?_.__globeObjType:null,I=_?u[L](_.__data):null;T&&T!==L&&m[T]&&m[T](null,w),L&&m[L]&&m[L](I,T===L?w:null),t.renderObjs.renderer().domElement.classList[L&&y[L]?"add":"remove"]("clickable"),t.hoverObj=_}}).onClick(function(h,m,y){if(h){var _={globe:t.onGlobeClick,point:t.onPointClick,arc:t.onArcClick,polygon:t.onPolygonClick,path:t.onPathClick,heatmap:t.onHeatmapClick,hexbin:t.onHexClick,hexPolygon:t.onHexPolygonClick,tile:t.onTileClick,label:t.onLabelClick,object:t.onObjectClick,custom:t.onCustomLayerClick},T=l(h),w=T.__globeObjType;if(T&&_.hasOwnProperty(w)&&_[w]){var L=[m];if(w==="globe"){var I=r.toGeoCoords(y),C=I.lat,b=I.lng;L.unshift({lat:C,lng:b})}else L.push(r.toGeoCoords(y));u.hasOwnProperty(w)&&L.unshift(u[w](T.__data)),_[w].apply(_,L)}}}).onRightClick(function(h,m,y){if(h){var _={globe:t.onGlobeRightClick,point:t.onPointRightClick,arc:t.onArcRightClick,polygon:t.onPolygonRightClick,path:t.onPathRightClick,heatmap:t.onHeatmapRightClick,hexbin:t.onHexRightClick,hexPolygon:t.onHexPolygonRightClick,tile:t.onTileRightClick,label:t.onLabelRightClick,object:t.onObjectRightClick,custom:t.onCustomLayerRightClick},T=l(h),w=T.__globeObjType;if(T&&_.hasOwnProperty(w)&&_[w]){var L=[m];if(w==="globe"){var I=r.toGeoCoords(y),C=I.lat,b=I.lng;L.unshift({lat:C,lng:b})}else L.push(r.toGeoCoords(y));u.hasOwnProperty(w)&&L.unshift(u[w](T.__data)),_[w].apply(_,L)}}}),this._animationCycle()}}),q$={width:F.number,height:F.number,backgroundColor:F.string,backgroundImageUrl:F.string,globeImageUrl:F.string,bumpImageUrl:F.string,showGlobe:F.bool,showGraticules:F.bool,showAtmosphere:F.bool,atmosphereColor:F.string,atmosphereAltitude:F.number,globeMaterial:F.object,onGlobeReady:F.func,onGlobeClick:F.func,onGlobeRightClick:F.func,pointsData:F.arrayOf(F.object),pointLat:F.oneOfType([F.number,F.string,F.func]),pointLng:F.oneOfType([F.number,F.string,F.func]),pointColor:F.oneOfType([F.string,F.func]),pointAltitude:F.oneOfType([F.number,F.string,F.func]),pointRadius:F.oneOfType([F.number,F.string,F.func]),pointResolution:F.number,pointsMerge:F.bool,pointsTransitionDuration:F.number,pointLabel:F.oneOfType([F.string,F.func]),onPointClick:F.func,onPointRightClick:F.func,onPointHover:F.func,arcsData:F.arrayOf(F.object),arcStartLat:F.oneOfType([F.number,F.string,F.func]),arcStartLng:F.oneOfType([F.number,F.string,F.func]),arcEndLat:F.oneOfType([F.number,F.string,F.func]),arcEndLng:F.oneOfType([F.number,F.string,F.func]),arcColor:F.oneOfType([F.string,F.arrayOf(F.string),F.func]),arcAltitude:F.oneOfType([F.number,F.string,F.func]),arcAltitudeAutoScale:F.oneOfType([F.number,F.string,F.func]),arcStroke:F.oneOfType([F.number,F.string,F.func]),arcCurveResolution:F.number,arcCircularResolution:F.number,arcDashLength:F.oneOfType([F.number,F.string,F.func]),arcDashGap:F.oneOfType([F.number,F.string,F.func]),arcDashInitialGap:F.oneOfType([F.number,F.string,F.func]),arcDashAnimateTime:F.oneOfType([F.number,F.string,F.func]),arcsTransitionDuration:F.number,arcLabel:F.oneOfType([F.string,F.func]),onArcClick:F.func,onArcRightClick:F.func,onArcHover:F.func,polygonsData:F.arrayOf(F.object),polygonGeoJsonGeometry:F.oneOfType([F.string,F.func]),polygonCapColor:F.oneOfType([F.string,F.func]),polygonCapMaterial:F.oneOfType([F.object,F.string,F.func]),polygonSideColor:F.oneOfType([F.string,F.func]),polygonSideMaterial:F.oneOfType([F.object,F.string,F.func]),polygonStrokeColor:F.oneOfType([F.string,F.func]),polygonAltitude:F.oneOfType([F.number,F.string,F.func]),polygonCapCurvatureResolution:F.oneOfType([F.number,F.string,F.func]),polygonsTransitionDuration:F.number,polygonLabel:F.oneOfType([F.string,F.func]),onPolygonClick:F.func,onPolygonRightClick:F.func,onPolygonHover:F.func,pathsData:F.array,pathPoints:F.oneOfType([F.array,F.string,F.func]),pathPointLat:F.oneOfType([F.number,F.string,F.func]),pathPointLng:F.oneOfType([F.number,F.string,F.func]),pathPointAlt:F.oneOfType([F.number,F.string,F.func]),pathResolution:F.number,pathColor:F.oneOfType([F.string,F.arrayOf(F.string),F.func]),pathStroke:F.oneOfType([F.number,F.string,F.func]),pathDashLength:F.oneOfType([F.number,F.string,F.func]),pathDashGap:F.oneOfType([F.number,F.string,F.func]),pathDashInitialGap:F.oneOfType([F.number,F.string,F.func]),pathDashAnimateTime:F.oneOfType([F.number,F.string,F.func]),pathTransitionDuration:F.number,pathLabel:F.oneOfType([F.string,F.func]),onPathClick:F.func,onPathRightClick:F.func,onPathHover:F.func,heatmapsData:F.array,heatmapPoints:F.oneOfType([F.array,F.string,F.func]),heatmapPointLat:F.oneOfType([F.number,F.string,F.func]),heatmapPointLng:F.oneOfType([F.number,F.string,F.func]),heatmapPointWeight:F.oneOfType([F.number,F.string,F.func]),heatmapBandwidth:F.oneOfType([F.number,F.string,F.func]),heatmapColorFn:F.oneOfType([F.string,F.func]),heatmapColorSaturation:F.oneOfType([F.number,F.string,F.func]),heatmapBaseAltitude:F.oneOfType([F.number,F.string,F.func]),heatmapTopAltitude:F.oneOfType([F.number,F.string,F.func]),heatmapsTransitionDuration:F.number,onHeatmapClick:F.func,onHeatmapRightClick:F.func,onHeatmapHover:F.func,hexBinPointsData:F.arrayOf(F.object),hexBinPointLat:F.oneOfType([F.number,F.string,F.func]),hexBinPointLng:F.oneOfType([F.number,F.string,F.func]),hexBinPointWeight:F.oneOfType([F.number,F.string,F.func]),hexBinResolution:F.number,hexMargin:F.oneOfType([F.number,F.func]),hexTopColor:F.func,hexSideColor:F.func,hexAltitude:F.oneOfType([F.number,F.func]),hexTopCurvatureResolution:F.number,hexBinMerge:F.bool,hexTransitionDuration:F.number,hexLabel:F.oneOfType([F.string,F.func]),onHexClick:F.func,onHexRightClick:F.func,onHexHover:F.func,hexPolygonsData:F.arrayOf(F.object),hexPolygonGeoJsonGeometry:F.oneOfType([F.string,F.func]),hexPolygonColor:F.oneOfType([F.string,F.func]),hexPolygonAltitude:F.oneOfType([F.number,F.string,F.func]),hexPolygonResolution:F.oneOfType([F.number,F.string,F.func]),hexPolygonMargin:F.oneOfType([F.number,F.string,F.func]),hexPolygonUseDots:F.oneOfType([F.bool,F.string,F.func]),hexPolygonCurvatureResolution:F.oneOfType([F.number,F.string,F.func]),hexPolygonDotResolution:F.oneOfType([F.number,F.string,F.func]),hexPolygonsTransitionDuration:F.number,hexPolygonLabel:F.oneOfType([F.string,F.func]),onHexPolygonClick:F.func,onHexPolygonRightClick:F.func,onHexPolygonHover:F.func,tilesData:F.arrayOf(F.object),tileLat:F.oneOfType([F.number,F.string,F.func]),tileLng:F.oneOfType([F.number,F.string,F.func]),tileAltitude:F.oneOfType([F.number,F.string,F.func]),tileWidth:F.oneOfType([F.number,F.string,F.func]),tileHeight:F.oneOfType([F.number,F.string,F.func]),tileUseGlobeProjection:F.oneOfType([F.bool,F.string,F.func]),tileMaterial:F.oneOfType([F.object,F.string,F.func]),tileCurvatureResolution:F.oneOfType([F.number,F.string,F.func]),tilesTransitionDuration:F.number,tileLabel:F.oneOfType([F.string,F.func]),onTileClick:F.func,onTileRightClick:F.func,onTileHover:F.func,ringsData:F.arrayOf(F.object),ringLat:F.oneOfType([F.number,F.string,F.func]),ringLng:F.oneOfType([F.number,F.string,F.func]),ringAltitude:F.oneOfType([F.number,F.string,F.func]),ringColor:F.oneOfType([F.string,F.arrayOf(F.string),F.func]),ringResolution:F.number,ringMaxRadius:F.oneOfType([F.number,F.string,F.func]),ringPropagationSpeed:F.oneOfType([F.number,F.string,F.func]),ringRepeatPeriod:F.oneOfType([F.number,F.string,F.func]),labelsData:F.arrayOf(F.object),labelLat:F.oneOfType([F.number,F.string,F.func]),labelLng:F.oneOfType([F.number,F.string,F.func]),labelAltitude:F.oneOfType([F.number,F.string,F.func]),labelRotation:F.oneOfType([F.number,F.string,F.func]),labelText:F.oneOfType([F.string,F.func]),labelSize:F.oneOfType([F.number,F.string,F.func]),labelTypeFace:F.object,labelColor:F.oneOfType([F.string,F.func]),labelResolution:F.number,labelIncludeDot:F.oneOfType([F.bool,F.string,F.func]),labelDotRadius:F.oneOfType([F.number,F.string,F.func]),labelDotOrientation:F.oneOfType([F.string,F.func]),labelsTransitionDuration:F.number,labelLabel:F.oneOfType([F.string,F.func]),onLabelClick:F.func,onLabelRightClick:F.func,onLabelHover:F.func,htmlElementsData:F.arrayOf(F.object),htmlLat:F.oneOfType([F.number,F.string,F.func]),htmlLng:F.oneOfType([F.number,F.string,F.func]),htmlAltitude:F.oneOfType([F.number,F.string,F.func]),htmlElement:F.oneOfType([F.string,F.func]),htmlTransitionDuration:F.number,objectsData:F.arrayOf(F.object),objectLat:F.oneOfType([F.number,F.string,F.func]),objectLng:F.oneOfType([F.number,F.string,F.func]),objectAltitude:F.oneOfType([F.number,F.string,F.func]),objectRotation:F.oneOfType([F.shape({x:F.number,y:F.number,z:F.number}),F.string,F.func]),objectFacesSurface:F.oneOfType([F.bool,F.string,F.func]),objectThreeObject:F.oneOfType([F.object,F.string,F.func]),objectLabel:F.oneOfType([F.string,F.func]),onObjectClick:F.func,onObjectRightClick:F.func,onObjectHover:F.func,customLayerData:F.arrayOf(F.object),customThreeObject:F.oneOfType([F.object,F.string,F.func]),customThreeObjectUpdate:F.oneOfType([F.string,F.func]),customLayerLabel:F.oneOfType([F.string,F.func]),onCustomLayerClick:F.func,onCustomLayerRightClick:F.func,onCustomLayerHover:F.func,enablePointerInteraction:F.bool,pointerEventsFilter:F.func,lineHoverPrecision:F.number,onZoom:F.func},ED=IN(Y$,{methodNames:["pauseAnimation","resumeAnimation","pointOfView","lights","scene","camera","renderer","postProcessingComposer","controls","getGlobeRadius","getCoords","getScreenCoords","toGeoCoords","toGlobeCoords"],initPropNames:["animateIn","waitForGlobeReady","rendererConfig"]});ED.displayName="Globe";ED.propTypes=q$;class jc{constructor(e=0,t="Network Error"){this.status=e,this.text=t}}const X$=()=>{if(!(typeof localStorage>"u"))return{get:n=>Promise.resolve(localStorage.getItem(n)),set:(n,e)=>Promise.resolve(localStorage.setItem(n,e)),remove:n=>Promise.resolve(localStorage.removeItem(n))}},cr={origin:"https://api.emailjs.com",blockHeadless:!1,storageProvider:X$()},__=n=>n?typeof n=="string"?{publicKey:n}:n.toString()==="[object Object]"?n:{}:{},Z$=(n,e="https://api.emailjs.com")=>{if(!n)return;const t=__(n);cr.publicKey=t.publicKey,cr.blockHeadless=t.blockHeadless,cr.storageProvider=t.storageProvider,cr.blockList=t.blockList,cr.limitRate=t.limitRate,cr.origin=t.origin||e},SD=async(n,e,t={})=>{const r=await fetch(cr.origin+n,{method:"POST",headers:t,body:e}),i=await r.text(),s=new jc(r.status,i);if(r.ok)return s;throw s},TD=(n,e,t)=>{if(!n||typeof n!="string")throw"The public key is required. Visit https://dashboard.emailjs.com/admin/account";if(!e||typeof e!="string")throw"The service ID is required. Visit https://dashboard.emailjs.com/admin";if(!t||typeof t!="string")throw"The template ID is required. Visit https://dashboard.emailjs.com/admin/templates"},J$=n=>{if(n&&n.toString()!=="[object Object]")throw"The template params have to be the object. Visit https://www.emailjs.com/docs/sdk/send/"},wD=n=>n.webdriver||!n.languages||n.languages.length===0,kD=()=>new jc(451,"Unavailable For Headless Browser"),ez=(n,e)=>{if(!Array.isArray(n))throw"The BlockList list has to be an array";if(typeof e!="string")throw"The BlockList watchVariable has to be a string"},tz=n=>{var e;return!((e=n.list)!=null&&e.length)||!n.watchVariable},nz=(n,e)=>n instanceof FormData?n.get(e):n[e],LD=(n,e)=>{if(tz(n))return!1;ez(n.list,n.watchVariable);const t=nz(e,n.watchVariable);return typeof t!="string"?!1:n.list.includes(t)},RD=()=>new jc(403,"Forbidden"),rz=(n,e)=>{if(typeof n!="number"||n<0)throw"The LimitRate throttle has to be a positive number";if(e&&typeof e!="string")throw"The LimitRate ID has to be a non-empty string"},iz=async(n,e,t)=>{const r=Number(await t.get(n)||0);return e-Date.now()+r},CD=async(n,e,t)=>{if(!e.throttle||!t)return!1;rz(e.throttle,e.id);const r=e.id||n;return await iz(r,e.throttle,t)>0?!0:(await t.set(r,Date.now().toString()),!1)},ID=()=>new jc(429,"Too Many Requests"),sz=async(n,e,t,r)=>{const i=__(r),s=i.publicKey||cr.publicKey,o=i.blockHeadless||cr.blockHeadless,l=i.storageProvider||cr.storageProvider,u={...cr.blockList,...i.blockList},h={...cr.limitRate,...i.limitRate};return o&&wD(navigator)?Promise.reject(kD()):(TD(s,n,e),J$(t),t&&LD(u,t)?Promise.reject(RD()):await CD(location.pathname,h,l)?Promise.reject(ID()):SD("/api/v1.0/email/send",JSON.stringify({lib_version:"4.4.1",user_id:s,service_id:n,template_id:e,template_params:t}),{"Content-type":"application/json"}))},oz=n=>{if(!n||n.nodeName!=="FORM")throw"The 3rd parameter is expected to be the HTML form element or the style selector of the form"},lz=n=>typeof n=="string"?document.querySelector(n):n,az=async(n,e,t,r)=>{const i=__(r),s=i.publicKey||cr.publicKey,o=i.blockHeadless||cr.blockHeadless,l=cr.storageProvider||i.storageProvider,u={...cr.blockList,...i.blockList},h={...cr.limitRate,...i.limitRate};if(o&&wD(navigator))return Promise.reject(kD());const m=lz(t);TD(s,n,e),oz(m);const y=new FormData(m);return LD(u,y)?Promise.reject(RD()):await CD(location.pathname,h,l)?Promise.reject(ID()):(y.append("lib_version","4.4.1"),y.append("service_id",n),y.append("template_id",e),y.append("user_id",s),SD("/api/v1.0/email/send-form",y))},Qz={init:Z$,send:sz,sendForm:az,EmailJSResponseStatus:jc};export{ED as $,Mz as A,Uw as B,Uz as C,Ip as D,z as E,HP as F,Ju as G,dI as H,Ze as I,Rc as J,Gz as K,$z as L,Hz as M,zz as N,Cz as O,Lz as P,Fz as Q,pz as R,jz as S,hB as T,S0 as U,Vz as V,sI as W,rI as X,Tz as Y,Sz as Z,Si as _,fz as a,Qz as a0,V_ as a1,pb as a2,_z as a3,cz as b,gz as c,mz as d,RP as e,kz as f,Tc as g,Pz as h,Iz as i,uz as j,Bz as k,wz as l,xI as m,v9 as n,vI as o,dz as p,Dz as q,Qe as r,hz as s,Nz as t,yz as u,Rz as v,fB as w,Oz as x,bU as y,bz as z};
